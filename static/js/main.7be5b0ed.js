(()=>{var e={88863:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>DN});var r,a=n(29439),i=n(73787),o=(n(66404),n(95004)),u=n(29066),l=(n(48800),n(13152)),s=n(59497),c=new(n(7957).MMKV),f={en:{translation:JSON.parse(null!=(r=c.getString("uploadedTranslationsJSON"))?r:"{}")}};l.default.use(s.initReactI18next).init({resources:f,lng:"en",nsSeparator:!1,keySeparator:!1,fallbackLng:!1,saveMissing:!0,interpolation:{escapeValue:!1}});l.default;var d=n(15861),g=n(4942),h=n(93433),m=n(97928),y=n(52594),p=n(90519),v=n(93612),A=n(36153),b=n(3426),k=n(41124),x=n(30229),w=n(56946),E=n(22566),C=n(70362),I=n(22152),B=n(7602),S=n(14999),R=n(66792),P=n(45288),T=n(39385),j=n(89555),M=n(54359),D=n(91072),O=n(84953),N=n(168),U=n(5647),F=n(34464),L=n(18071),H=n(56267),Y=n(15858),Q=n(81232),z=n(83528),V=n(88203),W=n.n(V),G=n(6029),J=n(52),q=n(25693);function X(e){return JSON.parse(JSON.stringify(e))}function K(e){var t=e.length;return e[Math.floor(Math.random()*t)]}function Z(e){return Object.keys(e)}(0,q.default)(Z);function _(e){return Object.values(e)}var $=(0,q.default)(_);function ee(e){return Object.fromEntries(e)}function te(e){var t={};for(var n of e)for(var r in n){var a,i;null==t[r]&&(t[r]=0),t[r]=(null!=(a=n[r])?a:0)+(null!=(i=t[r])?i:0)}return t}function ne(e){if(null==e)throw new Error("Should be nonnull");return e}var re=new(n(59156).LRUCache)({max:1e4}),ae=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=JSON.stringify(t),a=re.get(r);return void 0===a&&(a=l.t.apply(void 0,t),re.set(r,a)),a},ie=function(e){return e.DEFAULT="DEFAULT",e.UP="UP",e.DOWN="DOWN",e}({}),oe=Number.MAX_VALUE/100;function ue(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{showDecimals:!1,roundingMethod:void 0};if((e=Number(e))>=oe)return"\u221e";if(e>=1e30)return e.toExponential(2);if(e>=1e27)return ue(e/1e27,{showDecimals:!0,roundingMethod:n.roundingMethod})+"Oc";if(e>=1e24)return ue(e/1e24,{showDecimals:!0,roundingMethod:n.roundingMethod})+"Sp";if(e>=1e21)return ue(e/1e21,{showDecimals:!0,roundingMethod:n.roundingMethod})+"Sx";if(e>=1e18)return ue(e/1e18,{showDecimals:!0,roundingMethod:n.roundingMethod})+"Qi";if(e>=1e15)return ue(e/1e15,{showDecimals:!0,roundingMethod:n.roundingMethod})+"Qa";if(e>=1e12)return ue(e/1e12,{showDecimals:!0,roundingMethod:n.roundingMethod})+"T";if(e>=1e9)return ue(e/1e9,{showDecimals:!0,roundingMethod:n.roundingMethod})+"B";if(e>=1e6)return ue(e/1e6,{showDecimals:!0,roundingMethod:n.roundingMethod})+"M";if(e>=1e4)return ue(e/1e3,{showDecimals:!0,roundingMethod:n.roundingMethod})+"K";var r=null!=(t=n.roundingMethod)?t:ie.DEFAULT;if(n.showDecimals&&Math.abs(e)<10&&!Number.isInteger(e))return((r==ie.DEFAULT?Math.round(100*e):r!=ie.UP?Math.floor(100*e):Math.ceil(100*e))/100).toFixed(2);if(n.showDecimals&&Math.abs(e)<100&&!Number.isInteger(e)){var a=r==ie.DEFAULT?Math.round(10*e):r!=ie.UP?Math.floor(10*e):Math.ceil(10*e);return(Math.floor(a)/10).toFixed(1)}return(r==ie.DEFAULT?Math.round(e):r!=ie.UP?Math.floor(e):Math.ceil(e)).toFixed()}function le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{showDecimals:!1,roundingMethod:ie.DEFAULT},n=100*(e-1);return n>0?n>999.5?ae("{{ratio}}x",{ratio:ue(e,{showDecimals:!0})}):ae("+{{pct}}%",{pct:ue(n,t)}):ae("{{pct}}%",{pct:ue(n,t)})}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shortForm:!1,showDecimals:!1},n=t.shortForm,r=t.showDecimals,a=ae(n?"sec":"second(s)"),i=ue(e,{showDecimals:r});return e>60&&(a=ae(n?"min":"minute(s)"),i=ue(e/60,{showDecimals:r})),e>3600&&(a=ae(n?"hr":"hour(s)"),i=ue(e/3600,{showDecimals:r})),ae("{{time}} {{unit}}",{time:i,unit:a})}function ce(e){return e.asDays()<1?ae("{{hours}}:{{minutes}}:{{seconds}}",{hours:e.hours().toFixed().padStart(2,"0"),minutes:e.minutes().toFixed().padStart(2,"0"),seconds:e.seconds().toFixed().padStart(2,"0")}):ae("{{days}} days, {{hours}}:{{minutes}}:{{seconds}}",{hours:e.hours().toFixed().padStart(2,"0"),minutes:e.minutes().toFixed().padStart(2,"0"),seconds:e.seconds().toFixed().padStart(2,"0"),days:ue(Math.floor(e.asDays()))})}var fe=n(67331);function de(){var e,t;return null==fe.default||null==(e=fe.default.expoConfig)||null==(t=e.extra)?void 0:t.buildRunTimestamp}function ge(){var e;return null==fe.default||null==(e=fe.default.expoConfig)?void 0:e.version}var he,me=function(e){return e.None="None",e.Exploring="Exploring",e.ExploringBoss="ExploringBoss",e.Reviving="Reviving",e.Combat="Combat",e}({});function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=function(e){return e.OFF="OFF",e.SPREAD_EVENLY="SPREAD_EVENLY",e.HIGHEST_AMOUNT="HIGHEST_AMOUNT",e.SPREAD_THEN_HIGHEST="SPREAD_THEN_HIGHEST",e}({}),Ae={currentHP:60,explorationStatus:me.None,explorationStartTime:0,currentDungeonFloorId:"",currentEnemy:{id:"",currentHP:1},successfulExplorationsPerFloor:{},playerActionProgress:0,familiarActionProgress:0,enemyActionProgress:0,familiarIsInBackRow:!1,lastPlayerDamageCause:void 0,actionResultQueue:[],lastActionResultPushedTime:0,pouchItemsUsesLeft:{},variables:{},triggerPlayerDeath:!1},be={savedStrategies:{},currentStrategy:{rules:[],permaCastRules:{},name:ae("Default"),wizardsAssignedToPermaCast:0},lastStrategyIndex:0},ke={grid:{},name:void 0},xe={secondsPlayed:0,activeSecondsPlayed:0,timePiecesConsumed:0,startTimestamp:Date.now(),appVersionTimestamp:0,appVersionString:null!=(he=ge())?he:"0.0.0",isFullVersionSave:!0,tickCount:0,newGamePlusUnlocked:!1,newGamePlusCount:0,newGamePlusMax:0,totalBoonPointsEarned:0,appPlatform:I.default.OS,notifications:[],autoUsePouch:!0,autocast:be,debugShowUpdatesPerSec:!1,debugLastUpdateTimestamps:[],debugLastUpdateBeginEndTimestamps:[],endingsHistory:[]},we={secondsPlayed:0,activeSecondsPlayed:0,timePiecesConsumed:0,newFlagsOnRetirement:{},endingTriggered:void 0,startTimestamp:Date.now(),lastDungeonFloorCompleted:void 0,resources:{},buildings:{},flags:{},variables:{},elementExperience:{Fire:0,Earth:0,Water:0,Air:0},elementExponents:{},eventQueue:[],eventOccurrences:{},nextEventIsManuallyTriggered:!1,temporaryEffects:{},recentSpellsCast:[],nextRandomEvent:600,primaryElement:void 0,inventory:[],equipment:{Hand:[],Body:[],Accessory:[],Pouch:[]},autocast:{rules:{},autocastPaused:!1},exploration:Ae,explorationMessageLog:[],lastSpellCastTimes:{},uiCommands:[],lastProcessedTime:Date.now(),lastItemUsedTimes:{},quickbar:[],favoriteSpells:[],skipAheadTime:0,warpTimeSecs:0,summoningBlockedUntilTime:0,boostsBought:{Fire:0,Earth:0,Water:0,Air:0,Poison:0,Mind:0,Life:0,Electric:0,Death:0,Holy:0,Time:0,Space:0},equipmentLoadouts:[],lastEquipmentLoadoutModified:0,landPurchaseCount:0,saleStallItems:[],saleStallProgressRatio:0,partiallyUnlockedElements:{},combatClassId:void 0,explorationTriggers:{},studyAllocation:{Fire:0,Earth:0,Water:0,Air:0,Poison:0,Mind:0,Life:0,Electric:0,Death:0,Holy:0,Time:0,Space:0},familiars:{},secondaryElement:void 0,autoPurchaseActions:{},empoweredSpells:{},activeRituals:{},maxElementLevelsOnPrevRetirement:{},lastComputedLevelUpElementExperience:{},pityEnabledAtSeconds:void 0,pityCounter:0,extraEventSecs:0,currentChallengeId:void 0,autoAdvanceToNextFloor:!1,autoAttemptBoss:!1,spellcrafts:{}},Ee={flags:{},variables:{},maxPrimaryElementLevels:{},maxElementLevels:{},maxFurnitureNumbers:{},unlockedElements:{Fire:!0,Earth:!0,Water:!0,Air:!0},totalTimesResetted:0,quickbars:[],currentQuickbar:0,timesEnemyDefeated:{},maxLandsPurchased:0,secondsPlayed:0,activeSecondsPlayed:0,timePiecesConsumed:0,startTimestamp:Date.now(),endingsHistory:[],sheerPowerLevel:0,storylineOracleLevel:0,blazingSpeedLevel:0,worldDifficultyLevel:0,knownEnemiesThatDrop:{},itemsEverAddedToInventory:{},synchro:{grids:{0:X(ke)},currentGrid:0}},Ce={targetFps:20,wakeLock:!1,hiddenFromBottomMenu:[],hideDamageEffects:!1,doNotUseNativeDriver:!1,overrideElementDisplay:"no",themeMode:"dark",hideEventTags:[],enableSwiping:!0,enableBottomMenu:!0,leftHandedMode:!1,putCastSpellOnBottomMenu:!0,hideTooltips:!1,doNotShowEventsOnWideScreens:!0,hideBottomResourceViewer:!1,hideChannelingSpellsOnHome:!1,waitUntilFullyHealedBeforeExplore:!1,autoPurchaseEnhancements:!1,zoomLevel:1,researcherAutoAssignStrategy:ve.OFF,expandedUI:{},saveExpandedUI:!0,colorSpellButtonsByElement:!0,sectionOrder:[],compactUI:!1,doNotPopupEventsDuringBossFights:!0},Ie={global:xe,run:we,world:Ee,options:Ce,temp:Be(),isFake:!1};function Be(){return{cache:new Map,flagCache:new Map,worldFlagCache:new Map,locationEncyclopediaCache:void 0,isInAutocast:!1,isInPermacast:!1,isInPouch:!1,elementLevelCache:{Fire:void 0,Earth:void 0,Water:void 0,Air:void 0,Poison:void 0,Mind:void 0,Life:void 0,Electric:void 0,Death:void 0,Holy:void 0,Time:void 0,Space:void 0},lastAutoPurchaseRun:0,lastAutoPurchaseEnhancementRun:0,familiarLevelCache:new Map,combatStatCache:{Player:{},Familiar:{},Enemy:{}},resourceCapCache:{},unlockedElementsCache:void 0,incomeOverTimeCache:{},autocastPointsRequirementCache:{},spellManaCostCache:{},researchPerSecCache:void 0,spellRequirementsCache:{},spellExpCache:{},lastProcessedAutocastSpellId:void 0}}function Se(e){var t=X(e);return t.temp=Be(),t.isFake=!0,t}o.createContext(pe(pe({},X(Ie)),{},{apply:function(e){},overwrite:function(e){}}));function Re(e,t,n,r){if(e.isFake)return n(e);var a=e.global.tickCount,i=e.temp.cache,o=i.get(t);if(!o||!r&&o[0]!=a){var u=n(e);return i.set(t,[a,u]),u}return o[1]}function Pe(e,t,n,r){if(e.isFake)return n(e);var a=e.temp.cache,i=e.run.secondsPlayed,o=a.get(t);if(!o||!r&&o[0]!=i){var u=n(e);return a.set(t,[i,u]),u}return o[1]}function Te(e,t,n,r,a){if(e.isFake)return n(e);var i=e.temp.cache,o=r(e),u=i.get(t);if(!u||!a&&u[0]!=o){var l=n(e);return i.set(t,[o,l]),l}return u[1]}function je(e,t,n,r){if(e.isFake)return n(e);var a=e.temp.cache,i=e.run.secondsPlayed,o=a.get(t);if(null==o||!r&&o[0]>i){var u=n(e);return!!u&&(a.set(t,[i,u]),u)}return o[1]}function Me(e,t,n){if(e.isFake)return n(e);var r=e.temp.cache,a=t(e),i=r.get(a);if(!i){var o=n(e);return r.set(a,[0,o]),o}return i[1]}function De(e,t){var n=e.temp.cache,r=t(e);return n.delete(r),e}var Oe={};function Ne(e){for(var t of(e.temp=Be(),Object.values(Oe)))e=t(e);return e}var Ue=!1;function Fe(){return Ue}var Le=n(15671),He=n(43144);function Ye(e){return e.getId()}var Qe=function(){function e(){(0,Le.default)(this,e),this.store={},this.numericIds={},this.maxId=1}return(0,He.default)(e,[{key:"register",value:function(e,t){var n=this.maxId++,r=n.toString();(function(e){return"getId"in e})(e)&&(r=e.getId()),null!=t&&(r=t),null==this.store[r]&&(this.store[r]=e),null==this.numericIds[r]&&(this.numericIds[r]=n)}},{key:"getById",value:function(e){return this.store[e]}},{key:"getByIdNullable",value:function(e){return this.store[e]}},{key:"getNumericId",value:function(e){return this.numericIds[e]}},{key:"getAll",value:function(){return _(this.store)}},{key:"reset",value:function(){this.maxId=1,this.store={}}}]),e}(),ze=void 0;function Ve(e,t){var n,r=e.temp.flagCache.get(t);return void 0===r?(e.temp.flagCache.set(t,(null==(n=e.run.flags)?void 0:n[t])||!1),e.temp.flagCache.get(t)):r}var We=new Qe;function Ge(e,t){var n,r,a;null!=(n=t.run.flags)&&n[e]||t.temp.flagCache.delete(e);var i=null!=(r=t.run.flags[e])&&r;return t.run.flags[e]=!0,i||We.getAll().forEach((function(n){t=n(t,e)})),null!=(a=t.world.flags)&&a["ever_"+e]||t.temp.worldFlagCache.delete("ever_"+e),t.world.flags["ever_"+e]=!0,t}function Je(e,t){return tt(e,"ever_"+t)}var qe=(0,q.default)((function(e){return Ge.bind(ze,e)}));function Xe(e,t){return t.run.flags[e]=!1,t.temp.flagCache.delete(e),t}var Ke=(0,q.default)((function(e){return Xe.bind(ze,e)}));function Ze(e,t){return t.run.newFlagsOnRetirement[e]=!0,t}var _e=(0,q.default)((function(e){return Ze.bind(ze,e)}));function $e(e,t){var n;return null!=(n=t.world.flags)&&n[e]||t.temp.worldFlagCache.delete(e),t.world.flags[e]=!0,t}var et=(0,q.default)((function(e){return $e.bind(ze,e)}));function tt(e,t){var n,r=e.temp.worldFlagCache.get(t);return void 0===r?(e.temp.worldFlagCache.set(t,(null==(n=e.world.flags)?void 0:n[t])||!1),e.temp.worldFlagCache.get(t)):r}function nt(e,t,n){return n.run.exploration.variables[e]=t,n}function rt(e,t){return nt.bind(this,e,t)}function at(e){return e.run.exploration.variables={},e}function it(e,t){var n;return null==(n=e.run.exploration)?void 0:n.variables[t]}var ot={},ut={},lt={},st={},ct={};function ft(e,t,n){ot[e]=t,null!=n&&(lt[e]=n)}function dt(e){delete ot[e],delete ut[e],delete lt[e],delete st[e]}function gt(e){return null==ct[e]&&(ct[e]={executed:0,listenerMs:0,executedTrigger:0,triggerMs:0}),ct[e]}function ht(e){return Object.keys(ut).filter((function(t){if(null!=(null==lt?void 0:lt[t])){var n=null==st?void 0:st[t],r=performance.now(),a=lt[t](e,n),i=performance.now();if(gt(t).executedTrigger++,gt(t).triggerMs+=i-r,null==(null==st?void 0:st[t]))return st[t]=a,!1;if(a==(null==st?void 0:st[t]))return!1;st[t]=a}return!0})).map((function(t){var n=performance.now(),r=ut[t](e),a=performance.now();return gt(t).executed++,gt(t).listenerMs+=a-n,r})).filter((function(e){return null!=e}))}function mt(e){var t=[];for(var n in ot){var r=null==lt?void 0:lt[n];if(null!=r){var a=null==st?void 0:st[n],i=r(e,a);if(null==a){st[n]=i;continue}if(i==a)continue;st[n]=i}t.push(n)}var o=[];for(var u of t){var l=ot[u](e);o.push(l)}return o.filter((function(e){return null!=e}))}function yt(e,t){var n=[t];do{if(n.length>0)for(var r of(e.global.tickCount+=1,n))e=r(e);0==(n=ht(e)).length&&(n=mt(e))}while(n.length>0);return e.global.tickCount+=1,Object.assign({},e)}var pt=function(e){return e.Production="Production",e.Consumption="Consumption",e.Cost="Cost",e.ManualGathering="ManualGathering",e.Loot="Loot",e.LootChance="LootChance",e.Cap="Cap",e.PerBuildingCap="PerBuildingCap",e.PerItemCap="PerItemCap",e.CostScale="CostScale",e.GameSpeed="GameSpeed",e.ExplorationBossRequirement="ExplorationBossRequirement",e.ExplorationDelay="ExplorationDelay",e.ExplorationWeight="ExplorationWeight",e.FamiliarExplorationDelay="FamiliarExplorationDelay",e.FromExploration="FromExploration",e.FromFamiliarExploration="FromFamiliarExploration",e.StunResistance="StunResistance",e.AutocastDelay="AutocastDelay",e.RandomEventWeight="RandomEventWeight",e.StorylineTriggerChance="StorylineTriggerChance",e.ExpRequirementScale="ExpRequirementScale",e.ExpGain="ExpGain",e.TimePiecePerFastSpeedup="TimePiecePerFastSpeedup",e.TimePiecePerFasterSpeedup="TimePiecePerFasterSpeedup",e.TimePiecePerWarpedSec="TimePiecePerWarpedSec",e.TimePiecePerStudy="TimePiecePerStudy",e.OfflineTimePieceGain="OfflineTimePieceGain",e.AttackDamageReceived="AttackDamageReceived",e.PostStunProtectionDuration="PostStunProtectionDuration",e.PostFrozenProtectionDuration="PostFrozenProtectionDuration",e.CanCastSpell="CanCastSpell",e.FinalIncomePerSec="FinalIncomePerSec",e.MaxElementLevel="MaxElementLevel",e.ChannelingEfficiency="ChannelingEfficiency",e.Land="Land",e.CatalystEffectivity="CatalystEffectivity",e.AutocastPointsProduction="AutocastPointsProduction",e.AutocastPointsConsumption="AutocastPointsConsumption",e.PerBuildingProduction="PerBuildingProduction",e.TimePerAutoSalePerStall="SaleStallProgress",e.WizardAmount="WizardAmount",e.ItemSalePrice="ItemSalePrice",e.AutoAttack="AutoAttack",e.SaleStallRevenue="SaleStallRevenue",e.FromSaleStalls="FromSaleStalls",e.PouchSize="PouchSize",e.AccessorySize="AccessorySize",e.Reflected="Reflected",e.ResearcherAmount="ResearcherAmount",e.Study="Study",e.PoisonDoTAmount="PoisonDoTAmount",e.AffectsGameSpeed="AffectsGameSpeed",e.MaxFamiliarLevel="MaxFamiliarLevel",e.FamiliarAmount="FamiliarAmount",e.FamiliarExp="FamiliarExp",e.LandCost="LandCost",e.CorrosionDoTAmount="CorrosionDoTAmount",e.NumberOfHits="NumberOfHits",e.CriticalResistance="CriticalResistance",e.TransmutationSpell="TransmutationSpell",e.InstantDeath="InstantDeath",e.Corruption="Corruption",e.CorruptionCap="CorruptionCap",e.PerRitualCost="PerRitualCost",e.Accumulation="Accumulation",e.Boost="Boost",e.PouchItemUses="PouchItemUses",e.StartingElementExpBase="StartingElementExpBase",e.ItemQualityMax="ItemQualityMax",e.ItemsNeededForCombining="ItemsNeededForCombining",e.BoonPointsEarned="BoonPoints",e.SynchroGridMax="SynchroGridMax",e.LootItemAmount="LootItemAmount",e.Action="Action",e.Spell="Spell",e.Building="Building",e.ShapeshiftingSpell="ShapeshiftingSpell",e.AttackSpell="AttackSpell",e.ActionEffect="ActionEffect",e.BuildingEffect="BuildingEffect",e.SpellCooldown="SpellCooldown",e.ActionMagnitude="ActionMagnitude",e.ActionVariance="ActionVariance",e.TemporaryEffectMagnitude="TemporaryEffectMagnitude",e.TemporaryEffectExtraCost="TemporaryEffectExtraCost",e.TemporaryEffectExtraCostDivisor="TemporaryEffectExtraCostDivisor",e.TemporaryEffectDuration="TemporaryEffectDuration",e.TemporaryEffectDurationPostProcessing="TemporaryEffectDurationPostProcessing",e.ItemEffect="ItemEffect",e.ItemQuality="ItemQuality",e.ItemCost="ItemCost",e.ItemCostItem="ItemCostItem",e.ItemAmountTransmuted="ItemAmountTransmuted",e.ItemQualityLevelDelta="ItemQualityLevelDelta",e.Ritual="Ritual",e.RitualEffect="RitualEffect",e.ClassEffect="ClassEffect",e.SynchroEffect="SynchroEffect",e.Spellcraft="Spellcraft",e.SpellcraftEffect="SpellcraftEffect",e}({}),vt=function(e){return e.Basic="Basic",e.Percent="Percent",e.Divisor="Divisor",e.Log2="Log2",e.Log2Divisor="Log2Divisor",e}({}),At=function(e){return e.Addition="Addition",e.Multiplier="Multiplier",e.Power="Power",e.Override="Override",e}({}),bt={},kt={};function xt(e,t,n,r,a){var i={id:t,transformation:a,description:n,type:r,tags:e,lastValue:void 0},o=new Set(e.flat(2));o.forEach((function(e){var n,r=null!=(n=null==bt?void 0:bt[e])?n:[];r.some((function(e){return e.id===t}))||(r.push(i),bt[e]=r)})),kt[t]=i}var wt=new Map,Et=(0,q.memoizeWithLimit)((function(e,t){var n,r=null!=t?t:e.join();wt.set(r,(null!=(n=wt.get(r))?n:0)+1);var a=e.map((function(e){var t;return null!=(t=null==bt?void 0:bt[e])?t:[]})).flat().filter((function(t){return t.tags.some((function(t){return t.every((function(t){return e.includes(t)}))}))})),i=(0,h.default)(new Set(a));return Object.fromEntries(Object.values(At).map((function(e){return[e,i.filter((function(t){return t.type===e}))]})))}),1e4);function Ct(e,t,n,r){var a=null!=r?r:{};return a.tags=e,Et(e)[At.Multiplier].map((function(e){return e.transformation(t,a,null!=n?n:0)})).reduce((function(e,t){return(null!=e?e:1)*(null!=t?t:1)}),n)}function It(e,t,n,r,a){var i=null!=r?r:{},o=null==i?void 0:i.tags;i.tags=null!=(null==i?void 0:i.tags)?i.tags.concat(e):e;var u=Et(e,a),l=u[At.Addition],s=n;for(var c of l){var f;s+=null!=(f=c.transformation(t,i,n))?f:0}var d=u[At.Power],g=s;for(var h of d){var m;g=Math.pow(g,null!=(m=h.transformation(t,i,s))?m:1)}var y=u[At.Multiplier],p=g;for(var v of y){var A;p*=null!=(A=v.transformation(t,i,g))?A:1}var b=u[At.Override],k=p;for(var x of b){var w=x.transformation(t,i,p);null!=w&&(k=w)}return i.tags=o,k}var Bt={},St=(0,q.memoizeWithLimit)((function(e,t,n){var r,a=e.join("");return Bt[a]=(null!=(r=Bt[a])?r:0)+1,[a,"t:"+a+t+JSON.stringify(n)]}),1e4);function Rt(e,t,n,r){var a=St(e,n,r);return Re(t,a[1],(function(t){return It(e,t,n,r,a[0])}))}function Pt(e,t,n,r){var a=St(e,n,r);return Me(t,(function(e){return a[1]}),(function(t){return It(e,t,n,r,a[0])}))}function Tt(e,t){var n=t.temp.cache;for(var r of n.keys()){var a=!0;for(var i of e)if(!r.includes(i)){a=!1;break}a&&n.delete(r)}return t}function jt(e,t,n,r){var a=null!=r?r:{},i=null==a?void 0:a.tags;a.tags=null!=(null==a?void 0:a.tags)?a.tags.concat(e):e;var o={Power:[],Addition:[],Multiplier:[],Override:[]},u=Et(e),l=u.Addition.map((function(e){var r=e.transformation(t,a,null!=n?n:0);return o.Addition.push({id:e.id,description:e.description,value:r}),r})).reduce((function(e,t){return(null!=e?e:0)+(null!=t?t:0)}),n),s=u.Power.map((function(e){var n=e.transformation(t,a,null!=l?l:0);return o.Power.push({id:e.id,description:e.description,value:n}),n})).reduce((function(e,t){return Math.pow(null!=e?e:1,null!=t?t:1)}),l),c=u.Multiplier.map((function(e){var n=e.transformation(t,a,null!=s?s:0);return o.Multiplier.push({id:e.id,description:e.description,value:n}),n})).reduce((function(e,t){return(null!=e?e:1)*(null!=t?t:1)}),s);u.Override.map((function(e){var n=e.transformation(t,a,null!=c?c:0);return o.Override.push({id:e.id,description:e.description,value:n}),n})).reduce((function(e,t){return null!=t?t:e}),c);return a.tags=i,o}function Mt(e,t,n,r){return Te(t,"explainCache:"+St(e,n,r),(function(t){return function(e,t,n,r){var a,i,o=jt(e,t,n,r),u=null!=(a=null==r?void 0:r.unit)?a:"",l=null!=(i=null==r?void 0:r.valueType)?i:vt.Basic,s=o.Override.filter((function(e){return null!=e.value}));if(s.length>0)return ae("Overridden: {{amount}}{{unit}} ({{description}})",{amount:s[0].value,unit:u,description:s[0].description});function c(e){return ae("{{amount}}{{unit}} ({{description}})",{amount:e.value>0?"+"+ue(l==vt.Percent?100*e.value:e.value):ue(e.value),unit:u,description:e.description})}function f(e){return ae("{{amount}} ({{description}})",{amount:le(e.value),description:e.description})}var d=o.Addition.filter((function(e){return 0!=e.value})),g=o.Multiplier.filter((function(e){return 1!=e.value}));if(0==d.length&&0==g.length)return"";var h=ae("Base: {{amount}}{{unit}}",{amount:ue(l==vt.Percent?100*n:n,{showDecimals:!0}),unit:l==vt.Percent?ae("%{{unit}}",{unit:u}):u}),m=d.length>0?ae("; Plus: {{plusText}}",{plusText:d.map(c).join(ae(", "))}):"",y=g.length>0?ae("; Multipliers: {{plusText}}",{plusText:g.map(f).join(ae(", "))}):"";if(l==vt.Log2){var p,v=null!=(p=null==r?void 0:r.base)?p:1;return ae("Results from multiplying {{base}} by the base 2 logarithm of the following: {{baseText}}{{additionText}}{{multiplierText}}",{base:ue(v,{showDecimals:!0}),baseText:h,additionText:m,multiplierText:y})}if(l==vt.Log2Divisor){var A,b=null!=(A=null==r?void 0:r.base)?A:1;return ae("Results from dividing by 1.0 + {{base}} times the base 2 logarithm of the following: {{baseText}}{{additionText}}{{multiplierText}}",{base:ue(b,{showDecimals:!0}),baseText:h,additionText:m,multiplierText:y})}if(l==vt.Divisor)return ae("Results from dividing by 1.0 + the following: {{baseText}}{{additionText}}{{multiplierText}}",{baseText:h,additionText:m,multiplierText:y});return ae("{{baseText}}{{additionText}}{{multiplierText}}",{baseText:h,additionText:m,multiplierText:y})}(e,t,n,r)}),(function(t){return It(e,t,n,r)}))}var Dt=function(e){return e.Mana="Mana",e.FireEssence="FireEssence",e.EarthEssence="EarthEssence",e.WaterEssence="WaterEssence",e.AirEssence="AirEssence",e.PoisonEssence="PoisonEssence",e.MindEssence="MindEssence",e.LifeEssence="LifeEssence",e.ElectricEssence="ElectricEssence",e.DeathEssence="DeathEssence",e.HolyEssence="HolyEssence",e.TimeEssence="TimeEssence",e.SpaceEssence="SpaceEssence",e.Coins="Coins",e.Monstium="Monstium",e.TimePiece="TimePiece",e}({});function Ot(e){switch(e){case Dt.Mana:return ae("Mana");case Dt.FireEssence:return ae("Fire");case Dt.EarthEssence:return ae("Earth");case Dt.WaterEssence:return ae("Water");case Dt.AirEssence:return ae("Air");case Dt.PoisonEssence:return ae("Poison");case Dt.MindEssence:return ae("Mind");case Dt.LifeEssence:return ae("Life");case Dt.ElectricEssence:return ae("Electric");case Dt.DeathEssence:return ae("Death");case Dt.HolyEssence:return ae("Holy");case Dt.TimeEssence:return ae("Time");case Dt.SpaceEssence:return ae("Space");case Dt.Coins:return ae("Coins");case Dt.Monstium:return ae("Monstium");case Dt.TimePiece:return ae("Time Pieces")}}var Nt={Mana:{baseCap:100,icon:"mana"},Coins:{baseCap:1e4,icon:"coins"},Monstium:{baseCap:1e3,icon:"monstium"},FireEssence:{baseCap:100,icon:"fireessence"},EarthEssence:{baseCap:100,icon:"earthessence"},WaterEssence:{baseCap:100,icon:"wateressence"},AirEssence:{baseCap:100,icon:"airessence"},PoisonEssence:{baseCap:100,icon:"poisonessence"},MindEssence:{baseCap:100,icon:"mindessence"},LifeEssence:{baseCap:100,icon:"lifeessence"},ElectricEssence:{baseCap:100,icon:"electricessence"},DeathEssence:{baseCap:100,icon:"deathessence"},HolyEssence:{baseCap:100,icon:"holyessence"},TimeEssence:{baseCap:100,icon:"timeessence"},SpaceEssence:{baseCap:100,icon:"spaceessence"},TimePiece:{baseCap:1e5,icon:"timepiece"}};function Ut(e){return Nt[e]}function Ft(e){return $(Dt).filter((function(t){return null!=e.run.resources[t]}))}var Lt=(0,q.default)((function(e){return[e,pt.Cap]})),Ht=(0,q.default)((function(e){return{resource:e}}));function Yt(e){return e.temp.resourceCapCache={},e}function Qt(e,t){return function(e,t){var n=e.temp.resourceCapCache[t];return null==n&&(n=It(Lt(t),e,Ut(t).baseCap,Ht(t)),e.temp.resourceCapCache[t]=n),n}(e,t)}function zt(e,t){var n;return(null==(n=e.run.resources)?void 0:n[t])||0}function Vt(e,t,n){var r;null==(null==(r=n.run.resources)?void 0:r[e])&&(n.run.resources[e]=0);var a=n.run.resources[e];if(t<0)a+=t;else{var i=Qt(n,e);a>i||(a+=t,a=Math.min(a,i)),n=et("hasEverHadResource-"+e)(n)}return a=Math.max(a,0),n.run.resources[e]=a,n}function Wt(e,t){return Vt.bind(this,e,t)}var Gt={},Jt={};function qt(e,t){Gt[e]=t}function Xt(e,t){Jt[e]=t}function Kt(e){return tt(e,"storyline_posterity_completed")}function Zt(e,t){e.global.tickCount++,e=Ne(e),Object.keys(Gt).forEach((function(n){e=Gt[n](e,t)})),e.world.totalTimesResetted+=1;var n=X(we);return n.lastProcessedTime=Date.now(),n.startTimestamp=Date.now(),e.run=n,e.global.tickCount++,e=Ne(e),Object.keys(Jt).forEach((function(n){e=Jt[n](e,t)})),e.global.tickCount++,e=Ne(e)}qt("new_flags",(function(e){for(var t in(null==e||null==(n=e.run)?void 0:n.newFlagsOnRetirement)||{}){var n;e.world.flags[t]=!0}return e}));var _t=function(e){return e.HOME="HOME",e.SPELL_MENU="SPELL_MENU",e.STUDY="STUDY",e.TRANSMUTE="TRANSMUTE",e.EXPLORATION="EXPLORATION",e.ENHANCEMENT="ENHANCEMENT",e.BOOST="BOOST",e.FAMILIARS="FAMILIARS",e}({}),$t=function(e){return e.ACTIONS="ACTIONS",e.CHANNELING="CHANNELING",e.MANA="MANA",e.STORAGE="STORAGE",e.CATALYSTS="CATALYSTS",e.OTHER="OTHER",e.TIME_PIECES="TIME_PIECES",e.ENHANCE_STORAGE="ENHANCE_STORAGE",e.ENHANCE_LAND="ENHANCE_LAND",e.ENHANCE_PRODUCTION="ENHANCE_PRODUCTION",e.ENHANCE_CATALYSTS="ENHANCE_CATALYSTS",e.ENHANCE_EXPLORATION="ENHANCE_COMBAT",e.ENHANCE_OTHER="ENHANCE_OTHER",e.BOOST="BOOST",e.BOOST_OTHER="BOOST_OTHER",e.FAMILIARS="FAMILIARS",e}({}),en=[$t.ACTIONS,$t.CHANNELING,$t.MANA,$t.STORAGE,$t.CATALYSTS,$t.OTHER,$t.TIME_PIECES],tn=[$t.TIME_PIECES],nn=[$t.ENHANCE_STORAGE,$t.ENHANCE_LAND,$t.ENHANCE_PRODUCTION,$t.ENHANCE_CATALYSTS,$t.ENHANCE_EXPLORATION,$t.ENHANCE_OTHER],rn=[$t.BOOST,$t.BOOST_OTHER];function an(e){switch(e){case $t.ACTIONS:return ae("Actions");case $t.CHANNELING:return ae("Channeling");case $t.MANA:return ae("Mana");case $t.STORAGE:return ae("Storage");case $t.CATALYSTS:return ae("Catalysts");case $t.OTHER:return ae("Other");case $t.TIME_PIECES:return ae("Time Pieces");case $t.ENHANCE_STORAGE:return ae("Storage");case $t.ENHANCE_LAND:return ae("Land");case $t.ENHANCE_PRODUCTION:return ae("Production");case $t.ENHANCE_CATALYSTS:return ae("Catalysts");case $t.ENHANCE_EXPLORATION:return ae("Exploration");case $t.ENHANCE_OTHER:return ae("Other");case $t.BOOST:return ae("Boost");case $t.BOOST_OTHER:return ae("Other");case $t.FAMILIARS:return ae("Familiars")}}function on(e){for(var t of[].concat((0,h.default)($(_t)),["undefined"])){var n="spellByElement:"+t;null!=e.temp.cache.get(n)&&e.temp.cache.delete(n)}return e}var un=function(e){return e.Fire="Fire",e.Earth="Earth",e.Water="Water",e.Air="Air",e.Poison="Poison",e.Mind="Mind",e.Life="Life",e.Electric="Electric",e.Death="Death",e.Holy="Holy",e.Time="Time",e.Space="Space",e}({});function ln(e){switch(e){case un.Fire:return ae("Fire");case un.Earth:return ae("Earth");case un.Air:return ae("Air");case un.Water:return ae("Water");case un.Poison:return ae("Poison");case un.Mind:return ae("Mind");case un.Life:return ae("Life");case un.Electric:return ae("Electric");case un.Death:return ae("Death");case un.Holy:return ae("Holy");case un.Time:return ae("Time");case un.Space:return ae("Space")}}function sn(e){if(e>=90){var t=Math.floor((e-80)/10);return ae("Eminence +{{rank}}",{rank:ue(t)})}return ae(e>=80?"Eminence":e>=70?"Master":e>=60?"Archmage":e>=50?"Expert":e>=40?"Magus":e>=30?"Adept":e>=20?"Apprentice":e>=10?"Novice":"Initiate")}var cn=80,fn=30,dn=new Map;function gn(e,t){var n;return(null==(n=e.run.elementExperience)?void 0:n[t])||0}var hn=[pt.MaxElementLevel];function mn(e){return Pt(hn,e,Fe()?fn:cn)}var yn=(0,q.default)((function(e,t,n){return e<=1?0:e>n?1/0:Math.floor(600*Math.pow(t,e-2))})),pn=function e(t,n,r){var a;if(t<=1)return 0;if(t>r)return 1/0;var i=null==(a=dn.get(n))?void 0:a.get(t);return null!=i?i:e(t-1,n,r)+yn(t,n,r)},vn=function(e,t,n,r){if(null!=r&&pn(r,t,n)<=e&&pn(r+1,t,n)>e)return r;for(var a=1;pn(a+1,t,n)<=e;)a+=1;return a};function An(e,t){var n,r;if(null!=e.run.primaryElement&&null==(null==(n=e.run.elementExponents)?void 0:n[t])){if(!Rn(e).includes(t))return 2;var a=e.run.primaryElement===t||e.run.secondaryElement===t,i=It([pt.ExpRequirementScale,t],e,a?1.38:Tn(e,t)?2:1.43,{element:t});e.run.elementExponents[t]=i}return null!=(r=e.run.elementExponents[t])?r:1.43}function bn(e,t,n){var r=An(e,n);return pn(t,r,mn(e))}var kn={};function xn(e,t){return function(e,t,n,r){if(e.isFake)return n(e);var a=e.global.tickCount,i=e.temp.elementLevelCache,o=i[t];if(!o||!r&&o[0]!=a){var u=n(e);return i[t]=[a,u],u}return o[1]}(e,t,(function(e){var n,r=kn[t],a=function(e,t,n,r){var a=An(e,n);return vn(t,a,mn(e),r)}(e,(null==(n=e.run.elementExperience)?void 0:n[t])||0,t,r);return kn[t]=a,a}))}function wn(e,t,n){var r=gn(n,e);return r+=t,r=Math.max(r,0),n.run.elementExperience[e]=r,n}var En=(0,q.memoizeWithLimit)((function(e,t){return wn.bind(undefined,e,t)}),1e4);function Cn(e,t){return t.run.primaryElement=e,t}function In(e,t){return t.run.secondaryElement=e,t}function Bn(e){return null!=e.run.secondaryElement&&null!=e.run.primaryElement?[e.run.primaryElement,e.run.secondaryElement]:null!=e.run.primaryElement?[e.run.primaryElement]:[]}function Sn(e){var t=Bn(e);return Math.max.apply(Math,(0,h.default)(t.map((function(t){return xn(e,t)}))).concat([1]))}function Rn(e){var t=e.temp.unlockedElementsCache;if(null==t){var n=_(un);t=Z(e.world.unlockedElements).filter((function(t){return e.world.unlockedElements[t]})).sort((function(e,t){return n.indexOf(e)-n.indexOf(t)})).concat(Z(e.run.partiallyUnlockedElements).filter((function(t){return e.run.partiallyUnlockedElements[t]&&!e.world.unlockedElements[t]}))),e.temp.unlockedElementsCache=t}return t}function Pn(e){return Z(e.world.unlockedElements).filter((function(t){return e.world.unlockedElements[t]}))}function Tn(e,t){var n,r;return!(null!=(n=e.world.unlockedElements[t])&&n)&&null!=(r=e.run.partiallyUnlockedElements[t])&&r}function jn(e,t){return t.world.unlockedElements[e]=!0,t.temp.unlockedElementsCache=null,t.temp.spellRequirementsCache={},t=on(t)}function Mn(e){return jn.bind(this,e)}function Dn(e,t){return t.run.partiallyUnlockedElements[e]=!0,(t=_e("everPartiallyUnlockedElement_"+e)(t)).temp.unlockedElementsCache=null,t.temp.spellRequirementsCache={},t}function On(e){return Dn.bind(this,e)}function Nn(e,t){return tt(e,"everPartiallyUnlockedElement_"+t)}function Un(e,t){var n;return Math.min((null==(n=e.world.maxPrimaryElementLevels)?void 0:n[t])||0,mn(e))}function Fn(e){var t=e.world.maxPrimaryElementLevels||{},n=0;for(var r in t)n=Math.min(Math.max(n,t[r]||0),mn(e));return n}var Ln=(0,q.default)((function(e,t){return[].concat((0,h.default)(e),[t,pt.ExpGain])}));function Hn(e,t,n,r,a){var i=It(Ln(arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],t),e,Math.pow(1.03,Math.max(n-1,0))*Math.pow(r,.3)*1*(a?1:.1),{school:t,level:n});return 0==i?0:Math.max(5,i)}var Yn=400,Qn=1.27,zn=ee($(un).map((function(e){return[e,[pt.StartingElementExpBase,e]]})));function Vn(e,t){return Yn*(Math.pow(Pt(zn[t],e,Qn),Un(e,t))-1)}function Wn(e){return Me(e,(function(e){return"maximumElementLevelExpMultiplier"}),(function(e){var t=Math.max(Fn(e),1),n=function(e){var t=e.world.maxPrimaryElementLevels||{},n=0;for(var r in t){var a;n+=Math.min((null!=(a=t[r])?a:1)-1,mn(e)-1)}return n}(e);return(1+(Math.pow(1.11,t-1)-1)/2.5)*(Math.pow(n+Math.pow(20,1.25),.8)/20)}))}function Gn(e){return Me(e,(function(e){return"maximumElementLevelProductionMultiplierDx"}),(function(t){var n=Wn(e);return 1+(Math.pow(n,.4)-1)/3.2}))}function Jn(e){for(var t of Z(e.world.maxPrimaryElementLevels)){var n=Vn(e,t);(e=En(t,n)(e)).run.lastComputedLevelUpElementExperience[t]=n}return e}function qn(e,t){return!Object.keys(t).some((function(n){return!((t[n]||0)<=0)&&(xn(e,n)<(t[n]||0)||!Rn(e).includes(n))}))}xt([[pt.ExpGain]],"MELExp",ae("Maximum Element Level multiplier"),At.Multiplier,Wn),xt([[pt.Production]],"MELProduction",ae("Maximum Element Level production multiplier"),At.Multiplier,Gn),xt([[pt.ChannelingEfficiency]],"MELChanneling",ae("Maximum Element Level channeling multiplier"),At.Multiplier,Gn),xt([[pt.Loot]],"MELLoot",ae("Maximum Element Level loot multiplier"),At.Multiplier,Gn),xt([[pt.FamiliarExp]],"MELFamiliarExp",ae("Maximum Element Level familiar Exp multiplier"),At.Multiplier,Gn),Object.keys(un).forEach((function(e){xt([[pt.Cost,e,pt.Spell,Dt.Mana]],e+"SpellCostReducer",ae("Primary Element"),At.Multiplier,(function(t){return Bn(t).includes(e)?.5:1}))})),qt("mpl",(function(e){var t=e.run.primaryElement;if(t){var n=xn(e,t);e.world.maxPrimaryElementLevels[t]=Math.max(Un(e,t),n)}var r=e.run.secondaryElement;if(r){var a=xn(e,r);e.world.maxPrimaryElementLevels[r]=Math.max(Un(e,r),a)}return e})),Xt("maxElementLevelsOnPrevRetirement",(function(e){return e.run.maxElementLevelsOnPrevRetirement=X(e.world.maxElementLevels),e}));var Xn=[1.38,1.43,2];Xn.forEach((function(e){return dn.set(e,new Map)}));for(var Kn=function(e){Xn.forEach((function(t){var n;null==(n=dn.get(t))||n.set(e,pn(e,t,499))}))},Zn=1;Zn<500;Zn++)Kn(Zn);function _n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_n(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_n(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function er(e,t){return W()(e).grayscale().darken(t?.3:.2).hexa()}function tr(e,t){return W()(e).grayscale().lighten(t?.3:.4).hexa()}var nr=["primary","primaryContainer","onPrimaryContainer","secondary","secondaryContainer","onSecondaryContainer","tertiary","tertiaryContainer","onTertiaryContainer"],rr=[].concat(nr,["onPrimary","onSecondary","onTertiary"]),ar=["background","onBackground","surface","surfaceVariant","outline","outlineVariant"];var ir=(0,q.default)((function e(t,n){var r={colors:{}};switch(t){case un.Fire:r=n?{colors:{primary:"rgb(255, 180, 171)",onPrimary:"rgb(105, 0, 5)",primaryContainer:"rgb(147, 0, 10)",onPrimaryContainer:"rgb(255, 218, 214)",secondary:"rgb(231, 189, 183)",onSecondary:"rgb(68, 41, 38)",secondaryContainer:"rgb(93, 63, 60)",onSecondaryContainer:"rgb(255, 218, 214)",tertiary:"rgb(224, 195, 140)",onTertiary:"rgb(63, 46, 4)",tertiaryContainer:"rgb(87, 68, 25)",onTertiaryContainer:"rgb(253, 223, 166)",error:"rgb(255, 180, 171)",onError:"rgb(105, 0, 5)",errorContainer:"rgb(147, 0, 10)",onErrorContainer:"rgb(255, 180, 171)",background:"rgb(32, 26, 25)",onBackground:"rgb(237, 224, 222)",surface:"rgb(32, 26, 25)",onSurface:"rgb(237, 224, 222)",surfaceVariant:"rgb(83, 67, 65)",onSurfaceVariant:"rgb(216, 194, 191)",outline:"rgb(160, 140, 138)",outlineVariant:"rgb(83, 67, 65)",shadow:"rgb(0, 0, 0)",scrim:"rgb(0, 0, 0)",inverseSurface:"rgb(237, 224, 222)",inverseOnSurface:"rgb(54, 47, 46)",inversePrimary:"rgb(189, 16, 22)",elevation:{level0:"transparent",level1:"rgb(43, 34, 32)",level2:"rgb(50, 38, 37)",level3:"rgb(57, 43, 41)",level4:"rgb(59, 45, 43)",level5:"rgb(63, 48, 45)"},surfaceDisabled:"rgba(237, 224, 222, 0.12)",onSurfaceDisabled:"rgba(237, 224, 222, 0.38)",backdrop:"rgba(59, 45, 43, 0.4)"}}:{colors:{primary:"rgb(189, 16, 22)",onPrimary:"rgb(255, 255, 255)",primaryContainer:"rgb(255, 218, 214)",onPrimaryContainer:"rgb(65, 0, 2)",secondary:"rgb(119, 86, 82)",onSecondary:"rgb(255, 255, 255)",secondaryContainer:"rgb(255, 218, 214)",onSecondaryContainer:"rgb(44, 21, 18)",tertiary:"rgb(113, 91, 46)",onTertiary:"rgb(255, 255, 255)",tertiaryContainer:"rgb(253, 223, 166)",onTertiaryContainer:"rgb(38, 25, 0)",error:"rgb(186, 26, 26)",onError:"rgb(255, 255, 255)",errorContainer:"rgb(255, 218, 214)",onErrorContainer:"rgb(65, 0, 2)",background:"rgb(255, 251, 255)",onBackground:"rgb(32, 26, 25)",surface:"rgb(255, 251, 255)",onSurface:"rgb(32, 26, 25)",surfaceVariant:"rgb(245, 221, 218)",onSurfaceVariant:"rgb(83, 67, 65)",outline:"rgb(133, 115, 113)",outlineVariant:"rgb(216, 194, 191)",shadow:"rgb(0, 0, 0)",scrim:"rgb(0, 0, 0)",inverseSurface:"rgb(54, 47, 46)",inverseOnSurface:"rgb(251, 238, 236)",inversePrimary:"rgb(255, 180, 171)",elevation:{level0:"transparent",level1:"rgb(252, 239, 243)",level2:"rgb(250, 232, 236)",level3:"rgb(248, 225, 229)",level4:"rgb(247, 223, 227)",level5:"rgb(246, 218, 222)"},surfaceDisabled:"rgba(32, 26, 25, 0.12)",onSurfaceDisabled:"rgba(32, 26, 25, 0.38)",backdrop:"rgba(59, 45, 43, 0.4)"}};break;case un.Earth:r=n?{colors:{primary:"rgb(255, 182, 146)",onPrimary:"rgb(85, 32, 0)",primaryContainer:"rgb(121, 49, 0)",onPrimaryContainer:"rgb(255, 219, 203)",secondary:"rgb(230, 190, 172)",onSecondary:"rgb(67, 42, 30)",secondaryContainer:"rgb(92, 64, 51)",onSecondaryContainer:"rgb(255, 219, 203)",tertiary:"rgb(208, 200, 144)",onTertiary:"rgb(53, 49, 7)",tertiaryContainer:"rgb(76, 72, 28)",onTertiaryContainer:"rgb(236, 228, 170)",error:"rgb(255, 180, 171)",onError:"rgb(105, 0, 5)",errorContainer:"rgb(147, 0, 10)",onErrorContainer:"rgb(255, 180, 171)",background:"rgb(32, 26, 24)",onBackground:"rgb(237, 224, 219)",surface:"rgb(32, 26, 24)",onSurface:"rgb(237, 224, 219)",surfaceVariant:"rgb(82, 68, 61)",onSurfaceVariant:"rgb(215, 194, 185)",outline:"rgb(160, 141, 133)",outlineVariant:"rgb(82, 68, 61)",shadow:"rgb(0, 0, 0)",scrim:"rgb(0, 0, 0)",inverseSurface:"rgb(237, 224, 219)",inverseOnSurface:"rgb(54, 47, 44)",inversePrimary:"rgb(152, 71, 23)",elevation:{level0:"transparent",level1:"rgb(43, 34, 30)",level2:"rgb(50, 39, 34)",level3:"rgb(57, 43, 37)",level4:"rgb(59, 45, 39)",level5:"rgb(63, 48, 41)"},surfaceDisabled:"rgba(237, 224, 219, 0.12)",onSurfaceDisabled:"rgba(237, 224, 219, 0.38)",backdrop:"rgba(59, 46, 39, 0.4)"}}:{colors:{primary:"rgb(152, 71, 23)",onPrimary:"rgb(255, 255, 255)",primaryContainer:"rgb(255, 219, 203)",onPrimaryContainer:"rgb(52, 17, 0)",secondary:"rgb(118, 88, 73)",onSecondary:"rgb(255, 255, 255)",secondaryContainer:"rgb(255, 219, 203)",onSecondaryContainer:"rgb(44, 22, 11)",tertiary:"rgb(101, 95, 49)",onTertiary:"rgb(255, 255, 255)",tertiaryContainer:"rgb(236, 228, 170)",onTertiaryContainer:"rgb(31, 28, 0)",error:"rgb(186, 26, 26)",onError:"rgb(255, 255, 255)",errorContainer:"rgb(255, 218, 214)",onErrorContainer:"rgb(65, 0, 2)",background:"rgb(255, 251, 255)",onBackground:"rgb(32, 26, 24)",surface:"rgb(255, 251, 255)",onSurface:"rgb(32, 26, 24)",surfaceVariant:"rgb(244, 222, 213)",onSurfaceVariant:"rgb(82, 68, 61)",outline:"rgb(133, 115, 108)",outlineVariant:"rgb(215, 194, 185)",shadow:"rgb(0, 0, 0)",scrim:"rgb(0, 0, 0)",inverseSurface:"rgb(54, 47, 44)",inverseOnSurface:"rgb(251, 238, 233)",inversePrimary:"rgb(255, 182, 146)",elevation:{level0:"transparent",level1:"rgb(250, 242, 243)",level2:"rgb(247, 237, 236)",level3:"rgb(244, 231, 230)",level4:"rgb(243, 229, 227)",level5:"rgb(241, 226, 223)"},surfaceDisabled:"rgba(32, 26, 24, 0.12)",onSurfaceDisabled:"rgba(32, 26, 24, 0.38)",backdrop:"rgba(59, 46, 39, 0.4)"}};break;case un.Water:r=n?{colors:{primary:"rgb(146, 204, 255)",onPrimary:"rgb(0, 51, 81)",primaryContainer:"rgb(0, 75, 115)",onPrimaryContainer:"rgb(204, 229, 255)",secondary:"rgb(184, 200, 218)",onSecondary:"rgb(35, 50, 63)",secondaryContainer:"rgb(57, 72, 87)",onSecondaryContainer:"rgb(212, 228, 246)",tertiary:"rgb(209, 191, 231)",onTertiary:"rgb(55, 42, 74)",tertiaryContainer:"rgb(78, 65, 98)",onTertiaryContainer:"rgb(237, 220, 255)",error:"rgb(255, 180, 171)",onError:"rgb(105, 0, 5)",errorContainer:"rgb(147, 0, 10)",onErrorContainer:"rgb(255, 180, 171)",background:"rgb(26, 28, 30)",onBackground:"rgb(226, 226, 229)",surface:"rgb(26, 28, 30)",onSurface:"rgb(226, 226, 229)",surfaceVariant:"rgb(66, 71, 78)",onSurfaceVariant:"rgb(194, 199, 206)",outline:"rgb(140, 145, 152)",outlineVariant:"rgb(66, 71, 78)",shadow:"rgb(0, 0, 0)",scrim:"rgb(0, 0, 0)",inverseSurface:"rgb(226, 226, 229)",inverseOnSurface:"rgb(47, 49, 51)",inversePrimary:"rgb(0, 100, 151)",elevation:{level0:"transparent",level1:"rgb(32, 37, 41)",level2:"rgb(36, 42, 48)",level3:"rgb(39, 47, 55)",level4:"rgb(40, 49, 57)",level5:"rgb(43, 53, 62)"},surfaceDisabled:"rgba(226, 226, 229, 0.12)",onSurfaceDisabled:"rgba(226, 226, 229, 0.38)",backdrop:"rgba(43, 49, 55, 0.4)"}}:{colors:{primary:"rgb(0, 100, 151)",onPrimary:"rgb(255, 255, 255)",primaryContainer:"rgb(204, 229, 255)",onPrimaryContainer:"rgb(0, 30, 49)",secondary:"rgb(81, 96, 111)",onSecondary:"rgb(255, 255, 255)",secondaryContainer:"rgb(212, 228, 246)",onSecondaryContainer:"rgb(13, 29, 42)",tertiary:"rgb(102, 88, 122)",onTertiary:"rgb(255, 255, 255)",tertiaryContainer:"rgb(237, 220, 255)",onTertiaryContainer:"rgb(34, 21, 52)",error:"rgb(186, 26, 26)",onError:"rgb(255, 255, 255)",errorContainer:"rgb(255, 218, 214)",onErrorContainer:"rgb(65, 0, 2)",background:"rgb(252, 252, 255)",onBackground:"rgb(26, 28, 30)",surface:"rgb(252, 252, 255)",onSurface:"rgb(26, 28, 30)",surfaceVariant:"rgb(222, 227, 235)",onSurfaceVariant:"rgb(66, 71, 78)",outline:"rgb(114, 120, 126)",outlineVariant:"rgb(194, 199, 206)",shadow:"rgb(0, 0, 0)",scrim:"rgb(0, 0, 0)",inverseSurface:"rgb(47, 49, 51)",inverseOnSurface:"rgb(240, 240, 244)",inversePrimary:"rgb(146, 204, 255)",elevation:{level0:"transparent",level1:"rgb(239, 244, 250)",level2:"rgb(232, 240, 247)",level3:"rgb(224, 235, 244)",level4:"rgb(222, 234, 243)",level5:"rgb(217, 231, 240)"},surfaceDisabled:"rgba(26, 28, 30, 0.12)",onSurfaceDisabled:"rgba(26, 28, 30, 0.38)",backdrop:"rgba(43, 49, 55, 0.4)"}};break;case un.Air:r=n?{colors:{primary:"rgb(143, 216, 138)",onPrimary:"rgb(0, 57, 10)",primaryContainer:"rgb(6, 83, 21)",onPrimaryContainer:"rgb(170, 245, 163)",secondary:"rgb(186, 204, 179)",onSecondary:"rgb(37, 52, 35)",secondaryContainer:"rgb(59, 75, 56)",onSecondaryContainer:"rgb(213, 232, 206)",tertiary:"rgb(160, 207, 212)",onTertiary:"rgb(0, 54, 59)",tertiaryContainer:"rgb(31, 77, 82)",onTertiaryContainer:"rgb(188, 235, 240)",error:"rgb(255, 180, 171)",onError:"rgb(105, 0, 5)",errorContainer:"rgb(147, 0, 10)",onErrorContainer:"rgb(255, 180, 171)",background:"rgb(26, 28, 25)",onBackground:"rgb(226, 227, 221)",surface:"rgb(26, 28, 25)",onSurface:"rgb(226, 227, 221)",surfaceVariant:"rgb(66, 73, 64)",onSurfaceVariant:"rgb(194, 201, 189)",outline:"rgb(140, 147, 136)",outlineVariant:"rgb(66, 73, 64)",shadow:"rgb(0, 0, 0)",scrim:"rgb(0, 0, 0)",inverseSurface:"rgb(226, 227, 221)",inverseOnSurface:"rgb(47, 49, 45)",inversePrimary:"rgb(39, 108, 43)",elevation:{level0:"transparent",level1:"rgb(32, 37, 31)",level2:"rgb(35, 43, 34)",level3:"rgb(39, 49, 37)",level4:"rgb(40, 51, 39)",level5:"rgb(42, 54, 41)"},surfaceDisabled:"rgba(226, 227, 221, 0.12)",onSurfaceDisabled:"rgba(226, 227, 221, 0.38)",backdrop:"rgba(44, 50, 42, 0.4)"}}:{colors:{primary:"rgb(39, 108, 43)",onPrimary:"rgb(255, 255, 255)",primaryContainer:"rgb(170, 245, 163)",onPrimaryContainer:"rgb(0, 34, 4)",secondary:"rgb(82, 99, 79)",onSecondary:"rgb(255, 255, 255)",secondaryContainer:"rgb(213, 232, 206)",onSecondaryContainer:"rgb(17, 31, 15)",tertiary:"rgb(56, 101, 106)",onTertiary:"rgb(255, 255, 255)",tertiaryContainer:"rgb(188, 235, 240)",onTertiaryContainer:"rgb(0, 32, 35)",error:"rgb(186, 26, 26)",onError:"rgb(255, 255, 255)",errorContainer:"rgb(255, 218, 214)",onErrorContainer:"rgb(65, 0, 2)",background:"rgb(252, 253, 246)",onBackground:"rgb(26, 28, 25)",surface:"rgb(252, 253, 246)",onSurface:"rgb(26, 28, 25)",surfaceVariant:"rgb(222, 229, 216)",onSurfaceVariant:"rgb(66, 73, 64)",outline:"rgb(114, 121, 111)",outlineVariant:"rgb(194, 201, 189)",shadow:"rgb(0, 0, 0)",scrim:"rgb(0, 0, 0)",inverseSurface:"rgb(47, 49, 45)",inverseOnSurface:"rgb(240, 241, 235)",inversePrimary:"rgb(143, 216, 138)",elevation:{level0:"transparent",level1:"rgb(241, 246, 236)",level2:"rgb(235, 241, 230)",level3:"rgb(229, 237, 224)",level4:"rgb(226, 236, 222)",level5:"rgb(222, 233, 218)"},surfaceDisabled:"rgba(26, 28, 25, 0.12)",onSurfaceDisabled:"rgba(26, 28, 25, 0.38)",backdrop:"rgba(44, 50, 42, 0.4)"}};break;case un.Poison:r=n?{colors:{primary:"rgb(215, 186, 255)",onPrimary:"rgb(67, 0, 136)",primaryContainer:"rgb(96, 0, 190)",onPrimaryContainer:"rgb(237, 220, 255)",secondary:"rgb(206, 194, 219)",onSecondary:"rgb(53, 45, 64)",secondaryContainer:"rgb(76, 67, 87)",onSecondaryContainer:"rgb(235, 221, 247)",tertiary:"rgb(241, 183, 194)",onTertiary:"rgb(75, 37, 46)",tertiaryContainer:"rgb(100, 59, 68)",onTertiaryContainer:"rgb(255, 217, 223)",error:"rgb(255, 180, 171)",onError:"rgb(105, 0, 5)",errorContainer:"rgb(147, 0, 10)",onErrorContainer:"rgb(255, 180, 171)",background:"rgb(29, 27, 30)",onBackground:"rgb(231, 225, 230)",surface:"rgb(29, 27, 30)",onSurface:"rgb(231, 225, 230)",surfaceVariant:"rgb(74, 69, 78)",onSurfaceVariant:"rgb(203, 196, 207)",outline:"rgb(149, 142, 153)",outlineVariant:"rgb(74, 69, 78)",shadow:"rgb(0, 0, 0)",scrim:"rgb(0, 0, 0)",inverseSurface:"rgb(231, 225, 230)",inverseOnSurface:"rgb(50, 47, 51)",inversePrimary:"rgb(126, 23, 239)",elevation:{level0:"transparent",level1:"rgb(38, 35, 41)",level2:"rgb(44, 40, 48)",level3:"rgb(50, 45, 55)",level4:"rgb(51, 46, 57)",level5:"rgb(55, 49, 62)"},surfaceDisabled:"rgba(231, 225, 230, 0.12)",onSurfaceDisabled:"rgba(231, 225, 230, 0.38)",backdrop:"rgba(51, 47, 55, 0.4)"}}:{colors:{primary:"rgb(126, 23, 239)",onPrimary:"rgb(255, 255, 255)",primaryContainer:"rgb(237, 220, 255)",onPrimaryContainer:"rgb(40, 0, 86)",secondary:"rgb(100, 90, 112)",onSecondary:"rgb(255, 255, 255)",secondaryContainer:"rgb(235, 221, 247)",onSecondaryContainer:"rgb(31, 24, 42)",tertiary:"rgb(127, 82, 91)",onTertiary:"rgb(255, 255, 255)",tertiaryContainer:"rgb(255, 217, 223)",onTertiaryContainer:"rgb(50, 16, 25)",error:"rgb(186, 26, 26)",onError:"rgb(255, 255, 255)",errorContainer:"rgb(255, 218, 214)",onErrorContainer:"rgb(65, 0, 2)",background:"rgb(255, 251, 255)",onBackground:"rgb(29, 27, 30)",surface:"rgb(255, 251, 255)",onSurface:"rgb(29, 27, 30)",surfaceVariant:"rgb(232, 224, 235)",onSurfaceVariant:"rgb(74, 69, 78)",outline:"rgb(123, 117, 127)",outlineVariant:"rgb(203, 196, 207)",shadow:"rgb(0, 0, 0)",scrim:"rgb(0, 0, 0)",inverseSurface:"rgb(50, 47, 51)",inverseOnSurface:"rgb(245, 239, 244)",inversePrimary:"rgb(215, 186, 255)",elevation:{level0:"transparent",level1:"rgb(249, 240, 254)",level2:"rgb(245, 233, 254)",level3:"rgb(241, 226, 253)",level4:"rgb(240, 224, 253)",level5:"rgb(237, 219, 253)"},surfaceDisabled:"rgba(29, 27, 30, 0.12)",onSurfaceDisabled:"rgba(29, 27, 30, 0.38)",backdrop:"rgba(51, 47, 55, 0.4)"}};break;case un.Mind:r=n?{colors:{primary:"rgb(0, 221, 221)",onPrimary:"rgb(0, 55, 55)",primaryContainer:"rgb(0, 79, 79)",onPrimaryContainer:"rgb(73, 249, 249)",secondary:"rgb(176, 204, 203)",onSecondary:"rgb(27, 53, 52)",secondaryContainer:"rgb(50, 75, 75)",onSecondaryContainer:"rgb(204, 232, 231)",tertiary:"rgb(179, 200, 232)",onTertiary:"rgb(28, 49, 75)",tertiaryContainer:"rgb(51, 72, 99)",onTertiaryContainer:"rgb(211, 228, 255)",error:"rgb(255, 180, 171)",onError:"rgb(105, 0, 5)",errorContainer:"rgb(147, 0, 10)",onErrorContainer:"rgb(255, 180, 171)",background:"rgb(25, 28, 28)",onBackground:"rgb(224, 227, 226)",surface:"rgb(25, 28, 28)",onSurface:"rgb(224, 227, 226)",surfaceVariant:"rgb(63, 73, 72)",onSurfaceVariant:"rgb(190, 201, 200)",outline:"rgb(136, 147, 146)",outlineVariant:"rgb(63, 73, 72)",shadow:"rgb(0, 0, 0)",scrim:"rgb(0, 0, 0)",inverseSurface:"rgb(224, 227, 226)",inverseOnSurface:"rgb(45, 49, 49)",inversePrimary:"rgb(0, 106, 106)",elevation:{level0:"transparent",level1:"rgb(24, 38, 38)",level2:"rgb(23, 43, 43)",level3:"rgb(22, 49, 49)",level4:"rgb(22, 51, 51)",level5:"rgb(22, 55, 55)"},surfaceDisabled:"rgba(224, 227, 226, 0.12)",onSurfaceDisabled:"rgba(224, 227, 226, 0.38)",backdrop:"rgba(41, 50, 50, 0.4)"}}:{colors:{primary:"rgb(0, 106, 106)",onPrimary:"rgb(255, 255, 255)",primaryContainer:"rgb(73, 249, 249)",onPrimaryContainer:"rgb(0, 32, 32)",secondary:"rgb(74, 99, 99)",onSecondary:"rgb(255, 255, 255)",secondaryContainer:"rgb(204, 232, 231)",onSecondaryContainer:"rgb(5, 31, 31)",tertiary:"rgb(75, 96, 124)",onTertiary:"rgb(255, 255, 255)",tertiaryContainer:"rgb(211, 228, 255)",onTertiaryContainer:"rgb(4, 28, 53)",error:"rgb(186, 26, 26)",onError:"rgb(255, 255, 255)",errorContainer:"rgb(255, 218, 214)",onErrorContainer:"rgb(65, 0, 2)",background:"rgb(250, 253, 252)",onBackground:"rgb(25, 28, 28)",surface:"rgb(250, 253, 252)",onSurface:"rgb(25, 28, 28)",surfaceVariant:"rgb(218, 229, 228)",onSurfaceVariant:"rgb(63, 73, 72)",outline:"rgb(111, 121, 121)",outlineVariant:"rgb(190, 201, 200)",shadow:"rgb(0, 0, 0)",scrim:"rgb(0, 0, 0)",inverseSurface:"rgb(45, 49, 49)",inverseOnSurface:"rgb(239, 241, 240)",inversePrimary:"rgb(0, 221, 221)",elevation:{level0:"transparent",level1:"rgb(238, 246, 245)",level2:"rgb(230, 241, 240)",level3:"rgb(223, 237, 236)",level4:"rgb(220, 235, 235)",level5:"rgb(215, 232, 232)"},surfaceDisabled:"rgba(25, 28, 28, 0.12)",onSurfaceDisabled:"rgba(25, 28, 28, 0.38)",backdrop:"rgba(41, 50, 50, 0.4)"}};break;case un.Life:r=n?{colors:{primary:"rgb(175, 211, 110)",onPrimary:"rgb(36, 54, 0)",primaryContainer:"rgb(54, 78, 0)",onPrimaryContainer:"rgb(202, 239, 135)",secondary:"rgb(193, 202, 171)",onSecondary:"rgb(43, 51, 29)",secondaryContainer:"rgb(66, 74, 50)",onSecondaryContainer:"rgb(221, 230, 198)",tertiary:"rgb(160, 208, 201)",onTertiary:"rgb(1, 55, 51)",tertiaryContainer:"rgb(31, 78, 73)",onTertiaryContainer:"rgb(188, 236, 229)",error:"rgb(255, 180, 171)",onError:"rgb(105, 0, 5)",errorContainer:"rgb(147, 0, 10)",onErrorContainer:"rgb(255, 180, 171)",background:"rgb(27, 28, 23)",onBackground:"rgb(228, 227, 219)",surface:"rgb(27, 28, 23)",onSurface:"rgb(228, 227, 219)",surfaceVariant:"rgb(69, 72, 61)",onSurfaceVariant:"rgb(197, 200, 185)",outline:"rgb(143, 146, 132)",outlineVariant:"rgb(69, 72, 61)",shadow:"rgb(0, 0, 0)",scrim:"rgb(0, 0, 0)",inverseSurface:"rgb(228, 227, 219)",inverseOnSurface:"rgb(48, 49, 44)",inversePrimary:"rgb(74, 103, 11)",elevation:{level0:"transparent",level1:"rgb(34, 37, 27)",level2:"rgb(39, 43, 30)",level3:"rgb(43, 48, 33)",level4:"rgb(45, 50, 33)",level5:"rgb(48, 54, 35)"},surfaceDisabled:"rgba(228, 227, 219, 0.12)",onSurfaceDisabled:"rgba(228, 227, 219, 0.38)",backdrop:"rgba(46, 50, 39, 0.4)"}}:{colors:{primary:"rgb(74, 103, 11)",onPrimary:"rgb(255, 255, 255)",primaryContainer:"rgb(202, 239, 135)",onPrimaryContainer:"rgb(19, 31, 0)",secondary:"rgb(89, 98, 72)",onSecondary:"rgb(255, 255, 255)",secondaryContainer:"rgb(221, 230, 198)",onSecondaryContainer:"rgb(23, 30, 10)",tertiary:"rgb(57, 102, 97)",onTertiary:"rgb(255, 255, 255)",tertiaryContainer:"rgb(188, 236, 229)",onTertiaryContainer:"rgb(0, 32, 29)",error:"rgb(186, 26, 26)",onError:"rgb(255, 255, 255)",errorContainer:"rgb(255, 218, 214)",onErrorContainer:"rgb(65, 0, 2)",background:"rgb(254, 252, 244)",onBackground:"rgb(27, 28, 23)",surface:"rgb(254, 252, 244)",onSurface:"rgb(27, 28, 23)",surfaceVariant:"rgb(226, 228, 212)",onSurfaceVariant:"rgb(69, 72, 61)",outline:"rgb(117, 120, 107)",outlineVariant:"rgb(197, 200, 185)",shadow:"rgb(0, 0, 0)",scrim:"rgb(0, 0, 0)",inverseSurface:"rgb(48, 49, 44)",inverseOnSurface:"rgb(242, 241, 233)",inversePrimary:"rgb(175, 211, 110)",elevation:{level0:"transparent",level1:"rgb(245, 245, 232)",level2:"rgb(240, 240, 225)",level3:"rgb(234, 236, 218)",level4:"rgb(232, 234, 216)",level5:"rgb(229, 231, 211)"},surfaceDisabled:"rgba(27, 28, 23, 0.12)",onSurfaceDisabled:"rgba(27, 28, 23, 0.38)",backdrop:"rgba(47, 50, 39, 0.4)"}};break;case un.Electric:r=n?{colors:{primary:"rgb(248, 189, 42)",onPrimary:"rgb(64, 45, 0)",primaryContainer:"rgb(92, 67, 0)",onPrimaryContainer:"rgb(255, 223, 160)",secondary:"rgb(216, 196, 160)",onSecondary:"rgb(59, 47, 21)",secondaryContainer:"rgb(83, 69, 42)",onSecondaryContainer:"rgb(245, 224, 187)",tertiary:"rgb(177, 207, 169)",onTertiary:"rgb(29, 54, 27)",tertiaryContainer:"rgb(51, 77, 48)",onTertiaryContainer:"rgb(204, 235, 196)",error:"rgb(255, 180, 171)",onError:"rgb(105, 0, 5)",errorContainer:"rgb(147, 0, 10)",onErrorContainer:"rgb(255, 180, 171)",background:"rgb(30, 27, 22)",onBackground:"rgb(233, 225, 216)",surface:"rgb(30, 27, 22)",onSurface:"rgb(233, 225, 216)",surfaceVariant:"rgb(77, 70, 57)",onSurfaceVariant:"rgb(208, 197, 180)",outline:"rgb(153, 143, 128)",outlineVariant:"rgb(77, 70, 57)",shadow:"rgb(0, 0, 0)",scrim:"rgb(0, 0, 0)",inverseSurface:"rgb(233, 225, 216)",inverseOnSurface:"rgb(52, 48, 42)",inversePrimary:"rgb(121, 89, 0)",elevation:{level0:"transparent",level1:"rgb(41, 35, 23)",level2:"rgb(47, 40, 24)",level3:"rgb(54, 45, 24)",level4:"rgb(56, 46, 24)",level5:"rgb(61, 50, 25)"},surfaceDisabled:"rgba(233, 225, 216, 0.12)",onSurfaceDisabled:"rgba(233, 225, 216, 0.38)",backdrop:"rgba(54, 48, 36, 0.4)"}}:{colors:{primary:"rgb(121, 89, 0)",onPrimary:"rgb(255, 255, 255)",primaryContainer:"rgb(255, 223, 160)",onPrimaryContainer:"rgb(38, 26, 0)",secondary:"rgb(107, 92, 63)",onSecondary:"rgb(255, 255, 255)",secondaryContainer:"rgb(245, 224, 187)",onSecondaryContainer:"rgb(36, 26, 4)",tertiary:"rgb(74, 101, 70)",onTertiary:"rgb(255, 255, 255)",tertiaryContainer:"rgb(204, 235, 196)",onTertiaryContainer:"rgb(8, 32, 8)",error:"rgb(186, 26, 26)",onError:"rgb(255, 255, 255)",errorContainer:"rgb(255, 218, 214)",onErrorContainer:"rgb(65, 0, 2)",background:"rgb(255, 251, 255)",onBackground:"rgb(30, 27, 22)",surface:"rgb(255, 251, 255)",onSurface:"rgb(30, 27, 22)",surfaceVariant:"rgb(237, 225, 207)",onSurfaceVariant:"rgb(77, 70, 57)",outline:"rgb(127, 118, 103)",outlineVariant:"rgb(208, 197, 180)",shadow:"rgb(0, 0, 0)",scrim:"rgb(0, 0, 0)",inverseSurface:"rgb(52, 48, 42)",inverseOnSurface:"rgb(248, 239, 231)",inversePrimary:"rgb(248, 189, 42)",elevation:{level0:"transparent",level1:"rgb(248, 243, 242)",level2:"rgb(244, 238, 235)",level3:"rgb(240, 233, 227)",level4:"rgb(239, 232, 224)",level5:"rgb(236, 228, 219)"},surfaceDisabled:"rgba(30, 27, 22, 0.12)",onSurfaceDisabled:"rgba(30, 27, 22, 0.38)",backdrop:"rgba(54, 48, 36, 0.4)"}};break;case un.Time:r=n?{colors:{primary:"rgb(255, 176, 203)",onPrimary:"rgb(100, 0, 55)",primaryContainer:"rgb(141, 0, 80)",onPrimaryContainer:"rgb(255, 217, 228)",secondary:"rgb(226, 189, 200)",onSecondary:"rgb(66, 41, 50)",secondaryContainer:"rgb(90, 63, 72)",onSecondaryContainer:"rgb(255, 217, 228)",tertiary:"rgb(240, 188, 149)",onTertiary:"rgb(72, 41, 13)",tertiaryContainer:"rgb(98, 63, 33)",onTertiaryContainer:"rgb(255, 220, 195)",error:"rgb(255, 180, 171)",onError:"rgb(105, 0, 5)",errorContainer:"rgb(147, 0, 10)",onErrorContainer:"rgb(255, 180, 171)",background:"rgb(32, 26, 28)",onBackground:"rgb(235, 224, 225)",surface:"rgb(32, 26, 28)",onSurface:"rgb(235, 224, 225)",surfaceVariant:"rgb(81, 67, 71)",onSurfaceVariant:"rgb(213, 194, 198)",outline:"rgb(158, 140, 145)",outlineVariant:"rgb(81, 67, 71)",shadow:"rgb(0, 0, 0)",scrim:"rgb(0, 0, 0)",inverseSurface:"rgb(235, 224, 225)",inverseOnSurface:"rgb(53, 47, 48)",inversePrimary:"rgb(183, 7, 106)",elevation:{level0:"transparent",level1:"rgb(43, 34, 37)",level2:"rgb(50, 38, 42)",level3:"rgb(57, 43, 47)",level4:"rgb(59, 44, 49)",level5:"rgb(63, 47, 53)"},surfaceDisabled:"rgba(235, 224, 225, 0.12)",onSurfaceDisabled:"rgba(235, 224, 225, 0.38)",backdrop:"rgba(57, 45, 49, 0.4)"}}:{colors:{primary:"rgb(183, 7, 106)",onPrimary:"rgb(255, 255, 255)",primaryContainer:"rgb(255, 217, 228)",onPrimaryContainer:"rgb(62, 0, 32)",secondary:"rgb(115, 86, 96)",onSecondary:"rgb(255, 255, 255)",secondaryContainer:"rgb(255, 217, 228)",onSecondaryContainer:"rgb(42, 21, 29)",tertiary:"rgb(125, 86, 54)",onTertiary:"rgb(255, 255, 255)",tertiaryContainer:"rgb(255, 220, 195)",onTertiaryContainer:"rgb(47, 21, 0)",error:"rgb(186, 26, 26)",onError:"rgb(255, 255, 255)",errorContainer:"rgb(255, 218, 214)",onErrorContainer:"rgb(65, 0, 2)",background:"rgb(255, 251, 255)",onBackground:"rgb(32, 26, 28)",surface:"rgb(255, 251, 255)",onSurface:"rgb(32, 26, 28)",surfaceVariant:"rgb(242, 221, 226)",onSurfaceVariant:"rgb(81, 67, 71)",outline:"rgb(131, 115, 119)",outlineVariant:"rgb(213, 194, 198)",shadow:"rgb(0, 0, 0)",scrim:"rgb(0, 0, 0)",inverseSurface:"rgb(53, 47, 48)",inverseOnSurface:"rgb(250, 238, 240)",inversePrimary:"rgb(255, 176, 203)",elevation:{level0:"transparent",level1:"rgb(251, 239, 248)",level2:"rgb(249, 232, 243)",level3:"rgb(247, 224, 239)",level4:"rgb(246, 222, 237)",level5:"rgb(245, 217, 234)"},surfaceDisabled:"rgba(32, 26, 28, 0.12)",onSurfaceDisabled:"rgba(32, 26, 28, 0.38)",backdrop:"rgba(57, 45, 49, 0.4)"}};break;case un.Space:r=n?{colors:{primary:"rgb(181, 196, 255)",onPrimary:"rgb(0, 40, 124)",primaryContainer:"rgb(27, 63, 157)",onPrimaryContainer:"rgb(220, 225, 255)",secondary:"rgb(193, 197, 221)",onSecondary:"rgb(43, 48, 66)",secondaryContainer:"rgb(65, 70, 89)",onSecondaryContainer:"rgb(222, 225, 249)",tertiary:"rgb(227, 186, 219)",onTertiary:"rgb(67, 39, 64)",tertiaryContainer:"rgb(91, 61, 87)",onTertiaryContainer:"rgb(255, 215, 246)",error:"rgb(255, 180, 171)",onError:"rgb(105, 0, 5)",errorContainer:"rgb(147, 0, 10)",onErrorContainer:"rgb(255, 180, 171)",background:"rgb(27, 27, 31)",onBackground:"rgb(228, 226, 230)",surface:"rgb(27, 27, 31)",onSurface:"rgb(228, 226, 230)",surfaceVariant:"rgb(69, 70, 79)",onSurfaceVariant:"rgb(198, 198, 208)",outline:"rgb(143, 144, 154)",outlineVariant:"rgb(69, 70, 79)",shadow:"rgb(0, 0, 0)",scrim:"rgb(0, 0, 0)",inverseSurface:"rgb(228, 226, 230)",inverseOnSurface:"rgb(48, 48, 52)",inversePrimary:"rgb(56, 88, 182)",elevation:{level0:"transparent",level1:"rgb(35, 35, 42)",level2:"rgb(39, 41, 49)",level3:"rgb(44, 46, 56)",level4:"rgb(46, 47, 58)",level5:"rgb(49, 51, 62)"},surfaceDisabled:"rgba(228, 226, 230, 0.12)",onSurfaceDisabled:"rgba(228, 226, 230, 0.38)",backdrop:"rgba(47, 48, 56, 0.4)"}}:{colors:{primary:"rgb(56, 88, 182)",onPrimary:"rgb(255, 255, 255)",primaryContainer:"rgb(220, 225, 255)",onPrimaryContainer:"rgb(0, 22, 78)",secondary:"rgb(89, 94, 114)",onSecondary:"rgb(255, 255, 255)",secondaryContainer:"rgb(222, 225, 249)",onSecondaryContainer:"rgb(22, 27, 44)",tertiary:"rgb(116, 84, 112)",onTertiary:"rgb(255, 255, 255)",tertiaryContainer:"rgb(255, 215, 246)",onTertiaryContainer:"rgb(44, 18, 42)",error:"rgb(186, 26, 26)",onError:"rgb(255, 255, 255)",errorContainer:"rgb(255, 218, 214)",onErrorContainer:"rgb(65, 0, 2)",background:"rgb(254, 251, 255)",onBackground:"rgb(27, 27, 31)",surface:"rgb(254, 251, 255)",onSurface:"rgb(27, 27, 31)",surfaceVariant:"rgb(226, 225, 236)",onSurfaceVariant:"rgb(69, 70, 79)",outline:"rgb(118, 118, 128)",outlineVariant:"rgb(198, 198, 208)",shadow:"rgb(0, 0, 0)",scrim:"rgb(0, 0, 0)",inverseSurface:"rgb(48, 48, 52)",inverseOnSurface:"rgb(242, 240, 244)",inversePrimary:"rgb(181, 196, 255)",elevation:{level0:"transparent",level1:"rgb(244, 243, 251)",level2:"rgb(238, 238, 249)",level3:"rgb(232, 233, 247)",level4:"rgb(230, 231, 246)",level5:"rgb(226, 228, 245)"},surfaceDisabled:"rgba(27, 27, 31, 0.12)",onSurfaceDisabled:"rgba(27, 27, 31, 0.38)",backdrop:"rgba(46, 48, 56, 0.4)"}};break;case un.Death:var a=X(e(un.Poison,n));for(var i of n?rr:nr)a.colors[i]=er(a.colors[i],n);for(var o of ar)a.colors[o]=W()(a.colors[o]).grayscale().hexa();r=a;break;case un.Holy:var u=X(e(un.Electric,n));for(var l of n?rr:nr)u.colors[l]=tr(u.colors[l],n);for(var s of ar)u.colors[s]=W()(u.colors[s]).grayscale().hexa();r=u}var c=n?G.MD3DarkTheme:J.MD3LightTheme;return $n($n({},c),{},{colors:$n($n($n({},c.colors),r.colors),{},{error:"rgb(246, 26, 26)",hpBarForeground:n?"rgb(226, 0, 0)":"rgb(255, 36, 36)",hpBarBackground:n?"rgb(100, 0, 0)":"rgb(120, 0, 0)",background:n?W()(r.colors.background).darken(.5).hexa():r.colors.background}),fonts:$n($n({},c.fonts),{},{labelSmall:$n($n({},c.fonts.labelSmall),{},{letterSpacing:0}),labelMedium:$n($n({},c.fonts.labelMedium),{},{letterSpacing:0}),bodySmall:$n($n({},c.fonts.bodySmall),{},{letterSpacing:0}),bodyMedium:$n($n({},c.fonts.bodyMedium),{},{letterSpacing:0})}),roundness:2})})),or=(0,q.default)((function(e,t){var n=X(e);return n.colors.onError=t,n})),ur=n(94214),lr=n(13324),sr=n.n(lr),cr=n(71289),fr=n.n(cr),dr=n(3477),gr=new Qe,hr=new Qe;function mr(e){return gr.getAll().filter((function(t){return t.isUnlocked(e)}))}function yr(e,t){return Ve(e,("string"===typeof t?t:t.getId())+"_dungeon_floor_completed")}function pr(e,t){return tt(e,("string"===typeof t?t:t.getId())+"_dungeon_floor_completed")}function vr(e,t){return(e=qe(t+"_dungeon_floor_completed")(e)).run.lastDungeonFloorCompleted=t,et(t+"_dungeon_floor_completed")(e)}function Ar(e){var t=function(e){var t=mr(e).map((function(t){return t.getDungeonFloors().filter((function(t){return t.isUnlocked(e)&&t.isMainStoryDungeonFloor()}))})).flat();return Math.max.apply(Math,(0,h.default)(t.map((function(e){var t;return null!=(t=e.getMinimumMPLRecommendation())?t:0}))))}(e);return Fn(e)<t}function br(e){var t=function(e){var t=mr(e).map((function(t){return t.getDungeonFloors().filter((function(t){return t.isUnlocked(e)&&t.isMainStoryDungeonFloor()}))})).flat();return Math.max.apply(Math,(0,h.default)(t.map((function(e){var t;return null!=(t=e.getMaximumMPLRecommendation())?t:1/0}))))}(e);return Fn(e)>t}var kr=function(e){return e.HIDDEN="HIDDEN",e.LOCKED="LOCKED",e.UNLOCKED="UNLOCKED",e.HINT_REVEALED="HINT_REVEALED",e.COMPLETED="COMPLETED",e.BONUS_ACTIVE="BONUS_ACTIVE",e}({}),xr=[kr.LOCKED,kr.UNLOCKED,kr.HINT_REVEALED,kr.COMPLETED,kr.BONUS_ACTIVE];function wr(e){switch(e){case kr.HIDDEN:return ae("Hidden");case kr.LOCKED:return ae("Undiscovered");case kr.UNLOCKED:return ae("Discoverable");case kr.HINT_REVEALED:return ae("Hint Available");case kr.COMPLETED:return ae("Completed");case kr.BONUS_ACTIVE:return ae("Bonus Active")}}var Er=function(){function e(t,n,r,a,i,o,u,l){(0,Le.default)(this,e),this.id=t,this.name=n,this.order=r,this.mindRequirementForHint=a,this.hintDescription="string"===typeof i?function(e){return i}:i,this.getBonusDescription="string"===typeof o?function(e){return o}:o,this.isHintUnlockable=u,this.isHidden=null!=l?l:function(e){return!1}}return(0,He.default)(e,[{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getCompletedFlag",value:function(){return"storyline_"+this.getId()+"_completed"}},{key:"isCompleted",value:function(e){return tt(e,"storyline_"+this.getId()+"_completed")}},{key:"isCompletedThisRun",value:function(e){return Ve(e,"storyline_"+this.getId()+"_completed")}},{key:"isBonusActive",value:function(e){return tt(e,"storyline_"+this.getId()+"_bonus_active")}},{key:"isHintRevealed",value:function(e){return tt(e,"storyline_"+this.getId()+"_hint_revealed")}},{key:"complete",value:function(e){return e=qe("storyline_"+this.getId()+"_completed")(e),et("storyline_"+this.getId()+"_completed")(e)}},{key:"activateBonus",value:function(e){return e=qe("storyline_"+this.getId()+"_bonus_active")(e),et("storyline_"+this.getId()+"_bonus_active")(e)}},{key:"revealHint",value:function(e){return e=qe("storyline_"+this.getId()+"_hint_revealed")(e),et("storyline_"+this.getId()+"_hint_revealed")(e)}},{key:"shouldRevealHint",value:function(e){return!this.isHintRevealed(e)&&this.isHintUnlockable(e)&&tt(e,"storyline_diviningTheWorld_bonus_active")&&Rn(e).includes(un.Mind)&&xn(e,un.Mind)>=this.mindRequirementForHint}},{key:"getStatus",value:function(e){return this.isHidden(e)?kr.HIDDEN:this.isBonusActive(e)?kr.BONUS_ACTIVE:this.isCompleted(e)?kr.COMPLETED:this.isHintRevealed(e)?kr.HINT_REVEALED:this.isHintUnlockable(e)?kr.UNLOCKED:kr.LOCKED}}]),e}(),Cr=new Er("schematics",ae("Schematics"),425,25,ae('Defeat at least 15 enemies in the Exploration area "Temple of Life"'),ae("Unlock item quality feature (combine items)"),(function(e){return pr(e,"templeOfLife")})),Ir=function(e){return e.ChannelingUnlocked="ChannelingUnlocked",e.ManaSpoutsUnlocked="ManaSpoutsUnlocked",e.ManaShardsUnlocked="ManaShardsUnlocked",e.StoragesUnlocked="StoragesUnlocked",e.CatalystsUnlocked="CatalystsUnlocked",e.StudyUnlocked="StudyUnlocked",e.TransmutationUnlocked="TransmutationUnlocked",e.WizardsUnlocked="WizardsUnlocked",e.SaleStallsUnlocked="SaleStallsUnlocked",e.ResearchersUnlocked="ResearchersUnlocked",e.LandPurchaseUnlocked="LandPurchaseUnlocked",e.ExplorationUnlocked="ExplorationUnlocked",e.RestOfTrainingUnlocked="RestOfTrainingUnlocked",e.EnhancementsUnlocked="EnhancementsUnlocked",e.SewersUnlocked="SewersUnlocked",e.MonstruariumsUnlocked="MonstruariumsUnlocked",e.SynchroUnlocked="SynchroUnlocked",e.VastDesertUnlocked="VastDesertUnlocked",e.ManaClustersUnlocked="ManaClustersUnlocked",e.DeepCavernsUnlocked="LifeCavernsUnlocked",e.FamiliarsUnlocked="FamiliarsUnlocked",e.ResearcherCooperation="ResearcherCooperation",e.LostForestUnlocked="LostForestUnlocked",e.MountainPassUnlocked="MountainPassUnlocked",e.TheSchoolUnlocked="TheSchoolUnlocked",e.SchoolGroundsFirstBossDefeated="SchoolGroundsFirstBossDefeated",e.AberrantRealmUnlocked="AberrantRealmUnlocked",e.HeadmasterFollowing="HeadmasterFollowing",e.MagicalResearchCardObtained="MagicalResearchCardObtained",e.FortressUnlocked="FortressUnlocked",e.DragonShrineUnlocked="DragonShrineUnlocked",e.SecretPrisonUnlocked="SecretPrisonUnlocked",e.SecretPrisonFirstBossDefeated="SecretPrisonFirstBossDefeated",e.PlainsUnlocked="PlainsUnlocked",e.DivineScriptReceived="DivineScriptReceived",e.HiredWizardConsumedStone="HiredWizardConsumedStone",e.DeflectiveShieldCreated="DeflectiveShieldCreated",e.CrossroadsOfWorldsUnlocked="CrossroadsOfWorldsUnlocked",e.SomeonesTrashTreasureGranted="SomeonesTrashTreasureGranted",e.AncientPowerStorylineFinished="AncientPowerStorylineFinished",e.SphinxUnlocked="SphinxUnlocked",e.WizardsConditionsUnlocked="WizardsConditionsUnlocked",e.HeadInstructorDefeated="HeadInstructorDefeated",e.MasteryDungeonUnlocked="MasteryDungeonUnlocked",e.ItemQualityCombinationUnlocked="ItemQualityCombinationUnlocked",e.SewageSystemMakesAll="SewageSystemMakesAll",e.AutoPurchaseUnlocked="AutoPurchaseUnlocked",e.PermaCastUnlocked="PermaCastUnlocked",e.RitualsUnlocked="RitualsUnlocked",e.ChallengesUnlocked="ChallengesUnlocked",e.AssignedWizard="AssignedWizard",e.Ending2CompletedFirstTime="Ending2CompletedFirstTime",e.Ending3CompletedFirstTime="Ending3CompletedFirstTime",e.UniversalChallengeLastStretch="UniversalChallengeLastStretch",e.UniversalChallengeCompletedFirstTime="UniversalChallengeCompletedFirstTime",e.CreatorPath="CreatorPath",e.EverUsedSynchro="EverUsedSynchro",e.SpellcraftUnlocked="SpellcraftUnlocked",e}({}),Br=new Qe;function Sr(e){return Cr.isBonusActive(e)}function Rr(e){var t;do{t=!1;var n=e.run.inventory;for(var r of n){var a=Br.getById(r.itemOccurrence.itemId).getCombineActions(e,r.itemOccurrence.params);if(a.length>0){var i=a[a.length-1];if(i.isEnabled){e=i.transform(e),t=!0;break}}}}while(t);return e}function Pr(e){var t=e.run.inventory,n=!1;do{n=!1;var r=function(t){var r=Br.getById(t.itemOccurrence.itemId);if(e.run.inventory.filter((function(e){var n,a,i,o;return e.itemOccurrence.itemId==r.getId()&&(null!=(n=null==(a=e.itemOccurrence.params)?void 0:a.itemQuality)?n:0)>(null!=(i=null==(o=t.itemOccurrence.params)?void 0:o.itemQuality)?i:0)})).length>0){var a=r.getSaleActions(e,t.itemOccurrence.params),i=a[a.length-1];if(null!=i&&i.isEnabled)return e=i.transform(e),n=!0,"break"}};for(var a of t){if("break"===r(a))break}}while(n);return e}function Tr(e,t){var n=JSON.stringify(e.params);return t.run.inventory.findIndex((function(t){return t.itemOccurrence.itemId==e.itemId&&n==JSON.stringify(t.itemOccurrence.params)}))}function jr(e,t){return(null==e?void 0:e.itemId)==(null==t?void 0:t.itemId)&&JSON.stringify(null==e?void 0:e.params)==JSON.stringify(null==t?void 0:t.params)}function Mr(e,t){var n=Tr(t,e);return-1===n?null:e.run.inventory[n]}var Dr=new Qe;function Or(e,t,n){n.world.itemsEverAddedToInventory[e.itemId]||(n.world.itemsEverAddedToInventory[e.itemId]=!0,Dr.getAll().forEach((function(e){n=e(n)})));var r=Tr(e,n);return r>=0?(n.run.inventory[r]={itemOccurrence:e,amount:n.run.inventory[r].amount+t},n):(n.run.inventory.push({itemOccurrence:e,amount:t}),n)}function Nr(e,t,n){var r=Tr(e,n);if(r<0)return n;var a=n.run.inventory[r].amount-t;return a>0?n.run.inventory[r]={itemOccurrence:e,amount:a}:n.run.inventory.splice(r,1),n}function Ur(e,t){var n=Tr(e,t);return-1===n?0:t.run.inventory[n].amount}function Fr(e,t){return t.run.inventory.filter((function(t){return t.itemOccurrence.itemId==e.getId()})).reduce((function(e,t){return e+t.amount}),0)}function Lr(e,t,n){var r=n.run.inventory;for(n.run.inventory=X(n.run.inventory);t>0;){var a=n.run.inventory,i=a.findIndex((function(t){return t.itemOccurrence.itemId==e.getId()}));if(i<0)return n.run.inventory=r,n;var o=a[i].amount;n=Nr(a[i].itemOccurrence,Math.min(o,t),n),t-=o}return n}var Hr=n(79773),Yr=n.n(Hr),Qr=function(e){return e.Player="Player",e.Enemy="Enemy",e.Familiar="Familiar",e}({});function zr(e){switch(e){case Qr.Player:return ae("Player");case Qr.Enemy:return ae("Enemy");case Qr.Familiar:return ae("Familiar")}}var Vr=function(e){return e.MaxHP="MaxHP",e.Attack="Attack",e.AttackDelay="AttackDelay",e.Defense="Defense",e.HPRegen="HPRegen",e.Dodge="Dodge",e.Accuracy="Accuracy",e.Crit="Crit",e}({}),Wr={MaxHP:60,Attack:5,Defense:0,AttackDelay:2,HPRegen:.0033,Dodge:100,Accuracy:100,Crit:0};function Gr(e){return ta(e,Vr.MaxHP)}function Jr(e){return ta(e,Vr.Attack)}function qr(e){return ta(e,Vr.AttackDelay)}function Xr(e){return ta(e,Vr.Defense)}function Kr(e){return ta(e,Vr.HPRegen)}function Zr(e){return ta(e,Vr.Dodge)}function _r(e){return ta(e,Vr.Accuracy)}function $r(e){return ta(e,Vr.Crit)}var ea=(0,q.default)((function(e){return[Qr.Player,e]}));function ta(e,t){return na(e,Qr.Player,t,(function(e){return It(ea(t),e,Wr[t])}))}function na(e,t,n,r,a,i){if(t==Qr.Familiar){null==e.temp.combatStatCache[t][n]&&(e.temp.combatStatCache[t][n]={});var o=e.temp.combatStatCache[t][n][a];return null!=o&&o.level==i||(o={value:r(e),level:i},e.temp.combatStatCache[t][n][a]=o),o.value}var u=e.temp.combatStatCache[t][n];return null==u&&(u=r(e),e.temp.combatStatCache[t][n]=u),u}function ra(e,t,n){if(null!=t)if(null!=n)delete e.temp.combatStatCache[t][n];else for(var r of _(Vr))e=ra(e,t,r);else for(var a of _(Qr))e=ra(e,a,n);return e}function aa(e,t,n){return Mt(ea(t),e,Wr[t],n)}xt([[Qr.Player,Vr.MaxHP],[Qr.Player,Vr.HPRegen]],"DebugInvincibility",ae("Debug invincibility"),At.Addition,(function(e){return Ve(e,"debug_invincibility")?99999999:0})),xt([[Qr.Player,Vr.Attack]],"DebugInsvincibility",ae("Debug invincibility attack"),At.Addition,(function(e){return Ve(e,"debug_invincibility")?99999999999:0}));var ia=function(){function e(t,n){(0,Le.default)(this,e),this.id=t,this.listener=n}return(0,He.default)(e,[{key:"getId",value:function(){return this.id}},{key:"getListener",value:function(){return this.listener}}]),e}(),oa=new Qe,ua=(function(){function e(t,n){(0,Le.default)(this,e),this.id=t,this.listener=n}(0,He.default)(e,[{key:"getId",value:function(){return this.id}},{key:"getListener",value:function(){return this.listener}}])}(),new Qe),la={};function sa(){return new Promise((function(e,t){requestAnimationFrame((function(){e(null)}))}))}function ca(e,t,n){la[e]={listener:t,priority:null!=n?n:0}}var fa=(0,q.default)((function(){return Z(la).sort((function(e,t){return la[e].priority-la[t].priority})).map((function(e){return la[e].listener}))})),da=[pt.GameSpeed];function ga(e,t){return function(n){var r=It(da,n,1,{isWarp:t}),a=e*r;return fa().forEach((function(e){n=e(n,a,t)})),n}}var ha={secsPerTick:.25},ma=ha;function ya(){return ya=(0,d.default)((function*(e,t,n,r){var a=e;a.run.lastProcessedTime=n,oa.getAll().forEach((function(e){var n=e.getListener()(t);n&&(a=n(a))})),r(a)})),ya.apply(this,arguments)}function pa(){return pa=(0,d.default)((function*(e,t,n,r){ma=ha;var a=e.run.warpTimeSecs,i=0,o=e;n(i,a);for(var u=0;i<a;){var l=It(da,o,1,{isWarp:!0}),s=ma.secsPerTick/Math.min(5,l),c=Math.min(s,a-i);o=yt(o,ga(c,!0)),i+=c,((u+=1)-1)%100==0&&(n(i,a),yield sa())}o.run.lastProcessedTime=t(),o.run.warpTimeSecs=0,ua.getAll().forEach((function(e){var t=e.getListener()(a);t&&(o=t(o))})),r(o),n(a,a)})),pa.apply(this,arguments)}function va(e){return e.global.secondsPlayed||0}function Aa(e){return e.run.secondsPlayed||0}var ba=new Qe;function ka(e,t){return Pe(e,"visibleActionsBySubcategory"+t,(function(e){var n=xa[t];return ee((t==_t.HOME&&e.options.hideChannelingSpellsOnHome?Z(n).filter((function(e){return e!=$t.CHANNELING})):Z(n)).map((function(t){return[t,n[t].filter((function(t){return t.isVisible(e)}))]})))}))}var xa={HOME:{},SPELL_MENU:{},STUDY:{},TRANSMUTE:{},EXPLORATION:{},ENHANCEMENT:{},BOOST:{},FAMILIARS:{}};function wa(e){if(null==ba.getByIdNullable(e.getId())){ba.register(e);var t=e.getAreas();for(var n of Z(t)){var r=t[n];for(var a of r)null==xa[n][a]&&(xa[n][a]=[]),xa[n][a].push(e)}}}function Ea(e){return Ve(e,Ir.AutoPurchaseUnlocked)}var Ca=(0,q.default)((function(){return ba.getAll().filter((function(e){return e.canAutoPurchaseMax()}))}));var Ia=new Qe;function Ba(e){Ia.register(e),wa(e)}function Sa(e,t){return Me(e,(function(e){return"spellByElement:"+(null!=t?t:"undefined")}),(function(e){var n=ee($(un).map((function(e){return[e,[]]}))),r=Rn(e);for(var a of Ia.getAll()){var i;if((null==t||null!=(null==(i=a.getAreas())?void 0:i[t]))&&a.isVisible(e)){var o=a.getLevelRequirements();for(var u in o)r.includes(u)&&(void 0===(null==n?void 0:n[u])&&(n[u]=[]),n[u].push(a))}}var l=function(e){0===n[e].length?delete n[e]:n[e].sort((function(t,n){return(n.getLevelRequirements()[e]||0)-(t.getLevelRequirements()[e]||0)}))};for(var s of Z(n))l(s);return n}))}function Ra(e,t,n,r){var a,i;if(!r)return(null==(i=Sa(e,n))?void 0:i[t])||[];var o=Se(e);return o.run.elementExperience[t]=bn(o,xn(e,t)+r,t),(null==(a=Sa(o,n))?void 0:a[t])||[]}function Pa(e,t){return t.run.lastSpellCastTimes[e.getId()]=Aa(t),t}function Ta(e){var t,n,r;return null!=(t=null==(n=e.run)||null==(r=n.favoriteSpells)?void 0:r.map((function(e){return Ia.getById(e)})))?t:[]}function ja(e,t){var n=e.run.favoriteSpells.findIndex((function(e){return t.getId()===e}));return n<0||e.run.favoriteSpells.splice(n,1),e}function Ma(e,t){return e.run.favoriteSpells.findIndex((function(e){return t.getId()===e}))>=0}function Da(e,t){var n=t.isEmpowered(e);return e.run.empoweredSpells[t.getId()]=!n,e.temp.spellManaCostCache={},e.temp.spellExpCache={},e=Na(e)}var Oa=[];function Na(e){for(var t of Oa)e=t(e);return e}function Ua(e){return e.temp.autocastPointsRequirementCache={},Na(e)}function Fa(e){return e.temp.spellManaCostCache={},e.temp.spellExpCache={},Na(e)}function La(e){return Na(e=Tt(new Set([pt.CanCastSpell]),e))}function Ha(e){return Na(e=Tt(new Set([pt.SpellCooldown]),e))}function Ya(e){return e=function(e){var t=function(t){t.startsWith("minAutocastDelayDuration")&&(e=De(e,(function(){return t})))};for(var n of e.temp.cache.keys())t(n);return Na(e)}(e=on(e=Ua(e=Fa(e=La(e=Ha(e))))))}function Qa(e,t,n){xt([[e.getId()].concat((0,h.default)(t))],e.getId()+"empowered"+t.join(),ae("Spell Empowering"),At.Multiplier,(function(t){return e.isEmpowered(t)?n:1}))}function za(e,t,n){Qa(e,[pt.ActionEffect],t),Qa(e,[pt.Cost,Dt.Mana],n)}function Va(e,t,n){Qa(e,[pt.TemporaryEffectMagnitude],t),Qa(e,[pt.Cost,Dt.Mana],n)}function Wa(e){switch(e){case ve.OFF:return ae("Off");case ve.SPREAD_EVENLY:return ae("Spread evenly");case ve.HIGHEST_AMOUNT:return ae("Most researchers");case ve.SPREAD_THEN_HIGHEST:return ae("Spread, then most researchers")}}function Ga(e){var t=Rn(e),n=e.options.researcherAutoAssignStrategy;if(n==ve.SPREAD_THEN_HIGHEST)for(var r of t){if(0==e.run.studyAllocation[r]&&xn(e,r)<mn(e))return r}if(n==ve.SPREAD_THEN_HIGHEST||n==ve.HIGHEST_AMOUNT){var a=null,i=0;for(var o of t){var u=e.run.studyAllocation[o];u>i&&xn(e,o)<mn(e)?(a=o,i=u):u==i&&Bn(e).includes(o)&&xn(e,o)<mn(e)&&(a=o)}return a}if(n==ve.SPREAD_EVENLY){var l=null,s=1e99;for(var c of t){var f=e.run.studyAllocation[c];f<s&&xn(e,c)<mn(e)?(l=c,s=f):f==s&&Bn(e).includes(c)&&xn(e,c)<mn(e)&&(l=c)}return l}}function Ja(e,t){var n=Ka(e);for(var r in n){var a;e=En(r,(null!=(a=null==n?void 0:n[r])?a:0)*t)(e)}return e}var qa=2,Xa=ee(_(un).map((function(e){return[e,[e,pt.ExpGain,pt.Study]]})));function Ka(e){var t=e.temp.researchPerSecCache;if(null==t){var n=e.run.studyAllocation,r={};for(var a of Z(n)){var i=n[a]||0;if(i>0){var o=It(Xa[a],e,qa,{fromResearch:!0});r[a]=o*i}}t=r,e.temp.researchPerSecCache=t}return t}function Za(e){return e.temp.researchPerSecCache=void 0,e}var _a=[pt.ExpGain,pt.Study];function $a(e){return It(_a,e,qa)}var ei=[pt.ResearcherAmount];function ti(e){return It(ei,e,1)}function ni(e){var t=e.run.studyAllocation,n=0;for(var r of Z(t))n+=t[r]||0;return ti(e)-n}function ri(e,t,n){var r=n.run.studyAllocation[e]||0,a=t>0?Math.min(ni(n),t):Math.max(-r,t);return n.run.studyAllocation[e]=r+a,t<0&&(n.options.researcherAutoAssignStrategy=ve.OFF),n=Za(n)}function ai(e,t){return ri.bind(this,e,t)}function ii(e){return Ve(e,Ir.StudyUnlocked)}var oi=function(){function e(t,n,r){(0,Le.default)(this,e),this.id=t,this.displayName=n,this.calculator=r}return(0,He.default)(e,[{key:"getId",value:function(){return this.id}},{key:"getDisplayName",value:function(){return this.displayName}},{key:"getCalculator",value:function(){return this.calculator}}]),e}(),ui=new Qe;function li(e,t,n){var r=e.temp.incomeOverTimeCache[t];return n||null==r&&(r=ui.getById(t).getCalculator()(e),e.temp.incomeOverTimeCache[t]=r),r}function si(e){return e.temp.incomeOverTimeCache={},e}function ci(e,t){return Re(e,"incomePerSec",(function(e){return ui.getAll().map((function(n){return{income:li(e,n.getId(),t),displayName:n.getDisplayName()}}))}),t)}var fi=(0,q.default)((function(e){return[pt.FinalIncomePerSec,e]}));function di(e){return Re(e,"incomePerSecondDisplay",(function(e){var t={},n=ci(e,!0);for(var r in n.forEach((function(n){var r=!0;for(var a in n.income){var i,o=a,u=.5*(null!=(i=n.income[o])?i:0);u<0&&zt(e,o)<-u&&(r=!1)}for(var l in n.income){var s,c,f,d,g,h=l,m=null!=(s=null==t?void 0:t[h])?s:0;if(r||(null!=(c=null==(f=n.income)?void 0:f[h])?c:0)<0)t[h]=m+(null!=(d=null==(g=n.income)?void 0:g[h])?d:0)}})),t){var a;t[r]=It(fi(r),e,null!=(a=t[r])?a:0)}return t}))}function gi(e){var t=function(e){var t={};return ci(e,!0).forEach((function(n){var r=!0,a=!1;for(var i in n.income){var o,u=i,l=.5*(null!=(o=n.income[u])?o:0);l<0&&zt(e,u)<-l&&(r=!1),0!=l&&(a=!0)}if(a)for(var s in n.income){var c,f,d,g,h=s,m=null!=(c=null==t?void 0:t[h])?c:[];(r||(null!=(f=null==(d=n.income)?void 0:d[h])?f:0)<0)&&m.push({income:null==(g=n.income)?void 0:g[h],displayName:n.displayName}),t[h]=m}})),t}(e);var n={};for(var r in t){var a,i=t[r].map((function(e){return ae("{{amount}}/s ({{description}})",{amount:(t=e).income>0?"+"+ue(t.income):ue(t.income),description:t.displayName});var t})).join(ae(", ")),o=Mt(fi(r),e,null!=(a=n[r])?a:0);n[r]=""!=o?ae("{{valuesText}}; and further changed by: {{postTransformationExplanation}}",{valuesText:i,postTransformationExplanation:o}):i}return n}ca("IncomeOverTime",(function(e,t){if(t<=0)return e;var n=ci(e,!1),r={};for(var a of n){var i=!0;for(var o in a.income){var u,l=o,s=(null!=(u=a.income[l])?u:0)*t;s<0&&zt(e,l)<-s&&(i=!1)}if(i)for(var c in a.income){var f,d,g=c,h=(null!=(f=a.income[g])?f:0)*t;r[g]=(null!=(d=null==r?void 0:r[g])?d:0)+h}}for(var m in r){var y;r[m]=It(fi(m),e,(null!=(y=r[m])?y:0)/t)*t}for(var p in r){var v,A;if(0!=(null!=(v=null==r?void 0:r[p])?v:0))e=Wt(p,null!=(A=null==r?void 0:r[p])?A:0)(e)}return e}),10);var hi=function(e){return e.Hand="Hand",e.Body="Body",e.Accessory="Accessory",e.Pouch="Pouch",e}({});var mi=[pt.PouchSize],yi=[pt.AccessorySize];function pi(e,t){return t==hi.Pouch?Rt(mi,e,4):t==hi.Accessory?Rt(yi,e,1):1}function vi(e,t,n){return!(wi(e,t).length<=n)}function Ai(e,t,n){return!(Ur(n,e)<=0)&&0!=pi(e,t)}var bi=new Qe;function ki(e,t,n,r,a){if(!Ai(e,t,n))return e;var i=Br.getById(n.itemId).getExtraSlots(),o=pi(e,t),u=wi(e,t),l=Ei(e,t,r);if(null==r){for(var s=!1,c=null!=l&&o>1?1:0;c<o;c++)if(null==(null==u?void 0:u[c])){r=c,s=!0;break}s||(r=null!=l&&o>1&&t!=hi.Pouch?1:0)}if(t!=hi.Pouch)for(var f=0;f<o;f++)if(null!=(null==u?void 0:u[f])&&u[f].itemId==n.itemId){r=f;break}for(var d of(e=Ci(t,r,a,e),i))e=Ci(d,0,a,e);return u[r]=n,e.run.equipment[t]=u,e=Nr(n,1,e),t==hi.Pouch&&(e.run.exploration.pouchItemsUsesLeft[r]=0),a||(e=Si(e,e.run.lastEquipmentLoadoutModified)),e=Ya(e=Za(e=si(e=Yt(e=ra(e))))),bi.getAll().forEach((function(t){e=t(e)})),e}function xi(e,t,n){var r,a=null==(r=e.run.equipment)?void 0:r[t];return null==a?void 0:a[null!=n?n:0]}function wi(e,t){var n,r;return null!=(n=null==(r=e.run.equipment)?void 0:r[t])?n:[]}function Ei(e,t,n){var r=xi(e,t,n);if(r||(null!=n?n:0)>0)return r;for(var a of _(hi))for(var i=pi(e,t),o=0;o<i;o++){var u=xi(e,a,o);if(u)if(Br.getById(u.itemId).getExtraSlots().includes(t))return u}}function Ci(e,t,n,r){var a=xi(r,e,t);if(!a&&!(a=Ei(r,e,t)))return r;var i=Br.getById(a.itemId);return e==hi.Pouch&&(r=i.doCleanup(r,a.params)),(r=Or(a,1,r)).run.equipment[i.getSlot()][t]=null,n||(r=Si(r,r.run.lastEquipmentLoadoutModified)),r=Ya(r=Za(r=si(r=Yt(r=ra(r))))),bi.getAll().forEach((function(e){r=e(r)})),r}function Ii(e,t,n){return Yr()(Ci,this,e,t,n)}function Bi(e,t,n){return{id:"unequip"+t+n,description:ae("Unequip"),isEnabled:vi(e,t,n),transform:Ii(t,n)}}function Si(e,t,n){var r=JSON.parse(JSON.stringify(e.run.equipment));return e.run.equipmentLoadouts[t]={name:null!=n?n:ae("Slot {{position}}",{position:t+1}),equipment:r},e.run.lastEquipmentLoadoutModified=t,e}var Ri=(0,dr.promisify)(fr().gzip),Pi=(0,dr.promisify)(fr().gunzip);function Ti(){return(Ti=(0,d.default)((function*(){var e=yield p.default.getItem("MR2.GameState");return null!==e?Oi(JSON.parse(e)):X(Ie)}))).apply(this,arguments)}function ji(){return(ji=(0,d.default)((function*(e){var t=Math.max(Number.parseFloat((yield p.default.getItem("MR2.LastSaveSecondsPlayed"))||"0"),0);if(!(Math.max(va(e),0)>=t))throw new Error("Not saving!!");yield Mi(e)}))).apply(this,arguments)}function Mi(e){return Di.apply(this,arguments)}function Di(){return(Di=(0,d.default)((function*(e){var t=e.temp;e.temp={};var n=JSON.stringify(e);e.temp=t,yield p.default.setItem("MR2.LastSaveSecondsPlayed",Math.max(va(e),0).toString()),yield p.default.setItem("MR2.GameState",n)}))).apply(this,arguments)}function Oi(e){for(var t of(null==e.global.autocast&&(e.global.autocast=be,e.global.autocast.currentStrategy=X(e.run.autocast.strategies[e.run.autocast.currentStrategyIndex]),delete e.run.autocast.strategies,delete e.run.autocast.currentStrategyIndex),e.global.autocast.currentStrategy.rules))null==t.id&&(t.id=Math.random().toString());var n=function(t){(0,dr.isArray)(e.run.equipment[t])||(e.run.equipment[t]=null!=e.run.equipment[t]?[e.run.equipment[t]]:[]),e.run.equipmentLoadouts.forEach((function(e){null==e||(0,dr.isArray)(e.equipment[t])||(e.equipment[t]=null!=e.equipment[t]?[e.equipment[t]]:[])}))};for(var r in hi)n(r);return e.temp=Be(),sr()(X(Ie),e)}function Ni(e){return Ui.apply(this,arguments)}function Ui(){return Ui=(0,d.default)((function*(e){var t=ur.Buffer.from(ur.Buffer.from(e,"base64").toString(),"base64"),n=yield Pi(t),r=JSON.parse(n.toString());return null!==r?Oi(r):null})),Ui.apply(this,arguments)}function Fi(e){return Li.apply(this,arguments)}function Li(){return(Li=(0,d.default)((function*(e){var t=e.temp;e.temp={};var n=JSON.stringify(e);e.temp=t;var r=yield Ri(n);return ur.Buffer.from(r.toString("base64")).toString("base64")}))).apply(this,arguments)}function Hi(e){return e.run.uiCommands||[]}function Yi(e,t){return e.run.uiCommands.push(t),e}var Qi=null;try{Qi=window.require("electron")}catch(ON){}function zi(){return null!=Qi}function Vi(){return Qi}var Wi=zi();function Gi(e,t,n){var r,a,i,o,u=null!=(r=null==(a=e.run.variables)?void 0:a[t])?r:0;e.run.variables[t]=u+(null!=n?n:0);var l=null!=(i=null==(o=e.world.variables)?void 0:o[t])?i:0;return e.world.variables[t]=l+(null!=n?n:0),e}function Ji(e,t){var n,r;return null!=(n=null==(r=e.run.variables)?void 0:r[t])?n:0}var qi=new Qe;function Xi(e){var t;return qi.getById((null==(t=e.run.exploration.currentEnemy)?void 0:t.id)||"")}function Ki(e){if(0!=e.run.exploration.actionResultQueue.length)return e.run.exploration.actionResultQueue[e.run.exploration.actionResultQueue.length-1]}function Zi(e){var t;return(null==(t=e.run.exploration)?void 0:t.explorationStatus)||me.None}var _i=function(e){return e.Idle="Idle",e.Exploring="Exploring",e.Companion="Companion",e}({});var $i=function(e){return e.Reviving="Reviving",e.Exploring="Exploring",e.Combat="Combat",e.Preparing="Preparing",e}({});function eo(e){switch(e){case $i.Preparing:return ae("Getting ready");case $i.Exploring:return ae("Exploring");case $i.Reviving:return ae("Recovering");case $i.Combat:return ae("Fighting")}}function to(e,t){var n;return null==(n=e.run.familiars)?void 0:n[t]}var no=new Qe;function ro(e){var t;return null==(t=ao(e))?void 0:t.id}function ao(e){return _(e.run.familiars).find((function(e){return e.status.status===_i.Companion}))}function io(e){var t=ao(e);if(null!=t)return mo.getById(t.familiarClassId)}function oo(e,t,n){var r=to(e,t);return null==r||(r.status.status=_i.Exploring,r.status.actionProgress=0,r.status.exploringDungeonFloorId=n,r.status.autoExploring=!1,r.status.exploringNextRandomRoll=Math.random()),e}function uo(e,t){var n=to(e,t);return null==n||(n.status.status=_i.Exploring,n.status.actionProgress=0,n.status.exploringDungeonFloorId=yo(e,t).getId(),n.status.autoExploring=!0,n.status.exploringNextRandomRoll=Math.random()),e}var lo={},so={},co=40;function fo(e,t,n){var r,a,i=Date.now(),o=Math.floor(i/1e3),u=null!=(r=null==lo?void 0:lo[t])?r:0,l=null!=(a=null==so?void 0:so[t])?a:0;u==o?so[t]=l++:(lo[t]=o,so[t]=1);var s=to(e,t);if(null==s)return e;var c=s.messageLog;return l==co?c.unshift({id:Math.random().toString(),secondsPlayed:Aa(e),realTimestamp:i,message:ae("(More loot omitted)")}):l<co&&c.unshift({id:Math.random().toString(),secondsPlayed:Aa(e),realTimestamp:i,message:n}),s.messageLog=c.slice(0,40),e}function go(e){return Ve(e,Ir.FamiliarsUnlocked)}function ho(e){return go(e)?Me(e,(function(e){return"floorsAvailableForFamiliars"}),(function(e){return mr(e).map((function(t){return t.getDungeonFloors().filter((function(t){return function(e,t){var n=hr.getById(t);return!!n.isUnlocked(e)&&!(!n.canFightBoss(e)&&void 0!==n.getBoss(e))}(e,t.getId())}))})).flat()})):[]}var mo=new Qe;pt.FamiliarExplorationDelay;function yo(e,t){return Te(e,"maxFloorForFamiliarId"+t,(function(e){var n=ho(e);return n.sort((function(t,n){return n.calculateAverageEnemyLevelForFamiliars(e)-t.calculateAverageEnemyLevelForFamiliars(e)})),n.filter((function(n){return!n.isDangerousForFamiliar(e,t)}))[0]}),(function(e){var n=to(e,t),r=mo.getById(n.familiarClassId).getLevel(e,t),a=ho(e);return r.toString()+a.length.toString()}))}var po=new Qe,vo=1e10;function Ao(e,t){return e+(null!=t?t:Qr.Player)}function bo(e,t,n){return ko(e,Ao(t,n))}function ko(e,t){var n;return(null==(n=e.run.temporaryEffects[t])?void 0:n.endTime)||0}function xo(e,t,n){return wo(e,Ao(t,n))}function wo(e,t){return ko(e,t)>Aa(e)}function Eo(e,t,n,r){if(r||xo(e,t,n))return e.run.temporaryEffects[Ao(t,n)]}function Co(e,t){var n=[],r=Aa(e);for(var a in e.run.temporaryEffects){var i=e.run.temporaryEffects[a];i.endTime>r&&(!t||t(e,i))&&n.push(i)}return n}function Io(e,t){var n=[];for(var r in e.run.temporaryEffects)if(e.run.temporaryEffects[r].target==t&&wo(e,r)){var a=e.run.temporaryEffects[r];n.push(a)}return n}var Bo=(0,q.default)((function(e,t){return[pt.TemporaryEffectDurationPostProcessing,e,t]}));function So(e,t,n,r){var a,i,o,u=null!=(a=n.mode)?a:"replace",l=null!=(i=n.target)?i:Qr.Player,s=null!=(o=n.params)?o:{},c=It(Bo(e,l),r,t,{effectExtra:n}),f=t==1/0?Number.MAX_VALUE/10:Aa(r)+c,d={id:e,setTime:Aa(r),endTime:f,target:l,params:s,fromAutocast:r.temp.isInAutocast,fromPermacast:r.temp.isInPermacast,fromPouch:r.temp.isInPouch,registeredClear:t<0};xo(r,e,l)&&(d=po.getById(e).mergeData(r,Eo(r,e,l),d,u));for(var g of Object.values(Mo))d=g(r,d);return r.run.temporaryEffects[Ao(e,l)]=d,r=et("everHadTemporaryEffect-"+e)(r)}var Ro=function(e,t,n){return So.bind(undefined,e,t,n)};function Po(e,t){return So.bind(this,e,-vo,{target:t})}function To(e){return Co(e).forEach((function(t){(po.getById(t.id).isCombatOnly()||t.target==Qr.Enemy)&&(e=Po(t.id,t.target)(e))})),e}var jo=(0,q.default)((function(e,t){return po.getAll().filter((function(n){return n.isCommonBuffEnabled().some((function(n){return n.stat==e&&n.type==t}))}))})),Mo={};function Do(e,t,n){Mo[e]=t,n&&Oo.register(t)}var Oo=new Qe;function No(e,t){Do(e+t+"cacheClearer",(function(n,r){return r.id==e&&(n=ra(n,r.target,t)),r}),!0)}var Uo=new Qe,Fo=new Qe;function Lo(e,t){return e.run.exploration.actionResultQueue.push(t),e.run.exploration.lastActionResultPushedTime=Aa(e),e.run.exploration.actionResultQueue.length>20&&(e.run.exploration.actionResultQueue=e.run.exploration.actionResultQueue.slice(-10)),Fo.getAll().forEach((function(n){e=n(e,t)})),e}function Ho(e){return null!=ao(e)&&ao(e).status.companionStatus===$i.Combat}function Yo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yo(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zo=void 0,Vo=void 0;function Wo(e){return Ve(e,Ir.ExplorationUnlocked)}function Go(e){return Je(e,Ir.ExplorationUnlocked)}function Jo(e,t){return e.run.exploration||(e.run.exploration=Ae),t.isUnlocked(e)?(e.run.exploration.currentDungeonFloorId=t.getId(),qo(e)):e}function qo(e){return e.run.exploration||(e.run.exploration=Ae),e.run.exploration.explorationStartTime=Aa(e),e.run.exploration.explorationStatus=me.Exploring,e}function Xo(e){return e.run.exploration||(e.run.exploration=Ae),e.run.exploration.explorationStartTime=Aa(e),e.run.exploration.explorationStatus=me.ExploringBoss,e}function Ko(e){var t;return(null==(t=e.run.exploration)?void 0:t.explorationStartTime)||0}function Zo(e){var t;return hr.getById((null==(t=e.run.exploration)?void 0:t.currentDungeonFloorId)||"")}function _o(e,t){for(var n of(t.run.exploration||(t.run.exploration=Ae),wi(t=at(t=To(t)),hi.Pouch))){if(null!=n)t=Br.getById(n.itemId).doCleanup(t,n.params)}if(t.run.exploration.pouchItemsUsesLeft={},t.run.exploration.explorationStatus=me.Combat,t.run.exploration.currentEnemy={id:e.getId(),currentHP:e.getMaxHP(t)},(t=ra(t,Qr.Enemy)).run.exploration.currentEnemy.currentHP=e.getMaxHP(t),t=e.onEncounter(t),zo=e.getNextAction(t),Vo=void 0,Ho(t)){var r=io(t);Vo=r.getNextActionForCompanion(t),t.run.exploration.familiarActionProgress=0}return t.run.exploration.playerActionProgress=0,t.run.exploration.enemyActionProgress=0,t}function $o(e){return _o.bind(this,e)}function eu(e){var t;return(null==(t=e.run.exploration)?void 0:t.currentHP)||0}function tu(e){var t,n;return(null==(t=ao(e))||null==(n=t.status)?void 0:n.currentHp)||0}function nu(e){var t,n;return(null==(t=e.run.exploration)||null==(n=t.currentEnemy)?void 0:n.currentHP)||0}function ru(e){var t,n;return nu(e)/(null!=(t=null==(n=Xi(e))?void 0:n.getMaxHP(e))?t:1)}var au=1.15;function iu(e,t){var n=1;return n=e*au>t?e-t/2:e-e*au/2-Math.pow(e,2)*Math.pow(au,2)/2*-1*(1/t-1/(au*e)),Math.max(n,1)}function ou(e,t){var n=Math.min(e/Math.max(1,t),1),r=-1.33333*Math.pow(n,2)+3*n-.66667;return Math.random()<r}function uu(e,t,n,r){switch(t){case Qr.Player:return lu(e,n,r);case Qr.Familiar:return su(e,n,r);case Qr.Enemy:return cu(e,n)}}function lu(e,t,n){var r,a;t<0&&e.run.exploration.currentHP+t<=0&&!e.run.exploration.triggerPlayerDeath&&(n=null!=(r=n)?r:null==(a=zo)?void 0:a.name,e.run.exploration.lastPlayerDamageCause=n);return e.run.exploration.currentHP=Math.min(Gr(e),Math.max(e.run.exploration.currentHP+t,0)),e.run.exploration.currentHP<=0&&(e.run.exploration.triggerPlayerDeath=!0),e}function su(e,t,n){if(!Ho(e))return e;var r=io(e),a=ao(e);return a.status.currentHp=Math.min(r.getStatsForCompanion(e).maxHP,Math.max(a.status.currentHp+t,0)),a.status.currentHp<=0&&(a.status.triggerFamiliarDeath=!0),e}function cu(e,t){var n=Xi(e);return e.run.exploration.currentEnemy.currentHP=Math.min(n.getMaxHP(e),e.run.exploration.currentEnemy.currentHP+t),e}function fu(e){return e=bu(e,Jr(e),{tags:[pt.AutoAttack]})}function du(e,t){switch(t){case Qr.Player:return eu(e);case Qr.Familiar:return tu(e);case Qr.Enemy:return nu(e)}}function gu(e,t,n){switch(t){case Qr.Player:switch(n){case Vr.MaxHP:return Gr(e);case Vr.Attack:return Jr(e);case Vr.AttackDelay:return qr(e);case Vr.Defense:return Xr(e);case Vr.Accuracy:return _r(e);case Vr.Dodge:return Zr(e);case Vr.Crit:return $r(e);case Vr.HPRegen:return Kr(e)}case Qr.Familiar:var r=io(e);return n===Vr.HPRegen?0:r.getStatsForCompanion(e,n)[n[0].toLowerCase()+n.substring(1)];case Qr.Enemy:var a=Xi(e);switch(n){case Vr.MaxHP:return null==a||null==a.getMaxHP?void 0:a.getMaxHP(e);case Vr.Attack:return null==a||null==a.getAttack?void 0:a.getAttack(e);case Vr.AttackDelay:return null==a||null==a.getAttackDelay?void 0:a.getAttackDelay(e);case Vr.Defense:return null==a||null==a.getDefense?void 0:a.getDefense(e);case Vr.Accuracy:return null==a||null==a.getAccuracyPoints?void 0:a.getAccuracyPoints(e);case Vr.Dodge:return null==a||null==a.getDodgePoints?void 0:a.getDodgePoints(e);case Vr.Crit:return null==a||null==a.getCriticalPoints?void 0:a.getCriticalPoints(e);case Vr.HPRegen:return 0}}}function hu(e){return Ho(e)&&!e.run.exploration.familiarIsInBackRow?Qr.Familiar:Qr.Player}function mu(e,t,n){return ou(t,gu(e,null!=n?n:hu(e),Vr.Dodge))}var yu=(0,q.default)((function(e){return[pt.AttackDamageReceived,e]})),pu=(0,q.default)((function(e){return[e,pt.CriticalResistance]}));function vu(e,t,n){var r,a,i,o,u=Xi(e),l=(u.getAccuracyPoints(e)+(null!=(r=null==n?void 0:n.accuracyAddition)?r:0))*(null!=(a=null==n?void 0:n.accuracyMultiplier)?a:1),s=null!=(i=null==n?void 0:n.forcedTarget)?i:hu(e),c=mu(e,l,s),f=0,d=!1;if(c){var g,h=u.getCriticalPoints(e)*(null!=(g=null==n?void 0:n.critChanceMultiplier)?g:1)/100;if(d=Math.random()<(null!=h?h:0)){var m=It(pu(s),e,0,{target:s,tags:null==n?void 0:n.tags});Math.random()<m&&(d=!1)}var y=gu(e,s,Vr.Defense);f=iu(d?1.5*t:t,d?0:y),e=uu(e,s,-(f=It(yu(s),e,f,{target:s,tags:null==n?void 0:n.tags})),null==n?void 0:n.cause)}var p={id:Math.random().toString(),damage:f,isHit:c,isCrit:d,time:Aa(e),source:Qr.Enemy,target:s,tags:null!=(o=null==n?void 0:n.tags)?o:[]};return e=Lo(e,p),e=null!=(null==n?void 0:n.onHit)?n.onHit(e,p):e}function Au(e,t,n){var r,a,i,o=Xi(e),u=o.getAccuracyPoints(e)*(null!=(r=null==n?void 0:n.accuracyMultiplier)?r:1),l=null!=(a=null==n?void 0:n.forcedTarget)?a:hu(e),s=mu(e,u,l),c=0,f=!1;if(s){var d,g,h=o.getCriticalPoints(e)*(null!=(d=null==n?void 0:n.critChanceMultiplier)?d:1)/100;if(f=Math.random()<(null!=h?h:0)){var m=It(pu(l),e,0,{target:l,tags:null==n?void 0:n.tags});Math.random()<m&&(f=!1)}c=f?1.5*t:t;var y=gu(e,l,Vr.Defense);c=iu(f?1.5*t:t,f?0:y),e=Lo(e=cu(e=uu(e,l,-(c=It(yu(l),e,c,{target:l,tags:null==n?void 0:n.tags})),null==n?void 0:n.cause),+c),{id:Math.random().toString(),damage:-c,isHit:!0,isCrit:!1,time:Aa(e),source:Qr.Enemy,target:Qr.Enemy,tags:null!=(g=null==n?void 0:n.tags)?g:[]})}return e=Lo(e,{id:Math.random().toString(),damage:c,isHit:s,isCrit:f,time:Aa(e),source:Qr.Enemy,target:Qr.Player,tags:null!=(i=null==n?void 0:n.tags)?i:[]})}function bu(e,t,n){var r,a,i,o,u=null!=(r=null==n?void 0:n.forcedTarget)?r:Qr.Enemy,l=ou(null!=(a=null==n?void 0:n.overrideAccuracy)?a:_r(e)*(null!=(i=null==n?void 0:n.accuracyMultiplier)?i:1),gu(e,u,Vr.Dodge)),s=0,c=!1;if(l){var f,d,g,h,m=null!=(f=n.overrideCritChance)?f:$r(e)+(null!=(d=null==n?void 0:n.critChanceAddition)?d:0);c=Math.random()<m*(null!=(g=null==n?void 0:n.critChanceMultiplier)?g:1)/100;var y=It(pu(u),e,0,{target:u,tags:null==n?void 0:n.tags});Math.random()<y&&(c=!1);s=iu(c?1.5*t:t,c?0:gu(e,u,Vr.Defense)*(null!=(h=null==n?void 0:n.targetDefenseMultiplier)?h:1)),e=uu(e,u,-(s=It(yu(u),e,s,{target:u,source:Qr.Player,tags:null==n?void 0:n.tags})),null==n?void 0:n.cause)}return e=Lo(e,{id:Math.random().toString(),damage:s,isHit:l,isCrit:c,time:Aa(e),source:Qr.Player,target:u,tags:null!=(o=null==n?void 0:n.tags)?o:[]})}function ku(e,t){var n,r,a;return null!=(n=null==(r=e.world.timesEnemyDefeated)||null==(a=r[t])?void 0:a.losses)?n:0}function xu(e,t){var n,r;return(null==(n=e.run.exploration)||null==(r=n.successfulExplorationsPerFloor)?void 0:r[t])||0}function wu(e,t){return e.run.explorationMessageLog||(e.run.explorationMessageLog=[]),e.run.explorationMessageLog.unshift({id:Math.random().toString(),realTimestamp:Date.now(),secondsPlayed:Aa(e),message:t,accessibleMessage:t}),e.run.explorationMessageLog=e.run.explorationMessageLog.slice(0,40),e}function Eu(e){return e.run.exploration||(e.run.exploration=Ae),e.run.exploration.explorationStatus=me.None,e=wu(e,"You stop exploring.")}xt([[pt.ExplorationDelay]],"PauseExplorationHandler",ae("Pause Exploration"),At.Override,(function(e){return Ve(e,"exploration_paused")?1/0:void 0}));var Cu=[pt.ExplorationDelay];function Iu(e){var t=Zi(e);if(t!=me.Exploring&&t!=me.ExploringBoss)return 0;var n=Zo(e);return It(Cu,e,n.getExplorationRequiredTimeSecBase())}Qr.Familiar,Vr.AttackDelay;function Bu(e){var t,n=io(e);if(n&&(null==(t=e.run.exploration)?void 0:t.explorationStatus)==me.Combat)return Vo||(Vo=n.getNextActionForCompanion(e)),Vo.delay}var Su=[Qr.Enemy,Vr.AttackDelay];function Ru(e){var t=Xi(e);zo||(zo=t.getNextAction(e));var n=t.getAttackDelay(e),r=na(e,Qr.Enemy,Vr.AttackDelay,(function(e){return It(Su,e,n)}));return zo.delay*r/n}function Pu(e){var t;return null!=(t=it(e,"enemyTurnCounter"))?t:1}var Tu=new Qe;function ju(e,t){Tu.register(t,e)}function Mu(e){var t,n=Xi(e);e=at(e=To(e)),n.isBoss()&&(e.run.autoAttemptBoss=!1),Vo=void 0,e.run.exploration.explorationStatus=me.Reviving,Ho(e)&&(ao(e).status.companionStatus=$i.Preparing);var r=null==n?void 0:n.getName(),a="";r&&(a=ae(" from {{enemy}}",{enemy:r}));var i=null!=(t=e.run.exploration.lastPlayerDamageCause)?t:ae("something unknown");return e=Gi(e=wu(e,ae("You run away{{fromEnemyMessage}} to recover from your injuries caused by {{cause}}...",{fromEnemyMessage:a,cause:i})),"deathCount",1),e=Gi(e,"deathCountIn-"+Zo(e).getId(),1),null!=n&&(!function(e,t){var n,r,a=null!=(n=null==(r=e.world.timesEnemyDefeated)?void 0:r[t])?n:{player:0,familiars:0,losses:0};a.losses+=1,e.world.timesEnemyDefeated[t]=a}(e,n.getId()),e=n.onPlayerDeath(e)),e}function Du(){var e,t,n;function r(e){var t;return e.run.autoAdvanceToNextFloor&&null!=(t=Zo(e).getNextFloor(e))&&null!=t.isUnlocked&&t.isUnlocked(e)?Jo(e,Zo(e).getNextFloor(e)):e.run.autoAttemptBoss&&Zo(e).canFightBoss(e)?Xo(e):qo(e)}ca("Exploration",(function(e,t){var n=Zi(e);if(n!=me.Exploring&&n!=me.ExploringBoss)return e;var r=Zo(e),a=Iu(e),i=Ko(e)+a;if(Aa(e)>i){if(e.run.exploration||(e.run.exploration=Ae),e.run.exploration.explorationStartTime=i,n!=me.Exploring){var o=r.doFightBoss(e);return o?o(e):e}var u=r.doExplore(e,!1);if(null!=u)return u.normal(e)}return e})),ca("Combat",(function(e,t){if(Zi(e)!=me.Combat)return e;var n=Xi(e),r=io(e),a=qr(e),i=Ru(e),o=Bu(e);for(e.run.exploration.playerActionProgress+=t/a,e.run.exploration.enemyActionProgress+=t/i,null!=o&&Ho(e)&&(e.run.exploration.familiarActionProgress+=t/o);e.run.exploration.playerActionProgress>1;){e.run.exploration.playerActionProgress-=1;var u=e.run.exploration.playerActionProgress*a;u==1/0&&(u=0);var l=qr(e=fu(e));e.run.exploration.playerActionProgress=u/l}if(null!=Vo&&null!=o&&e.run.exploration.familiarActionProgress>1){e.run.exploration.familiarActionProgress-=1;var s=e.run.exploration.familiarActionProgress*o;e=function(e){var t=ao(e);return Vo&&null!=t&&t.status.companionStatus===$i.Combat&&(e=Vo.transform(e)),e}(e),Vo=null==r?void 0:r.getNextActionForCompanion(e);var c=Bu(e);null!=c&&(e.run.exploration.familiarActionProgress=s/c)}if(e.run.exploration.enemyActionProgress>1){e.run.exploration.enemyActionProgress-=1;var f=e.run.exploration.enemyActionProgress*i;f==1/0&&(f=0),e=rt("enemyTurnCounter",Pu(e=function(e){return zo&&(e=zo.transform(e)),e}(e))+1)(e),zo=n.getNextAction(e);var d=Ru(e);e.run.exploration.enemyActionProgress=f/d}return e})),ft("CombatFamiliarDeathListener",(function(e){if(Zi(e)==me.Combat)return Ho(e)&&(tu(e)<=0||ao(e).status.triggerFamiliarDeath)?function(e){Vo=void 0,e.run.exploration.familiarActionProgress=0;var t=ao(e);return null==t?e:(e=wu(e,ae("Your familiar is exhausted and needs to recover!")),t.status.triggerFamiliarDeath=!1,t.status.companionStatus=$i.Reviving,e=ra(e,Qr.Familiar))}:void 0}),(function(e){return tu(e)})),ft("CombatCleaningCrew",(function(e){if(Zi(e)!==me.Combat)return function(e){for(var t of wi(e=at(e=To(e)),hi.Pouch)){if(null!=t)e=Br.getById(t.itemId).doCleanup(e,t.params)}return e.run.exploration.pouchItemsUsesLeft={},e.run.exploration.triggerPlayerDeath=!1,Vo=void 0,e}}),(function(e){return Zi(e)})),t=function(e){if(Zi(e)==me.Combat){if((eu(e)<=0||e.run.exploration.triggerPlayerDeath)&&(e.run.exploration.triggerPlayerDeath=!1,!Uo.getAll().map((function(t){return t(e,Qr.Player)})).some((function(e){return e}))))return Mu;if(nu(e)<=0&&!Uo.getAll().map((function(t){return t(e,Qr.Enemy)})).some((function(e){return e})))return function(e){var t=Xi(e);e=wu(e,ae("You defeated {{enemy}}!",{enemy:t.getName()}));var n=(e=t.onDeath(e,!1)).run.exploration.currentDungeonFloorId,a=hr.getById(n),i=a.canFightBoss(e);return e.run.exploration.successfulExplorationsPerFloor[n]=xu(e,n)+1,i!=a.canFightBoss(e)&&(e=De(e,(function(e){return"floorsAvailableForFamiliars"}))),(e=function(e,t){return Tu.getAll().forEach((function(n){e=n(e,t)})),e}(e,t)).options.waitUntilFullyHealedBeforeExplore?(e.run.exploration.explorationStatus=me.Reviving,e):r(e)}}},ut[e="CombatDeathListener"]=t,null!=n&&(lt[e]=n),ca("PlayerHPRegen",(function(e,t){var n=Zi(e),r=eu(e);if(n==me.Combat&&r<=0)return e;var a=Gr(e);if(r>=a)return e;var i=Kr(e),o=1;return n!=me.Combat&&(o=10),e=lu(e,a*i*o*t,ae("HP Regeneration"))})),ft("ContinueExplorationAfterReviving",(function(e){if(Zi(e)==me.Reviving&&eu(e)>=.99*Gr(e))return r}))}function Ou(e){return _(e.run.familiars).find((function(e){return e.status.status===_i.Companion}))}function Nu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Uu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nu(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fu=function(e){return e.Hidden="Hidden",e.SpriteOnly="SpriteOnly",e.Basic="Basic",e.Expanded="Expanded",e.Loot="Loot",e}({});function Lu(e){switch(e){case"maxHP":return Vr.MaxHP;case"attack":return Vr.Attack;case"attackDelay":return Vr.AttackDelay;case"defense":return Vr.Defense;case"accuracy":return Vr.Accuracy;case"dodge":return Vr.Dodge;case"crit":return Vr.Crit}throw new Error("Invalid battler stat")}function Hu(e,t){var n,r,a;return Yu(e,t)+(null!=(n=null==(r=e.world.timesEnemyDefeated)||null==(a=r[t])?void 0:a.player)?n:0)}function Yu(e,t){var n,r,a;return null!=(n=null==(r=e.world.timesEnemyDefeated)||null==(a=r[t])?void 0:a.familiars)?n:0}function Qu(e){return qi.getAll().filter((function(t){return t.getBestiaryState(e)!=Fu.Hidden}))}var zu=(0,q.default)((function(e){return[Qr.Enemy,e]})),Vu=50,Wu=function(){function e(){var t=this;(0,Le.default)(this,e),this.lootTags=(0,q.default)((function(e,t){return[pt.Loot,t,e?pt.FromFamiliarExploration:pt.FromExploration]})),this.lootChanceTags=(0,q.default)((function(e){return[pt.LootChance,e?pt.FromFamiliarExploration:pt.FromExploration]})),this._enemyIdParams={enemyId:this.getId()},this._familiarParams=(0,q.default)((function(e){return Uu(Uu({},t._enemyIdParams),{},{familiarId:e})})),this._memoizedEnemyLootTags=(0,q.default)((function(e,n){return[pt.LootItemAmount,e,t.getId(),n?pt.FromFamiliarExploration:pt.FromExploration]}))}return(0,He.default)(e,[{key:"getMaxHP",value:function(e){var t=this;return na(e,Qr.Enemy,Vr.MaxHP,(function(e){return It(zu(Vr.MaxHP),e,t.getBaseStats().maxHP)}))}},{key:"getAttack",value:function(e){var t=this;return na(e,Qr.Enemy,Vr.Attack,(function(e){return It(zu(Vr.Attack),e,t.getBaseStats().attack)}))}},{key:"getAttackDelay",value:function(e){return this.getBaseStats().attackDelay}},{key:"getCriticalPoints",value:function(e){var t=this;return na(e,Qr.Enemy,Vr.Crit,(function(e){return It(zu(Vr.Crit),e,t.getBaseStats().crit)}))}},{key:"getDefense",value:function(e){var t=this;return na(e,Qr.Enemy,Vr.Defense,(function(e){return It(zu(Vr.Defense),e,t.getBaseStats().defense)}))}},{key:"getAccuracyPoints",value:function(e){var t=this;return na(e,Qr.Enemy,Vr.Accuracy,(function(e){return It(zu(Vr.Accuracy),e,t.getBaseStats().accuracy)}))}},{key:"getDodgePoints",value:function(e){var t=this;return na(e,Qr.Enemy,Vr.Dodge,(function(e){return It(zu(Vr.Dodge),e,t.getBaseStats().dodge)}))}},{key:"getNextAction",value:function(e){var t=this;return{name:ae("Attack"),delay:this.getAttackDelay(e),transform:function(e){return vu(e,t.getAttack(e))}}}},{key:"getItemsAwardedBase",value:function(e){return[]}},{key:"isBoss",value:function(){return!1}},{key:"getBackdropColor",value:function(e){}},{key:"getBestiaryState",value:function(e){var t=Hu(e,this.getId()),n=ku(e,this.getId());return t>=(this.isBoss()?1:Vu)?Fu.Loot:t>=(this.isBoss()?1:10)?Fu.Expanded:t>0||n>=2?Fu.Basic:n>0?Fu.SpriteOnly:Fu.Hidden}},{key:"onEncounter",value:function(e){return e}},{key:"onPlayerDeath",value:function(e){return e}},{key:"onDeath",value:function(e,t,n){var r,a,i=this,o=null!=(r=null==(a=e.world.timesEnemyDefeated)?void 0:a[this.getId()])?r:{player:0,familiars:0,losses:0};t?o.familiars++:o.player++,e.world.timesEnemyDefeated[this.getId()]=o;var u=this.getCoinsAwardedBase(e),l=this.getMonstiumAwardedBase(e),s=Rt(this.lootTags(t,Dt.Coins),e,u),c=Rt(this.lootTags(t,Dt.Monstium),e,l),f=Rt(this.lootTags(t,pt.FamiliarExp),e,t?l/2:l,this._familiarParams(t?n:function(e){var t;return null==(t=Ou(e))?void 0:t.id}(e)));if(e=Wt(Dt.Coins,s)(e),e=Wt(Dt.Monstium,c)(e),t){var d=to(e,n),g=mo.getById(d.familiarClassId),h=g.getLevel(e,d.id);d.exp+=f;var m=g.getLevel(e,d.id);(function(e,t){var n,r,a=Date.now(),i=Math.floor(a/1e3),o=null!=(n=null==lo?void 0:lo[t])?n:0,u=null!=(r=null==so?void 0:so[t])?r:0;return i==o&&u>=co})(0,n)||(e=fo(e,n,ae("Your familiar found {{coinsAwarded}} :coins: and {{monstiumAwarded}} :monstium:!",{coinsAwarded:ue(s),monstiumAwarded:ue(c)})),e=fo(e,d.id,m>h?ae("Your familiar earned {{expAwarded}} exp and leveled up to {{newLevel}}!",{expAwarded:ue(f),newLevel:ue(m)}):ae("Your familiar earned {{expAwarded}} exp!",{expAwarded:ue(f)})))}else if(Ho(e=wu(e,ae("You found {{coinsAwarded}} :coins: and {{monstiumAwarded}} :monstium:!",{coinsAwarded:ue(s),monstiumAwarded:ue(c)})))){var y=ao(e),p=function(e){var t=Ou(e);if(null!=t)return mo.getById(t.familiarClassId)}(e),v=p.getLevel(e,y.id);y.exp+=f;var A=p.getLevel(e,y.id);e=A>v?fo(e=wu(e,ae("Your familiar earned {{expAwarded}} exp and leveled up to {{newLevel}}!",{expAwarded:ue(f),newLevel:ue(A)})),y.id,ae("Your familiar earned {{expAwarded}} exp and leveled up to {{newLevel}}!",{expAwarded:ue(f),newLevel:ue(A)})):fo(e=wu(e,ae("Your familiar earned {{expAwarded}} exp!",{expAwarded:ue(f)})),y.id,ae("Your familiar earned {{expAwarded}} exp!",{expAwarded:ue(f)}))}return this.getItemsAwardedBase(e).forEach((function(r){var a=r.chance;if(a=It(i.lootChanceTags(t),e,a),Math.random()<a){var o,u=Br.getById(r.itemId),l=r.params||{},s={itemId:r.itemId,params:l},c=It(i._memoizedEnemyLootTags(r.itemId,t),e,r.amount),f=null!=(o=(e=Or(s,c,e)).world.knownEnemiesThatDrop[r.itemId])?o:{};f[i.getId()]||(f[i.getId()]=!0),e.world.knownEnemiesThatDrop[r.itemId]=f,e=t?fo(e,n,ae("Your familiar found {{amount}} {{item}}!",{amount:c,item:u.getName(l)})):wu(e,ae("You found {{amount}} {{item}}!",{amount:c,item:u.getName(l)}))}})),e}},{key:"getTips",value:function(){}}]),e}(),Gu={};function Ju(e){var t;null!=Gu&&Gu[e]||(Gu[e]=!0,Wi&&(t=e,zi()&&Vi().ipcRenderer.send("unlockAchievement",t)))}var qu=new Qe;function Xu(e,t){Wi&&(We.register((function(n,r){return r==e&&Ve(n,r)&&Ju(t),n}),t+"-achievementUnlocker"),qu.register((function(n){Je(n,e)&&Ju(t)}),t+"-syncUnlocker"))}function Ku(e,t){Xu(e.getCompletedFlag(),t)}var Zu=new Er("combatClasses",ae("Types of Wizards"),150,10,ae("Complete Combat Training"),ae("Unlock ability to choose a Class after retirement"),(function(e){return!0})),_u=function(){function e(){var t=this;(0,Le.default)(this,e),this.getCachedBaseClassEffects=(0,q.default)((function(){return t.getBaseClassEffects()})),this.tagsByEffect={}}return(0,He.default)(e,[{key:"isActive",value:function(e){return tl(e)==this}},{key:"isVisible",value:function(e){return el(e)}},{key:"getBaseClassEffects",value:function(){return{}}},{key:"getTagsByEffect",value:function(e,t){var n,r;null==(null==(n=this.tagsByEffect)?void 0:n[e])&&(this.tagsByEffect[e]=[].concat((0,h.default)(null!=(r=t.tags)?r:[]),[pt.ClassEffect,e]));return this.tagsByEffect[e]}},{key:"getClassEffects",value:function(e,t){var n=this.getCachedBaseClassEffects(),r={};for(var a in n)if(null==t||a==t){var i=n[a];r[a]=Pt(this.getTagsByEffect(a,i),e,i.value)}return r}},{key:"getClassEffectExplanations",value:function(e,t){var n=this.getCachedBaseClassEffects(),r={};for(var a in n)if(null==t||a==t){var i=n[a];r[a]=Mt(this.getTagsByEffect(a,i),e,i.value,{unit:i.unit,valueType:i.valueType})}return r}}]),e}(),$u=new Qe;function el(e){return Zu.isBonusActive(e)}function tl(e){return null!=e.run.combatClassId?$u.getById(e.run.combatClassId):void 0}var nl=new Qe;var rl=(0,q.default)((function(){return nl.getAll().sort((function(e,t){return e.order-t.order}))})),al=function(){return nl.getAll().length-(Fe()?0:1)},il=function(e){var t=nl.getAll().filter((function(t){return t.shouldRevealHint(e)}));return t.length>0&&t.forEach((function(t){e=t.revealHint(e)})),e},ol=new Qe;function ul(e){return e.run.endingTriggered}function ll(e,t){return e.world.endingsHistory.some((function(e){return e.endingId==t}))}var sl=new Qe;var cl=new(function(){function e(){(0,Le.default)(this,e)}return(0,He.default)(e,[{key:"getId",value:function(){return ae("empty")}},{key:"getTitle",value:function(e){return ae("[Deleted]")}},{key:"getDescription",value:function(e,t){return ae("This is a deleted game event")}},{key:"getAllowedOptions",value:function(e,t){return[]}},{key:"isTerminal",value:function(){return!0}},{key:"isActionable",value:function(e,t){return!1}}]),e}()),fl=function(e){return e.MAIN_QUEST="MAIN_QUEST",e.INCONSEQUENTIAL_RANDOM_EVENT="INCONSEQUENTIAL_RANDOM_EVENT",e.LEVEL_UP="LEVEL_UP",e.LEVEL_UP_EMPTY="LEVEL_UP_EMPTY",e.LEVEL_UP_ALREADY_REACHED="LEVEL_UP_ALREADY_REACHED",e.MAIN_QUEST_SEEN_BEFORE="MAIN_QUEST_SEEN_BEFORE",e.STORYLINE="STORYLINE",e.DO_NOT_AUTO_TRIGGER_IF_ONGOING="DO_NOT_AUTO_TRIGGER_IF_ONGOING",e.DO_NOT_POPUP="DO_NOT_POPUP",e.DO_NOT_POPUP_IF_BOSS_FIGHT="DO_NOT_POPUP_IF_BOSS_FIGHT",e}({}),dl={};function gl(e){return(null==dl?void 0:dl[e])||cl}var hl={};function ml(e){return null==hl?void 0:hl[e]}function yl(e,t){var n;return null==(n=e.run.eventOccurrences)?void 0:n[t]}function pl(e,t,n){var r=t.nextMessage;return r&&(null==n.run.eventOccurrences[e].messageHistory&&(n.run.eventOccurrences[e].messageHistory=[]),n.run.eventOccurrences[e].messageHistory.push(n.run.eventOccurrences[e].currentMessageId),n.run.eventOccurrences[e].currentMessageId=r.getId(),r.isTerminal()&&(n.run.eventOccurrences[e].timestamp=Date.now(),n.run.eventOccurrences[e].timestampSecondsPlayed=Aa(n))),t.transform&&(n=t.transform(n,n.run.eventOccurrences[e].params)),n}function vl(e,t,n){var r=_(e.run.eventOccurrences).find((function(e){return e.eventId==t}));return null==r?e:(r.messageHistory.push(r.currentMessageId),r.currentMessageId=t+n,r.timestamp=Date.now(),e=Al(r.eventOccurrenceId,e))}function Al(e,t){return t.run.eventQueue.includes(e)||t.run.eventQueue.push(e),t}function bl(e,t){var n=t.run.eventQueue.lastIndexOf(e);return n>=0&&t.run.eventQueue.splice(n,1),t}function kl(e,t,n,r){var a=[];if((a.push.apply(a,(0,h.default)(e.getTags())),a.push.apply(a,(0,h.default)(n)),a.includes(fl.DO_NOT_AUTO_TRIGGER_IF_ONGOING)&&!r.run.nextEventIsManuallyTriggered)&&Object.values(r.run.eventOccurrences).find((function(t){return t.eventId==e.getId()&&t.currentMessageId&&!gl(t.currentMessageId).isTerminal()})))return r;a.includes(fl.STORYLINE)&&(r=et("storyline_event_ever_triggered")(r));var i=e.getId()+Date.now();r.run.eventOccurrences[i]={eventOccurrenceId:i,eventId:e.getId(),currentMessageId:e.getMainEventMessage().getId(),timestamp:Date.now(),timestampSecondsPlayed:Aa(r),params:t,messageHistory:[]};var o=e.hasEverTriggered(r);if(a.includes(fl.MAIN_QUEST)&&r.options.hideEventTags.includes(fl.MAIN_QUEST_SEEN_BEFORE)&&o)for(var u=gl(yl(r,i).currentMessageId);!u.isTerminal()&&1==u.getAllowedOptions(r,t).length;)r=pl(i,u.getAllowedOptions(r,t)[0],r),u=gl(yl(r,i).currentMessageId);var l=e.onTrigger();return l&&(r=l(r,t)),(function(e,t,n,r,a){var i;if(r.includes(fl.MAIN_QUEST)&&e.options.hideEventTags.includes(fl.MAIN_QUEST_SEEN_BEFORE)&&a){if(gl(yl(e,n).currentMessageId).isTerminal())return!1}if(e.options.doNotPopupEventsDuringBossFights&&Zi(e)==me.Combat&&null!=(i=Xi(e))&&null!=i.isBoss&&i.isBoss()&&nu(e)>0)return!1;return!e.options.hideEventTags.some((function(e){return r.includes(e)}))&&!r.includes(fl.DO_NOT_POPUP)}(r,0,i,a,o)||r.run.nextEventIsManuallyTriggered)&&r.run.eventQueue.unshift(i),r.run.nextEventIsManuallyTriggered=!1,r}function xl(e,t,n){return kl.bind(this,e,t||{},null!=n?n:[])}function wl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function El(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wl(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Cl={};function Il(e,t){return t?(Object.keys(t).map((function(e){return[new RegExp("/"+e+"/","g"),isNaN(t[e])||""===t[e]?t[e]:ue(t[e])]})).forEach((function(t){e=e.replace(t[0],t[1])})),e):e}var Bl=function(){function e(t,n,r,a){var i;(0,Le.default)(this,e),this.id=t,this.title=n,this.description=r,this.options=a,dl[(i=this).getId()]=i}return(0,He.default)(e,[{key:"getId",value:function(){return this.id}},{key:"getTitle",value:function(e){return Il(this.title,e)}},{key:"getDescription",value:function(e,t){return Il(this.description(e),t)}},{key:"getAllowedOptions",value:function(e,t){return this.options.filter((function(n){return null==n.isVisible||n.isVisible(e,t)})).map((function(n){return El(El({},n.option),{},{description:Il(n.option.description,t),isEnabled:null==n.isEnabled||n.isEnabled(e,t)})}))}},{key:"isTerminal",value:function(){return this.options.every((function(e){return!e.option.nextMessage&&!e.option.transform}))}},{key:"isActionable",value:function(e,t){return this.getAllowedOptions(e,t).some((function(e){return(e.nextMessage||e.transform)&&e.isEnabled}))}}]),e}(),Sl=function(){function e(t){(0,Le.default)(this,e),this.description=function(){return""},this.options=[],this.isEnd=!1,this.id=t}return(0,He.default)(e,[{key:"tag",value:function(e){return this.id=e,this}},{key:"setDescription",value:function(e){return this.description=e,this}},{key:"setSimpleDescription",value:function(e){return this.setDescription((function(t){return e})),this}},{key:"option",value:function(e){var t,n,r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return"string"===typeof a&&(i=a,a={}),this.options.push({description:e,nextMessageId:i,transform:null==(t=a)?void 0:t.transform,isVisible:null==(n=a)?void 0:n.isVisible,isEnabled:null==(r=a)?void 0:r.isEnabled}),this}},{key:"getOptions",value:function(){return this.options.length>0?this.options:[Cl]}},{key:"end",value:function(){this.isEnd=!0}}]),e}(),Rl=function(){function e(t,n,r,a,i){var o;(0,Le.default)(this,e),this.id=t,this.message=n,this.tags=r,this.onTriggerTransform=a,this.storylineIds=i,hl[(o=this).getId()]=o,this.triggerString="event_triggered_"+this.id}return(0,He.default)(e,[{key:"onTrigger",value:function(){var e=this;return function(t,n){return t=et(e.triggerString)(t),t=qe(e.triggerString)(t),t=e.onTriggerTransform?e.onTriggerTransform(t,n):t}}},{key:"hasTriggered",value:function(e){return Ve(e,this.triggerString)}},{key:"hasEverTriggered",value:function(e){return tt(e,this.triggerString)}},{key:"getId",value:function(){return this.id}},{key:"getMainEventMessage",value:function(){return this.message}},{key:"getTags",value:function(){return this.tags}},{key:"getStorylines",value:function(){var e;return(null!=(e=this.storylineIds)?e:[]).map((function(e){return nl.getByIdNullable(e)}))}}]),e}();var Pl=function(){function e(t,n,r){(0,Le.default)(this,e),this.id=t,this.title=n,this.tags=r,this.messages=[],this.lastMessageId=0}return(0,He.default)(e,[{key:"message",value:function(e,t){var n=new Sl(null!=t?t:this.newMessageId());return n.setSimpleDescription(e),this.messages.push(n),n}},{key:"newMessageId",value:function(){return(this.lastMessageId++).toString()}},{key:"setOnTrigger",value:function(e){return this.onTrigger=e,this}},{key:"setStorylineIds",value:function(e){return this.storylineIds="string"===typeof e?[e]:e,this}},{key:"build",value:function(){var e=this.buildRecursive(0);if(null==e)throw new Error("Events should always have at least one message");for(var t in this.messages)this.messages[t].built||this.buildRecursive(Number.parseInt(t));return function(e,t,n,r,a){return new Rl(e,t,n,r,a)}(this.id,e,this.tags,this.onTrigger,this.storylineIds)}},{key:"findMessageIndexWithId",value:function(e){return this.messages.findIndex((function(t){return t.id===e}))}},{key:"buildRecursive",value:function(e){var t,n=this,r=null==(t=this.messages)?void 0:t[e];if(r instanceof Sl){var a=r.getOptions().map((function(t){var a,i,o,u=null==t?void 0:t.nextMessageId;null!=u||r.isEnd||(u=null==(i=n.messages)||null==(o=i[e+1])?void 0:o.id);var l=n.findMessageIndexWithId(u),s=void 0;return l>=0&&(s=n.buildRecursive(l)),{option:{description:null!=(a=t.description)?a:ae(null!=u?"Continue":"Close"),transform:t.transform,nextMessage:s},isVisible:t.isVisible,isEnabled:t.isEnabled}}));return r.built=!0,new Bl(this.id+r.id,this.title,r.description,a)}}}]),e}();function Tl(e,t,n){return new Pl(e,t,n)}var jl=function(){return zi()?ae("Get the full version for Windows on [Steam](https://store.steampowered.com/app/2864890/Magic_Research_2/?utm_source=demo_about_steam)!"):ae("Get the full version for Windows on [Steam](https://store.steampowered.com/app/2864890/Magic_Research_2/?utm_source=demo_about_web), for Android in [the Google Play Store](https://play.google.com/store/apps/details?id=com.mcolotto.magicresearchtwo&utm_source=demo_about_web) or for iOS in [the App Store](https://apps.apple.com/app/id6478566840)!")},Ml=function(){return zi()?ae("[**Get the full game now!**](https://store.steampowered.com/app/2864890/Magic_Research_2/?utm_source=demo_end_steam)"):ae("**Get the full game now for Windows on [Steam](https://store.steampowered.com/app/2864890/Magic_Research_2/?utm_source=demo_end_web), for Android in [the Google Play Store](https://play.google.com/store/apps/details?id=com.mcolotto.magicresearchtwo&utm_source=demo_end_web) or for iOS in [the App Store](https://apps.apple.com/app/id6478566840)!**")},Dl=function(){return zi()?ae("If you like the game, you may also like the original [Magic Research](https://store.steampowered.com/app/2311680/Magic_Research/?utm_source=mr2_about_steam)!"):ae("If you like the game, you may also like the original **Magic Research**, for Windows on [Steam](https://store.steampowered.com/app/2311680/Magic_Research/?utm_source=mr2_about_web), for Android in [the Google Play Store](https://play.google.com/store/apps/details?id=com.mcolotto.magicresearch&utm_source=mr2_about_web) or for iOS in [the App Store](https://apps.apple.com/app/id1671272877)!")};var Ol=n(45987),Nl=o.createContext({compactLayout:!1});function Ul(){return(0,o.useContext)(Nl)}var Fl=n(1054),Ll=n(2629),Hl=["style","variant","h1","h2","h3","h4","doNotScaleFonts"];function Yl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ql(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yl(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zl=o.memo((function(e,t){var n=e.style,r=e.variant,a=e.h1,i=e.h2,u=e.h3,l=e.h4,s=e.doNotScaleFonts,c=(0,Ol.default)(e,Hl),f=(0,D.useTheme)(),d=C.default.getConstants().isRTL?"rtl":"ltr",g=a?1:i?2:u?3:l?4:void 0,h=(0,o.useMemo)((function(){return[a&&Vl.h1,i&&Vl.h2,u&&Vl.h3,l&&Vl.h4,n]}),[a,i,u,l,n]),m=(0,o.useMemo)((function(){if(r)return[f.fonts[r],Vl.text,{writingDirection:d,color:f.colors.onSurface},h];var e,t=Ql(Ql({},f.fonts.default),{},{color:null==(e=f.colors)?void 0:e.onSurface});return[Vl.text,t,{writingDirection:d},h]}),[f,d,h]);return r?(0,Ll.jsx)(Fl.default,Ql({style:m,maxFontSizeMultiplier:!0===s?1:0,accessibilityRole:a||i||u||l?"header":void 0,selectable:!1,ariaLevel:g,accessibilityLevel:g,"aria-level":g},c)):(0,Ll.jsx)(Fl.default,Ql(Ql({accessibilityRole:a||i||u||l?"header":void 0,selectable:!1,ariaLevel:g,accessibilityLevel:g,"aria-level":g,maxFontSizeMultiplier:!0===s?1:0},c),{},{style:m}))})),Vl=R.default.create({h1:{fontSize:20},h2:{fontSize:18},h3:{fontSize:16},h4:{fontSize:14},text:{textAlign:"left"}}),Wl=["disabled","autoRepressConfig","enableAutoRepress","style","labelStyle","passthroughStyle","disableDisabledRenderingOptimization","TextComponent"];function Gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gl(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ql(e){var t,n=e.disabled,r=e.autoRepressConfig,i=e.enableAutoRepress,u=e.style,l=e.labelStyle,s=e.passthroughStyle,c=e.disableDisabledRenderingOptimization,f=e.TextComponent,d=(0,Ol.default)(e,Wl),g=(0,o.useRef)(!1),m=(0,o.useRef)(n);m.current=n;var y=(0,o.useRef)(300),p=(0,o.useRef)(null),v=(0,o.useState)(!1),A=(0,a.default)(v,2),b=A[0],k=A[1],x=c||null!=d.ButtonComponent;(0,o.useEffect)((function(){if(b){var e,t=setTimeout((function(){return k(!1)}),(null!=(e=null==r?void 0:r.minTimeMs)?e:100)/3);return function(){return clearTimeout(t)}}}),[b]);var w=(0,o.useCallback)((function(){var t,n;g.current&&(m.current||e.onPress&&e.onPress(),k(!0),y.current=Math.max(null!=(t=null==r?void 0:r.minTimeMs)?t:100,y.current*(null!=(n=null==r?void 0:r.dropoffMultiplier)?n:.94)),p.current=setTimeout(w,y.current))}),[e.onPress]),E=(0,o.useCallback)((function(){var e;g.current=!0,p.current=setTimeout((function(){var e;g.current&&!m.current&&(y.current=null!=(e=null==r?void 0:r.startingRepressTime)?e:300,w())}),null!=(e=null==r?void 0:r.startingThreshold)?e:600)}),[w]),C=(0,o.useCallback)((function(){g.current=!1,null!=p.current&&(clearTimeout(p.current),p.current=null)}),[w]);(0,o.useEffect)((function(){return function(){C()}}),[C]);var B=null!=(t=e.ButtonComponent)?t:H.default,S=(0,D.useTheme)(),R=Ul(),P=e.compact&&"web"!=I.default.OS?S.fonts.labelSmall:S.fonts.labelLarge,j=R.compactLayout?Xl.compactLabel:void 0,M=(0,o.useMemo)((function(){return[s,b&&{opacity:.9}]}),[s,b]),O=(0,o.useMemo)((function(){return[P,j,l]}),[P,j,l]),N=(0,o.useMemo)((function(){return(0,Ll.jsx)(B,Jl({onPressIn:i?E:void 0,onPressOut:i?C:void 0,disabled:!!x&&n,mode:"contained",style:M,labelStyle:O,TextComponent:null!=f?f:zl},d))}),[i,E,C,M,O,f,!!x&&n].concat((0,h.default)(_(d)))),U=(0,o.useMemo)((function(){return x?null:(0,Ll.jsx)(B,Jl({onPressIn:i?E:void 0,onPressOut:i?C:void 0,disabled:!0,mode:"contained",style:M,labelStyle:O,TextComponent:null!=f?f:zl},d))}),[i,E,C,M,O,f,x].concat((0,h.default)(_(d))));return(0,o.useMemo)((function(){return x?(0,Ll.jsx)(T.default,{style:u,children:(0,Ll.jsx)(T.default,{children:N})}):(0,Ll.jsxs)(T.default,{style:u,children:[(0,Ll.jsx)(T.default,{style:n&&{display:"none"},children:N}),(0,Ll.jsx)(T.default,{style:!n&&{display:"none"},children:U})]})}),[u,n,N,U,x])}var Xl=R.default.create({compactLabel:{marginVertical:5}}),Kl=n(93830),Zl=n(43287),_l=["icon","style"];function $l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var es={fire:n(7003),earth:n(99881),water:n(85367),air:n(52221),poison:n(54481),mind:n(84499),life:n(69499),electric:n(16044),death:n(24490),holy:n(31608),time:n(45058),space:n(88968),fireessence:n(57213),earthessence:n(77612),wateressence:n(28222),airessence:n(75253),poisonessence:n(94102),mindessence:n(41061),lifeessence:n(9443),electricessence:n(91522),deathessence:n(31054),holyessence:n(48181),timeessence:n(89118),spaceessence:n(19081),land:n(9249),coins:n(71462),mana:n(19787),wizardpower:n(16877),boost:n(34884),attack:n(27877),attackDelay:n(16126),defense:n(38648),hp:n(88610),monstium:n(148),debuff:n(82372),generic:n(16229),accuracy:n(50879),dodge:n(53138),timepiece:n(19083),critChance:n(45265),exchange:n(49805),corruption:n(72551),x:n(7860),about:n(30579),apprentices:n(20421),boosts:n(45888),compendium:n(51659),creatures:n(27723),ending:n(94653),enhance:n(37694),exploration:n(3058),familiars:n(29738),help:n(40492),home:n(74078),inventory:n(28101),options:n(32936),research:n(74172),retirement:n(28337),rituals:n(43373),spellcraft:n(27058),stats:n(71930),study:n(74541),synchro:n(28954),transmute:n(10520),wizards:n(72336),worlds:n(81700)};var ts=o.memo((function(e){var t=e.icon,n=e.style,r=(0,Ol.default)(e,_l),a=es[t],i=t;if(!a){var u=Br.getByIdNullable(t);u&&(a=u.getPicture(),i=u.getName(u.getDefaultParams()))}if(!a)return null;var l=(0,o.useMemo)((function(){return[{width:32,height:32},n,e.small?{width:16,height:16}:{}]}),[n,e.small]);return(0,Ll.jsx)(Zl.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$l(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({source:a,accessibilityLabel:i,accessibilityRole:"image",style:l},r))})),ns=n(16479),rs=n.n(ns);const as=rs()(/\:([a-zA-Z_-]+)\:/,(function(e,t){return e[1]}));const is=rs()(/\^(.+?)\^<(.*?)>/,(function(e,t){return[e[1],e[2]]}));function os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function us(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?os(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):os(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ls=null;var ss=(0,Kl.MarkdownIt)({typographer:!1}).use(as,{containerClassName:"icon-embed"}).use(is,{}),cs={paragraph:function(e,t,n,r){return(0,Ll.jsx)(T.default,{style:[e.index>0&&ds.markdownParagraph],children:t},e.key)},text:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(0,Ll.jsx)(zl,{style:[a,r.text],children:e.content},e.key)},"regexp-0":function(e,t,n,r){var a=e.sourceMeta.match[1];return I.default.select({default:(0,Ll.jsxs)(zl,{children:[(0,Ll.jsx)(ts,{style:"attack"===a?ds.imageStyleAndroidAttack:ds.imageStyleAndroid,small:!0,resizeMode:"contain",icon:a},(0,Kl.getUniqueID)()),"android"===I.default.OS&&"\u200b"]},(0,Kl.getUniqueID)()),ios:(0,Ll.jsx)(zl,{children:(0,Ll.jsx)(T.default,{style:"attack"===a?ds.imageContainerStyleiOSAttack:ds.imageContainerStyleiOS,children:(0,Ll.jsx)(ts,{style:"attack"===a?ds.imageStyleiOSAttack:ds.imageStyleiOS,small:!0,resizeMode:"contain",icon:a},(0,Kl.getUniqueID)())})},(0,Kl.getUniqueID)())})},"regexp-1":function(e,t,n,r,a){var i=e.sourceMeta.match[1],o=e.sourceMeta.match[2];return""==o?(0,Ll.jsx)(zl,{style:[a,r.text,ds.text],children:i},e.key):(0,Ll.jsx)(T.default,{style:ds.tooltipTextContainer,children:(0,Ll.jsx)(ls,{title:o,children:(0,Ll.jsx)(zl,{style:[a,r.text,ds.text,ds.underlined],children:i})})},(0,Kl.getUniqueID)())}};var fs=o.memo((function(e){var t,n,r,a,i,u=(null==e?void 0:e.style)||{},l=(null==e?void 0:e.containerStyle)||{},s=null==(t=e.children)||null==t.replace?void 0:t.replace(/((\d(K|M|B|T)?)|(Max)) :/g,(function(e,t){return t+":"})),c=null!=(n=e.accessibilityLabel)?n:null==(r=e.children)||null==r.replaceAll||null==(a=r.replaceAll("*",""))?void 0:a.replaceAll(/\^(.+?)\^<(.*?)>/g,(function(e){return arguments.length<=1?void 0:arguments[1]})),f=null!=(i=null==e?void 0:e.accessibilityLiveRegion)?i:"none",d=(0,D.useTheme)(),g=(0,o.useMemo)((function(){return{body:[{justifyContent:"flex-end",minHeight:21,lineHeight:I.default.select({ios:19,default:void 0}),color:d.colors.onBackground},u],bullet_list_icon:{lineHeight:I.default.select({ios:20,default:16}),marginTop:4},bullet_list:{width:"100%"},list_item:{alignItems:"center",justifyContent:"center"},heading2:{lineHeight:24}}}),[d,u]);return(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{accessibilityLabel:c,accessibilityLiveRegion:f,accessible:!0,style:[ds.containerView,l],children:(0,Ll.jsx)(Kl.default,us(us({},e),{},{markdownit:ss,rules:cs,style:g,children:s}))})}),[c,f,ss,cs,g,s])})),ds=R.default.create({markdownParagraph:{marginTop:I.default.select({ios:8,default:4})},markdownTextgroup:{flexDirection:"row",flexWrap:"wrap",alignItems:"center",padding:0,margin:0},text:{lineHeight:16},imageStyleAndroid:{height:16,width:16,justifyContent:"flex-end",alignItems:"center",top:2,marginLeft:2},imageStyleAndroidAttack:{height:16,width:16,justifyContent:"flex-end",alignItems:"center",top:2,marginLeft:2,marginRight:2},imageContainerStyleiOS:{width:18,alignItems:"center",justifyContent:"center"},imageContainerStyleiOSAttack:{width:20,alignItems:"center",justifyContent:"center"},imageStyleiOS:{height:16,width:16,justifyContent:"center",alignItems:"center",alignSelf:"center",top:2},imageStyleiOSAttack:{height:16,width:16,justifyContent:"center",alignItems:"center",alignSelf:"center",top:2,right:2},containerView:I.default.select({default:{},web:{flex:1}}),underlined:{textDecorationLine:"underline",top:2},tooltipTextContainer:{height:16}});const gs=R.default.create({flex:{flex:1},flexRow:{flexDirection:"row"},flexEnd:{justifyContent:"flex-end"},flexRowSpaceBetween:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},flexRowAlignCenter:{flexDirection:"row",alignItems:"center"},flexCenter:{justifyContent:"center",alignItems:"center"},alignSelfStretch:{alignSelf:"stretch"},alignSelfNormal:{alignSelf:"flex-start"},ml4:{marginLeft:4},ml8:{marginLeft:8},ml16:{marginLeft:16},mt2:{marginTop:2},mt4:{marginTop:4},mt8:{marginTop:8},mt16:{marginTop:16},mr4:{marginRight:4},mr8:{marginRight:8},mr16:{marginRight:16},mb4:{marginBottom:4},mb8:{marginBottom:8},mb16:{marginBottom:16},mv2:{marginVertical:2},mv4:{marginVertical:4},mv8:{marginVertical:8},mv16:{marginVertical:16},pb4:{paddingBottom:4},pb8:{paddingBottom:8},pb16:{paddingBottom:16},ph4:{paddingHorizontal:4},ph8:{paddingHorizontal:8},ph16:{paddingHorizontal:16},pv4:{paddingVertical:4},pv8:{paddingVertical:8},pv16:{paddingVertical:16},p4:{padding:4},p8:{padding:8},p16:{padding:16},bold:{fontWeight:"bold"},underlined:{textDecorationLine:"underline"}});var hs=o.createContext(!0);function ms(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ys(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ms(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ms(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ps=[],vs=ys(ys({},X(Ie)),{},{apply:function(){},overwrite:function(){}});function As(){var e=(0,o.useState)(vs),t=(0,a.default)(e,2),n=t[0],r=t[1],i=(0,o.useCallback)((function(e){return r(e)}),[r]),u=(0,o.useContext)(hs);return(0,o.useEffect)((function(){if(u){var e={fn:i,stack:""};return ps.push(e),function(){ps=ps.filter((function(t){return t!=e}))}}}),[i,u]),n}function bs(){var e,t,n,r,a=As(),i=(0,o.useRef)(a);i.current=a;var u=Fe()?ae("**Demo Version**"):ae("**Full Version**"),l=null!=(e=de())?e:ae("Unknown"),s=null!=(t=ge())?t:ae("Unknown"),c=ae("Version {{versionString}} ({{versionNumber}})",{versionString:s,versionNumber:l}),f=Fe()?jl():"",d=Dl(),g=ae("## Magic Research 2\n\n  \n{{versionText}}\n\n{{versionNumberText}}\n\n\nA game by **@Maticolotto**\n\n\n**Credits**\n\nAssets from:\n  * Raven Fantasy Icons, by Clockwork Raven [(https://clockworkraven.itch.io/raven-fantasy-icons)](https://clockworkraven.itch.io/raven-fantasy-icons)\n  * Aekashics Librarium, by Aekashics [(http://www.akashics.moe)](http://www.akashics.moe)\n  * 1000+ Fantasy RPG Icons, by finalbossblues [(https://finalbossblues.itch.io/icons)](https://finalbossblues.itch.io/icons)\n\nSpecial thanks to **@jpascua93** for pre-launch feedback. development, and marketing assets\n\nSpecial thanks to: **@Wiedmolol**, **@lunacent**, **@Fich**, **@Falk**, **@Aegys**, **@UVGamma**, **@AbsolFan1**, **@Kolt** for pre-launch feedback\n\nCheck out the **[Discord](https://discord.gg/bPhGsaqR9d)** to discuss the game!\n\n[Privacy Policy](https://mcolotto.github.io/magic-research-demo/privacy-policy)\n\n{{demoText}}\n\n{{mr1text}}",{versionText:u,versionNumberText:c,demoText:f,mr1text:d});return(0,Ll.jsxs)(T.default,{style:ks.container,children:[(0,Ll.jsx)(zl,{h1:!0,children:ae("About")}),(0,Ll.jsxs)(T.default,{style:ks.explanation,children:[(0,Ll.jsx)(fs,{style:ks.explanationText,children:g}),(null==fe.default||null==(n=fe.default.expoConfig)||null==(r=n.extra)?void 0:r.showDebug)&&(0,Ll.jsx)(ql,{onPress:function(){i.current.apply((function(e){return e=Yi(e,"goToDebug")}))},style:gs.mt16,children:"Show debug"})]})]})}vs.temp=Be();var ks=R.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",width:"100%"},explanation:{marginTop:16,flex:1,alignItems:"stretch",width:"100%"},explanationText:{width:"100%"}}),xs=n(11752),ws=n(60136),Es=n(82963),Cs=n(61120),Is=function(){function e(){var t=this;(0,Le.default)(this,e),this.getCachedBaseActionEffects=(0,q.default)((function(){return t.getBaseActionEffects()})),this.tagsByEffect={},this.memoizedActionEffectParam=(0,q.default)((function(){return{action:t}})),this.memoizedActionEffectExplanationParam=(0,q.default)((function(e){return{action:t,unit:e.unit,valueType:e.valueType,base:e.base}}))}return(0,He.default)(e,[{key:"getAreas",value:function(){return{}}},{key:"canSpam",value:function(){return!0}},{key:"canAutoPurchaseMax",value:function(){return!1}},{key:"getBaseActionEffects",value:function(){return{}}},{key:"getTagsByEffect",value:function(e,t){var n,r;null==(null==(n=this.tagsByEffect)?void 0:n[e])&&(this.tagsByEffect[e]=[].concat((0,h.default)(this.getTags()),(0,h.default)(null!=(r=t.tags)?r:[]),[pt.ActionEffect,e]));return this.tagsByEffect[e]}},{key:"getActionEffect",value:function(e,t){var n=this.getCachedBaseActionEffects();return It(this.getTagsByEffect(t,n[t]),e,n[t].value,{action:this})}},{key:"getActionEffects",value:function(e,t){var n=this.getCachedBaseActionEffects(),r={};if(null!=t)return r[t]=It(this.getTagsByEffect(t,n[t]),e,n[t].value,{action:this}),r;for(var a in n)if(null==t||a==t){var i=n[a];r[a]=It(this.getTagsByEffect(a,i),e,i.value,this.memoizedActionEffectParam())}return r}},{key:"getActionEffectExplanations",value:function(e,t){var n=this.getCachedBaseActionEffects(),r={};for(var a in n)if(null==t||a==t){var i=n[a];r[a]=Mt(this.getTagsByEffect(a,i),e,i.value,this.memoizedActionEffectExplanationParam(i))}return r}},{key:"getTags",value:function(){return[pt.Action,this.getId()]}},{key:"canAfford",value:function(e){var t=this.getCost(e);return Z(t.resources).every((function(n){var r,a;return zt(e,n)>=(null!=(r=t.resources[n])?r:0)&&Qt(e,n)>=(null!=(a=t.resources[n])?a:0)}))&&Z(t.items).every((function(n){return Fr(Br.getById(n),e)>=t.items[n]}))}},{key:"isCapEnough",value:function(e){var t=this.getCost(e);return Object.keys(t.resources).every((function(n){var r;return(null!=(r=t.resources[n])?r:0)<=Qt(e,n)}))}},{key:"payCost",value:function(e,t){var n=this.getCost(e),r=null!=t?t:1;return Object.keys(n.resources).forEach((function(t){var a,i;e=Wt(t,-(null!=(a=null==n||null==(i=n.resources)?void 0:i[t])?a:0)*r)(e)})),Object.keys(n.items).forEach((function(t){e=Lr(Br.getById(t),n.items[t]*r,e)})),e}},{key:"isEnabled",value:function(e,t){return!!t||this.canAfford(e)}},{key:"isActive",value:function(e){return xo(e,this.getId())}},{key:"requireConfirmation",value:function(e){return!1}}]),e}(),Bs=new Er("boostingMachine",ae("The Fancy Paperweight"),370,30,ae("Explore and defeat the boss of The Sphinx"),ae('Permanently unlock "Boost"'),(function(e){return!0})),Ss={Fire:Dt.FireEssence,Earth:Dt.EarthEssence,Water:Dt.WaterEssence,Air:Dt.AirEssence,Poison:Dt.PoisonEssence,Mind:Dt.MindEssence,Life:Dt.LifeEssence,Electric:Dt.ElectricEssence,Death:Dt.DeathEssence,Holy:Dt.HolyEssence,Time:Dt.TimeEssence,Space:Dt.SpaceEssence};function Rs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}!function(e){(0,ws.default)(n,e);var t=Rs(n);function n(){var e;return(0,Le.default)(this,n),(e=t.call(this))._costScaleMonstium=(0,q.default)((function(){return[].concat((0,h.default)(e.getTags()),[Dt.Monstium,pt.CostScale])})),e._costScaleEssence=(0,q.default)((function(t){return[].concat((0,h.default)(e.getTags()),[t,pt.CostScale])})),e}(0,He.default)(n,[{key:"isVisible",value:function(e){return Rn(e).includes(this.getElement())}},{key:"getAreas",value:function(){return{BOOST:[$t.BOOST]}}},{key:"getTags",value:function(){return(0,xs.default)((0,Cs.default)(n.prototype),"getTags",this).call(this).concat([pt.Boost])}},{key:"getDisplayName",value:function(e){var t=Ps(e,this.getElement());return this.getName()+(t>0?" ("+t+")":"")}},{key:"getCost",value:function(e){var t=this.getElement(),n=Ss[t],r=It(this._costScaleMonstium(),e,.2),a=It(this._costScaleEssence(n),e,.4),i={Monstium:100*Math.pow(1+r,Ts(e))};return i[n]=1e3*Math.pow(1+a,Ps(e,t)),{resources:i,items:{}}}},{key:"doAction",value:function(e,t){var n,r;if(!this.canAfford(t))return t;var a=this.getCost(t).resources;return t.run.boostsBought[this.getElement()]++,t=Wt(Dt.Monstium,-(null!=(n=a.Monstium)?n:0))(t),t=Yt(t=si(t=ra(t=Wt(Ss[this.getElement()],-(null!=(r=a[Ss[this.getElement()]])?r:0))(t),Qr.Player)))}},{key:"canAutoPurchaseMax",value:function(){return!0}}])}(Is);function Ps(e,t){return e.run.boostsBought[t]}function Ts(e){return _(un).map((function(t){return Ps(e,t)})).reduce((function(e,t){return e+t}),0)}function js(e){var t;return(null!=(t=null==e?void 0:e.globalTimestampRead)?t:0)>e.globalTimestampTriggered}function Ms(e,t,n){return e.global.notifications.find((function(e){return e.group==t&&e.item==n}))}function Ds(e,t){return function(e,t){return e.global.notifications.filter((function(e){return e.group==t}))}(e,t).filter((function(e){return!js(e)}))}function Os(e,t,n){var r=Ms(e,t,n);return r?(r.globalTimestampTriggered=va(e),e):(e.global.notifications.push({id:Math.random().toString(),group:t,item:n,globalTimestampTriggered:va(e),globalTimestampRead:void 0}),e)}var Ns=function(){function e(){(0,Le.default)(this,e)}return(0,He.default)(e,[{key:"validate",value:function(e,t){var n=this.getParameters(),r={};for(var a in n){var i,o=n[a].parameterType.validate(e,null!=(i=t[a])?i:"");null!=o&&(r[a]=o)}return r}}]),e}(),Us=new Qe;function Fs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const Ls=new(function(e){(0,ws.default)(n,e);var t=Fs(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"Always"}},{key:"getDisplayName",value:function(){return ae("Always")}},{key:"getParameters",value:function(){return[]}},{key:"getDisplayExplanation",value:function(e,t){return ae("Always")}},{key:"isConditionMet",value:function(e,t,n){return!0}},{key:"validate",value:function(e,t){return{}}}]),n}(Ns));var Hs=function(e){return e.TEXT_FIELD="TEXT_FIELD",e.PICKER="PICKER",e}({}),Ys=(0,He.default)((function e(){(0,Le.default)(this,e)}));function Qs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var zs=function(e){(0,ws.default)(n,e);var t=Qs(n);function n(e,r){var a;return(0,Le.default)(this,n),(a=t.call(this)).min=e,a.max=r,a}return(0,He.default)(n,[{key:"getDisplay",value:function(){return Hs.TEXT_FIELD}},{key:"getOptions",value:function(e){return[]}},{key:"validate",value:function(e,t){try{var n=Number.parseFloat(t);if(Number.isNaN(n))return ae("Value must be a number");if(void 0!=this.min&&n<this.min)return ae("Value must be {{min}} or higher",{min:ue(this.min)});if(void 0!=this.max&&n>this.max)return ae("Value must be {{max}} or lower",{max:ue(this.max)})}catch(ON){return ae("Value must be a number")}}}]),n}(Ys);function Vs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Ws=function(e){(0,ws.default)(n,e);var t=Vs(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getDisplay",value:function(){return Hs.PICKER}},{key:"getOptions",value:function(e){return _(Dt).filter((function(t){return function(e,t){return tt(e,"hasEverHadResource-"+t)}(e,t)})).map((function(e){return{label:Ot(e),value:e}}))}},{key:"validate",value:function(e,t){if(!_(Dt).includes(t))return ae("You must select a resource")}}]),n}(Ys);function Gs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const Js=new(function(e){(0,ws.default)(n,e);var t=Gs(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"IfResourceAmountLessThan"}},{key:"getDisplayName",value:function(){return ae("If held resource is less than")}},{key:"getParameters",value:function(){return[{parameterType:new Ws,name:ae("Resource")},{parameterType:new zs(0,void 0),name:ae("Amount")}]}},{key:"getDisplayExplanation",value:function(e,t){return ae("If less than {{amount}}{{resourceIcon}} are held",{amount:ue(Number.parseFloat(t[1])),resourceIcon:":"+t[0].toLowerCase()+":"})}},{key:"isConditionMet",value:function(e,t,n){var r=n[0],a=Number.parseFloat(n[1]);return zt(e,r)<a}}]),n}(Ns));function qs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const Xs=new(function(e){(0,ws.default)(n,e);var t=qs(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"IfResourceAmountLessThanRatio"}},{key:"getDisplayName",value:function(){return ae("If held resource is less than % of max")}},{key:"getParameters",value:function(){return[{parameterType:new Ws,name:ae("Resource")},{parameterType:new zs(0,100),name:ae("Percent")}]}},{key:"getDisplayExplanation",value:function(e,t){return ae("If less than {{amount}}% of the max {{resourceIcon}} are held",{amount:ue(Number.parseFloat(t[1])),resourceIcon:":"+t[0].toLowerCase()+":"})}},{key:"isConditionMet",value:function(e,t,n){var r=n[0],a=Number.parseFloat(n[1]);return zt(e,r)/Qt(e,r)<a/100}}]),n}(Ns));function Ks(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const Zs=new(function(e){(0,ws.default)(n,e);var t=Ks(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"IfResourceAmountMoreThan"}},{key:"getDisplayName",value:function(){return ae("If held resource is at least")}},{key:"getParameters",value:function(){return[{parameterType:new Ws,name:ae("Resource")},{parameterType:new zs(0,void 0),name:ae("Amount")}]}},{key:"getDisplayExplanation",value:function(e,t){return ae("If at least {{amount}}{{resourceIcon}} are held",{amount:ue(Number.parseFloat(t[1])),resourceIcon:":"+t[0].toLowerCase()+":"})}},{key:"isConditionMet",value:function(e,t,n){var r=n[0],a=Number.parseFloat(n[1]);return zt(e,r)>=a}}]),n}(Ns));function _s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const $s=new(function(e){(0,ws.default)(n,e);var t=_s(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"IfResourceAmountMoreThanRatio"}},{key:"getDisplayName",value:function(){return ae("If held resource is at least % of max")}},{key:"getParameters",value:function(){return[{parameterType:new Ws,name:ae("Resource")},{parameterType:new zs(0,100),name:ae("Percent")}]}},{key:"getDisplayExplanation",value:function(e,t){return ae("If at least {{amount}}% of the max {{resourceIcon}} are held",{amount:ue(Number.parseFloat(t[1])),resourceIcon:":"+t[0].toLowerCase()+":"})}},{key:"isConditionMet",value:function(e,t,n){var r=n[0],a=Number.parseFloat(n[1]);return zt(e,r)/Qt(e,r)>=a/100}}]),n}(Ns));function ec(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const tc=new(function(e){(0,ws.default)(n,e);var t=ec(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"Smartly"}},{key:"getDisplayName",value:function(){return ae("Smartly")}},{key:"getParameters",value:function(){return[]}},{key:"getDisplayExplanation",value:function(e,t){return ae("Smartly")}},{key:"isConditionMet",value:function(e,t,n){return null==t||t.isCastingRecommended(e)}},{key:"validate",value:function(e,t){return{}}}]),n}(Ns));function nc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var rc=function(e){(0,ws.default)(n,e);var t=nc(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getDisplay",value:function(){return Hs.PICKER}},{key:"getOptions",value:function(e){return po.getAll().filter((function(t){return function(e,t){return tt(e,"everHadTemporaryEffect-"+t)}(e,t.getId())})).map((function(e){return{label:e.getDisplayName(),value:e.getId()}}))}},{key:"validate",value:function(e,t){if(null==po.getByIdNullable(t))return ae("You must select a buff / debuff")}}]),n}(Ys);function ac(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const ic=new(function(e){(0,ws.default)(n,e);var t=ac(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"IfBuffNotPresentOrTimeRemainingLessThanPlayer"}},{key:"getDisplayName",value:function(){return ae("If buff / debuff is not present on player or its time left is less than")}},{key:"getParameters",value:function(){return[{parameterType:new rc,name:ae("Buff / debuff")},{parameterType:new zs(0,void 0),name:ae("Time remaining (sec)")}]}},{key:"getDisplayExplanation",value:function(e,t){return ae("If player's buff / debuff *{{buff}}* is over or has less than {{amount}} sec left",{buff:po.getById(t[0]).getDisplayName(),amount:ue(Number.parseFloat(t[1]))})}},{key:"isConditionMet",value:function(e,t,n){var r=n[0],a=Number.parseFloat(n[1]);return bo(e,r,Qr.Player)-Aa(e)<a}}]),n}(Ns));function oc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const uc=new(function(e){(0,ws.default)(n,e);var t=oc(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"IfBuffPresentPlayer"}},{key:"getDisplayName",value:function(){return ae("If player has buff / debuff")}},{key:"getParameters",value:function(){return[{parameterType:new rc,name:ae("Buff / debuff")}]}},{key:"getDisplayExplanation",value:function(e,t){return ae("If player has buff / debuff *{{buff}}*",{buff:po.getById(t[0]).getDisplayName()})}},{key:"isConditionMet",value:function(e,t,n){return xo(e,n[0],Qr.Player)}}]),n}(Ns));var lc=function(e){return e.TRANSMUTATION="TRANSMUTATION",e.CHANNELING="CHANNELING",e.GENERAL_BUFF="GENERAL_BUFF",e.COMBAT_BUFF="COMBAT_BUFF",e.ATTACK="ATTACK",e.HEALING="HEALING",e.OTHER="OTHER",e}({});function sc(e){switch(e){case lc.ATTACK:return ae("Attack Spell");case lc.CHANNELING:return ae("Channeling");case lc.COMBAT_BUFF:return ae("Combat Buff / Debuff");case lc.GENERAL_BUFF:return ae("General Buff / Debuff");case lc.HEALING:return ae("Healing");case lc.TRANSMUTATION:return ae("Transmutation");case lc.OTHER:return ae("Other")}}var cc=[pt.AutocastPointsProduction],fc={unit:":wizardpower:"};function dc(e){return It(cc,e,1)}var gc=[pt.WizardAmount];function hc(e){return Math.floor(It(gc,e,1))}var mc=(0,q.default)((function(){return{unit:ae(" wizard(s)")}}));function yc(e){return Math.floor(hc(e)-function(e){for(var t=0,n=Ic(e),r=0;r<n.rules.length;r++){var a;t+=null!=(a=Tc(e,r))?a:0}return t+n.wizardsAssignedToPermaCast}(e))}function pc(e,t,n){if(0==n)return e;var r=Ic(e).rules[t];return vc(e,r,n,Ia.getByIdNullable(r.spellId))}function vc(e,t,n,r){var a=Sc(e,t);return a.currentPoints=Math.min(r.getAutocastPointsRequirement(e),Math.max(0,a.currentPoints+n)),e.run.autocast.rules[t.id]=a,e}function Ac(e,t){var n=Ic(e),r=yc(e),a=Math.min(r,t);return n.wizardsAssignedToPermaCast=Math.max(0,n.wizardsAssignedToPermaCast+a),e}function bc(e,t){var n=t.getPermaCastDelaySec(e);return t.getAutocastPointsRequirement(e)/n}function kc(e,t){return null!=Ic(e).permaCastRules[t.getId()]}function xc(e,t,n){return wc(e,Ic(e).rules[t],n)}function wc(e,t,n){var r=Sc(e,t);if(null==r||null==t)return e;var a=yc(e),i=Math.min(a,n);return r.wizardsAssigned=Math.max(0,r.wizardsAssigned+i),t.wizardsAssigned=r.wizardsAssigned,e.run.autocast.rules[t.id]=r,e=qe(Ir.AssignedWizard)(e)}function Ec(e,t){var n=Sc(e,t);return n.disabled=!n.disabled,t.disabled=n.disabled,e.run.autocast.rules[t.id]=n,e}function Cc(e,t){var n=Sc(e,t);return n.hidden=!n.hidden,e.run.autocast.rules[t.id]=n,e}function Ic(e){return e.global.autocast.currentStrategy}function Bc(e,t){return Sc(e,Ic(e).rules[t])}function Sc(e,t){var n,r;return null!=(n=null==(r=e.run.autocast.rules)?void 0:r[null==t?void 0:t.id])?n:{currentPoints:0,disabled:!1,wizardsAssigned:0,hidden:!1}}function Rc(e,t,n){for(var r of(null==n&&(n=Ic(e)),n.rules))if(r.spellId==t.getId())return r;return null}function Pc(e,t){var n=Ic(e);for(var r of n.rules)if(r.id==t)return r;return null}function Tc(e,t){return Bc(e,t).wizardsAssigned}function jc(e){return Us.getById(e.condition)}function Mc(e,t,n){var r=jc(n),a=Ia.getByIdNullable(t.spellId);return r.isConditionMet(e,a,n.values)}function Dc(e){return Ve(e,Ir.WizardsUnlocked)}function Oc(e){return Je(e,Ir.WizardsUnlocked)}function Nc(e,t,n){var r=Ia.getByIdNullable(null==t?void 0:t.spellId);if(null==r)return 0;if(n.wizardsAssigned<=0)return 0;var a=r.getEstimatedMinAutocastDelay(e,t),i=r.getAutocastPointsRequirement(e)/(n.wizardsAssigned*dc(e));return Math.max(a,i)}function Uc(e,t,n){var r,a=Ia.getByIdNullable(null==t?void 0:t.spellId);return null==a||n.wizardsAssigned<=0||t.disabled?0:(null!=(r=a.getCost(e).resources[Dt.Mana])?r:0)/Nc(e,t,n)}function Fc(e,t,n){return Uc(e,t,Bc(e,n))}function Lc(e,t,n){var r=Ia.getByIdNullable(t.spellId);if(null==r)return{};if(Tc(e,n)<=0||t.disabled)return{};var a=r.getExpFromUsage(e),i=function(e,t,n){return Nc(e,t,Bc(e,n))}(e,t,n);return ee(Z(a).map((function(e){return[e,a[e]/i]})))}function Hc(e,t){return t==Ic(e)?Me(e,(function(e){return"currentAutocastPermaCastMana"}),(function(e){return Yc(e,t)})):Yc(e,t)}function Yc(e,t){return Z(t.permaCastRules).filter((function(t){var n=Ia.getById(t);return n.isVisible(e)&&n.getManaCost(e)<=Qt(e,Dt.Mana)})).map((function(t){return Ia.getById(t).getPermaCastManaCostPerSec(e)})).reduce((function(e,t){return e+t}),0)}function Qc(e,t){var n=function(e){return Z(t.permaCastRules).filter((function(t){var n=Ia.getById(t);return n.isVisible(e)&&n.getManaCost(e)<=Qt(e,Dt.Mana)})).map((function(t){return Ia.getById(t).getPermaCastAutocastPointsConsumptionPerSec(e)})).reduce((function(e,t){return e+t}),0)};return Ic(e)!=t?n(t):Me(e,(function(e){return"permacastWizardPowerEstimate"}),n)}function zc(e){return e=De(e,(function(e){return"permacastWizardPowerEstimate"})),e=function(e){return De(e,(function(e){return"permacast"}))}(e=De(e,(function(e){return"currentAutocastPermaCastMana"})))}function Vc(e,t){return Math.ceil(Qc(e,t)/dc(e))}var Wc=[{condition:tc.getId(),values:[]}];function Gc(e,t){var n=Z(t.permaCastRules).map((function(e){return Ia.getById(e)}));return Me(e,(function(e){return"permacast"}),(function(e){var t={},r={};for(var a of n)t[a.getId()]=a.getPermaCastAutocastPointsConsumptionPerSec(e),r[a.getId()]=a.getPermaCastManaCostPerSec(e);var i=n.sort((function(e,n){return t[e.getId()]*r[e.getId()]-t[n.getId()]*r[n.getId()]}));return{permaCastSpellRequiredWizardPower:t,permaCastSpellRequiredMana:r,sortedPermaCastSpells:i}}))}function Jc(){var e;Us.register(Ls),Us.register(tc),Us.register(Js),Us.register(Xs),Us.register(Zs),Us.register($s),Us.register(uc),Us.register(ic),ca("Autocast",(function(e,t,n){if(!Dc(e))return e;if(e.run.autocast.autocastPaused)return e;e.temp.isInAutocast=!0;for(var r=Ic(e),a=dc(e),i=0;i<r.rules.length;i++){var o;e=pc(e,i,a*(null!=(o=Tc(e,i))?o:0)*t)}for(var u=function(){var t=r.rules[l],n=Bc(e,l);if(n.disabled||0==n.wizardsAssigned)return"continue";if("checkOnly"==t.spellId)return t.conditions.every((function(n){return Mc(e,t,n)}))?"continue":"break";var a=Ia.getById(t.spellId),i=a.getAutocastPointsRequirement(e);return n.currentPoints<i?"continue":a.isVisible(e)&&a.isEnabled(e)?void((t.conditions.length>0?t.conditions:Wc).every((function(n){return Mc(e,t,n)}))&&(e=pc(e=a.doAction({isAutomatic:!0},e),l,-i))):"continue"},l=0;l<r.rules.length;l++){var s=u();if("continue"!==s&&"break"===s)break}var c=Gc(e,r),f=c.permaCastSpellRequiredWizardPower,d=c.permaCastSpellRequiredMana,g=c.sortedPermaCastSpells,h=r.wizardsAssignedToPermaCast*t*a,m=Qt(e,Dt.Mana);e.temp.isInPermacast=!0;var y=function(){var n=p.getId(),a=r.permaCastRules[n],i=Sc(e,a);if(i.disabled)return"continue";var o=zt(e,Dt.Mana),u=d[n]*t;if(o<u)return e.temp.lastProcessedAutocastSpellId=n,"break";if(p.getManaCost(e)>m)return"continue";if(!p.isVisible(e))return"continue";var l=Math.min(h,f[n]*t);h>0&&(e=vc(e,a,l,p),e=Wt(Dt.Mana,-u)(e)),h-=l;var s=p.getAutocastPointsRequirement(e);return i.currentPoints<s?"continue":p.isEnabled(e,!0)?void((a.conditions.length>0?a.conditions:Wc).every((function(t){return Mc(e,a,t)}))&&(e=vc(e=p.doActionPermaCast(e),a,-s,p))):"continue"};for(var p of g){var v=y();if("continue"!==v&&"break"===v)break}return e.temp.isInPermacast=!1,e.temp.isInAutocast=!1,e}),-10),ca("autocastPart2",(function(e,t,n){if(!Dc(e))return e;if(null==e.temp.lastProcessedAutocastSpellId)return e;e.temp.isInAutocast=!0;var r=Ic(e),a=dc(e),i=Gc(e,r),o=i.permaCastSpellRequiredWizardPower,u=i.permaCastSpellRequiredMana,l=i.sortedPermaCastSpells,s=r.wizardsAssignedToPermaCast*t*a,c=Qt(e,Dt.Mana),f=!1;e.temp.isInPermacast=!0;var d=function(){var n=g.getId(),a=Math.min(s,o[n]*t);if(!f&&n!=e.temp.lastProcessedAutocastSpellId)return s-=a,"continue";f=!0;var i=r.permaCastRules[n],l=Sc(e,i);if(l.disabled)return"continue";var d=zt(e,Dt.Mana),h=u[n]*t;if(d<h)return"continue";if(g.getManaCost(e)>c)return"continue";if(!g.isVisible(e))return"continue";s>0&&(e=vc(e,i,a,g),e=Wt(Dt.Mana,-h)(e)),s-=a;var m=g.getAutocastPointsRequirement(e);return l.currentPoints<m?"continue":g.isEnabled(e,!0)?void((i.conditions.length>0?i.conditions:Wc).every((function(t){return Mc(e,i,t)}))&&(e=vc(e=g.doActionPermaCast(e),i,-m,g))):"continue"};for(var g of l)d();return e.temp.isInPermacast=!1,e.temp.isInAutocast=!1,e.temp.lastProcessedAutocastSpellId=void 0,e}),20),Xt("permaCastRetirement",(function(e,t){var n=Ic(e);return n.permaCastRules={},n.wizardsAssignedToPermaCast=0,e})),ft("wizardRemover",(function(e){if(yc(e)<0)return function(e){for(var t=yc(e),n=Ic(e).rules.length-1;t<0&&n>=0;){Tc(e,n)>0?(e=xc(e,n,-1),t++):n--}return t<0&&(e=Ac(e,t)),e}})),e=zc,Oa.push(e)}var qc=new Qe;function Xc(e){qc.register(e),wa(e)}function Kc(e){return Ve(e,Ir.EnhancementsUnlocked)}function Zc(){ca("enhancementAutoPurchaseMax",(function(e,t,n){if(!function(e){return Ve(e,Ir.AutoPurchaseUnlocked)&&e.options.autoPurchaseEnhancements}(e))return e;var r=Aa(e);return Math.floor(e.temp.lastAutoPurchaseEnhancementRun/2)!=Math.floor(r/2)&&(_(ka(e,_t.ENHANCEMENT)).flat().forEach((function(t){t.isEnabled(e)&&(e=t.doAction({isAutomatic:!0},e))})),e.temp.lastAutoPurchaseEnhancementRun=r),e}))}var _c=n(97326),$c=new Qe;function ef(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tf(e,t,n){var r=e-t,a=e+t;return 0==t?n?ae("^{{effect}}^<{{explanation}}>",{effect:ue(r),explanation:n}):ue(r):n?ae("^{{min}}~{{max}}^<{{explanation}}>",{min:ue(r),max:ue(a),explanation:n}):ae("{{min}}~{{max}}",{min:ue(r),max:ue(a)})}function nf(e,t,n){return ae("{{effect}}:attack:",{effect:tf(e,t,n)})}function rf(e,t,n){var r=t.getActionEffects(e);return e=bu(e,r.average+(Math.random()-.5)*r.variance*2,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ef(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ef(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({cause:t.getSpellName(),tags:t.getTags()},null!=n?n:{})),e}function af(e,t){var n=t.getActionEffects(e),r=t.getActionEffectExplanations(e,"average").average;return nf(n.average,n.variance,r)}function of(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var uf=function(e){(0,ws.default)(n,e);var t=of(n);function n(){var e;return(0,Le.default)(this,n),(e=t.call(this))._tagArray=null,e._manaCostTags=(0,q.default)((function(t){return[].concat((0,h.default)(e.getTags()),[pt.Cost,Dt.Mana,null==t||null==t.getId?void 0:t.getId()]).filter((function(e){return null!=e}))})),e._cooldownTagArray=null,e._actionParams=(0,q.default)((function(){return{action:(0,_c.default)(e)}})),e._cacheEnabled=null,e.canCastSpellTags=(0,q.default)((function(){return[].concat((0,h.default)(e.getTags()),[pt.CanCastSpell])})),e.autocastPointsRequirementTags=(0,q.default)((function(){return[].concat((0,h.default)(e.getTags()),[pt.AutocastPointsConsumption])})),e}return(0,He.default)(n,[{key:"getTags",value:function(){if(null==this._tagArray){var e=[].concat((0,h.default)((0,xs.default)((0,Cs.default)(n.prototype),"getTags",this).call(this)),[pt.Spell],(0,h.default)(Object.keys(this.getLevelRequirements())),(0,h.default)(this.getExtraTags())),t=this.getElement();e.push(t),this._tagArray=e}return this._tagArray}},{key:"getExtraTags",value:function(){return[]}},{key:"getCost",value:function(e){return{resources:{Mana:this.getManaCost(e)},items:{}}}},{key:"getManaCost",value:function(e,t){if(null!=t)return this.getManaCostUncached(e,t);var n=e.temp.spellManaCostCache[this.getId()];return null==n&&(n=this.getManaCostUncached(e,t),e.temp.spellManaCostCache[this.getId()]=n),n}},{key:"getManaCostUncached",value:function(e,t){return It(this._manaCostTags(t),e,this.getBaseManaCost(e),null==t?this._actionParams():{action:null!=t?t:this})}},{key:"hasFixedManaCost",value:function(){return!0}},{key:"getAreas",value:function(){return{SPELL_MENU:[this.getElement()]}}},{key:"getLastCastTime",value:function(e){var t;return(null==(t=e.run.lastSpellCastTimes)?void 0:t[this.getId()])||0}},{key:"getBasicDisplayName",value:function(e){var t=this.getSpellName();return this.hasActiveSpellcrafts(e)&&(t+="*"),this.isEmpowered(e)&&(t+="+"),t}},{key:"getDisplayName",value:function(e){var t=this.getLastCastTime(e),n=kc(e,this),r=this.getBasicDisplayName(e);if(t>0){var a=t+this.getCooldown(e)-Aa(e);a>0&&(r=ae("{{spellName}} ({{secTillOver}} sec)",{spellName:r,secTillOver:ue(a,{showDecimals:!0})}))}return n?ae("{{mainName}} (P)",{mainName:r}):function(e,t){var n=Rc(e,t);return null!=n&&Sc(e,n).wizardsAssigned>0}(e,this)?ae("{{mainName}} (A)",{mainName:r}):ae("{{mainName}}",{mainName:r})}},{key:"hasActiveSpellcrafts",value:function(e){var t=this;return _(e.run.spellcrafts).some((function(e){return e.spellId==t.getId()&&null!=e.spellcraftId}))}},{key:"getBaseCooldown",value:function(){return 0}},{key:"getCooldown",value:function(e){return null==this._cooldownTagArray&&(this._cooldownTagArray=[].concat((0,h.default)(this.getTags()),[pt.SpellCooldown])),0===this.getBaseCooldown()?0:Pt(this._cooldownTagArray,e,this.getBaseCooldown(),this._actionParams())}},{key:"isVisible",value:function(e){var t=this.getId(),n=e.temp.spellRequirementsCache[t];null==n&&(n=qn(e,this.getLevelRequirements()),e.temp.spellRequirementsCache[t]=n);return n}},{key:"isEnabled",value:function(e,t){if(null==this._cacheEnabled||this._cacheEnabled.ticks!=e.global.tickCount){var n=this._isEnabledNoCache(e,t);this._cacheEnabled={value:n,ticks:e.global.tickCount}}return this._cacheEnabled.value}},{key:"shouldIgnoreCanCastSpell",value:function(){return!1}},{key:"_isEnabledNoCache",value:function(e,t){if(!this.isVisible(e))return!1;var r=this.getLastCastTime(e);if(r>0&&Aa(e)<r+this.getCooldown(e))return!1;if(!this.shouldIgnoreCanCastSpell()){if(xo(e,"silence")||xo(e,"stun"))return!1;if(Pt(this.canCastSpellTags(),e,1)<=0)return!1}return(0,xs.default)((0,Cs.default)(n.prototype),"isEnabled",this).call(this,e,t)}},{key:"isPermaCastAllowed",value:function(){var e,t,n;return this.getBaseCooldown()>0||(null!=(e=null==(t=this.getCachedBaseActionEffects())||null==(n=t.duration)?void 0:n.value)?e:0)>0}},{key:"getPermaCastDelaySec",value:function(e){return this.getEstimatedMinAutocastDelay(e)}},{key:"getPermaCastManaCostPerSec",value:function(e){return this.getManaCost(e)/this.getPermaCastDelaySec(e)}},{key:"getPermaCastAutocastPointsConsumptionPerSec",value:function(e){return this.getAutocastPointsRequirement(e)/this.getPermaCastDelaySec(e)}},{key:"getAutocastPointsRequirement",value:function(e){var t=e.temp.autocastPointsRequirementCache[this.getId()];return null==t&&(t=It(this.autocastPointsRequirementTags(),e,this.getBaseAutocastPointsRequirement(),this._actionParams()),e.temp.autocastPointsRequirementCache[this.getId()]=t),t}},{key:"getBaseAutocastPointsRequirement",value:function(){return 60}},{key:"getExpFromUsage",value:function(e){var t=this,n=this.getId(),r=e.temp.spellExpCache[n];if(null==r){var a=this.getLevelRequirements();r=ee(Z(a).map((function(n){var r,i;return[n,Hn(e,n,a[n],null!=(r=null==(i=t.getCost(e).resources)?void 0:i[Dt.Mana])?r:0,!0,t.getTags())]}))),e.temp.spellExpCache[n]=r}return r}},{key:"getMainExp",value:function(e){var t,n,r=this.getExpFromUsage(e),a=this.getElement();return null!=a?{element:a,expMin:null!=(t=r[a])?t:0,expMax:null!=(n=r[a])?n:0}:{element:void 0,expMin:Math.min.apply(Math,(0,h.default)(_(r))),expMax:Math.max.apply(Math,(0,h.default)(_(r)))}}},{key:"grantExpFromUsage",value:function(e){var t=this.getExpFromUsage(e);return Z(t).forEach((function(n){e=En(n,t[n])(e)})),e}},{key:"doActionPermaCast",value:function(e){for(var t of(e=this.doSpellAction(e,{isAutomatic:!0}),e=Pa(this,e=this.grantExpFromUsage(e)),$c.getAll()))e=t(e,this);return e}},{key:"doAction",value:function(e,t){if(!this.canAfford(t))return t;for(var n of(t=this.doSpellAction(t,e),t=this.payCost(t),t=this.grantExpFromUsage(t),e.isAutomatic||(t=function(e,t){var n=e.getId();return t.run.recentSpellsCast=t.run.recentSpellsCast.filter((function(e){return e!=n})),t.run.recentSpellsCast.unshift(n),t.run.recentSpellsCast=t.run.recentSpellsCast.slice(0,3),t}(this,t)),t=Pa(this,t),$c.getAll()))t=n(t,this);return t}},{key:"isCastingRecommended",value:function(e){return!!function(e,t,n){return!xo(e,t,n)||bo(e,t,n)-Aa(e)<2}(e,this.getId())}},{key:"getEstimatedMinAutocastDelay",value:function(e,t){var n=this;if(null!=t&&t.conditions.length>0&&t.conditions.every((function(e){return e.condition!=tc.getId()})))return Math.max(0,this.getCooldown(e));var r=0,a=this.getCachedBaseActionEffects();return null!=a&&a.duration&&(r=Me(e,(function(e){return"minAutocastDelayDuration"+n.getId()}),(function(e){return n.getActionEffect(e,"duration")}))),Math.max(0,r>0?Math.max(1,Math.floor(r-2)):0,this.getCooldown(e))}},{key:"isEmpowerable",value:function(){return!1}},{key:"getEmpoweringLevelRequirements",value:function(){return{}}},{key:"isEmpoweringPossible",value:function(e){var t=this;return!!this.isEmpowerable()&&je(e,"spellEmpoweringEnabled."+this.getId(),(function(e){return qn(e,t.getEmpoweringLevelRequirements())}))}},{key:"isEmpowered",value:function(e){var t;return null!=(t=e.run.empoweredSpells[this.getId()])&&t}},{key:"allowRegisteringTemporaryEffectsAsPermacast",value:function(){return!0}}]),n}(Is);function lf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var sf=function(e){(0,ws.default)(n,e);var t=lf(n);function n(){var e;(0,Le.default)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).tagsForResource=(0,q.default)((function(t){return[].concat((0,h.default)(e.getItem().getTags()),(0,h.default)(Object.keys(e.getCraftingElementLevelRequirements())),[t,e.getId(),pt.ItemCost])})),e.tagsForItem=(0,q.default)((function(t){return[].concat((0,h.default)(e.getItem().getTags()),(0,h.default)(Object.keys(e.getCraftingElementLevelRequirements())),[t,e.getId(),pt.ItemCostItem])})),e.tagsForQuality=(0,q.default)((function(){return[e.getId(),pt.ItemQuality].concat((0,h.default)(e.getItem().getTags()),(0,h.default)(Object.keys(e.getCraftingElementLevelRequirements())))})),e.tagsForCreation=(0,q.default)((function(){return[e.getId(),pt.ItemAmountTransmuted].concat((0,h.default)(e.getItem().getTags()),(0,h.default)(Object.keys(e.getCraftingElementLevelRequirements())))})),e}return(0,He.default)(n,[{key:"getId",value:function(){return"transmute-"+this.getItem().getId()}},{key:"getAutocastCategory",value:function(){return lc.TRANSMUTATION}},{key:"getAreas",value:function(){return{TRANSMUTE:this.getItem().getTags()}}},{key:"getExtraTags",value:function(){return[pt.TransmutationSpell]}},{key:"getSpellName",value:function(){return ae("Transmute {{itemName}}",{itemName:this.getItem().getBaseName(this.getItem().getDefaultParams())})}},{key:"getDisplayName",value:function(e){return ae("Transmute {{itemName}}",{itemName:this.getItem().getBaseName(this.getItem().getDefaultParams())})}},{key:"getCost",value:function(e){return this.getCraftingMaterials(e)}},{key:"generateCraftedParams",value:function(e){var t=It(this.tagsForQuality(),e,0,{spell:this});return 0==t?{}:{itemQuality:t}}},{key:"getLevelRequirements",value:function(){return this.getCraftingElementLevelRequirements()}},{key:"simplifyCrafting",value:function(){return!0}},{key:"getCraftingMaterials",value:function(e){var t=this.getCraftingMaterialsBase(e),n={},r={};for(var a in t.resources){var i,o=null!=(i=t.resources[a])?i:0;n[a]=Math.ceil(It(this.tagsForResource(a),e,o))}for(var u in t.items){var l,s=null!=(l=t.items[u])?l:0;r[u]=Math.ceil(It(this.tagsForItem(u),e,s))}return{resources:n,items:r}}},{key:"getDisplayDescription",value:function(e){var t;return null!=(t=this.getItem().getDescription(e,this.generateCraftedParams(e)))?t:""}},{key:"getDisplayEffect",value:function(e){var t;return null!=(t=this.getItem().getEffect(e,this.generateCraftedParams(e)))?t:""}},{key:"doSpellAction",value:function(e,t){throw new Error("Not used in transmutation spells")}},{key:"canAfford",value:function(e){return(0,xs.default)((0,Cs.default)(n.prototype),"canAfford",this).call(this,e)}},{key:"hasCraftingMaterials",value:function(e){var t=this.getCraftingMaterials(e);for(var n in t.resources){var r,a=(null==(r=t.resources)?void 0:r[n])||0;if(zt(e,n)<a)return!1}for(var i in t.items){var o=t.items[i];if(Fr(Br.getById(i),e)<o)return!1}return!0}},{key:"canCraft",value:function(e){return!!this.isEnabled(e)&&!!this.hasCraftingMaterials(e)}},{key:"getBaseManaCost",value:function(e){return 0}},{key:"isVisible",value:function(e){return cf(e)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"getExpFromUsage",value:function(e){var t=this,n=this.getCraftingElementLevelRequirements(),r=this.generateCraftedParams(e);return ee(Z(n).map((function(a){return[a,Hn(e,a,n[a],t.getItem().getBaseSalePrice(e,r),!0,t.getTags())]})))}},{key:"doAction",value:function(e,t){return this.craftN(t,e,1)}},{key:"calculateAmountPerCraft",value:function(e,t){return It(this.tagsForCreation(),e,1,{spell:this,automated:t.isAutomatic})}},{key:"craftN",value:function(e,t,n){if(!this.canAfford(e))return e;if(!this.canCraft(e))return e;var r=this.calculateAmountPerCraft(e,t);if(r*=n,this.simplifyCrafting()){var a=this.generateCraftedParams(e);e=Or({itemId:this.getItem().getId(),params:a},r,e)}else for(;r>=1;){var i=this.generateCraftedParams(e);e=Or({itemId:this.getItem().getId(),params:i},1,e),r-=1}e=this.payCost(e,n);var o=this.getExpFromUsage(e);for(var u of(Z(o).forEach((function(t){e=En(t,o[t]*n)(e)})),$c.getAll()))e=u(e,this);return e}},{key:"craftMax",value:function(e){var t=this.timesCraftable(e);return this.craftN(e,{isAutomatic:!1},t)}},{key:"craftIntermediate",value:function(e){var t=this.getCost(e).items;for(var n in t){var r=Br.getById(n),a=t[n],i=Fr(r,e);if(!(i>=a)){var o=gf(r);if(null!=o&&o.isEnabled(e)){var u=a-i,l=o.calculateAmountPerCraft(e,{isAutomatic:!1}),s=o.timesCraftable(e),c=Math.min(Math.ceil(u/l),s);e=o.craftN(e,{isAutomatic:!1},c)}}}return e}},{key:"isCraftIntermediatePossible",value:function(e){var t=this.getCost(e).items;for(var n in t){var r=Br.getById(n),a=t[n];if(!(Fr(r,e)>=a)){var i=gf(r);if(null!=i&&i.isVisible(e)&&i.isEnabled(e))return!0}}return!1}},{key:"isCraftIntermediatePotentiallyPossible",value:function(e){var t=this.getCost(e).items;for(var n in t){var r=gf(Br.getById(n));if(null!=r&&r.isVisible(e))return!0}return!1}},{key:"timesCraftable",value:function(e){var t=this.getCost(e),n=Object.keys(t.resources).map((function(n){var r=zt(e,n);return Math.floor(r/t.resources[n])})),r=Object.keys(t.items).map((function(n){var r=Fr(Br.getById(n),e);return Math.floor(r/t.items[n])}));return Math.min(Math.min.apply(Math,(0,h.default)(n)),Math.min.apply(Math,(0,h.default)(r)))}},{key:"shouldIgnoreCanCastSpell",value:function(){return!0}}]),n}(uf);function cf(e){return Ve(e,Ir.TransmutationUnlocked)}var ff={};function df(e){Br.register(e.getItem()),Ba(e),ff[e.getItem().getId()]=e}function gf(e){return ff[e.getId()]}function hf(e){return function(e){return Ve(e,Ir.TransmutationUnlocked)}(e)?Ia.getAll().filter((function(t){return t instanceof sf&&t.isVisible(e)})):[]}function mf(e){return Re(e,"allTransmutationSpellsEverCastable",(function(e){var t=Se(e);return Rn(t).forEach((function(n){var r,a;t.run.elementExperience[n]=bn(t,null!=(r=null==(a=e.world.maxElementLevels)?void 0:a[n])?r:1,n)})),hf(t=qe(Ir.TransmutationUnlocked)(t))}))}var yf=function(){function e(){(0,Le.default)(this,e)}return(0,He.default)(e,[{key:"getParameterlessDisplayDescription",value:function(e){return this.getDisplayDescription(e,{id:"null",fromPouch:!1,fromPermacast:!1,fromAutocast:!1,endTime:Aa(e),setTime:Aa(e),params:{},registeredClear:!1,target:Qr.Player})}},{key:"isCommonBuffEnabled",value:function(){return[]}},{key:"getIcon",value:function(){return this.isBeneficial()?n(16981):n(85832)}},{key:"isBeneficial",value:function(){return!0}},{key:"isCombatOnly",value:function(){return!1}},{key:"isDispellable",value:function(){return!0}},{key:"isHidden",value:function(){return!1}},{key:"mergeData",value:function(e,t,n,r){if("add"==r){var a=bo(e,this.getId(),t.target),i=Math.max(0,a-Aa(e));n.endTime+=i}return n}}]),e}();function pf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var vf=new(function(e){(0,ws.default)(r,e);var t=pf(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"ritualWeakness"}},{key:"getDisplayName",value:function(){return ae("Ritual Weakness")}},{key:"getDisplayDescription",value:function(e,t){return ae("Your body is temporarily weak from starting a Ritual! -50%:attack:, :defense:, :dodge: and :critChance:")}},{key:"getIcon",value:function(){return n(19346)}},{key:"isDispellable",value:function(){return!1}},{key:"isCombatOnly",value:function(){return!1}},{key:"isBeneficial",value:function(){return!1}}]),r}(yf));var Af=new Qe;var bf=[pt.CorruptionCap];function kf(e){return Rt(bf,e,1)}var xf=[pt.Corruption,pt.Accumulation];function wf(e){return Pt(xf,e,0)}var Ef=.9,Cf=1,If=1e-5;function Bf(e){return wf(e)>=kf(e)+If}function Sf(e){return Bf(e)?Math.pow(Ef,Math.max(wf(e)-kf(e),0)/Cf):1}var Rf=.7,Pf=3,Tf=3;function jf(e){return wf(e)>=kf(e)+Tf}function Mf(e){return jf(e)?Math.pow(Rf,Math.max(wf(e)-kf(e),0)/Pf):1}var Df=2,Of=5,Nf=5;function Uf(e){return wf(e)>=kf(e)+Nf}function Ff(e){return Uf(e)?Math.pow(Df,Math.max(wf(e)-kf(e),0)/Of):1}function Lf(e){return Ve(e,Ir.RitualsUnlocked)?Af.getAll().filter((function(t){return t.isVisible(e)})):[]}var Hf=.25,Yf=1/3,Qf=10,zf=1.33353;function Vf(e,t){var n=Wf(e,t);return n<=0?1:Math.pow(zf,n)}function Wf(e,t){return Math.floor(t/Qf)-Math.floor(e/Qf)}function Gf(e){return Jf(e.getLevelRequirements())}function Jf(e){var t=[];for(var n of Z(e))t.push(ae("{{elementName}} Lv{{level}}",{elementName:ln(n),level:e[n]}));return t.join(ae(", "))}function qf(e){return"*"+e.getSpellName()+"* ("+Gf(e)+")"}function Xf(e){return"*"+e.getSpellName()+"+* ("+Jf(e.getEmpoweringLevelRequirements())+")"}function Kf(e,t){return ae("{{itemIcon}} *{{itemName}}* ({{requirements}})",{itemIcon:":"+t.getItem().getId()+":",itemName:t.getItem().getName(t.getItem().getDefaultParams()),requirements:Gf(t)})}var Zf=new Qe;function _f(){var e=function(e){var t=Tl("Level_Up_"+e,ae("{{element}} Level Up!",{element:ln(e)}),[fl.LEVEL_UP]);t.message(ae("Congratulations!\n      \nYour {{element}} level is now /level/!\n\n/rankText/\n\n/levelUpLearnedSpells/\n\n/levelUpLearnedCrafts/\n\n/levelUpLearnedEmpowers/\n\n/levelUpLearnedRituals/",{element:ln(e)}));var n=t.build();ft("Level_Up_"+e,(function(t){var r;t.temp.spellRequirementsCache={};var a=Se(t),i=xn(t,e);if(xn(a=En(e,-(gn(t,e)-(null!=(r=t.run.lastComputedLevelUpElementExperience[e])?r:0)))(a),e)!=i){a=on(a),t=on(t);var o=Ra(a,e,_t.SPELL_MENU),u=Ra(t,e,_t.SPELL_MENU),l=function(e,t){var n=t.filter((function(t){return!e.includes(t)})),r="",a="";if(n.length>3){var i=n.length-3;a=ae("and {{extraSpells}} more!",{extraSpells:i}),n=n.slice(0,3)}if(n.length>0){var o=n.map(qf).join(ae(", "));""!==a&&(o=[o,a].join(ae(". "))),r=ae("**New spells learned:** {{newSpellsLearnedText}}",{newSpellsLearnedText:o})}return r}(o,u),s=hf(a),c=hf(t),f=function(e,t,n,r){var a=r.filter((function(e){var r,a;return!n.includes(e)&&(null!=(r=null==(a=e.getLevelRequirements())?void 0:a[t])?r:0)>0})),i="";if(cf(e)&&a.length>0){var o="";if(a.length>3){var u=a.length-3;o=ae("and {{extraSpells}} more!",{extraSpells:u}),a=a.slice(0,3)}var l=a.map(Kf.bind(null,e)).join(", ");""!==o&&(l=[l,o].join(ae(", "))),i=ae("**New Transmutations available:**\n{{newSpellsLearnedText}}",{newSpellsLearnedText:l})}return i}(t,e,s,c),d=function(e,t){var n=t.filter((function(t){return!e.includes(t)})),r="",a="";if(n.length>3){var i=n.length-3;a=ae("and {{extraSpells}} more!",{extraSpells:i}),n=n.slice(0,3)}if(n.length>0){var o=n.map(Xf).join(ae(", "));""!==a&&(o=[o,a].join(ae(". "))),r=ae("**New Empowerable spells:** {{newSpellsLearnedText}}",{newSpellsLearnedText:o})}return r}(o.filter((function(e){return e.isEmpoweringPossible(a)})),u.filter((function(e){return e.isEmpoweringPossible(t)}))),g=function(e,t){var n=t.filter((function(t){return!e.includes(t)})),r="",a="";if(n.length>3){var i=n.length-3;a=ae("and {{extraRituals}} more!",{extraRituals:i}),n=n.slice(0,3)}if(n.length>0){var o=n.map((function(e){return"*"+e.getBaseName()+"* ("+Jf(e.getLevelRequirements())+")"})).join(ae(", "));""!==a&&(o=[o,a].join(ae(". "))),r=ae("**New Rituals:** {{newRitualsLearnedText}}",{newRitualsLearnedText:o})}return r}(Lf(a),Lf(t)),h=i%Qf==0?ae("You have reached a new Rank: *{{rank}}*. Any {{element}} spells you have learned on a previous rank will become 33% stronger!",{rank:sn(i),element:ln(e)}):"",m=[];return l||f||d||g||h||m.push(fl.LEVEL_UP_EMPTY),a.run.maxElementLevelsOnPrevRetirement[e]>=i&&m.push(fl.LEVEL_UP_ALREADY_REACHED),function(t){return t=xl(n,{level:i,rankText:h,levelUpLearnedSpells:l,levelUpLearnedCrafts:f,levelUpLearnedEmpowers:d,levelUpLearnedRituals:g},m)(t),Zf.getAll().forEach((function(n){var r;t=n(t,e,null!=(r=t.run.lastComputedLevelUpElementExperience[e])?r:0)})),t.run.lastComputedLevelUpElementExperience[e]=gn(t,e),t.temp.spellRequirementsCache={},t}}}),(function(t){return xn(t,e)}))};for(var t of _(un))e(t)}function $f(e){return Me(e,(function(e){return"allKnownItemCompendiumInfos"}),(function(e){return Br.getAll().map((function(t){return function(e,t){var n=Br.getById(t),r={item:n,transmuteSpell:void 0,knownLootFromEnemies:[]},a=gf(n),i=mf(e);null!=a&&i.includes(a)&&(r.transmuteSpell=a);var o={};return qi.getAll().forEach((function(n){var r,a=n.getItemsAwardedBase(e).find((function(e){return e.itemId==t}));null!=a&&(n.getBestiaryState(e)==Fu.Loot?o[n.getId()]={enemy:n,lootChance:a.chance,amount:a.amount}:null!=(r=e.world.knownEnemiesThatDrop[t])&&r[n.getId()]&&(o[n.getId()]={enemy:n,lootChance:void 0,amount:a.amount}))})),r.knownLootFromEnemies=_(o),r}(e,t.getId())})).filter((function(t){return t.transmuteSpell||t.knownLootFromEnemies.length>0||e.world.itemsEverAddedToInventory[t.item.getId()]}))}))}function ed(e){return De(e,(function(e){return"allKnownItemCompendiumInfos"}))}function td(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}function nd(e){return e>0?{value:e,valueType:vt.Percent}:{value:1/(1+e)-1,valueType:vt.Divisor}}function rd(e,t){return null==t?1:e>0?1+t:1/(t+1)}var ad=function(){function e(){var t=this;(0,Le.default)(this,e),this.tagsByEffect={},this.getCachedBaseBonusEffects=(0,q.default)((function(){var e={};return 0!=t.getBaseWizardPowerMultiplier()&&(e.wizardPower=nd(t.getBaseWizardPowerMultiplier())),0!=t.getBasePowerMultiplier()&&(e.power=nd(t.getBasePowerMultiplier())),0!=t.getBaseCooldownMultiplier()&&(e.cooldown=nd(t.getBaseCooldownMultiplier())),0!=t.getBaseTemporaryEffectDurationMultiplier()&&(e.temporaryEffectDuration=nd(t.getBaseTemporaryEffectDurationMultiplier())),0!=t.getBaseManaCostMultiplier()&&(e.manaCost=nd(t.getBaseManaCostMultiplier())),e})),this.bonusEffectExplanationParams=(0,q.default)((function(e){return{valueType:e.valueType,unit:e.unit}}))}return(0,He.default)(e,[{key:"getId",value:function(){return"spellcraft-"+this.getBaseItem().getId()}},{key:"getName",value:function(){return this.getBaseItem().getDefaultName()}},{key:"getPicture",value:function(){return this.getBaseItem().getPicture()}},{key:"getTags",value:function(){return[pt.Spellcraft]}},{key:"getTagsByEffect",value:function(e,t){var n,r;null==(null==(n=this.tagsByEffect)?void 0:n[e])&&(this.tagsByEffect[e]=[].concat((0,h.default)(this.getTags()),[this.getId()],(0,h.default)(null!=(r=t.tags)?r:[]),[pt.SpellcraftEffect]));return this.tagsByEffect[e]}},{key:"getBaseWizardPowerMultiplier",value:function(){return 0}},{key:"getBasePowerMultiplier",value:function(){return 0}},{key:"getBaseCooldownMultiplier",value:function(){return 0}},{key:"getBaseTemporaryEffectDurationMultiplier",value:function(){return 0}},{key:"getBaseManaCostMultiplier",value:function(){return 0}},{key:"getBaseMultipliers",value:function(){return{wizardPower:this.getBaseWizardPowerMultiplier(),power:this.getBasePowerMultiplier(),cooldown:this.getBaseCooldownMultiplier(),temporaryEffectDuration:this.getBaseTemporaryEffectDurationMultiplier(),manaCost:this.getBaseManaCostMultiplier()}}},{key:"requiresSpellsWithParameterizedEffects",value:function(){return 0!=this.getBasePowerMultiplier()}},{key:"requiresSpellsWithCooldown",value:function(){return 0!=this.getBaseCooldownMultiplier()}},{key:"requiresSpellsWithTemporaryEffect",value:function(){return 0!=this.getBaseTemporaryEffectDurationMultiplier()}},{key:"requiresSpellsWithFixedManaCost",value:function(){return 0!=this.getBaseManaCostMultiplier()}},{key:"isSpellCompatible",value:function(e){return!(this.requiresSpellsWithFixedManaCost()&&!e.hasFixedManaCost())&&(!(this.requiresSpellsWithParameterizedEffects()&&!_(e.getCachedBaseActionEffects()).some((function(e){var t;return null==(t=e.tags)||null==t.includes?void 0:t.includes(pt.ActionMagnitude)}))&&!_(e.getCachedBaseActionEffects()).some((function(e){var t;return null==(t=e.tags)||null==t.includes?void 0:t.includes(pt.TemporaryEffectMagnitude)}))&&!_(e.getCachedBaseActionEffects()).some((function(e){var t;return null==(t=e.tags)||null==t.includes?void 0:t.includes(pt.ChannelingEfficiency)})))&&(!(this.requiresSpellsWithCooldown()&&e.getBaseCooldown()<=0)&&!(this.requiresSpellsWithTemporaryEffect()&&!_(e.getCachedBaseActionEffects()).some((function(e){var t;return null==(t=e.tags)||null==t.includes?void 0:t.includes(pt.TemporaryEffectDuration)})))))}},{key:"canAfford",value:function(e){return Fr(this.getBaseItem(),e)>=1e3}},{key:"getEffect",value:function(e){var t=this.getBonusEffects(e),n=this.getBonusEffectExplanations(e),r={wizardPower:rd(this.getBaseWizardPowerMultiplier(),t.wizardPower),power:rd(this.getBasePowerMultiplier(),t.power),cooldown:rd(this.getBaseCooldownMultiplier(),t.cooldown),temporaryEffectDuration:rd(this.getBaseTemporaryEffectDurationMultiplier(),t.temporaryEffectDuration),manaCost:rd(this.getBaseManaCostMultiplier(),t.manaCost)};return Object.keys(r).map((function(e){var t=null==r?void 0:r[e];if(1==t)return null;var a=null==n?void 0:n[e];switch(e){case"wizardPower":return ae("^{{value}}^<{{explanation}}> :wizardpower: cost",{value:le(t),explanation:a});case"power":return ae("^{{value}}^<{{explanation}}> spell power",{value:le(t),explanation:a});case"cooldown":return ae("^{{value}}^<{{explanation}}> spell cooldown",{value:le(t),explanation:a});case"temporaryEffectDuration":return ae("^{{value}}^<{{explanation}}> duration of spell effects",{value:le(t),explanation:a});case"manaCost":return ae("^{{value}}^<{{explanation}}> :mana: cost",{value:le(t),explanation:a})}})).filter((function(e){return null!=e})).join(ae(", "))}},{key:"getBonusEffect",value:function(e,t){var n=this.getCachedBaseBonusEffects()[t];return null==n?0:Rt(this.getTagsByEffect(t,n),e,n.value)}},{key:"getBonusEffects",value:function(e,t){var n=this.getCachedBaseBonusEffects(),r={};for(var a in n)r[a]=this.getBonusEffect(e,a);return r}},{key:"getBonusEffectExplanations",value:function(e,t){var n=this.getCachedBaseBonusEffects(),r={};for(var a in n)if(null==t||a==t){var i=n[a];r[a]=Mt(this.getTagsByEffect(a,i),e,i.value,this.bonusEffectExplanationParams(i))}return r}}]),e}(),id=(function(e){(0,ws.default)(n,e);var t=td(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}(0,He.default)(n,[{key:"getBaseItem",value:function(){return Br.getById("elementalPrism"+this.getElement())}},{key:"getBaseWizardPowerMultiplier",value:function(){return 1}}])}(ad),function(e){(0,ws.default)(n,e);var t=td(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}(0,He.default)(n,[{key:"getBaseItem",value:function(){return Br.getById("elementalJewel"+this.getElement())}},{key:"getBaseWizardPowerMultiplier",value:function(){return 2}}])}(ad),new Qe),od=2;function ud(e,t){return _(e.run.spellcrafts).filter((function(e){return e.spellId==t}))}function ld(e,t){var n=function(e){return id.getAll().filter((function(t){var n=t.getBaseItem();return $f(e).some((function(e){return e.item==n}))}))}(e);return n.filter((function(e){return e.isSpellCompatible(t)}))}function sd(e,t,n){var r=_(e.run.spellcrafts),a=ud(e,t).filter((function(e){return null!=e.spellcraftId}));if(a.length>=od)return!1;if(!function(e,t){var n=gf(t.getBaseItem());if(null==n)return!1;var r=n.getElement();return Bn(e).includes(r)}(e,n))for(var i of r)if(i.spellcraftId==n.getId())return!1;for(var o of a)if(o.spellcraftId==n.getId())return!1;return!0}function cd(e,t){var n=e.run.spellcrafts[t];if(null==n.spellId)return e;var r=id.getByIdNullable(n.spellcraftId);return null!=r&&(e=Or({itemId:r.getBaseItem().getId(),params:r.getBaseItem().getDefaultParams()},1e3,e)),n.spellcraftId=void 0,e=zc(e=Ya(e))}function fd(e){var t=Math.random().toString();return e.run.spellcrafts[t]={spellcraftId:void 0,spellId:void 0,vatId:t},e}function dd(e){return Ve(e,Ir.SpellcraftUnlocked)}var gd=new Qe,hd=3,md=3,yd=8;function pd(e){return Ve(e,Ir.SynchroUnlocked)}function vd(e){var t=e.world.synchro.currentGrid,n=e.world.synchro.grids[t];return null==n&&(n=X(ke),e.world.synchro.grids[t]=n),n}function Ad(e,t,n,r){var a,i;if(!(t<0||n<0||t>=md||n>=hd))return null==(i=(r=null!=(a=r)?a:vd(e)).grid[n])?void 0:i[t]}var bd=new Qe;function kd(e,t,n){for(var r=t==n?[[1,0],[0,1]]:[[-1,0],[0,-1],[1,0],[0,1]],a=0,i=0;i<3;i++)for(var o=0;o<3;o++)if(Ad(e,i,o)==t)for(var u of r)Ad(e,i+u[0],o+u[1])==n&&a++;return a}function xd(e,t){var n=0,r=vd(e);for(var a in r.grid)for(var i in null!=(o=null==(u=r.grid)?void 0:u[a])?o:[]){var o,u,l,s;n+=(null==(l=r.grid)||null==(s=l[a])?void 0:s[i])==t?1:0}return n}function wd(e,t){return It([t,pt.SynchroGridMax],e,2)}var Ed=(0,q.default)((function(e,t){return gd.getAll().find((function(n){return n.getElement1()==e&&n.getElement2()==t||n.getElement1()==t&&n.getElement2()==e}))}));function Cd(e,t,n){var r=Ad(e,t,n);if(null==r)return!1;for(var a of[[-1,0],[0,-1],[1,0],[0,1]]){var i=Ad(e,t+a[0],n+a[1]);if(null!=i){var o=Ed(r,i);if(null!=o&&!o.isBeneficial())return!0}}return!1}var Id=(0,q.default)((function(e,t){var n,r;return"dark"===e?null==(n=W()(t))?void 0:n.lighten(1.2).string():null==(r=W()(t))?void 0:r.darken(.3).string()}));function Bd(e,t){var n=ir(t,e);return e?n.colors.primaryContainer:n.colors.primary}function Sd(e,t){return t?e.colors.onSurfaceDisabled:e.colors.onPrimary}function Rd(e){var t=(0,D.useTheme)(),n=(0,o.useMemo)((function(){return[{color:t.colors.onBackground},e.style||{}]}),[t,e.style]);return(0,Ll.jsx)(fs,{style:n,children:e.children})}function Pd(e){var t=(0,D.useTheme)(),n=(0,o.useMemo)((function(){return[Fd.effectText,{color:t.colors.onBackground},e.style||{}]}),[t,e.style]);return(0,Ll.jsx)(fs,{style:n,children:e.children})}var Td=(0,q.default)((function(){return[{id:"Home",name:ae("Home"),scrollable:!0,hideBottomResourceBar:!1,scrollView:!1,keepInMemory:!0,hotkey:"H"},{id:"Study",name:ae("Study"),scrollable:!0,hideBottomResourceBar:!1,scrollView:!0,keepInMemory:!0,hotkey:"S",isVisible:function(e){return ii(e)}},{id:"Inventory",name:ae("Inventory"),scrollable:!0,hideBottomResourceBar:!1,scrollView:!0,keepInMemory:!0,hotkey:"I",isVisible:function(e){return cf(e)||e.run.inventory.length>0}},{id:"Transmute",name:ae("Transmute"),scrollable:!0,hideBottomResourceBar:!1,scrollView:!0,keepInMemory:!0,hotkey:"T",isVisible:function(e){return cf(e)}},{id:"Wizards",name:ae("Wizards"),scrollable:!0,hideBottomResourceBar:!0,scrollView:!1,keepInMemory:!0,hotkey:"W",isVisible:function(e){return Dc(e)},isBadged:function(e){return Pe(e,"isWizardsBadged",(function(e){var t,n;if(e.run.autocast.autocastPaused)return!0;var r=Ic(e);return Qc(e,r)>dc(e)*r.wizardsAssignedToPermaCast||Hc(e,r)>(null!=(t=null==(n=di(e))?void 0:n.Mana)?t:0)}))}},{id:"Exploration",name:ae("Exploration"),scrollable:!1,hideBottomResourceBar:!0,scrollView:!1,keepInMemory:!0,hotkey:"E",isVisible:function(e){return Wo(e)}},{id:"Enhance",name:ae("Enhance"),scrollable:!0,hideBottomResourceBar:!1,scrollView:!0,keepInMemory:!0,hotkey:"N",isVisible:function(e){return Kc(e)}},{id:"Synchro",name:ae("Synchro"),scrollable:!1,hideBottomResourceBar:!0,scrollView:!1,keepInMemory:!0,hotkey:"Y",isVisible:function(e){return pd(e)}},{id:"Boosts",name:ae("Boost"),scrollable:!0,hideBottomResourceBar:!1,scrollView:!0,keepInMemory:!0,hotkey:"B",isVisible:function(e){return function(e){return Bs.isBonusActive(e)}(e)}},{id:"Familiars",name:ae("Familiars"),scrollable:!0,hideBottomResourceBar:!1,scrollView:!0,keepInMemory:!0,hotkey:"F",isVisible:function(e){return go(e)}},{id:"Spellcraft",name:ae("Spellcraft"),scrollable:!0,hideBottomResourceBar:!1,scrollView:!0,keepInMemory:!0,hotkey:"P",isVisible:function(e){return dd(e)}},{id:"Rituals",name:ae("Rituals"),scrollable:!0,hideBottomResourceBar:!1,scrollView:!0,keepInMemory:!0,hotkey:"R",isVisible:function(e){return function(e){return Rn(e).includes(un.Death)&&Ve(e,Ir.RitualsUnlocked)}(e)}},{id:"Ending",name:ae("Ending"),scrollable:!0,hideBottomResourceBar:!1,scrollView:!0,keepInMemory:!0,isVisible:function(e){return null!=ul(e)},fullScreen:!0},{id:"Retirement",name:ae("Retirement"),scrollable:!0,hideBottomResourceBar:!1,scrollView:!0,keepInMemory:!0,isVisible:function(e){return Kt(e)}},{id:"Worlds",name:ae("Worlds"),scrollable:!0,hideBottomResourceBar:!1,scrollView:!0,keepInMemory:!0,isVisible:function(e){return e.global.newGamePlusUnlocked}},{id:"Compendium",name:ae("Compendium"),scrollable:!0,hideBottomResourceBar:!0,scrollView:!0,keepInMemory:!0,isVisible:function(e){return function(e){return tt(e,"storyline_bookOfMonsters_completed")}(e)}},{id:"Stats",name:ae("Stats"),scrollable:!0,hideBottomResourceBar:!0,scrollView:!0,keepInMemory:!0},{id:"Options",name:ae("Options"),scrollable:!0,hideBottomResourceBar:!0,scrollView:!0,keepInMemory:!1},{id:"Help",name:ae("Help"),scrollable:!0,hideBottomResourceBar:!0,scrollView:!0,keepInMemory:!1,isBadged:function(e){return Ds(e,"Help").length>0}},{id:"About",name:ae("About"),scrollable:!0,hideBottomResourceBar:!0,keepInMemory:!1,scrollView:!0},{id:"Debug",name:"Debug",scrollable:!0,hideBottomResourceBar:!0,scrollView:!0,keepInMemory:!1,isVisible:function(e){return!1}}]})),jd=Td().map((function(e){return e.id}));function Md(e){return Td().filter((function(t){return null==t.isVisible||t.isVisible(e)})).map((function(e){return e.id}))}function Dd(e){return Td().find((function(t){return t.id==e}))}var Od=5;function Nd(){var e=(0,j.default)(),t=e.width,n=e.height;return Ud(As(),n,t)}function Ud(e,t,n){var r,a;return n<700?{wideLayout:!1,showMenu:!1,showSpellMenu:!1,showEventsMenu:!1,activeContentTabs:1}:n<1e3?{wideLayout:!0,showMenu:!0,showSpellMenu:!1,showEventsMenu:!1,activeContentTabs:1}:n<1350?{wideLayout:!0,showMenu:!0,showSpellMenu:!0,showEventsMenu:!1,activeContentTabs:1}:{wideLayout:!0,showMenu:!0,showSpellMenu:!0,showEventsMenu:!(null!=e&&null!=(r=e.options)&&r.doNotShowEventsOnWideScreens),activeContentTabs:Math.min(Od,Math.max(1,Math.floor((n-300*(2+(null!=e&&null!=(a=e.options)&&a.doNotShowEventsOnWideScreens?0:1)))/480)))}}var Fd=R.default.create({effectText:{fontWeight:"bold"}}),Ld=o.createContext({tooltip:void 0,position:{containerWidth:1}}),Hd={tooltip:void 0,position:{containerWidth:1}},Yd=o.createContext({setTooltip:function(e,t,n){},clearTooltip:function(e){},onMouseLeave:function(e){},onMouseEnter:function(e,t){},onUnmountTooltip:function(e){}}),Qd=function(){var e=(0,o.useContext)(Ld),t=(0,D.useTheme)(),n=(0,j.default)(),r=Nd();return(0,o.useMemo)((function(){var a,i,o,u,l,s,c,f;return(0,Ll.jsx)(T.default,{style:{zIndex:800,display:null!=e.tooltip&&r.showSpellMenu?void 0:"none",position:"absolute",left:null==(a=e.position)?void 0:a.left,top:null==(i=e.position)?void 0:i.top,bottom:null==(o=e.position)?void 0:o.bottom,right:null==(u=e.position)?void 0:u.right,minWidth:e.position.containerWidth,alignItems:"center"},pointerEvents:"none",children:(0,Ll.jsx)(T.default,{style:{padding:8,alignSelf:"center",backgroundColor:t.colors.background,borderRadius:4,borderWidth:1,borderColor:t.colors.outlineVariant,maxWidth:Math.min(n.width-(null!=(l=null==(s=e.position)?void 0:s.left)?l:0),null!=(c=null==(f=e.position)?void 0:f.right)?c:n.width,n.width/3,480)},pointerEvents:"none",children:e.tooltip})})}),[e.tooltip,JSON.stringify(e.position),t,n.width,r.showSpellMenu])},zd=function(e){return e.DEFAULT="DEFAULT",e.LEFT_OF_ELEMENT="LEFT_OF_ELEMENT",e.RIGHT_OF_ELEMENT="RIGHT_OF_ELEMENT",e}({}),Vd=function(e){var t,n=null!=(t=e.tooltipPosition)?t:zd.DEFAULT,r=(0,o.useContext)(Yd),a=(0,o.useContext)(hs),i=(0,j.default)(),u=(0,o.useRef)(null),l=(0,o.useCallback)((function(t){var a;null==(a=u.current)||a.measure((function(a,o,u,l,s,c){switch(n){case zd.DEFAULT:c>i.height/2?r.setTooltip(e.tooltipId,e.tooltip,{left:s,containerWidth:u,bottom:i.height-c+4},t):r.setTooltip(e.tooltipId,e.tooltip,{top:c+l+4,left:s,containerWidth:u},t);break;case zd.RIGHT_OF_ELEMENT:c>i.height/2?r.setTooltip(e.tooltipId,e.tooltip,{left:Math.min(s+u+4,i.width-480),containerWidth:30,bottom:Math.max(0,i.height-c-l)},t):r.setTooltip(e.tooltipId,e.tooltip,{top:c,left:Math.min(s+u+4,i.width-480),containerWidth:30},t);break;case zd.LEFT_OF_ELEMENT:c>i.height/2?r.setTooltip(e.tooltipId,e.tooltip,{right:i.width-s+4,containerWidth:30,bottom:Math.max(0,i.height-c-l)},t):r.setTooltip(e.tooltipId,e.tooltip,{top:c,right:i.width-s+4,containerWidth:30},t)}}))}),[r.setTooltip,e.tooltip,e.tooltipId,u,i.height,n]),s=(0,o.useCallback)((function(){var t=Math.random();r.onMouseEnter(e.tooltipId,t),l(t)}),[e.tooltipId,l]),c=(0,o.useCallback)((function(){r.onMouseLeave(e.tooltipId)}),[e.tooltipId]);return(0,o.useEffect)((function(){l()}),[l]),(0,o.useEffect)((function(){a||r.onUnmountTooltip(e.tooltipId)}),[a,r.clearTooltip,e.tooltipId]),(0,o.useEffect)((function(){null==e.tooltip&&r.clearTooltip(e.tooltipId)}),[e.tooltip,e.tooltipId,r.clearTooltip]),(0,o.useEffect)((function(){return l(),function(){return r.onUnmountTooltip(e.tooltipId)}}),[e.tooltipId]),(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{ref:u,style:[Wd.tooltipWrapper,e.containerStyle],onMouseEnter:s,onMouseLeave:c,children:e.children})}),[u,e.children,e.containerStyle,s,c])},Wd=R.default.create({tooltipWrapper:{alignSelf:"stretch",flex:1}});var Gd=o.memo((function(e){var t=(0,D.useTheme)(),n=Ul(),r=(0,o.useState)(0),i=(0,a.default)(r,2),u=i[0],l=i[1],s=or(t,t.colors.onPrimary),c=or(t,t.colors.onSecondary),f=(0,o.useMemo)((function(){var r;return(0,Ll.jsxs)(T.default,{style:[Jd.tile,n.compactLayout&&{height:40,width:40},{borderColor:null!=(r=e.borderColor)?r:t.colors.outlineVariant}],children:[e.icon&&(0,Ll.jsx)(ts,{style:e.disabled&&{opacity:.2},icon:e.icon}),null!=e.quality&&e.quality>=1&&(0,Ll.jsx)(L.default,{style:{position:"absolute",opacity:e.disabled?.2:1,bottom:-8,left:-8,borderColor:t.colors.background,backgroundColor:t.colors.secondary},theme:c,children:"+"+ue(e.quality)}),null!=e.amount&&e.amount>1&&(0,Ll.jsx)(L.default,{style:{position:"absolute",top:-8,right:-8,borderColor:t.colors.background,backgroundColor:t.colors.primary},theme:s,children:ue(e.amount)})]})}),[t,s,c,e.icon,e.amount,e.disabled,e.quality,e.borderColor,n.compactLayout]);return(0,o.useMemo)((function(){return e.onPress?(0,Ll.jsx)(Vd,{containerStyle:[Jd.tile,n.compactLayout&&{height:40,width:40},{flex:null,borderColor:t.colors.outlineVariant}],tooltip:e.tooltip,tooltipId:e.title+e.tooltipIdSuffix,children:(0,Ll.jsx)(P.default,{accessibilityLabel:e.title+(e.amount&&e.amount>1?" ("+e.amount+")":""),accessibilityRole:"button",onPress:function(){var t=Date.now();t-u<500?(l(0),e.onDoublePress&&e.onDoublePress()):(l(t),e.onPress&&e.onPress())},children:f})}):(0,Ll.jsx)(Vd,{containerStyle:[Jd.tile,n.compactLayout&&{height:40,width:40},{flex:null,borderColor:t.colors.outlineVariant}],tooltip:e.tooltip,tooltipId:e.title+e.tooltipIdSuffix,children:f})}),[e.title,e.tooltip,e.onPress,e.onDoublePress,u,l,f,e.tooltipIdSuffix,n.compactLayout])}),(function(e,t){return e.title==t.title&&e.icon==t.icon&&e.amount==t.amount&&e.quality==t.quality&&e.disabled==t.disabled&&e.tooltipIdSuffix==t.tooltipIdSuffix&&e.onPress==t.onPress&&e.onDoublePress==t.onDoublePress&&e.tooltip==t.tooltip&&e.borderColor==t.borderColor})),Jd=R.default.create({tile:{borderWidth:.5,height:48,width:48,justifyContent:"center",alignItems:"center",margin:8}}),qd=n(38294),Xd=n(97129),Kd=new Qe,Zd=150,_d=[pt.Land,pt.Cap];function $d(e){return Math.floor(Pt(_d,e,Zd))}function eg(e){return Tt(new Set(_d),e)}function tg(e){return Re(e,"usedLand",(function(e){var t=0;return Kd.getAll().forEach((function(n){return t+=n.getLandRequired(e)*rg(e,n)})),t}))}function ng(e){var t=$d(e);return t-=tg(e),Math.max(t,0)}function rg(e,t){var n,r;return(null==(n=e.run.buildings)||null==(r=n[t.getId()])?void 0:r.current)||0}function ag(e,t){var n,r;return(null==(n=e.run.buildings)||null==(r=n[t.getId()])?void 0:r.turnedOn)||0}function ig(e,t,n){var r,a=e.getId();null==(null==(r=n.run.buildings)?void 0:r[a])&&(n.run.buildings[a]={current:0,turnedOn:0});var i=ag(n,e)+t;return i<0||i>rg(n,e)||(n.run.buildings[a].turnedOn=i,og.getAll().forEach((function(t){return n=t(n,e)}))),n}var og=new Qe;function ug(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var lg=function(){function e(){(0,Le.default)(this,e),this.landTags=[this.getId(),pt.LandCost]}return(0,He.default)(e,[{key:"getLandRequired",value:function(e){var t=this.getBaseLandRequired();return Pt(this.landTags,e,t)}}]),e}(),sg=function(e){(0,ws.default)(n,e);var t=ug(n);function n(){var e;return(0,Le.default)(this,n),(e=t.call(this)).costTags=(0,q.default)((function(t){return[].concat((0,h.default)(e.getTags()),[pt.Cost,t])})),e.costScaleTags=(0,q.default)((function(t){return[].concat((0,h.default)(e.getTags()),[pt.CostScale,t])})),e}return(0,He.default)(n,[{key:"getAutocastCategory",value:function(){return lc.OTHER}},{key:"canAutoPurchaseMax",value:function(){return!0}},{key:"getAreas",value:function(){return{}}},{key:"getSpellName",value:function(){return ae("Build {{buildingName}}",{buildingName:this.getBuilding().getName()})}},{key:"getDisplayName",value:function(e){var t=rg(e,this.getBuilding()),n=this.getBuilding().getName();if(0==t)return n;if(this.canTurnOff()){var r=ag(e,this.getBuilding());return ae("{{buildingName}} ({{buildingAmountTurnedOn}}/{{buildingAmount}})",{buildingName:n,buildingAmount:t,buildingAmountTurnedOn:r})}return ae("{{buildingName}} ({{buildingAmount}})",{buildingName:n,buildingAmount:rg(e,this.getBuilding())})}},{key:"getCost",value:function(e){var t=this;return Re(e,this.getId()+"cost",(function(e){return{resources:t.getResourceCost(e),items:{}}}))}},{key:"getTags",value:function(){return[pt.Building].concat((0,xs.default)((0,Cs.default)(n.prototype),"getTags",this).call(this))}},{key:"getResourceCost",value:function(e){var t=this,n=rg(e,this.getBuilding()),r=this.getBaseResourceCost(),a=this.getBaseResourceScale(),i={};return Object.keys(r).forEach((function(o){var u=Rt(t.costTags(o),e,r[o]),l=Rt(t.costScaleTags(o),e,a[o]-1);i[o]=Math.ceil(u*Math.pow(1+l,n))})),i}},{key:"canTurnOff",value:function(){return this.getBuilding().canTurnOff()}},{key:"getDisplayDescription",value:function(e){return this.getBuilding().getDisplayDescription(e)}},{key:"getDisplayEffect",value:function(e){return this.getBuilding().getDisplayEffect(e)}},{key:"getId",value:function(){return"build-"+this.getBuilding().getId()}},{key:"doSpellAction",value:function(e,t){throw new Error("Not used in building spells")}},{key:"getBaseManaCost",value:function(e){throw new Error("Not used in building spells")}},{key:"canAfford",value:function(e){return!!(ng(e)>=this.getBuilding().getLandRequired(e))&&(0,xs.default)((0,Cs.default)(n.prototype),"canAfford",this).call(this,e)}},{key:"isCapEnough",value:function(e){var t=this.getBuilding().getLandRequired(e),r=ng(e);return(0,xs.default)((0,Cs.default)(n.prototype),"isCapEnough",this).call(this,e)&&t<=r}},{key:"doAction",value:function(e,t){var n,r,a,i=this;if(!this.canAfford(t))return t;var o=this.getBuilding().getId();null==(null==(n=(t=this.payCost(t)).run.buildings)?void 0:n[o])&&(t.run.buildings[o]={current:0,turnedOn:0});var u=t.run.buildings[o];return u.current+=1,u.turnedOn=ag(t,this.getBuilding())+1,u.current>(null!=(r=null==(a=t.world.maxFurnitureNumbers)?void 0:a[o])?r:0)&&(t.world.maxFurnitureNumbers[o]=u.current),og.getAll().forEach((function(e){return t=e(t,i.getBuilding())})),t}},{key:"shouldNeverHaveDemolishBlockers",value:function(){return!0}},{key:"shouldNotCountForDemolishBlockers",value:function(){return!1}},{key:"getDemolishBlockers",value:function(e,t){var r=this;return this.shouldNeverHaveDemolishBlockers()?[]:Te(e,this.getId()+"demolishBlockers",(function(a){var i=Se(a),o=[];for(var u of(i=r._demolishUnsafe(i,t),Ia.getAll().filter((function(e){return e instanceof n&&e!=r}))))if(rg(i,u.getBuilding())>0&&!u.shouldNotCountForDemolishBlockers()){i=u._demolishUnsafe(i,1);var l=u.getCost(i).resources;for(var s of Z(l))if(l[s]>Qt(i,s)&&l[s]<=Qt(e,s)){o.push(u.getBuilding());break}i.run.buildings[u.getBuilding().getId()].current+=1}return o}),(function(t){return _(e.run.buildings).map((function(e){return e.current})).reduce((function(e,t,n){return e+t*(n+1)}),0)}))}},{key:"shouldHideDemolish",value:function(e){return tt(e,"storyline_blessedLand_bonus_active")}},{key:"canDemolish",value:function(e,t){return 0==this.getDemolishBlockers(e,t).length}},{key:"_demolishUnsafe",value:function(e,t){var n,r=this,a=Math.min(rg(e,this.getBuilding()),t),i=this.getBuilding().getId();null==(null==(n=e.run.buildings)?void 0:n[i])&&(e.run.buildings[i]={current:0,turnedOn:0});var o=e.run.buildings[i];return o.current-=a,o.turnedOn-=Math.min(o.turnedOn,a),e.run.autoPurchaseActions[this.getId()]=!1,og.getAll().forEach((function(t){return e=t(e,r.getBuilding())})),e}},{key:"demolish",value:function(e,t){return this.canDemolish(e,t)?this._demolishUnsafe(e,t):e}},{key:"shouldIgnoreCanCastSpell",value:function(){return!0}}]),n}(uf),cg=n(34560);function fg(e){return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:[gs.flexRowAlignCenter,e.containerStyle],children:["string"==typeof e.title?(0,Ll.jsx)(T.default,{style:gs.flex,children:(0,Ll.jsx)(zl,{children:e.title})}):e.title,(0,Ll.jsx)(cg.default,{style:gs.ml8,value:e.checked,onValueChange:e.onPress})]})}),[e.title,e.checked,e.onPress,e.containerStyle])}var dg=o.memo((function(e){var t=(0,D.useTheme)();return(0,Ll.jsxs)(T.default,{style:hg.row,accessible:!0,children:[(0,Ll.jsxs)(T.default,{style:hg.inlineRow,children:[(0,Ll.jsx)(ts,{icon:e.icon,style:hg.icon,small:!0,accessibilityLabel:""}),(0,Ll.jsx)(zl,{children:ae("{{itemOrResource}}: ",{itemOrResource:e.name})})]}),e.switch?(0,Ll.jsxs)(T.default,{style:hg.costValue,children:[(0,Ll.jsx)(zl,{style:e.cap<e.cost&&{color:t.colors.error},children:ue(e.cost,{showDecimals:!1,roundingMethod:ie.UP})}),(0,Ll.jsx)(zl,{children:"/"}),(0,Ll.jsx)(zl,{style:e.current<e.cost&&{color:t.colors.error},children:ue(e.current,{showDecimals:!0,roundingMethod:e.current>=e.cost?ie.UP:ie.DEFAULT})})]}):(0,Ll.jsxs)(T.default,{style:hg.costValue,children:[(0,Ll.jsx)(zl,{style:e.current<e.cost&&{color:t.colors.error},children:ue(e.current,{showDecimals:!0,roundingMethod:e.current>=e.cost?ie.UP:ie.DEFAULT})}),(0,Ll.jsx)(zl,{children:"/"}),(0,Ll.jsx)(zl,{style:e.cap<e.cost&&{color:t.colors.error},children:ue(e.cost,{showDecimals:!1,roundingMethod:ie.UP})})]})]})}));function gg(e){var t=As(),n=Object.keys(e.resources).map((function(n){var r=e.resources[n],a=Qt(t,n),i=zt(t,n),o=Ut(n);return(0,Ll.jsx)(dg,{name:Ot(n),icon:o.icon,current:i,cost:r,cap:a},n)})),r=e.items?Object.keys(e.items).map((function(n){var r,a=null==e||null==(r=e.items)?void 0:r[n],i=Br.getById(n),o=Fr(i,t);return(0,Ll.jsx)(dg,{name:i.getName(i.getDefaultParams()),icon:i.getId(),current:o,cost:a,cap:1e10},n)})):[];return(0,Ll.jsxs)(T.default,{style:hg.container,children:[n,r]})}var hg=R.default.create({container:{justifyContent:"center",alignItems:"stretch"},inlineRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},icon:{marginRight:2},row:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"},costValue:{minWidth:80,flexDirection:"row",justifyContent:"flex-end"},notMet:{color:"red"}});function mg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yg(e){var t,n=(0,D.useTheme)(),r=null!=(t=e.disabled)&&t;return(0,Ll.jsx)(F.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mg(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({iconColor:r?n.colors.onSurfaceDisabled:n.colors.onPrimary,containerColor:r?n.colors.surfaceDisabled:n.colors.primary},e))}function pg(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{disableMinus:!1,disablePlus:!1,onPressMinus:function(){},onPressPlus:function(){}},t=((0,D.useTheme)(),(0,o.useMemo)((function(){return(0,Ll.jsx)(ql,{enableAutoRepress:!0,passthroughStyle:vg.plusMinusAllocatorButton,onPress:e.onPressMinus,disabled:e.disableMinus,compact:!0,autoRepressConfig:{dropoffMultiplier:.8,startingThreshold:300,startingRepressTime:200,minTimeMs:50},mode:"contained",size:20,ButtonComponent:yg,icon:"minus"})}),[e.onPressMinus,e.disableMinus])),n=(0,o.useMemo)((function(){return(0,Ll.jsx)(ql,{enableAutoRepress:!0,passthroughStyle:vg.plusMinusAllocatorButton,onPress:e.onPressPlus,disabled:e.disablePlus,compact:!0,autoRepressConfig:{dropoffMultiplier:.7,startingThreshold:300,startingRepressTime:150,minTimeMs:50},mode:"contained",size:20,ButtonComponent:yg,icon:"plus"})}),[e.onPressPlus,e.disablePlus]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:vg.row,children:[t,n]})}),[t,n])}var vg=R.default.create({plusMinusAllocatorButton:{height:32,width:32,marginHorizontal:4,marginVertical:0,padding:0},plusMinusAllocatorButtonInner:{paddingVertical:0,paddingHorizontal:0,marginVertical:0,marginHorizontal:0,height:32,width:32},plusMinusAllocatorIcon:{height:20,width:20},row:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}});function Ag(e){var t=As(),n=(0,o.useRef)(t);n.current=t;var r=Ia.getById(e.spellId),a=Rc(t,r),i=Sc(t,a),u=Nc(t,a,i),l=Uc(t,a,i),s=(0,o.useMemo)((function(){return i.wizardsAssigned>0&&!i.disabled?ae("*({{secs}}s/cast; {{mana}}:mana:/s)*",{secs:ue(u,{showDecimals:!0}),mana:ue(l,{showDecimals:!0})}):i.disabled?ae("(Disabled)"):""}),[u,i.wizardsAssigned,i.disabled,l]),c=(0,o.useMemo)((function(){return(0,Ll.jsx)(fs,{children:ae("Assign wizards {{helperText}}",{helperText:s})})}),[s]),f=(0,o.useCallback)((function(){return n.current.apply((function(t){var n=Rc(t,r);if(null==n){var a=Ic(t),i={id:Math.random().toString(),disabled:!1,wizardsAssigned:0,spellId:e.spellId,conditions:[]};a.rules.push(i),t.global.autocast.currentStrategy=a,t=wc(t,i,1)}else t=wc(t,n,1),n.disabled&&(t=Ec(t,n));return t}))}),[e.spellId]),d=(0,o.useCallback)((function(){n.current.apply((function(e){var t=Rc(e,r);if(null==t)return e;if(e=wc(e,t,-1),t.disabled&&(e=Ec(e,t)),Sc(e,t).wizardsAssigned<=0){var n=Ic(e);n.rules=n.rules.filter((function(e){return t!=e}))}return e}))}),[e.spellId]),g=(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:[gs.flexRowAlignCenter,gs.ml8],children:[(0,Ll.jsx)(T.default,{style:gs.mr4,children:(0,Ll.jsx)(zl,{children:i.wizardsAssigned})}),(0,Ll.jsx)(pg,{disableMinus:i.wizardsAssigned<=0,disablePlus:yc(t)<=0,onPressPlus:f,onPressMinus:d})]})}),[i.wizardsAssigned,yc(t),f,d]);return(0,Ll.jsxs)(T.default,{style:gs.flexRowSpaceBetween,children:[(0,Ll.jsx)(T.default,{style:gs.flex,children:c}),g]})}var bg=new Qe;function kg(e,t,n){var r,i=(0,o.useRef)(e);i.current=e;var u=e.options.saveExpandedUI&&null!=(r=e.options.expandedUI[t])?r:n,l=(0,o.useState)(u),s=(0,a.default)(l,2),c=s[0],f=s[1];return[c,(0,o.useCallback)((function(e){f(e),i.current.apply((function(n){return n.options.expandedUI[t]=e,n}))}),[t,f])]}function xg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wg(e){var t,n=(0,D.useTheme)(),r=As(),i=(0,o.useRef)(r);i.current=r;var u=e.action,l=u.getCost(r),s=0===Object.keys(l.resources).length&&0===Object.keys(l.items).length,c=u instanceof sg&&u.canTurnOff(),f=u instanceof sg&&rg(r,u.getBuilding()),d=u instanceof sg&&ag(r,u.getBuilding()),g=u instanceof sg?u.getBuilding().getLandRequired(r):null,h=ng(r),m=u.isCapEnough(r),y=kg(r,u.getId(),!1),p=(0,a.default)(y,2),v=p[0],A=p[1],b=(0,o.useMemo)((function(){var e=u.getDisplayDescription(r)+" **"+u.getDisplayEffect(r)+"**";return(0,Ll.jsx)(T.default,{style:Eg.descriptionTextContainer,children:(0,Ll.jsx)(Rd,{style:gs.flex,children:e})})}),[(v||"web"===I.default.OS)&&u.getDisplayDescription(r),(v||"web"===I.default.OS)&&u.getDisplayEffect(r)]),k=(0,o.useMemo)((function(){return g?(0,Ll.jsxs)(T.default,{style:Eg.costContainer,children:[(0,Ll.jsx)(fs,{children:ae("Land required:")}),(0,Ll.jsx)(T.default,{style:gs.mt4,children:(0,Ll.jsx)(dg,{cap:h,current:h,cost:g,icon:"land",name:ae("Land"),switch:!0})})]}):null}),[g,h]),x=(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:Eg.costContainer,children:[(0,Ll.jsx)(fs,{children:ae("Cost:")}),(0,Ll.jsx)(T.default,{style:gs.mt4,children:(0,Ll.jsx)(gg,{resources:u.getCost(r).resources,items:u.getCost(r).items})})]})}),[(v||"web"===I.default.OS)&&JSON.stringify(l)]),w=(0,o.useCallback)((function(){return i.current.apply((function(e){return ig(u.getBuilding(),-1,e)}))}),[u]),E=(0,o.useCallback)((function(){return i.current.apply((function(e){return ig(u.getBuilding(),1,e)}))}),[u]),C=(0,o.useMemo)((function(){if(!c)return null;var e=d+"/"+f;return(0,Ll.jsxs)(T.default,{style:Eg.turnOnRow,children:[(0,Ll.jsx)(fs,{children:ae("Amount active:")}),(0,Ll.jsxs)(T.default,{style:Eg.turnOnQuantityContainer,children:[(0,Ll.jsx)(fs,{children:e}),(0,Ll.jsx)(T.default,{style:Eg.plusMinusContainer,children:(0,Ll.jsx)(pg,{disableMinus:0===d,disablePlus:d===f,onPressMinus:w,onPressPlus:E})})]})]})}),[c,f,d,w,E]),B=(0,o.useCallback)((function(){return i.current.apply((function(e){return u.demolish(e,1)}))}),[u]),S=(0,o.useMemo)((function(){return u instanceof sg?u.getDemolishBlockers(r,1):[]}),[v&&r,u]),R=(0,o.useMemo)((function(){return!(u instanceof sg)||u.canDemolish(r,1)}),[v&&r,u]),P=(0,o.useMemo)((function(){return f&&f>0&&null!=g&&g>0&&!u.shouldHideDemolish(r)?(0,Ll.jsxs)(T.default,{style:gs.mt8,children:[(0,Ll.jsx)(ql,{mode:"outlined",compact:!0,onPress:B,enableAutoRepress:u.canSpam(),disabled:!R,style:[gs.alignSelfNormal,gs.mt4],children:ae("Dispose of 1 (+{{land}} Land)",{land:g})}),S.length>0&&(0,Ll.jsx)(T.default,{style:gs.mt4,children:(0,Ll.jsx)(zl,{style:{color:n.colors.error},children:ae("You may not dispose of this furniture because without it you wouldn't have been able to build the following furniture: {{furnitureList}}. To dispose of it, dispose of those other furniture first.",{furnitureList:S.map((function(e){return e.getName()})).join(ae(", "))})})})]}):null}),[f,g,n,B,S.map((function(e){return e.getId()})).join(),u instanceof sg&&u.shouldHideDemolish(r),u.canSpam()]),j=u.getId(),M=Ea(r)&&u.canAutoPurchaseMax(),O=null==(t=r.run.autoPurchaseActions)?void 0:t[j],N=(0,o.useCallback)((function(){return i.current.apply((function(e){var t;return e.run.autoPurchaseActions[j]=!(null!=(t=e.run.autoPurchaseActions[j])&&t),e}))}),[j]),U=(0,o.useMemo)((function(){return M?(0,Ll.jsx)(fg,{title:ae("Auto purchase max"),checked:O,onPress:N,containerStyle:gs.mt4}):null}),[M,O,N]),F=!u.isEnabled(r),L=(0,o.useState)(!1),H=(0,a.default)(L,2),Y=H[0],Q=H[1],z=(0,o.useContext)(hs);(0,o.useEffect)((function(){z||Q(!1)}),[z]);var V=(0,o.useCallback)((function(){u.requireConfirmation(r)&&!Y?Q(!0):(i.current.apply(u.doAction.bind(u,{isAutomatic:!1})),Q(!1))}),[Y]),W=r.run.autoPurchaseActions[u.getId()],G=(0,o.useCallback)((function(){return A(!v)}),[A,v]),J=Ul(),q=(0,o.useMemo)((function(){return(0,Ll.jsx)(Vd,{tooltip:v?void 0:(0,Ll.jsxs)(T.default,{children:[b,k,!s&&x]}),tooltipId:u.getId()+"actioncontainer",tooltipPosition:zd.RIGHT_OF_ELEMENT,children:(0,Ll.jsx)(ql,{onPress:V,enableAutoRepress:!0,style:Eg.buttonContainer,labelStyle:!m&&{textDecorationLine:"line-through"},disabled:F,children:Y?ae("Press again to confirm"):ae("{{actionName}}{{autoPurchase}}",{actionName:u.getDisplayName(r),autoPurchase:W?ae(" (A)"):""})},u.getId())})}),[j,u.getDisplayName(r),m,F,V,b,s,k,x,v,Y,W]),X=u instanceof uf&&!(u instanceof sg);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:[Eg.actionContainer,J.compactLayout&&{marginVertical:4}],children:[(0,Ll.jsxs)(T.default,{style:Eg.buttonRowContainer,children:[(0,Ll.jsx)(T.default,{style:Eg.buttonContainerView,children:q}),(0,Ll.jsx)(Xd.default,{onPress:G,accessibilityLabel:v?"Collapse":"Expand",children:(0,Ll.jsx)(T.default,{style:Eg.expandContainer,children:(0,Ll.jsx)(qd.default,{name:v?"chevron-down":"chevron-right",size:24,color:n.colors.onBackground})})})]}),v&&(0,Ll.jsxs)(T.default,{style:[gs.mt8,gs.mb8],children:[(0,Ll.jsx)(T.default,{style:gs.mt8,children:b}),k,!s&&x,c&&C,U,P,X&&Dc(r)?(0,Ll.jsx)(T.default,{style:gs.mt4,children:(0,Ll.jsx)(Ag,{spellId:u.getId()})}):null]})]},u.getId())}),[q,j,F,c,C,J.compactLayout,v&&x,v&&b,v&&P,v&&U,v,G,n,Dc(r),X])}bg.register((function(e){for(var t of Z(e.options.expandedUI)){var n=ba.getByIdNullable(t);if(n&&!n.isVisible&&(e.options.expandedUI[t]=!1),t.startsWith("study:")){var r=t.split(":")[1];Rn(e).includes(r)||(e.options.expandedUI[t]=!1)}}return e}),"expandedUI");var Eg=R.default.create({actionContainer:{marginVertical:8},buttonRowContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},quickbarButtonContainer:{marginLeft:8},expandContainer:{width:64,flexDirection:"row",justifyContent:"center",alignSelf:"stretch",alignItems:"center",cursor:"pointer"},costContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",marginTop:4},descriptionTextContainer:{flex:1,flexDirection:"row",flexWrap:"wrap"},buttonTitle:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xg(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({fontSize:16,textAlign:"center",paddingVertical:1},I.default.select({android:{fontFamily:"sans-serif-medium"},default:{fontSize:18}})),smallButtonTitle:{fontSize:12},buttonContainerView:{flexDirection:"row",flex:1},buttonContainer:{flex:1},buttonContainerSmall:{marginRight:0},capTooLowText:{color:"#d99"},turnOnRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginTop:8},turnOnQuantityContainer:{flexDirection:"row",alignItems:"center"},plusMinusContainer:{marginLeft:8},spellButtonTitleContainer:{flex:1,flexDirection:"row"},spellButtonTitleOnlyContainer:{flex:1},spellButtonCostContainer:{flexDirection:"row",width:40,justifyContent:"flex-end"},spellManaIcon:{height:16,width:16,justifyContent:"flex-end",alignItems:"center",top:1,marginLeft:2},marginTop:{marginTop:8}}),Cg=n(30466);function Ig(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bg(e){return(0,Ll.jsx)(Cg.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ig(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ig(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}function Sg(e){var t=(0,D.useTheme)(),n=(0,o.useContext)(hs);return(0,o.useMemo)((function(){return(0,Ll.jsx)(hs.Provider,{value:e.isVisible&&n,children:(0,Ll.jsx)(D.ThemeProvider,{theme:t,children:e.children})})}),[!(!e.isVisible||!n)&&e.children,!(!e.isVisible||!n)&&t])}function Rg(e){var t,n=(0,o.useState)(null==(t=e.initiallyExpanded)||t),r=(0,a.default)(n,2),i=r[0],u=r[1],l=(0,D.useTheme)(),s=(0,o.useContext)(hs),c=(0,o.useCallback)((function(){u(!i)}),[u,i]),f=ae(i?"{{title}}, Expanded - Press to Collapse":"{{title}}, Collapsed - Press to Expand",{title:e.title}),d=(0,o.useMemo)((function(){return[Pg.category,e.containerStyle]}),[e.containerStyle]),g=(0,o.useMemo)((function(){return[Pg.categoryTitle,e.titleStyle]}),[e.titleStyle]),h=(0,o.useMemo)((function(){return[{display:i?"flex":"none"},e.contentContainerStyle]}),[i,e.contentContainerStyle]),m=(0,o.useMemo)((function(){return[Pg.categoryDivider,e.dividerColor&&{backgroundColor:e.dividerColor}]}),[e.dividerColor]),y=(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(Xd.default,{onPress:c,accessibilityRole:"header",accessibilityLabel:f,children:(0,Ll.jsxs)(T.default,{style:Pg.categoryHeaderExpand,children:[(0,Ll.jsx)(zl,{style:g,h4:!0,children:e.title}),(0,Ll.jsx)(qd.default,{name:i?"chevron-down":"chevron-right",size:24,color:l.colors.onBackground})]})}),(0,Ll.jsx)(Bg,{style:m})]})}),[f,c,g,e.title,i,l,m]);return(0,Ll.jsxs)(T.default,{style:d,children:[y,(0,Ll.jsx)(Sg,{isVisible:i&&s,children:(0,Ll.jsx)(T.default,{style:h,children:e.children})})]})}var Pg=R.default.create({category:{paddingTop:16},categoryTitle:{fontWeight:"bold"},categoryDivider:{height:2*R.default.hairlineWidth},categoryHeader:{height:26},categoryHeaderExpand:{height:26,flexDirection:"row",justifyContent:"space-between",alignItems:"center",cursor:"pointer"}});function Tg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tg(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mg(e){var t,n=As(),r=ka(n,e.area),a=e.subcategory,i=null!=(t=r[a])?t:[],u=i.map(Ye).join(","),l=(0,o.useMemo)((function(){return i.map((function(e){return(0,Ll.jsx)(wg,{action:e},e.getId())}))}),[u]);return(0,o.useMemo)((function(){return 0===i.length?null:(0,Ll.jsxs)(Rg,{title:an(a),initiallyExpanded:a!=$t.CHANNELING||!Wo(n),children:[(0,Ll.jsx)(T.default,{style:Og.underCategoryPadding}),(0,Ll.jsx)(T.default,{children:l[0]},i[0].getId()),l.slice(1).map((function(e,t){return(0,Ll.jsx)(T.default,{children:e},i[t+1].getId())}))]},a)}),[l,a])}function Dg(e){var t=function(e){switch(e){case _t.HOME:return en;case _t.STUDY:return tn;case _t.ENHANCEMENT:return nn;case _t.BOOST:return rn;default:return $($t)}}(e.area).map((function(t){return(0,o.createElement)(Mg,jg(jg({},e),{},{subcategory:t,key:t}))}));return(0,Ll.jsx)(T.default,{children:t})}var Og=R.default.create({underCategoryPadding:{height:8}});function Ng(){var e=As(),t=function(e){var t,n;return(null!=(t=null==(n=ka(e,_t.BOOST))?void 0:n[$t.BOOST])?t:[]).map((function(t){return Ps(e,t.getElement())<=0?null:t.getTotalBoostDescription(e)})).filter((function(e){return null!=e})).join(ae(", "))}(e),n=function(e){return Ts(e)>0}(e);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:Ug.campusContainer,children:[(0,Ll.jsxs)(T.default,{style:gs.flexRowAlignCenter,children:[(0,Ll.jsx)(Gd,{icon:"boosts",title:ae("Boosts")}),(0,Ll.jsx)(T.default,{style:gs.flex,children:(0,Ll.jsx)(fs,{children:n?ae("You are attuned to the Boosting Lamp. It is giving you the following bonuses: **{{bonusText}}**",{bonusText:t}):ae("You are attuned to the Boosting Lamp.")})})]}),(0,Ll.jsx)(Dg,{area:_t.BOOST})]})}),[n,t])}var Ug=R.default.create({campusContainer:{height:"100%",alignItems:"stretch",justifyContent:"flex-start",width:"100%"}}),Fg=n(42193),Lg=n(17375);function Hg(e){return null!=(null==e?void 0:e.default)?e.default:e}function Yg(e){var t=Lg.LinearGradient,n=(0,D.useTheme)(),r=Hg(e.sprite);return(0,Ll.jsxs)(T.default,{style:[Qg.tile,{borderColor:n.colors.outlineVariant}],children:[e.backdropColor&&(0,Ll.jsx)(t,{colors:[""+e.backdropColor,e.backdropColor+"0"],style:Qg.gradient}),r&&(0,Ll.jsx)(Zl.default,{resizeMode:"contain",source:r,style:Qg.image})]})}var Qg=R.default.create({tile:{borderWidth:R.default.hairlineWidth,height:144,width:144,justifyContent:"center",alignItems:"stretch"},image:{height:142,width:142},gradient:{height:142,width:142,position:"absolute",left:0,top:0,opacity:.2}}),zg=n(14584),Vg=n(2840),Wg=n(56403);var Gg=function(e,t){var n=e.pageX,r=e.width,a=t.width,i=n+(r-a)/2;return function(e){return e<0}(i)?n:function(e,t){return e+t>zg.default.get("window").width}(i,a)?n+r-a:i},Jg=function(e,t){var n=e.pageY,r=e.height,a=t.height;return function(e,t,n){return e+t+n>zg.default.get("window").height}(n,r,a)?n-a:n+r},qg=function(e){var t=e.children,n=e.tooltip;return e.measured?{left:Gg(t,n),top:Jg(t,n)}:{}},Xg=["children","title","hitSlop"];function Kg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kg(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _g=R.default.create({tooltip:{alignSelf:"flex-start",justifyContent:"center",paddingHorizontal:16,maxWidth:300,paddingVertical:8},visible:{opacity:1},hidden:{opacity:0},fullView:{position:"absolute",left:0,top:0,backgroundColor:"rgba(0, 0, 0, 0)"},pressContainer:{cursor:"default",alignSelf:"flex-start"},textInvisible:{display:"none"}});const $g=function(e){var t=e.children,n=e.title,r=e.hitSlop,i=(0,Ol.default)(e,Xg),u=(0,D.useTheme)(),l=o.useState(!1),s=(0,a.default)(l,2),c=s[0],f=s[1],d=o.useState({children:{},tooltip:{},measured:!1}),g=(0,a.default)(d,2),h=g[0],m=g[1],y=o.useRef(),p=o.useRef(),v=o.useRef(),A=o.useRef(!1),b="web"===I.default.OS;o.useEffect((function(){return function(){y.current&&clearTimeout(y.current),p.current&&clearTimeout(p.current)}}),[]),o.useEffect((function(){var e=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var i=r[0],o=r[1],u=!1;return null!=(t=e.addEventListener(i,o))?t:{remove:function(){u||(null==e.removeEventListener||e.removeEventListener(i,o),null==e.remove||e.remove(i,o),u=!0)}}}(zg.default,"change",(function(){return f(!1)}));return function(){return e.remove()}}),[]);var k=function(){p.current&&clearTimeout(p.current),y.current=setTimeout((function(){A.current=!0,f(!0)}),0)},x=function(){A.current=!1,y.current&&clearTimeout(y.current)},w=o.useCallback((function(){f(!1),m({children:{},tooltip:{},measured:!1})}),[]),E={onPress:o.useCallback((function(){return A.current?null:null==t.props.onPress?void 0:t.props.onPress()}),[t.props]),onPressIn:function(){return k()},onPressOut:function(){return x()}},C={onHoverIn:function(){k(),null==t.props.onHoverIn||t.props.onHoverIn()},onHoverOut:function(){x(),w(),null==t.props.onHoverOut||t.props.onHoverOut()}},B=o.useContext(hs),S=(0,j.default)(),R=S.height,P=S.width,M=(0,Ll.jsx)(Wg.default,{onLayout:function(e){var t=e.nativeEvent.layout;v.current.measure((function(e,n,r,a,i,o){m({children:{pageX:i,pageY:o,height:a,width:r},tooltip:Zg({},t),measured:!0})}))},style:[_g.tooltip,Zg(Zg({},qg(h)),{},{borderRadius:u.roundness},h.measured?_g.visible:_g.hidden)],testID:"tooltip-container",children:(0,Ll.jsx)(T.default,{style:gs.flexCenter,children:(0,Ll.jsx)(fs,{accessibilityLiveRegion:"polite",selectable:!1,style:{color:u.colors.onSurface},children:n})})});return(0,Ll.jsxs)(Ll.Fragment,{children:[c&&(0,Ll.jsxs)(U.default,{children:["web"!=I.default.OS&&(0,Ll.jsx)(Vg.default,{onPressIn:w,children:(0,Ll.jsx)(T.default,{style:[_g.fullView,{height:R,width:P}]})}),"web"!=I.default.OS?(0,Ll.jsx)(Vg.default,{onPressIn:w,children:M}):M]}),(0,Ll.jsx)(Vg.default,Zg(Zg({ref:v,style:[_g.pressContainer],hitSlop:r},b?C:E),{},{children:(0,Ll.jsx)(T.default,{style:!B&&_g.textInvisible,children:o.cloneElement(t,Zg(Zg({},i),b?C:E))})}))]})};function eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function th(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eh(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nh=o.memo((function(e){return null!=e.explanation&&""!=e.explanation?(0,Ll.jsxs)(T.default,{style:oh.inlineRow,children:[(0,Ll.jsxs)(T.default,{style:oh.inlineRow,children:[(0,Ll.jsx)(ts,{icon:e.icon,style:oh.icon,small:!0}),!e.hideText&&(0,Ll.jsx)(zl,{doNotScaleFonts:!0,children:ae("{{stat}}: ",{stat:e.stat})})]}),(0,Ll.jsx)($g,{title:e.explanation,children:null!=e.valueMax?(0,Ll.jsxs)(zl,{doNotScaleFonts:!0,children:[(0,Ll.jsx)(zl,{doNotScaleFonts:!0,children:ae("{{value}}/",{value:e.value})}),(0,Ll.jsx)(zl,{doNotScaleFonts:!0,style:gs.underlined,children:ae("{{value}}",{value:e.valueMax})})]}):(0,Ll.jsx)(zl,{doNotScaleFonts:!0,style:gs.underlined,children:ae("{{value}}",{value:e.value})})})]}):(0,Ll.jsxs)(T.default,{style:oh.inlineRow,children:[(0,Ll.jsxs)(T.default,{style:oh.inlineRow,children:[(0,Ll.jsx)(ts,{icon:e.icon,style:oh.icon,small:!0}),!e.hideText&&(0,Ll.jsx)(zl,{doNotScaleFonts:!0,children:ae("{{stat}}: ",{stat:e.stat})})]}),(0,Ll.jsx)(zl,{doNotScaleFonts:!0,children:null!=e.valueMax?ae("{{value}}/{{valueMax}}",{value:e.value,valueMax:e.valueMax}):ae("{{value}}",{value:e.value})})]})}));function rh(e){var t=As(),n=(0,o.useMemo)((function(){return{unit:ae(" Max:hp:")}}),[]),r=(0,o.useMemo)((function(){return{unit:":attack:"}}),[]),a=(0,o.useMemo)((function(){return{unit:ae("s")}}),[]),i=(0,o.useMemo)((function(){return{unit:":defense:"}}),[]),u=(0,o.useMemo)((function(){return{unit:":accuracy:"}}),[]),l=(0,o.useMemo)((function(){return{unit:":dodge:"}}),[]),s=(0,o.useMemo)((function(){return{unit:":critChance:"}}),[]),c={currentHP:eu(t),maxHP:Gr(t),maxHPExplanation:aa(t,Vr.MaxHP,n),attack:Jr(t),attackExplanation:aa(t,Vr.Attack,r),attackDelay:qr(t),attackDelayExplanation:aa(t,Vr.AttackDelay,a),defense:Xr(t),defenseExplanation:aa(t,Vr.Defense,i),accuracy:_r(t),accuracyExplanation:aa(t,Vr.Accuracy,u),dodge:Zr(t),dodgeExplanation:aa(t,Vr.Dodge,l),crit:$r(t),critExplanation:aa(t,Vr.Crit,s)};return(0,o.useMemo)((function(){return(0,Ll.jsx)(ih,th(th({},e),{},{showCurrentHP:!0,combatStats:c}))}),[e.hideText,e.isVisible,JSON.stringify(c)])}function ah(e){var t=e.enemy,n={currentHP:0,maxHP:t.getBaseStats().maxHP,attack:t.getBaseStats().attack,attackDelay:t.getBaseStats().attackDelay,defense:t.getBaseStats().defense,hpRegen:0,accuracy:t.getBaseStats().accuracy,dodge:t.getBaseStats().dodge,crit:t.getBaseStats().crit};return(0,o.useMemo)((function(){return(0,Ll.jsx)(ih,th(th({},e),{},{showCurrentHP:!1,combatStats:n}))}),[e.hideText,e.isVisible,e.obfuscateValues,JSON.stringify(n)])}function ih(e){var t=e.combatStats;return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:oh.container,children:[(0,Ll.jsx)(nh,{stat:"HP",icon:"hp",hideText:e.hideText,value:e.obfuscateValues?ae("???"):e.showCurrentHP?ue(Math.ceil(t.currentHP)):ue(Math.ceil(t.maxHP)),valueMax:e.showCurrentHP?ue(Math.ceil(t.maxHP)):e.obfuscateValues?ae("???"):void 0,explanation:e.obfuscateValues?null:t.maxHPExplanation}),(0,Ll.jsx)(nh,{stat:"Attack",icon:"attack",hideText:e.hideText,value:e.obfuscateValues?ae("???"):ue(t.attack),explanation:e.obfuscateValues?null:t.attackExplanation}),(0,Ll.jsx)(nh,{stat:"Attack Delay",icon:"attackDelay",hideText:e.hideText,value:e.obfuscateValues?ae("???"):ae("{{value}}s",{value:ue(t.attackDelay,{showDecimals:!0})}),explanation:e.obfuscateValues?null:t.attackDelayExplanation}),(0,Ll.jsx)(nh,{stat:"Defense",icon:"defense",hideText:e.hideText,value:e.obfuscateValues?ae("???"):ue(t.defense),explanation:e.obfuscateValues?null:t.defenseExplanation}),100!=t.accuracy&&(0,Ll.jsx)(nh,{stat:"Accuracy",icon:"accuracy",hideText:e.hideText,value:e.obfuscateValues?ae("???"):ue(t.accuracy,{showDecimals:!1}),explanation:e.obfuscateValues?null:t.accuracyExplanation}),100!=t.dodge&&(0,Ll.jsx)(nh,{stat:"Dodge",icon:"dodge",hideText:e.hideText,value:e.obfuscateValues?ae("???"):ue(t.dodge,{showDecimals:!1}),explanation:e.obfuscateValues?null:t.dodgeExplanation}),t.crit>0&&(0,Ll.jsx)(nh,{stat:"Critical",icon:"critChance",hideText:e.hideText,value:e.obfuscateValues?ae("???"):ue(t.crit,{showDecimals:!1}),explanation:e.obfuscateValues?null:t.critExplanation})]})}),[!1!==e.isVisible&&JSON.stringify(t),e.hideText,e.showCurrentHP])}var oh=R.default.create({container:{justifyContent:"center",alignItems:"stretch"},row:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"},inlineRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},icon:{marginRight:2}});function uh(e){var t=e.enemy,n=(t.getId(),t.getName(),As()),r=mr(n).map((function(e){return e.getDungeonFloors().filter((function(e){return e.isUnlocked(n)}))})).flat(),a=t.getBestiaryState(n),i=r.filter((function(e){return e.getExplorationPossibilities(n,!1).find((function(e){var n;return(null==(n=e.transforms)?void 0:n.enemy)==t}))})).map((function(e){var r,a,i=e.getBaseExplorationPossibilities(n),o=null!=(r=null==(a=i.find((function(e){var n;return(null==(n=e.transforms)?void 0:n.enemy)==t})))?void 0:a.weight)?r:0,u=i.reduce((function(e,t){return e+t.weight}),0);return"*"+e.getFloorName()+"*: "+ue(100*o/u,{showDecimals:!0})+"%"})).concat(r.filter((function(e){return e.getBoss(n)==t})).map((function(e){return ae("*{{dungeonFloorName}}* (Boss)",{dungeonFloorName:e.getFloorName()})}))).join(ae(", ")),u=a==Fu.Loot,l=[t.getCoinsAwardedBase(n)>0?ae("{{coinsAwarded}}:coins:",{coinsAwarded:ue(t.getCoinsAwardedBase(n))}):null,t.getMonstiumAwardedBase(n)>0?ae("{{monstiumAwarded}}:monstium:",{monstiumAwarded:ue(t.getMonstiumAwardedBase(n))}):null].concat(t.getItemsAwardedBase(n).map((function(e){var t;if(0==e.chance)return null;var n=Br.getById(e.itemId);return ae("{{amount}}x{{itemIcon}}*{{itemName}}* ({{lootChancePct}}%)",{amount:e.amount,itemIcon:":"+e.itemId+":",itemName:n.getName(null!=(t=e.params)?t:n.getDefaultParams()),lootChancePct:ue(100*e.chance,{showDecimals:!0,roundingMethod:ie.UP})})}))).filter((function(e){return null!=e})).join(ae(", ")),s=Hu(n,t.getId()),c=ku(n,t.getId()),f=(Yu(n,t.getId()),ae("Times defeated: {{cumulativeKills}}",{cumulativeKills:ue(s)})),d=ae("Times you ran away: {{cumulativeLosses}}",{cumulativeLosses:ue(c)}),g=a!=Fu.SpriteOnly,h=a!=Fu.SpriteOnly&&null!=t.getTips(),m=t.getTips();return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:sh.contentContainer,children:[(0,Ll.jsxs)(T.default,{style:sh.row,children:[(0,Ll.jsx)(T.default,{style:sh.column,children:(0,Ll.jsx)(Yg,{sprite:t.getPicture(n)})}),(0,Ll.jsxs)(T.default,{style:sh.column,children:[(0,Ll.jsx)(Rg,{title:ae("Base stats"),children:(0,Ll.jsx)(T.default,{style:sh.categoryContents,children:(0,Ll.jsx)(ah,{enemy:t,obfuscateValues:!g})})}),(0,Ll.jsx)(Rg,{title:ae("General"),children:(0,Ll.jsxs)(T.default,{style:sh.categoryContents,children:[(0,Ll.jsx)(fs,{children:f}),(0,Ll.jsx)(fs,{children:d})]})})]})]}),(0,Ll.jsxs)(T.default,{style:sh.row,children:[(0,Ll.jsx)(T.default,{style:sh.column,children:(0,Ll.jsx)(Rg,{title:ae("Found in"),children:(0,Ll.jsx)(T.default,{style:sh.categoryContents,children:(0,Ll.jsx)(fs,{children:""!=i?i:ae("???")})})})}),(0,Ll.jsx)(T.default,{style:sh.column,children:(0,Ll.jsx)(Rg,{title:ae("Base loot"),children:(0,Ll.jsx)(T.default,{style:sh.categoryContents,children:(0,Ll.jsx)(fs,{children:u?""!=l?l:ae("No loot"):ae("You must defeat this enemy more times to see loot information!")})})})})]}),h&&(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(Rg,{title:ae("Combat tips (from hired wizard)"),children:(0,Ll.jsx)(T.default,{style:sh.categoryContents,children:(0,Ll.jsx)(fs,{children:m})})})})]})}),[t,i,l,f,d,h,m,g])}function lh(e){var t=e.enemy,n=t.getId(),r=t.getName(),a=(0,D.useTheme)();return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:sh.helpContainer,children:[(0,Ll.jsx)(Xd.default,{accessibilityRole:"button",accessibilityHint:"Expand",onPress:e.onPressExpand,children:(0,Ll.jsxs)(T.default,{style:sh.topRowContainer,children:[(0,Ll.jsx)(zl,{h3:!0,style:[sh.topContainer],children:ae("{{enemyName}}{{bossText}}",{enemyName:r,bossText:t.isBoss()?ae(" (Boss)"):""})},n),(0,Ll.jsx)(T.default,{style:sh.expandContainer,children:(0,Ll.jsx)(qd.default,{name:e.collapsed?"chevron-right":"chevron-down",size:24,color:a.colors.onBackground})})]})}),!e.collapsed&&(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(uh,{enemy:t})})]},n)}),[a,r,n,e.collapsed,e.onPressExpand])}var sh=R.default.create({helpContainer:{marginVertical:8},topRowContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},expandContainer:{width:40},descriptionTextContainer:{marginBottom:8,marginTop:8,marginHorizontal:8,flex:1,flexDirection:"row",flexWrap:"wrap"},descriptionViewer:{flex:1,justifyContent:"center"},topContainer:{flex:1,marginLeft:8},disabledStorylineText:{color:"#aaa"},contentContainer:{paddingVertical:8},row:{flexDirection:"row"},categoryContents:{marginTop:8},column:{flex:1,marginHorizontal:4}});function ch(){var e=(0,o.useState)(""),t=(0,a.default)(e,2),n=t[0],r=t[1],i=(0,o.useCallback)((function(e){r(n==e?"":e)}),[n]),u=Qu(As()),l=u.map((function(e){return e.getId()})).join(","),s=(0,o.useMemo)((function(){return u.map((function(e){return(0,Ll.jsx)(lh,{enemy:e,collapsed:n!=e.getId(),onPressExpand:i.bind(null,e.getId())},e.getId())}))}),[l,n,r]);return(0,o.useMemo)((function(){return 0===u.length?null:(0,Ll.jsxs)(T.default,{children:[s.map((function(e,t){return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(Bg,{}),e]},u[t].getId())})),(0,Ll.jsx)(Bg,{})]})}),[l,s])}function fh(){return(0,Ll.jsx)(T.default,{style:dh.bestiaryContainer,children:(0,Ll.jsx)(ch,{})})}var dh=R.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",width:"100%"},headerContainer:{marginBottom:16},valueText:{minWidth:60,textAlign:"right",marginLeft:8},valueTextLong:{minWidth:112},bestiaryContainer:{marginTop:16},captionText:{flex:1}}),gh=n(3113),hh=n(22287),mh=n.n(hh),yh=function(e){return e.Consumable="Consumable",e.Familiar="Familiar",e.Material="Material",e.Equipment="Equipment",e.Hand="Hand",e.Body="Body",e.Accessory="Accessory",e.Pouch="Pouch",e.QuestItem="QuestItem",e}({}),ph=function(){function e(t){(0,Le.default)(this,e),this.data=t}return(0,He.default)(e,[{key:"getItem",value:function(){var e=this.data.occurrence;return Br.getById(e.itemId)}},{key:"isActive",value:function(e){return this.getItem().isActive(e)}},{key:"getDisplayName",value:function(e){var t=this.getItem(),n=t.getName(this.data.occurrence.params),r=Ur(this.data.occurrence,e),a=0;return t.getTags().includes(yh.Consumable)&&(a=t.getCooldownLeftSec(e)),ae("{{name}}{{amountText}}{{cooldownText}}",{name:n,amountText:1!=r?ae(" ({{amount}})",{amount:r}):"",cooldownText:a>0?ae(" ({{cooldown}} sec)",{cooldown:ue(a,{showDecimals:!1})}):""})}},{key:"isEnabled",value:function(e){var t;return(null==(t=this.getItem().getPrimaryAction(e,this.data.occurrence.params))?void 0:t.isEnabled)||!1}},{key:"getTransform",value:function(e){var t;return(null==(t=this.getItem().getPrimaryAction(e,this.data.occurrence.params))?void 0:t.transform)||function(e){return e}}},{key:"toQuickbarData",value:function(){return this.data}}]),e}(),vh=mh()((function(e){return e.doAction.bind(e,{isAutomatic:!1})})),Ah=function(){function e(t){(0,Le.default)(this,e),this.data=t}return(0,He.default)(e,[{key:"getAction",value:function(){return e=this.data.id,ba.getById(e);var e}},{key:"isActive",value:function(e){return this.getAction().isActive(e)}},{key:"getDisplayName",value:function(e){return this.getAction().getDisplayName(e)}},{key:"isEnabled",value:function(e){return this.getAction().isEnabled(e)}},{key:"getTransform",value:function(e){return vh(this.getAction())}},{key:"toQuickbarData",value:function(){return this.data}}]),e}();function bh(e){var t,n=null==(t=e.world.quickbars)?void 0:t[e.world.currentQuickbar];return null==n&&(n=[],e.world.quickbars[e.world.currentQuickbar]=n),n}function kh(e,t){return Eh(e,t)||wh(e)||bh(e).push(t),e}function xh(e,t){var n=JSON.stringify(t),r=bh(e).findIndex((function(e){return JSON.stringify(e)==n}));return r<0||bh(e).splice(r,1),e}function wh(e){return bh(e).length>=10}function Eh(e,t){return bh(e).findIndex((function(e){return e.type==t.type&&"action"==t.type&&"action"==e.type&&t.id==e.id||"item"==t.type&&"item"==e.type&&jr(t.occurrence,e.occurrence)}))>=0}function Ch(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ih(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ch(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ch(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bh(e){switch(e){case yh.Consumable:return ae("Consumable");case yh.Material:return ae("Material");case yh.Familiar:return ae("Familiar");case yh.Equipment:return ae("Equipment");case yh.Hand:return ae("Hand");case yh.Body:return ae("Body");case yh.Accessory:return ae("Accessory");case yh.Pouch:return ae("Pouch");case yh.QuestItem:return ae("Quest Item")}}var Sh=mh()((function(e,t,n){return{id:"sell1"+n,description:ae("Sell 1 ({{coins}}:coins:)",{coins:ue(n)}),isEnabled:!0,isActive:!1,transform:function(r){return r=Gi(r,"itemsSold",1),r=Nr({itemId:e,params:t},1,r),Wt(Dt.Coins,n)(r)}}}),{cacheKey:JSON.stringify}),Rh=mh()((function(e,t,n,r,a){var i=n*r;return{id:"sellMany"+(a?"":r)+n,description:a?ae("Sell all ({{coins}}:coins:)",{coins:ue(i)}):ae("Sell {{amount}} ({{coins}}:coins:)",{coins:ue(i),amount:ue(r)}),isEnabled:!0,requireConfirm:a,isActive:!1,transform:function(o){return a&&(r=Ur({itemId:e,params:t},o),i=n*r),o=Gi(o,"itemsSold",r),o=Nr({itemId:e,params:t},r,o),Wt(Dt.Coins,i)(o)}}}),{cacheKey:JSON.stringify}),Ph=mh()((function(e,t,n){return{id:"quickbar"+n,description:ae("Add to Quickbar"),isActive:!1,isEnabled:n,transform:function(n){return function(e,t){return kh(e,{type:"item",occurrence:t})}(n,{itemId:e,params:t})}}}),{cacheKey:JSON.stringify});function Th(e){return Pt([pt.ItemsNeededForCombining],e,3)}var jh=mh()((function(e,t){var n;return{id:"combineActionOne",description:ae("Combine 1 to +{{quality}}",{quality:ue((null!=(n=null==t?void 0:t.itemQuality)?n:0)+1)}),isEnabled:function(n){return Ur({itemId:e,params:t},n)>=Th(n)},isActive:!1,transform:function(n){var r;return n=Nr({itemId:e,params:t},Th(n),n),n=Or({itemId:e,params:Ih(Ih({},t),{},{itemQuality:(null!=(r=null==t?void 0:t.itemQuality)?r:0)+1})},1,n)}}}),{cacheKey:JSON.stringify}),Mh=mh()((function(e,t,n){var r;return{id:"combineActionMany",description:ae("Combine all ({{amount}}) to +{{quality}}",{quality:ue((null!=(r=null==t?void 0:t.itemQuality)?r:0)+1),amount:ue(n)}),isEnabled:function(e){return!0},isActive:!1,transform:function(r){var a;return r=Nr({itemId:e,params:t},n*Th(r),r),r=Or({itemId:e,params:Ih(Ih({},t),{},{itemQuality:(null!=(a=null==t?void 0:t.itemQuality)?a:0)+1})},n,r)}}}),{cacheKey:JSON.stringify}),Dh=15,Oh=[pt.ItemQualityMax];var Nh=function(){function e(){var t=this;(0,Le.default)(this,e),this.getCachedBaseItemEffects=(0,q.default)((function(e){return t.getBaseItemEffects(e)})),this.tagsByEffect={},this._itemOccurrenceCache={},this.getMemoizedItemOccurrence=function(e){var n=JSON.stringify(e),r=t._itemOccurrenceCache[n];return null==r&&(r={itemId:t.getId(),params:e},t._itemOccurrenceCache[n]=r),null!=r.tags&&delete r.tags,r},this.explanationParams=(0,q.default)((function(e,n){return{itemId:t.getId(),params:e,valueType:n.valueType,unit:n.unit}}))}return(0,He.default)(e,[{key:"getTags",value:function(){return[]}},{key:"getName",value:function(e){var t=this.getBaseName(e);return null!=(null==e?void 0:e.itemQuality)&&(null==e?void 0:e.itemQuality)>0?t+" +"+ue(null==e?void 0:e.itemQuality):""+t}},{key:"getDefaultName",value:function(){return this.getName(this.getDefaultParams())}},{key:"getBaseItemEffects",value:function(e){return{}}},{key:"isActive",value:function(e){return!1}},{key:"getTransformationTags",value:function(){return null==this._tags&&(this._tags=[this.getId()].concat((0,h.default)(this.getTags().map((function(e){return e}))))),this._tags}},{key:"getTagsByEffect",value:function(e,t){var n,r;null==(null==(n=this.tagsByEffect)?void 0:n[e])&&(this.tagsByEffect[e]=[].concat((0,h.default)(this.getTags()),[this.getId()],(0,h.default)(null!=(r=t.tags)?r:[]),[pt.ItemEffect]));return this.tagsByEffect[e]}},{key:"getItemEffect",value:function(e,t,n,r){var a=this.getCachedBaseItemEffects(t)[n];return null==a||(null==a?void 0:a.value)==r?r:Rt(this.getTagsByEffect(n,a),e,a.value,this.getMemoizedItemOccurrence(t))}},{key:"getItemEffects",value:function(e,t,n){var r=this.getCachedBaseItemEffects(t),a={};for(var i in r)if(null==n||i==n){var o=r[i];a[i]=Rt(this.getTagsByEffect(i,o),e,o.value,this.getMemoizedItemOccurrence(t))}return a}},{key:"getItemEffectExplanations",value:function(e,t,n){var r=this.getCachedBaseItemEffects(t),a={};for(var i in r)if(null==n||i==n){var o=r[i];a[i]=Mt(this.getTagsByEffect(i,o),e,o.value,this.explanationParams(t,o))}return a}},{key:"getSalePrice",value:function(e,t,n){var r=this.getBaseSalePrice(e,t);return It([pt.ItemSalePrice].concat((0,h.default)(this.getTransformationTags()),(0,h.default)(null!=n?n:[])),e,r,this.getMemoizedItemOccurrence(t))}},{key:"getPrimaryAction",value:function(e,t){}},{key:"getSellOneAction",value:function(e,t,n){var r=this.getSalePrice(e,t,n);return Ur(this.getMemoizedItemOccurrence(t),e)>=1?Sh(this.getId(),t,r):void 0}},{key:"getSaleActions",value:function(e,t){var n=this.getSalePrice(e,t),r=Ur(this.getMemoizedItemOccurrence(t),e),a=Qt(e,Dt.Coins)-zt(e,Dt.Coins),i=a<n*r&&n>0&&a>0;return[r>1?Sh(this.getId(),t,n):null,i?Rh(this.getId(),t,n,Math.ceil(a/n),!1):null,Rh(this.getId(),t,n,r,!0)].filter((function(e){return null!=e}))}},{key:"getQuickbarAction",value:function(e,t){if(this.getPrimaryAction(e,t))return Ph(this.getId(),t,!Eh(e,{type:"item",occurrence:this.getMemoizedItemOccurrence(t)})&&!wh(e))}},{key:"getCombineActions",value:function(e,t){var n,r=[];if(this.isItemQualityValid()&&Sr(e)&&(null!=(n=null==t?void 0:t.itemQuality)?n:0)<function(e){return Pt(Oh,e,Dh)}(e)){var a=Ur({itemId:this.getId(),params:t},e),i=Th(e);a>=i&&r.push(jh(this.getId(),t)),a>=2*i&&r.push(Mh(this.getId(),t,Math.floor(a/i)))}return r}},{key:"isItemQualityValid",value:function(){return!1}},{key:"getExtraActions",value:function(e,t){return[]}},{key:"getDefaultParams",value:function(){return{}}}]),e}();function Uh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Uh(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[pt.ItemEffect]],"itemQualityBonus",ae("Item Quality"),At.Multiplier,(function(e,t,n){var r,a;return n<=0?1:Math.pow(1.1,null!=(r=null==t||null==(a=t.params)?void 0:a.itemQuality)?r:0)})),xt([[pt.ItemSalePrice]],"itemQualitySalePrice",ae("Item Quality"),At.Multiplier,(function(e,t,n){var r,a;return n<=0?1:Math.pow(1.5,null!=(r=null==t||null==(a=t.params)?void 0:a.itemQuality)?r:0)}));var Hh,Yh=mh()((function(e,t,n,r){return{id:"equip",description:ae("Equip"),isEnabled:e,transform:function(e){return e=ki(e,t,{itemId:n,params:r})}}}),{cacheKey:JSON.stringify}),Qh=function(e){(0,ws.default)(n,e);var t=Lh(n);function n(){var e;(0,Le.default)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).attackTags=[Vr.Attack],e.defenseTags=[Vr.Defense],e.maxHPTags=[Vr.MaxHP],e.manaRegenTags=[Dt.Mana,pt.Production],e.maxManaTags=[Dt.Mana,pt.PerItemCap],e.attackDelayTags=[Vr.AttackDelay],e.accuracyTags=[Vr.Accuracy],e.dodgeTags=[Vr.Dodge],e.critTags=[Vr.Crit],e}return(0,He.default)(n,[{key:"getTags",value:function(){return[yh.Equipment,this.getSlot()]}},{key:"getExtraSlots",value:function(){return[]}},{key:"getEquippedParams",value:function(e){var t=xi(e,this.getSlot());if(t.itemId==this.getId())return t.params}},{key:"getEquippedItemEffect",value:function(e,t){var n=this,r=wi(e,this.getSlot()).find((function(e){return(null==e?void 0:e.itemId)==n.getId()}));if(null!=r)return this.getItemEffects(e,r.params,t)}},{key:"getPrimaryAction",value:function(e,t){return Yh(Ai(e,this.getSlot(),{itemId:this.getId(),params:t}),this.getSlot(),this.getId(),t)}},{key:"getAttackBonusBase",value:function(e){return 0}},{key:"getDefenseBonusBase",value:function(e){return 0}},{key:"getMaxHPBonusBase",value:function(e){return 0}},{key:"getManaRegenBonusBase",value:function(e){return 0}},{key:"getMaxManaBonusBase",value:function(e){return 0}},{key:"getAttackDelayBonusRatioBase",value:function(e){return 0}},{key:"getPlayerAccuracyBonusBase",value:function(e){return 0}},{key:"getPlayerDodgeBonusBase",value:function(e){return 0}},{key:"getPlayerCritChanceBonusBase",value:function(e){return 0}},{key:"getBaseExtraItemEffects",value:function(e){return{}}},{key:"getBaseItemEffects",value:function(e){var t={attack:{value:this.getAttackBonusBase(e),tags:this.attackTags,unit:ae(":attack:"),valueType:vt.Basic},defense:{value:this.getDefenseBonusBase(e),tags:this.defenseTags,unit:ae(":defense:"),valueType:vt.Basic},maxHP:{value:this.getMaxHPBonusBase(e),tags:this.maxHPTags,unit:ae(" Max:hp:"),valueType:vt.Basic},manaRegen:{value:this.getManaRegenBonusBase(e),tags:this.manaRegenTags,unit:ae(":mana:/sec"),valueType:vt.Basic},maxMana:{value:this.getMaxManaBonusBase(e),tags:this.maxManaTags,unit:ae(" Max:mana:"),valueType:vt.Basic},attackDelay:{value:1/(1+this.getAttackDelayBonusRatioBase(e))-1,tags:this.attackDelayTags,unit:ae(":attackDelay:"),valueType:vt.Divisor},accuracy:{value:this.getPlayerAccuracyBonusBase(e),tags:this.accuracyTags,unit:ae(":accuracy:"),valueType:vt.Basic},dodge:{value:this.getPlayerDodgeBonusBase(e),tags:this.dodgeTags,unit:ae(":dodge:"),valueType:vt.Basic},crit:{value:this.getPlayerCritChanceBonusBase(e),tags:this.critTags,unit:ae(":critChance:"),valueType:vt.Basic}};for(var n in t)0==t[n].value&&delete t[n];var r=this.getBaseExtraItemEffects(e);return Fh(Fh({},t),r)}},{key:"getEffect",value:function(e,t){return this.getEffectBase(e,t)}},{key:"getEffectExtra",value:function(e,t){}},{key:"getEffectBase",value:function(e,t){var n,r,a,i,o,u,l,s,c,f=this.getItemEffects(e,t),d=this.getItemEffectExplanations(e,t),g={attack:null!=(n=f.attack)?n:0,defense:null!=(r=f.defense)?r:0,maxHP:null!=(a=f.maxHP)?a:0,manaRegen:null!=(i=f.manaRegen)?i:0,maxMana:null!=(o=f.maxMana)?o:0,attackDelay:1/((null!=(u=f.attackDelay)?u:0)+1),accuracy:null!=(l=f.accuracy)?l:0,dodge:null!=(s=f.dodge)?s:0,crit:null!=(c=f.crit)?c:0},h=Object.keys(g).map((function(e){var t=null==g?void 0:g[e];if(0==t||1==t&&"attackDelay"==e)return null;var n=null==d?void 0:d[e],r="+";switch(t<0&&(r="-",t=Math.abs(t)),e){case"attack":case"defense":case"accuracy":case"dodge":return ae("^{{value}}^<{{explanation}}>{{statIcon}}",{value:r+ue(t),explanation:n,statIcon:":"+e+":"});case"crit":return ae("^{{value}}^<{{explanation}}>{{statIcon}}",{value:r+ue(t),explanation:n,statIcon:":critChance:"});case"manaRegen":return ae("^{{value}}^<{{explanation}}>:mana:/sec",{value:r+ue(t),explanation:n});case"maxHP":return ae("^{{value}}^<{{explanation}}> Max:hp:",{value:r+ue(t),explanation:n});case"maxMana":return ae("^{{value}}^<{{explanation}}> Max:mana:",{value:r+ue(t),explanation:n});case"attackDelay":return ae("^{{value}}^<{{explanation}}>:attackDelay:",{value:le(t),explanation:n})}})),m=this.getEffectExtra(e,t);return h.push(m),h.filter((function(e){return null!=e})).join(ae(", "))}},{key:"isEquippedWithAnyParams",value:function(e){var t=this;return wi(e,this.getSlot()).some((function(e){return(null==e?void 0:e.itemId)==t.getId()}))}},{key:"isItemQualityValid",value:function(){return!0}}]),n}(Nh),zh=function(e,t){var n=xi(e,hi.Hand),r=xi(e,hi.Body),a=wi(e,hi.Accessory);[n,r].concat((0,h.default)(a.flat())).forEach((function(e){null!=e&&t(e)}))},Vh=function(e){return function(t){var n=0;return zh(t,(function(r){var a=Br.getById(r.itemId),i=e(t,a,r.params);0!=i&&(n+=i)})),n}};function Wh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}ui.register(new oi("EquippableItem",ae("Equipped Items"),(function(e){var t={};return zh(e,(function(n){var r,a=Br.getById(n.itemId).getItemEffect(e,n.params,"manaRegen",0);0!=a&&(t[Dt.Mana]=(null!=(r=null==t?void 0:t[Dt.Mana])?r:0)+a)})),t}))),xt([[Qr.Player,Vr.Attack]],"EquippableItemAttack",ae("Equipped Items"),At.Addition,Vh((function(e,t,n){return t.getItemEffect(e,n,"attack",0)}))),xt([[Qr.Player,Vr.Defense]],"EquippableItemDefense",ae("Equipped Items"),At.Addition,Vh((function(e,t,n){return t.getItemEffect(e,n,"defense",0)}))),xt([[Qr.Player,Vr.MaxHP]],"EquippableItemMaxHP",ae("Equipped Items"),At.Addition,Vh((function(e,t,n){return t.getItemEffect(e,n,"maxHP",0)}))),xt([[Qr.Player,Vr.AttackDelay]],"EquippableItemAttackDelay",ae("Equipped Items"),At.Multiplier,(Hh=function(e,t,n){return 1/(t.getItemEffect(e,n,"attackDelay",0)+1)},function(e){var t=1;return zh(e,(function(n){var r=Br.getById(n.itemId),a=Hh(e,r,n.params);1!=a&&(t*=a)})),t})),xt([[Qr.Player,Vr.Accuracy]],"EquippableItemAccuracy",ae("Equipped Items"),At.Addition,Vh((function(e,t,n){return t.getItemEffect(e,n,"accuracy",0)}))),xt([[Qr.Player,Vr.Dodge]],"EquippableItemDodge",ae("Equipped Items"),At.Addition,Vh((function(e,t,n){return t.getItemEffect(e,n,"dodge",0)}))),xt([[Qr.Player,Vr.Crit]],"EquippableItemCritChance",ae("Equipped Items"),At.Addition,Vh((function(e,t,n){return t.getItemEffect(e,n,"crit",0)}))),xt([[Dt.Mana,pt.Cap]],"EquippableItemManaCap",ae("Equipped Items"),At.Addition,(function(e){var t=0;return zh(e,(function(n){var r=Br.getById(n.itemId).getItemEffect(e,n.params,"maxMana",0);0!=r&&(t+=r)})),t}));var Gh=mh()((function(e,t,n,r,a){return{id:"primaryPouch",description:ae("Use"),isEnabled:e,isActive:t,transform:function(e){var t,i=Br.getById(n),o=i.getPouchItemAction(e,r,a);null!=o&&o.isEnabled&&(e.run.exploration.pouchItemsUsesLeft[r]=(null!=(t=e.run.exploration.pouchItemsUsesLeft[r])?t:i.getUsesPerCombat(e,a))-1,e=Br.getById(n).doPouchItemEffect(e,a));return e}}}),{cacheKey:JSON.stringify}),Jh=function(e){(0,ws.default)(n,e);var t=Wh(n);function n(){var e;(0,Le.default)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).getUsesPerCombatTags=(0,q.default)((function(){return[].concat((0,h.default)(e.getTransformationTags()),[pt.PouchItemUses])})),e}return(0,He.default)(n,[{key:"getSlot",value:function(){return hi.Pouch}},{key:"getPouchItemAction",value:function(e,t,n){var r=xo(e,"stun"),a=this.isActive(e),i=!r&&Zi(e)==me.Combat&&!qh(e,t);return Gh(i,a,this.getId(),t,n)}},{key:"doCleanup",value:function(e,t){return e}},{key:"shouldAutoUse",value:function(e,t){return!0}},{key:"getUsesPerCombatBase",value:function(e){return 1}},{key:"getUsesPerCombat",value:function(e,t){return Math.floor(It(this.getUsesPerCombatTags(),e,this.getUsesPerCombatBase(t),{itemId:this.getId(),params:t}))}},{key:"getUsesPerCombatExplanation",value:function(e,t){return Mt(this.getUsesPerCombatTags(),e,this.getUsesPerCombatBase(t),{itemId:this.getId(),params:t})}}]),n}(Qh);function qh(e,t){var n;return(null==(n=e.run.exploration.pouchItemsUsesLeft)?void 0:n[t])<=0}function Xh(e){var t=(0,D.useTheme)();return(0,Ll.jsx)(T.default,{style:Kh.tagRow,children:e.tags.map((function(e){return(0,Ll.jsx)(T.default,{style:[Kh.tagStyle,{backgroundColor:t.colors.secondaryContainer,borderColor:t.colors.secondaryContainer}],children:(0,Ll.jsx)(zl,{doNotScaleFonts:!0,style:[Kh.tagTextStyle,{color:t.colors.onSecondaryContainer}],children:Bh(e)})},e)}))})}var Kh=R.default.create({tagRow:{flexDirection:"row",flexWrap:"wrap"},tagStyle:{textAlign:"center",paddingHorizontal:6,borderRadius:8,height:18,marginRight:4},tagTextStyle:{fontSize:11,lineHeight:16}});function Zh(e){var t=As(),n=e.itemStack.itemOccurrence,r=n.itemId,a=n.params,i=Br.getById(r),u=i.getName(a),l=i.getDescription(t,a),s=i.getEffect(t,a),c=i.getTags(),f=i instanceof Jh?i.getUsesPerCombat(t,a):null,d=i instanceof Jh?i.getUsesPerCombatExplanation(t,a):null;return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:_h.itemDetailsContainer,children:[(0,Ll.jsxs)(T.default,{style:_h.main,children:[(0,Ll.jsxs)(zl,{h3:!0,children:[u,e.itemStack.amount>1&&" ("+e.itemStack.amount+")"]}),(0,Ll.jsx)(T.default,{style:_h.tagRow,children:(0,Ll.jsx)(Xh,{tags:c})}),l&&(0,Ll.jsx)(Rd,{children:l}),s&&(0,Ll.jsx)(Pd,{children:s}),f&&f>1&&(0,Ll.jsx)(fs,{children:ae("Can be used ^{{times}}^<{{explanation}}> times per combat",{times:ue(f),explanation:d})})]}),e.showTile&&(0,Ll.jsx)(Gd,{title:u,icon:i.getId(),quality:null==a?void 0:a.itemQuality,tooltipIdSuffix:"itemInfo"})]})}),[u,e.itemStack.amount,JSON.stringify(c),l,s,f,null==a?void 0:a.itemQuality,i.getId()])}var _h=R.default.create({itemDetailsContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start"},main:{flex:1},tagRow:{marginVertical:4}});function $h(e){var t=As(),n=e.spell,r=n.getItem(),a=r.getDefaultParams(),i=ae("Total owned: {{amount}}",{amount:Fr(r,t)}),u=n.getCraftingMaterials(t),l=n.isVisible(t),s=(0,D.useTheme)(),c=Gf(n),f=ae("You do not meet the requirements to cast this Transmutation spell. You need: {{requirements}}",{requirements:c}),d=n.getMainExp(t),g=null!=d.element?ae("Exp gain: +{{amount}} {{element}} exp",{amount:ue(d.expMax),element:ln(d.element)}):ae("Exp gain: +{{min}}~{{max}} exp (various)",{min:ue(d.expMin),max:ue(d.expMax)}),h=(0,o.useMemo)((function(){return{itemOccurrence:{itemId:r.getId(),params:a},amount:1}}),[r.getId()]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(Zh,{itemStack:h,showTile:!1}),(0,Ll.jsx)(fs,{children:i}),(0,Ll.jsx)(fs,{children:g}),(0,Ll.jsxs)(T.default,{style:tm.costContainer,children:[(0,Ll.jsx)(T.default,{style:tm.costTextContainer,children:(0,Ll.jsx)(fs,{children:ae("Cost:")})}),(0,Ll.jsx)(gg,{resources:u.resources,items:u.items})]}),!l&&(0,Ll.jsx)(T.default,{style:tm.actionRow,children:(0,Ll.jsx)(zl,{style:[tm.cannotCraftText,{color:s.colors.error}],children:f})})]})}),[h,i,g,JSON.stringify(u),l,f,s])}function em(e){var t=As(),n=(0,o.useRef)(t);n.current=t;var r=e.spell,a=r.getItem(),i=a.getDefaultParams(),u=ae("Total owned: {{amount}}",{amount:Fr(a,t)}),l=r.getCraftingMaterials(t),s=r.canCraft(t),c=r.isVisible(t),f=(0,D.useTheme)(),d=Gf(r),g=ae("You do not meet the requirements to cast this Transmutation spell. You need: {{requirements}}",{requirements:d}),h=r.getMainExp(t),m=null!=h.element?ae("Exp gain: +{{amount}} {{element}} exp",{amount:ue(h.expMax),element:ln(h.element)}):ae("Exp gain: +{{min}}~{{max}} exp (various)",{min:ue(h.expMin),max:ue(h.expMax)}),y=r.timesCraftable(t),p=(0,o.useCallback)((function(){n.current.apply(r.doAction.bind(r,{}))}),[a]),v=(0,o.useCallback)((function(){n.current.apply(r.craftMax.bind(r))}),[a]),A=(0,o.useCallback)((function(){n.current.apply(r.craftIntermediate.bind(r))}),[a]),b=y>1,k=r.isCraftIntermediatePotentiallyPossible(t),x=r.isCraftIntermediatePossible(t),w=(0,o.useMemo)((function(){return{itemOccurrence:{itemId:a.getId(),params:i},amount:1}}),[a.getId()]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:tm.craftingDetailsContainer,children:[(0,Ll.jsx)(Zh,{itemStack:w,showTile:!0}),(0,Ll.jsx)(fs,{children:u}),(0,Ll.jsx)(fs,{children:m}),(0,Ll.jsxs)(T.default,{style:tm.costContainer,children:[(0,Ll.jsx)(fs,{children:ae("Cost:")}),(0,Ll.jsx)(gg,{resources:l.resources,items:l.items})]}),Dc(t)&&(0,Ll.jsx)(T.default,{style:gs.mt4,children:(0,Ll.jsx)(Ag,{spellId:r.getId()})}),(0,Ll.jsx)(T.default,{style:tm.actionRow,children:c?[(0,Ll.jsx)(ql,{enableAutoRepress:!0,autoRepressConfig:{dropoffMultiplier:.8,startingThreshold:300,startingRepressTime:200,minTimeMs:50},disabled:!s,onPress:p,children:ae("Transmute")},"craft_button"),b&&(0,Ll.jsx)(ql,{disabled:!s,onPress:v,children:ae("Transmute All ({{amount}})",{amount:ue(y)})},"craft_max"),k&&(0,Ll.jsx)(ql,{onPress:A,disabled:!x,children:ae("Transmute Materials",{amount:ue(y)})},"craft_intermediate")]:(0,Ll.jsx)(zl,{style:[tm.cannotCraftText,{color:f.colors.error}],children:g})})]})}),[w,u,m,JSON.stringify(l.resources),JSON.stringify(l.items),Dc(t),s,b,v,y,n,f,c,A,x,k])}var tm=R.default.create({craftingDetailsContainer:{marginBottom:16},tagRow:{marginVertical:4},actionRow:{flexDirection:"row",flexWrap:"wrap",marginTop:8,gap:8},actionButtonContainer:{marginRight:8},costContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",marginTop:4},costTextContainer:{marginRight:8},inventoryFullContainer:{flex:1,marginHorizontal:8},cannotCraftText:{fontStyle:"italic"}});function nm(e){var t=As(),n=id.getById(e.spellcraftId),r=n.getBaseItem(),a={resources:{},items:{}};a.items[r.getId()]=1e3;var i=(0,D.useTheme)(),u=n.getEffect(t);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsxs)(T.default,{style:am.itemDetailsContainer,children:[(0,Ll.jsxs)(T.default,{style:am.main,children:[(0,Ll.jsx)(zl,{h3:!0,children:r.getDefaultName()}),u&&(0,Ll.jsx)(Pd,{children:u})]}),e.showTile&&(0,Ll.jsx)(Gd,{title:n.getName(),icon:r.getId(),tooltipIdSuffix:"spellcraftInfo",borderColor:i.colors.outline})]}),(0,Ll.jsxs)(T.default,{style:am.costContainer,children:[(0,Ll.jsx)(T.default,{style:gs.mr8,children:(0,Ll.jsx)(zl,{children:ae("Cost:")})}),(0,Ll.jsx)(gg,{resources:a.resources,items:a.items})]})]})}),[r.getId(),u,JSON.stringify(a),i])}function rm(e){var t=As(),n=(0,o.useRef)(t);n.current=t;var r=e.vatId,a=id.getById(e.spellcraftId),i=a.getBaseItem();({})[i.getId()]=1e3;var u=a.canAfford(t),l=(0,o.useCallback)((function(){n.current.apply((function(t){return function(e,t,n){var r=id.getById(n),a=e.run.spellcrafts[t];if(a.spellcraftId==n)return e;if(null==a.spellId)return e;var i=Ia.getById(a.spellId);return r.isSpellCompatible(i)&&sd(e,a.spellId,r)&&r.canAfford(e)?(null!=a.spellcraftId&&(e=cd(e,t)),e=Lr(r.getBaseItem(),1e3,e),a.spellcraftId=n,e=zc(e=Ya(e))):e}(t,r,e.spellcraftId)}))}),[i]),s=t.run.spellcrafts[r],c=s.spellcraftId==e.spellcraftId,f=!sd(t,s.spellId,a),d=(0,D.useTheme)();return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:am.craftingDetailsContainer,children:[(0,Ll.jsx)(nm,{spellcraftId:e.spellcraftId,showTile:!0}),(0,Ll.jsx)(T.default,{style:am.actionRow,children:(0,Ll.jsx)(ql,{disabled:!u||c||f,onPress:l,children:ae("Spellcraft")},"assignButton")}),!c&&f&&(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(zl,{style:{color:d.colors.error,fontStyle:"italic"},children:ae("You cannot assign this Spellcraft to the current spell! You may have only up to 2 separate Spellcrafts on a single spell. They must both be different, and unless the Spellcraft used is from items that you can Transmute using your Primary Element, the Spellcraft can only be used once across all spells!")})})]})}),[e.spellcraftId,u,l,c,f,d])}var am=R.default.create({craftingDetailsContainer:{marginBottom:16},actionRow:{flexDirection:"row",flexWrap:"wrap",marginTop:8,gap:8},actionButtonContainer:{marginRight:8},costContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",marginTop:4},costTextContainer:{marginRight:8},inventoryFullContainer:{flex:1,marginHorizontal:8},cannotCraftText:{fontStyle:"italic"},itemDetailsContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start"},main:{flex:1}}),im=function(e){return e.INVENTORY="INVENTORY",e.TRANSMUTE="TRANSMUTE",e.COMPENDIUM="COMPENDIUM",e.SPELLCRAFT="SPELLCRAFT",e}({});var om=o.memo((function(e){if(null==e.item||e.location==im.COMPENDIUM)return null;var t=e.item;return(0,o.useMemo)((function(){if(e.location==im.TRANSMUTE){var n=Ia.getById(t.itemOrSpellId);return(0,Ll.jsx)($h,{spell:n})}if(e.location==im.SPELLCRAFT)return(0,Ll.jsx)(nm,{showTile:!1,spellcraftId:id.getAll().find((function(e){return e.getBaseItem().getId()==t.itemOrSpellId})).getId()});var r=Br.getById(t.itemOrSpellId);return(0,Ll.jsx)(Zh,{itemStack:{itemOccurrence:{itemId:r.getId(),params:t.params},amount:t.amount},showTile:!1})}),[JSON.stringify(t),e.location])}),(function(e,t){return JSON.stringify(e)==JSON.stringify(t)}));var um=o.memo((function(e){var t=e.itemGridElement,n=e.index,r=e.onPress,a=e.onDoublePress,i=e.location==im.TRANSMUTE?Ia.getById(t.itemOrSpellId).getItem():Br.getById(t.itemOrSpellId),u=(0,o.useMemo)((function(){var e=null;return n%10==0&&(e=(0,Ll.jsx)(T.default,{style:sm.accessibilityHidden,accessible:!0,accessibilityLabel:ae("Item list position {{index}}",{index:n+1}),accessibilityRole:"header",accessibilityLevel:5,accessibilityElementsHidden:!1})),e}),[n]),l=(0,o.useMemo)((function(){return t.disableTooltip||"web"!=I.default.OS?null:(0,Ll.jsx)(om,{item:t,location:e.location})}),[t,e.location]);return(0,o.useMemo)((function(){var n;return(0,Ll.jsxs)(T.default,{children:[u,(0,Ll.jsx)(Gd,{title:i.getName(t.params),onPress:r?r.bind(null,t):void 0,onDoublePress:a?a.bind(null,t):void 0,icon:i.getId(),quality:null==t||null==(n=t.params)?void 0:n.itemQuality,disabled:t.disabled,amount:t.amount,tooltipIdSuffix:e.location,tooltip:l})]})}),[u,t,l,r,a,e.location])}));function lm(e){var t=(0,D.useTheme)(),n=As(),r=(0,j.default)(),a=r.height,i=(r.width,Math.max(220,a-80-300-300));(0,o.useRef)(n).current=n;var u=(0,o.useMemo)((function(){return[sm.container,{borderColor:t.colors.outlineVariant}]}),[t]),l=(0,o.useMemo)((function(){return[null!=e.overrideMaxHeight?{maxHeight:e.overrideMaxHeight}:{maxHeight:i}]}),[e.overrideMaxHeight,i]),s=(0,o.useMemo)((function(){return[sm.gridContainer,{backgroundColor:t.colors.background}]}),[t]);return(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:u,children:(0,Ll.jsx)(S.default,{style:l,nestedScrollEnabled:!0,children:(0,Ll.jsx)(T.default,{style:s,children:e.items.map((function(t,n){return(0,Ll.jsx)(um,{itemGridElement:t,index:n,onPress:e.onPressItem,onDoublePress:e.onDoublePressItem,location:e.location},t.itemOrSpellId+JSON.stringify(t.params))}))})})})}),[JSON.stringify(e.items),e.onPressItem,e.onDoublePressItem,e.location,u,l,t])}var sm=R.default.create({container:{borderWidth:2},scrollView:{maxHeight:220},gridContainer:{flexDirection:"row",flexWrap:"wrap",justifyContent:"center",flex:1},accessibilityHidden:{width:1,height:1,position:"absolute",left:0,top:0}}),cm=n(81222),fm=n(29476),dm=["style","selectedValue"];function gm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gm(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mm(){var e=(0,D.useTheme)();return(0,Ll.jsx)(m.default,{name:"arrow-drop-down",size:24,color:e.colors.onPrimary})}function ym(e){var t=e.style,n=e.selectedValue,r=(0,Ol.default)(e,dm),a=(0,D.useTheme)(),i=Ul();return(0,Ll.jsx)(fm.default,hm(hm({},r),{},{style:{inputAndroidContainer:{backgroundColor:a.colors.primary,padding:8,paddingVertical:i.compactLayout?0:8,paddingRight:32,borderRadius:4},inputAndroid:R.default.flatten([{color:a.colors.onPrimary},t]),iconContainer:{top:i.compactLayout?2:10,right:4,width:"web"===cm.Platform.OS?0:24,display:"web"===cm.Platform.OS?"none":"flex"},viewContainer:R.default.flatten(["web"===cm.Platform.OS?{alignSelf:"center"}:void 0,t]),placeholder:{color:a.colors.onPrimary}},placeholder:e.disablePlaceholder?{}:{label:ae("Select...")},fixAndroidTouchableBug:!0,Icon:mm,value:n,useNativeAndroidPickerStyle:!1,dropdownIconColor:a.colors.onBackground,dropdownIconRippleColor:a.colors.onBackground,textInputProps:e.maxLength&&{maxLength:e.maxLength},items:e.data}))}var pm=o.createContext({getUIState:function(e){return null},setUIState:function(e,t){}});function vm(e,t,n){var r,i=null!=(r=e.getUIState(t))?r:n,u=(0,o.useState)(i),l=(0,a.default)(u,2),s=l[0],c=l[1];return[s,(0,o.useCallback)((function(n){c(n),e.setUIState(t,n)}),[e,t,c])]}function Am(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Am(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Am(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var km=[yh.Material,yh.Hand,yh.Body,yh.Accessory,yh.Consumable,yh.Equipment,yh.Familiar,yh.QuestItem];function xm(){var e=As(),t=(0,o.useContext)(pm),n=(0,o.useState)(null),r=(0,a.default)(n,2),i=r[0],u=r[1],s=vm(t,"CraftingTag","All"),c=(0,a.default)(s,2),f=c[0],d=c[1],g=e.world.maxElementLevels,m=ee(Rn(e).map((function(t){return[t,xn(e,t)]}))),y=(0,o.useMemo)((function(){return mf(e)}),[JSON.stringify(g),Wo(e),Kc(e),Ve(e,Ir.DeepCavernsUnlocked),Ve(e,Ir.LostForestUnlocked)]),p=(0,o.useMemo)((function(){var e=new Set;return y.forEach((function(t){t.getItem().getTags().forEach((function(t){return e.add(t)}))})),Array.from(e).sort((function(e,t){return km.findIndex((function(t){return t==e}))-km.findIndex((function(e){return e==t}))}))}),[y]);(0,o.useEffect)((function(){p.includes(f)||d("All")}),[p.join(),f]),(0,o.useEffect)((function(){return u(null)}),[f]),(0,o.useRef)(i).current=i;var v=(0,o.useContext)(hs);(0,o.useEffect)((function(){if(v)return ft("TransmutationComponent",(function(e){u(null)}),(function(e){return mf(e).map((function(e){return e.getId()})).join()})),function(){return dt("TransmutationComponent")}}),[v]);var A=o.useCallback((function(e){u(e)}),[u]),b=(0,o.useMemo)((function(){return(0,Ll.jsx)(ym,{onValueChange:d,style:wm.picker,selectedValue:f,data:["All"].concat((0,h.default)(p)).map((function(e){return{label:"All"==e?(0,l.t)("All"):Bh(e),value:e,key:e}})),disablePlaceholder:!0})}),[d,f,JSON.stringify(p)]),k=(0,o.useMemo)((function(){return y.filter((function(e){return"All"===f||e.getItem().getTags().includes(f)})).sort((function(e,t){var n=km.findIndex((function(t){return e.getItem().getTags().includes(t)})),r=km.findIndex((function(e){return t.getItem().getTags().includes(e)}));return n!=r?n-r:Math.max.apply(Math,(0,h.default)(Object.values(e.getLevelRequirements()).filter((function(e){return void 0!=e}))))-Math.max.apply(Math,(0,h.default)(Object.values(t.getLevelRequirements()).filter((function(e){return void 0!=e}))))}))}),[f,y]),x=vm(t,"crafting_hide_locked",!1),w=(0,a.default)(x,2),E=w[0],C=w[1],I=(0,o.useCallback)((function(){C(!E)}),[E,C]);(0,o.useEffect)((function(){return u(null)}),[E]);var B=(0,o.useState)(""),S=(0,a.default)(B,2),R=S[0],P=S[1];(0,o.useEffect)((function(){return u(null)}),[R]);var j=(0,o.useState)(""),M=(0,a.default)(j,2),D=M[0],O=M[1];(0,o.useEffect)((function(){var e=setTimeout((function(){return P(D)}),400);return function(){return clearTimeout(e)}}),[D]);var N=(0,o.useMemo)((function(){return k.map((function(t){return{itemOrSpellId:t.getId(),amount:1,params:t.getItem().getDefaultParams(),disabled:!t.isVisible(e)}}))}),[JSON.stringify(g),JSON.stringify(m),k]),U=(0,o.useMemo)((function(){return JSON.stringify(N)}),[N]),F=(0,o.useMemo)((function(){return N.some((function(e){return e.disabled}))}),[U]),L=(0,o.useMemo)((function(){var e=N;return E&&(e=e.filter((function(e){return!e.disabled}))),R.length>=3&&(e=e.filter((function(e){return Ia.getById(e.itemOrSpellId).getSpellName().toLowerCase().includes(R.toLowerCase())}))),e.map((function(e,t){return bm(bm({},e),{},{disableTooltip:(null==i?void 0:i.itemOrSpellId)==e.itemOrSpellId})}))}),[U,E,i,R]),H=(0,o.useMemo)((function(){return JSON.stringify(L)}),[L]),Y=null!=i?Ia.getById(null==i?void 0:i.itemOrSpellId):void 0,Q=(0,o.useMemo)((function(){return(0,Ll.jsx)(lm,{items:L,location:im.TRANSMUTE,onPressItem:A})}),[H,A]),z=(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:wm.detailsContainer,children:Y&&(0,Ll.jsx)(em,{spell:Y})})}),[null==Y?void 0:Y.getId()]),V=(0,o.useCallback)((function(){P(""),O("")}),[]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:wm.container,children:[(0,Ll.jsxs)(T.default,{style:[gs.flexRowSpaceBetween,gs.mb8,gs.ph8],children:[(0,Ll.jsx)(T.default,{style:[wm.tagPickerContainer],children:b}),F&&(0,Ll.jsx)(fg,{title:(0,l.t)("Hide locked"),checked:E,onPress:I,containerStyle:wm.checkboxContainer})]}),(0,Ll.jsxs)(T.default,{style:[gs.flexRowAlignCenter,gs.mb8,gs.ph8],children:[(0,Ll.jsx)(zl,{children:(0,l.t)("Filter:")}),(0,Ll.jsx)(gh.default,{style:[gs.ml8,{minWidth:180}],mode:"outlined",dense:!0,value:D,onChangeText:O}),D.length>0&&(0,Ll.jsx)(ql,{onPress:V,compact:!0,style:gs.ml8,children:(0,l.t)("Clear")})]}),Q,z]})}),[b,F,E,I,Q,z,D,O,V])}var wm=R.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",width:"100%",paddingTop:16},detailsContainer:{marginTop:16,paddingHorizontal:8,paddingBottom:8},buttonGroupContainer:{flexDirection:"row",alignItems:"flex-start",height:void 0,flexWrap:"wrap",justifyContent:"flex-start",borderWidth:0},buttonGroupButtonContainer:{flex:1,height:40,borderWidth:1,borderColor:"#eee",margin:4},picker:{flex:1},tagPickerContainer:bm({width:"web"!=I.default.OS?180:null},I.default.select({android:{backgroundColor:"#eee",borderRadius:10,default:{}}})),row:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",marginBottom:16,paddingHorizontal:8},checkboxContainer:{marginLeft:0,padding:0,maxWidth:140},checkboxText:{fontWeight:"normal"}});function Em(e){var t=e.info,n=t.item,r=n.getDefaultParams(),a=t.transmuteSpell,i=[];if(null!=a){var u=Gf(a);i.push(ae("Transmutation ({{requirements}})",{requirements:u}))}t.knownLootFromEnemies.forEach((function(e){return i.push(null!=e.lootChance?ae("{{enemyName}} ({{chance}}% to get {{amount}})",{enemyName:e.enemy.getName(),amount:e.amount,chance:ue(100*e.lootChance,{showDecimals:!0})}):ae("{{enemyName}} (???)",{enemyName:e.enemy.getName()}))}));var l=ae("How to obtain: *{{howToObtain}}*",{howToObtain:i.length>0?i.join(ae(", ")):ae("Unknown")}),s=(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{children:l})})}),[l]),c=(0,o.useMemo)((function(){return{itemOccurrence:{itemId:n.getId(),params:r},amount:1}}),[n.getId()]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(Zh,{itemStack:c,showTile:!0}),s]})}),[c,s])}function Cm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Im(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cm(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bm(){var e=As(),t=(0,o.useContext)(pm),n=(0,o.useState)(null),r=(0,a.default)(n,2),i=r[0],u=r[1],s=vm(t,"CompendiumTag","All"),c=(0,a.default)(s,2),f=c[0],d=c[1],g=$f(e),m=(0,o.useMemo)((function(){var e=new Set;return g.forEach((function(t){t.item.getTags().forEach((function(t){return e.add(t)}))})),Array.from(e).sort((function(e,t){return km.findIndex((function(t){return t==e}))-km.findIndex((function(e){return e==t}))}))}),[g]);(0,o.useEffect)((function(){m.includes(f)||d("All")}),[m.join(),f]),(0,o.useEffect)((function(){return u(null)}),[f]),(0,o.useRef)(i).current=i,(0,o.useEffect)((function(){u(null)}),[g]);var y=o.useCallback((function(e){u(e)}),[u]),p=(0,o.useMemo)((function(){return(0,Ll.jsx)(ym,{onValueChange:d,style:Sm.picker,selectedValue:f,data:["All"].concat((0,h.default)(m)).map((function(e){return{label:"All"==e?(0,l.t)("All"):Bh(e),value:e,key:e}}))})}),[d,f,JSON.stringify(m)]),v=(0,o.useMemo)((function(){return g.filter((function(e){return"All"===f||e.item.getTags().includes(f)})).sort((function(e,t){var n=km.findIndex((function(t){return e.item.getTags().includes(t)})),r=km.findIndex((function(e){return t.item.getTags().includes(e)}));return n!=r?n-r:null!=e.transmuteSpell&&null==t.transmuteSpell?1:null==e.transmuteSpell&&null!=t.transmuteSpell?-1:null==e.transmuteSpell&&null==t.transmuteSpell?0:Math.max.apply(Math,(0,h.default)(Object.values(e.transmuteSpell.getLevelRequirements()).filter((function(e){return void 0!=e}))))-Math.max.apply(Math,(0,h.default)(Object.values(t.transmuteSpell.getLevelRequirements()).filter((function(e){return void 0!=e}))))}))}),[f,g]),A=(0,o.useState)(""),b=(0,a.default)(A,2),k=b[0],x=b[1];(0,o.useEffect)((function(){return u(null)}),[k]);var w=(0,o.useState)(""),E=(0,a.default)(w,2),C=E[0],I=E[1];(0,o.useEffect)((function(){var e=setTimeout((function(){return x(C)}),400);return function(){return clearTimeout(e)}}),[C]);var B=(0,o.useMemo)((function(){return v.map((function(e){return{itemOrSpellId:e.item.getId(),amount:1,params:e.item.getDefaultParams(),disabled:!1,itemInfo:e}}))}),[v]),S=(0,o.useMemo)((function(){var e=B;return k.length>=3&&(e=e.filter((function(e){return Br.getById(e.itemOrSpellId).getDefaultName().toLowerCase().includes(k.toLowerCase())}))),e.map((function(e,t){return Im(Im({},e),{},{disableTooltip:!0})}))}),[B,i,k]),R=i,P=(0,o.useMemo)((function(){return(0,Ll.jsx)(lm,{items:S,location:im.COMPENDIUM,onPressItem:y})}),[S,y]),j=(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:Sm.detailsContainer,children:R&&(0,Ll.jsx)(Em,{info:R.itemInfo})})}),[null==R?void 0:R.itemOrSpellId]),M=(0,o.useCallback)((function(){x(""),I("")}),[]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:Sm.container,children:[(0,Ll.jsx)(T.default,{style:[gs.flexRowSpaceBetween,gs.mb8,gs.ph8],children:(0,Ll.jsx)(T.default,{style:[Sm.tagPickerContainer],children:p})}),(0,Ll.jsxs)(T.default,{style:[gs.flexRowAlignCenter,gs.mb8,gs.ph8],children:[(0,Ll.jsx)(zl,{children:(0,l.t)("Filter:")}),(0,Ll.jsx)(gh.default,{style:[gs.ml8,{minWidth:180}],mode:"outlined",dense:!0,value:C,onChangeText:I}),C.length>0&&(0,Ll.jsx)(ql,{onPress:M,compact:!0,style:gs.ml8,children:(0,l.t)("Clear")})]}),P,j]})}),[p,P,j,C,I,M])}var Sm=R.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",width:"100%",paddingTop:16},detailsContainer:{marginTop:16,paddingHorizontal:8,paddingBottom:8},buttonGroupContainer:{flexDirection:"row",alignItems:"flex-start",height:void 0,flexWrap:"wrap",justifyContent:"flex-start",borderWidth:0},buttonGroupButtonContainer:{flex:1,height:40,borderWidth:1,borderColor:"#eee",margin:4},picker:{flex:1},tagPickerContainer:Im({width:"web"!=I.default.OS?180:null},I.default.select({android:{backgroundColor:"#eee",borderRadius:10,default:{}}})),row:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",marginBottom:16,paddingHorizontal:8},checkboxContainer:{marginLeft:0,padding:0,maxWidth:140},checkboxText:{fontWeight:"normal"}});function Rm(){var e=(0,o.useState)("item"),t=(0,a.default)(e,2),n=t[0],r=t[1],i=(0,o.useMemo)((function(){return[{value:"item",label:ae("Items")},{value:"bestiary",label:ae("Bestiary")}]}),[]),u=(0,Ll.jsx)(Fg.default,{value:n,onValueChange:r,buttons:i});return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(T.default,{style:Pm.headerContainer,children:(0,Ll.jsx)(zl,{h1:!0,children:ae("Compendium")})}),u,(0,Ll.jsxs)(T.default,{style:gs.mt16,children:[(0,Ll.jsx)(T.default,{style:"item"!=n&&{display:"none"},children:(0,Ll.jsx)(Sg,{isVisible:"item"==n,children:(0,Ll.jsx)(Bm,{})})}),(0,Ll.jsx)(T.default,{style:"bestiary"!=n&&{display:"none"},children:(0,Ll.jsx)(Sg,{isVisible:"bestiary"==n,children:(0,Ll.jsx)(fh,{})})})]})]})}var Pm=R.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",width:"100%"},headerContainer:{marginBottom:16},captionText:{flex:1}}),Tm=n(387),jm=n(91582),Mm=n(32481),Dm=n(60535),Om=n(67887),Nm={menuClick:n(60159)},Um=function(){function e(){(0,Le.default)(this,e),this.sampleMap={}}return(0,He.default)(e,[{key:"load",value:function(){var e=(0,d.default)((function*(){var e=this;yield Dm.setIsEnabledAsync(!0),yield Promise.all(Object.keys(Nm).map(function(){var t=(0,d.default)((function*(t){var n=Nm[t],r=new Om.Sound;yield r.loadAsync(n),e.sampleMap[t]=r}));return function(e){return t.apply(this,arguments)}}()))}));return function(){return e.apply(this,arguments)}}()},{key:"play",value:function(e){this.sampleMap[e].replayAsync(),this.sampleMap[e].replayAsync()}}]),e}();const Fm=new Um;function Lm(e){var t=Object.values(e.run.eventOccurrences).sort((function(e,t){return t.timestamp-e.timestamp})).filter((function(e){return e.currentMessageId&&gl(e.currentMessageId).isTerminal()})).slice(20).map((function(e){return e.eventOccurrenceId}));for(var n in t.forEach((function(t){delete e.run.eventOccurrences[t]})),e.run.temporaryEffects){var r=e.run.temporaryEffects[n];xo(e,r.id,r.target)||delete e.run.temporaryEffects[n]}return e.global.notifications=e.global.notifications.filter((function(e){return null==e.globalTimestampRead})),e.run.exploration.actionResultQueue=e.run.exploration.actionResultQueue.slice(-10),e}var Hm={};function Ym(e,t,n,r){Hm[e.getId()]={event:e,weight:t,eligible:n,getParams:r}}var Qm=10800,zm=21600,Vm=.3,Wm=40,Gm=2;function Jm(e){e.run.pityCounter+=1;var t=zm+(Math.random()-.5)*(zm*Vm);return e.run.pityEnabledAtSeconds=Aa(e)+t,e}var qm=[pt.RandomEventWeight];function Xm(e){if(void 0===e.run.pityEnabledAtSeconds){var t=Qm+(Math.random()-.5)*(Qm*Vm);e.run.pityEnabledAtSeconds=Aa(e)+t}var n=Object.values(Hm).filter((function(t){return!t.eligible||t.eligible(e)}));if(0===n.length)return e;var r=n.reduce((function(t,n){return t+It(qm,e,n.weight,{randomEvent:n})}),0),a=Math.random()*r;for(var i in n){var o=n[i];if((a-=It(qm,e,o.weight,{randomEvent:o}))<0){var u=o.getParams?o.getParams(e):{};return o.event.getStorylines().length>0&&(e=Jm(e)),xl(o.event,u)(e)}}return e}function Km(e){var t=Object.values(Hm).filter((function(t){return!t.eligible||t.eligible(e)})),n=t.reduce((function(t,n){return t+It(qm,e,n.weight,{randomEvent:n})}),0),r={};return t.forEach((function(t){var a=It(qm,e,t.weight,{randomEvent:t});r[t.event.getId()]=a/n})),r}function Zm(){xt([[pt.RandomEventWeight]],"PityEventChance",ae("Storyline Pity"),At.Multiplier,(function(e,t){return t.randomEvent.event.getStorylines().length>0&&function(e){var t;return e.run.pityCounter<Gm&&Aa(e)>(null!=(t=e.run.pityEnabledAtSeconds)?t:1/0)}(e)?Wm:1})),ca("RandomEventTriggers",(function(e,t){var n=Aa(e)+e.run.extraEventSecs;if(n>(e.run.nextRandomEvent||0)){e=Xm(e);var r=Math.max(1+Math.min(n,86400)/21600,1);e.run.nextRandomEvent=60*(8+4*Math.random())*r+n}return e}))}var _m=n(48264),$m=!0,ey=zi();function ty(){return(ty=(0,d.default)((function*(){if(!zi())return{result:"error",error:"Not implemented"};try{var e=yield window.showOpenFilePicker(),t=(0,a.default)(e,1)[0];if(null!=t){var n=yield t.getFile(),r=yield n.text(),i=yield Ni(r);return null!=i?{result:"success",data:i}:{result:"error",error:ae("Failed decompressing and decoding the file")}}}catch(ON){return{result:"error",error:ae("Found unexpected error reading from the filesystem or deserializing")}}return{result:"cancel"}}))).apply(this,arguments)}function ny(){return(ny=(0,d.default)((function*(){if(!zi())return{result:"error",error:"Not implemented"};try{var e=yield window.showOpenFilePicker(),t=(0,a.default)(e,1)[0];if(null!=t){var n=yield t.getFile(),r=yield n.text();try{var i=JSON.parse(r);return null!=i?{result:"success",data:i}:{result:"error",error:ae("Unknown error parsing the file")}}catch(ON){return{result:"error",error:ae("Error parsing the translation file")}}}}catch(ON){return{result:"error",error:ae("Found unexpected error reading from the filesystem")}}return{result:"cancel"}}))).apply(this,arguments)}function ry(e){return ay.apply(this,arguments)}function ay(){return(ay=(0,d.default)((function*(e){var t=yield Fi(e);return yield(0,_m.openURL)("data:application/octet-stream;utf8,"+t),{result:"success"}}))).apply(this,arguments)}function iy(){var e=hl,t=nl.getAll(),n=As(),r=(0,o.useRef)(n);r.current=n;var i=(0,o.useState)(""),u=(0,a.default)(i,2),l=u[0],s=u[1],f=(0,o.useMemo)((function(){return(0,Ll.jsx)(ym,{onValueChange:function(e){return s(e)},selectedValue:l,data:Object.values(e).map((function(e,t){return{label:e.getId(),value:e.getId(),key:e.getId()}}))})}),[s,l,Z(e).join()]),g=(0,o.useMemo)((function(){return(0,Ll.jsxs)(Rg,{title:"Trigger events",children:[(0,Ll.jsx)(ql,{onPress:function(){return r.current.apply((function(e){return e.run.nextRandomEvent=0,e}))},children:"Trigger random event"}),f,(0,Ll.jsx)(ql,{onPress:function(){return r.current.apply(xl(e[l]))},children:"Trigger specific event"})]})}),[JSON.stringify(Object.keys(e)),l]),h=(0,o.useState)(""),m=(0,a.default)(h,2),y=m[0],p=m[1],v=(0,o.useMemo)((function(){return(0,Ll.jsx)(ym,{onValueChange:function(e){return p(e)},selectedValue:y,data:t.map((function(e,t){return{label:e.getId(),value:e.getId(),key:e.getId()}}))})}),[p,y]),A=(0,o.useMemo)((function(){return(0,Ll.jsxs)(Rg,{title:"Trigger Storylines",children:[v,(0,Ll.jsx)(ql,{onPress:function(){return r.current.apply((function(e){return nl.getById(y).complete(e)}))},children:"Complete Storyline"}),(0,Ll.jsx)(ql,{onPress:function(){return r.current.apply((function(e){return nl.getById(y).activateBonus(e)}))},children:"Activate Storyline bonus"})]})}),[y]),b=(0,o.useState)(JSON.stringify(n,null,"  ")),k=(0,a.default)(b,2),x=k[0],w=k[1],E=(0,o.useState)(""),B=(0,a.default)(E,2),S=B[0],R=B[1],P=(0,o.useCallback)((0,d.default)((function*(){var e=JSON.parse(x);r.current.overwrite((function(t){return Oi(e)})),yield Mi(e)})),[x]),j=(0,o.useState)(""),M=(0,a.default)(j,2),D=M[0],O=M[1],N=(0,o.useState)(""),U=(0,a.default)(N,2),F=U[0],L=U[1],H=(0,o.useCallback)((function(){var e=jt(D.split(","),r.current,1),t=Object.keys(e).map((function(t){return t+": "+e[t].map((function(e){var t=e.id,n=e.value;return t+": "+(null!=n?ue(n,{showDecimals:!0}):"undefined")})).join(", ")})).join("\n");L(t)}),[D,L]),Y=(0,o.useCallback)((function(){return Fm.play("menuClick")}),[]);return(0,Ll.jsxs)(T.default,{style:oy.container,children:[(0,Ll.jsxs)(Rg,{title:"Other actions",children:[(0,Ll.jsx)(ql,{onPress:(0,d.default)((function*(){var e=yield(0,Tm.getDocumentAsync)();if("success"==e.type){var t=yield jm.readAsStringAsync(e.uri),n=yield Ni(t);console.warn(n)}console.warn(e)})),children:"Open Document Picker"}),(0,Ll.jsx)(ql,{enableAutoRepress:!0,onPress:Y,children:"Play Sounds"}),(0,Ll.jsx)(ql,{onPress:function(){return r.current.apply((function(e){for(var t in r.current.run.resources)t!=Dt.TimePiece&&(e=Wt(t,1e30)(e));return e}))},children:"Max all storages"}),(0,Ll.jsx)(ql,{onPress:function(){return r.current.apply((function(e){return e.global.debugShowUpdatesPerSec=!e.global.debugShowUpdatesPerSec,e}))},children:"Toggle UPS overlay"}),(0,Ll.jsx)(ql,{onPress:function(){return r.current.apply((function(e){return e=ra(e=Ve(e,"machinegun_mode")?Ke("machinegun_mode")(e):qe("machinegun_mode")(e),Qr.Player)}))},children:"Toggle machinegun mode"}),(0,Ll.jsx)(ql,{onPress:function(){return C.default.forceRTL(!0)},children:"Force RTL"}),(0,Ll.jsx)(ql,{onPress:function(){return r.current.apply((function(e){return e=En(un.Fire,1e4)(e),e=En(un.Earth,1e4)(e),e=En(un.Water,1e4)(e),e=En(un.Air,1e4)(e)}))},children:"Grant 10k element exp"}),(0,Ll.jsx)(ql,{onPress:function(){return r.current.apply((function(e){return e.run.warpTimeSecs=600,e}))},children:"Warp 10 minutes"}),(0,Ll.jsx)(ql,{onPress:function(){r.current.apply((function(e){return e.run.skipAheadTime=600,e}))},children:"Artificially pass 10 minutes"}),(0,Ll.jsx)(ql,{onPress:function(){return r.current.apply((function(e){return e=Ve(e,"debug_2x_speed")?Ke("debug_2x_speed")(e):qe("debug_2x_speed")(e)}))},children:"Toggle 2x speed"}),(0,Ll.jsx)(ql,{onPress:function(){return r.current.apply((function(e){return e=Ve(e,"debug_0x_speed")?Ke("debug_0x_speed")(e):qe("debug_0x_speed")(e)}))},children:"Toggle 0x speed"}),(0,Ll.jsx)(ql,{onPress:function(){return r.current.apply((function(e){return e=ra(e=Ve(e,"debug_invincibility")?Ke("debug_invincibility")(e):qe("debug_invincibility")(e),Qr.Player)}))},children:"Toggle invincibility"}),(0,Ll.jsx)(ql,{onPress:function(){n.apply(Lm)},children:"Run cleanup"},"cleanupplayercontext"),(0,Ll.jsx)(ql,{onPress:function(){c.set("uploadedTranslationsJSON",'{"Advanced Furniture Preservation ({{furniture}})": "YE{{furniture}}SYESYESSSS", "**Full Version**": "NONONNOO"}')},children:"Set mock translations"},"settranslations")]}),(0,Ll.jsxs)(Mm.default,{children:[(0,Ll.jsx)(Mm.default.Title,{title:"Multiplier Debugging"}),(0,Ll.jsx)(zl,{children:"Separate tags by commas"}),(0,Ll.jsx)(gh.default,{onChangeText:O,value:D,onSubmitEditing:H}),(0,Ll.jsx)(ql,{onPress:H,children:"Calculate Multipliers"}),(0,Ll.jsx)(zl,{children:F})]}),(0,Ll.jsxs)(Mm.default,{children:[(0,Ll.jsx)(Mm.default.Title,{title:"Random Event Debugging"}),(0,Ll.jsxs)(zl,{children:["Next event in"," ",ue(n.run.nextRandomEvent-n.run.extraEventSecs-Aa(n))," ","sec"]}),(0,Ll.jsx)(zl,{children:JSON.stringify(Km(n),null,"\t")})]}),(0,Ll.jsxs)(Mm.default,{children:[(0,Ll.jsx)(Mm.default.Title,{title:"Game State Editing"}),(0,Ll.jsx)(gh.default,{multiline:!0,onChangeText:w,value:x,contentStyle:{height:400},mode:"outlined",style:{height:400,fontFamily:I.default.select({android:"monospace",default:"Courier New"})}}),(0,Ll.jsx)(ql,{onPress:P,children:"Set State"},"setPlayerContext")]}),(0,Ll.jsxs)(Mm.default,{children:[(0,Ll.jsx)(Mm.default.Title,{title:"Game State Fixing"}),(0,Ll.jsx)(gh.default,{multiline:!0,onChangeText:R,value:S,mode:"outlined",style:{height:400,fontFamily:I.default.select({android:"monospace",default:"Courier New"})}}),(0,Ll.jsx)(ql,{onPress:(0,d.default)((function*(){var e=yield Ni(S);R(JSON.stringify(e,null,"  "))})),children:"Load"},"fixPlayerContext"),(0,Ll.jsx)(ql,{onPress:function(){ry(JSON.parse(S))},children:"Save to file"},"getAsFile")]}),(0,Ll.jsxs)(Mm.default,{children:[(0,Ll.jsx)(Mm.default.Title,{title:"Trigger Events"}),g]}),(0,Ll.jsxs)(Mm.default,{children:[(0,Ll.jsx)(Mm.default.Title,{title:"Trigger Storylines"}),A]})]})}xt([[Qr.Player,Vr.AttackDelay]],"machinegun_delay","Machinegun Mode",At.Override,(function(e){return Ve(e,"machinegun_mode")?.01:void 0})),xt([[Qr.Player,Vr.Attack]],"machinegun_attack","Machinegun Mode",At.Override,(function(e){return Ve(e,"machinegun_mode")?1:void 0}));var oy=R.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",width:"100%"}}),uy=n(4396),ly=n.n(uy),sy=new Qe;function cy(e){var t=e.run.currentChallengeId;if(t)return sy.getById(t)}function fy(e){return function(e){return Ve(e,Ir.ChallengesUnlocked)}(e)?sy.getAll().filter((function(t){return t.isVisible(e)})):[]}function dy(e){return(0,Ll.jsxs)(T.default,{style:hy.row,children:[(0,Ll.jsx)(T.default,{style:hy.rowCaption,children:(0,Ll.jsx)(zl,{numberOfLines:2,children:e.caption})}),(0,Ll.jsx)(zl,{style:hy.valueText,children:e.value})]})}function gy(e){var t,n,r,a,i,o=e.endingData,u=ol.getById(o.endingId),l=ly().duration(o.totalTimePlayed,"seconds"),s=ly().duration(o.totalTimePlayedThisWorld,"seconds"),c=ly().duration(o.totalTimePlayedThisRun,"seconds"),f=null!=o.totalActiveTimePlayed?ly().duration(o.totalActiveTimePlayed,"seconds"):null,d=null!=o.totalActiveTimePlayedThisWorld?ly().duration(o.totalActiveTimePlayedThisWorld,"seconds"):null,g=null!=o.totalActiveTimePlayedThisRun?ly().duration(o.totalActiveTimePlayedThisRun,"seconds"):null,h=o.timePiecesConsumedThisRun,m=o.timePiecesConsumedThisWorld,y=o.timePiecesConsumed,p=null!=o.totalRealWorldTimePlayed?ly().duration(o.totalRealWorldTimePlayed,"seconds"):null,v=null!=o.totalRealWorldTimePlayedThisWorld?ly().duration(o.totalRealWorldTimePlayedThisWorld,"seconds"):null,A=null!=o.totalRealWorldTimePlayedThisRun?ly().duration(o.totalRealWorldTimePlayedThisRun,"seconds"):null,b=null!=(t=null==(n=$u.getByIdNullable(o.combatClassId))||null==n.getDisplayName?void 0:n.getDisplayName())?t:ae("None"),k=null!=o.secondaryElement?ae("{{primaryElement}}, {{secondaryElement}}",{primaryElement:ln(o.primaryElement),secondaryElement:ln(o.secondaryElement)}):ae("{{primaryElement}}",{primaryElement:ln(o.primaryElement)}),x=null!=o.secondaryElement?ae("{{primaryElementLevel}}, {{secondaryElementLevel}}",{primaryElementLevel:ue(o.primaryElementLevelOnEnding),secondaryElementLevel:ue(o.secondaryElementLevelOnEnding)}):ae("{{primaryElementLevel}}",{primaryElementLevel:ue(o.primaryElementLevelOnEnding)}),w=null==(r=sy.getByIdNullable(o.challengeId))||null==r.getName?void 0:r.getName(),E=o.worldsCreated,C=E>0,I=C,B=ae("{{sheerPower}}/{{storylineOracle}}/{{blazingSpeed}} - D{{worldDifficulty}}",{sheerPower:ue(o.sheerPowerLevel),storylineOracle:ue(o.storylineOracleLevel),blazingSpeed:ue(o.blazingSpeedLevel),worldDifficulty:ue(o.worldDifficultyLevel)}),S=al();return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(dy,{caption:ae("Ending:"),value:u.title}),(0,Ll.jsx)(dy,{caption:ae("Date:"),value:ly()(o.timestamp).format("Y-MM-DD h:mm A")}),C&&(0,Ll.jsx)(dy,{caption:ae("World Modifiers:"),value:B}),null!=w&&(0,Ll.jsx)(dy,{caption:ae("Challenge:"),value:w}),(0,Ll.jsx)(dy,{caption:ae("Primary Element:"),value:k}),(0,Ll.jsx)(dy,{caption:ae("Class:"),value:b}),(0,Ll.jsx)(dy,{caption:ae("Total In-Game Time Played:"),value:ce(l)}),I&&(0,Ll.jsx)(dy,{caption:ae("In-Game Time Played (This World):"),value:ce(s)}),(0,Ll.jsx)(dy,{caption:ae("In-Game Time Played (This Run):"),value:ce(c)}),(0,Ll.jsx)(dy,{caption:ae("Total Real World Time Played:"),value:ce(f)}),I&&(0,Ll.jsx)(dy,{caption:ae("Real World Time Played (This World):"),value:ce(d)}),(0,Ll.jsx)(dy,{caption:ae("Real World Time Played (This Run):"),value:ce(g)}),(0,Ll.jsx)(dy,{caption:ae("Total Time Pieces Consumed:"),value:ue(y)}),I&&(0,Ll.jsx)(dy,{caption:ae("Time Pieces Consumed (This World):"),value:ue(m)}),(0,Ll.jsx)(dy,{caption:ae("Time Pieces Consumed (This Run):"),value:ue(h)}),(0,Ll.jsx)(dy,{caption:ae("Total Time Since Starting Game:"),value:ce(p)}),I&&(0,Ll.jsx)(dy,{caption:ae("Total Time Since Starting This World:"),value:ce(v)}),(0,Ll.jsx)(dy,{caption:ae("Total Time Since Starting This Run:"),value:ce(A)}),I&&(0,Ll.jsx)(dy,{caption:ae("Other Worlds visited:"),value:ue(E)}),(0,Ll.jsx)(dy,{caption:ae(I?"Total Retirements (This World):":"Total Retirements:"),value:null!=(a=null==(i=o.totalRetirements)||null==i.toString?void 0:i.toString())?a:""}),(0,Ll.jsx)(dy,{caption:ae("Maximum Primary Level Obtained:"),value:o.mpl.toString()}),(0,Ll.jsx)(dy,{caption:ae("Primary Element Level on Game Beaten:"),value:x}),(0,Ll.jsx)(dy,{caption:ae("Global Experience Multiplier:"),value:ae("{{multiplier}}x",{multiplier:ue(o.researchMultiplier,{showDecimals:!0})})}),(0,Ll.jsx)(dy,{caption:ae("Global Production Multiplier:"),value:ae("{{multiplier}}x",{multiplier:ue(o.productionMultiplier,{showDecimals:!0})})}),(0,Ll.jsx)(dy,{caption:ae("Total Completed Storylines:"),value:ae("{{completedStorylines}} / {{totalStorylines}}",{completedStorylines:ue(o.completedStorylines),totalStorylines:S})}),(0,Ll.jsx)(dy,{caption:ae("Storyline Completion Percentage:"),value:ae("{{percent}}%",{percent:ue(o.completedStorylines>S?o.completedStorylines-S+100:100*o.completedStorylines/S)})})]})}var hy=R.default.create({row:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:4},valueText:{minWidth:100,textAlign:"right",fontWeight:"bold",marginLeft:8},rowCaption:{flex:1}});function my(e){var t,n=As();(0,o.useRef)(n).current=n;var r=null!=(t=e.overrideEnding)?t:ul(n);if(null==r)return(0,Ll.jsx)(T.default,{});var a=ol.getById(r.endingId);return(0,Ll.jsxs)(T.default,{style:yy.container,children:[(0,Ll.jsx)(zl,{h1:!0,children:null==a?void 0:a.title}),(0,Ll.jsx)(T.default,{style:yy.explanation,children:(0,Ll.jsx)(fs,{style:yy.explanationText,children:null==a?void 0:a.description})}),(0,Ll.jsx)(T.default,{style:yy.dividerContainer,children:(0,Ll.jsx)(Bg,{})}),(0,Ll.jsxs)(T.default,{style:yy.congratsContainer,children:[(0,Ll.jsx)(zl,{h1:!0,children:ae("Congratulations!")}),(0,Ll.jsx)(zl,{h2:!0,children:ae("You have cleared Magic Research 2!")})]}),(0,Ll.jsx)(T.default,{style:gs.mb16,children:(0,Ll.jsx)(gy,{endingData:r})}),(0,Ll.jsx)(T.default,{style:gs.mt16,children:(0,Ll.jsx)(ql,{onPress:e.close,children:ae("Close")})})]})}var yy=R.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",width:"100%"},explanation:{marginTop:16,flex:1,alignItems:"stretch",width:"100%"},explanationText:{width:"100%"},dividerContainer:{marginTop:32,marginBottom:24},congratsContainer:{alignItems:"center",marginBottom:16}});function py(){var e,t=As(),n=function(e){var t=qc.getAll().filter((function(t){return t.isPurchased(e)})),n={};for(var r of t){var a,i=null!=(a=r.getAreas().ENHANCEMENT)?a:[];for(var o of i)null==n[o]&&(n[o]=[]),n[o].push(r)}return n}(t);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:gs.mt8,children:[0==Z(n).length&&(0,Ll.jsx)(zl,{style:{fontStyle:"italic"},children:ae("You have not completed any enhancements yet!")},"none"),Z(n).map((function(e,r){return(0,Ll.jsxs)(T.default,{style:r>0&&gs.mt8,children:[(0,Ll.jsx)(zl,{h3:!0,children:an(e)}),n[e].map((function(e){return(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{children:ae("**{{enhancementName}}:** {{enhancementEffect}}",{enhancementName:e.getDisplayName(t),enhancementEffect:e.getDisplayEffect(t)})})},e.getId())}))]},e)}))]})}),[JSON.stringify(n),null==(e=n.ENHANCE_STORAGE)?void 0:e.map((function(e){return e.getDisplayEffect(t)})).join()])}function vy(){var e=As(),t=(0,o.useRef)(e);t.current=e;var n=(0,o.useCallback)((function(){t.current.apply((function(e){return e.options.autoPurchaseEnhancements=!e.options.autoPurchaseEnhancements,e}))}),[]);return(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Auto purchase all"),checked:e.options.autoPurchaseEnhancements,onPress:n,containerStyle:by.checkboxContainer})})})}),[e.options.autoPurchaseEnhancements,n])}function Ay(){var e=As(),t=(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:gs.mt16,children:(0,Ll.jsx)(Rg,{title:ae("Already obtained"),children:(0,Ll.jsx)(py,{})})})}),[]),n=Ve(e,Ir.AutoPurchaseUnlocked);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:by.campusContainer,children:[n&&(0,Ll.jsx)(T.default,{style:gs.mb16,children:(0,Ll.jsx)(Rg,{title:ae("Enhancement Config"),children:(0,Ll.jsx)(vy,{})})}),(0,Ll.jsx)(Dg,{area:_t.ENHANCEMENT}),t]})}),[t,n])}var by=R.default.create({campusContainer:{height:"100%",alignItems:"stretch",justifyContent:"flex-start",width:"100%"},checkboxContainer:{marginLeft:0,marginTop:8,padding:0}}),ky=n(67775),xy=function(){function e(){var t=this;(0,Le.default)(this,e),this._costTags=[pt.Corruption,pt.PerRitualCost].concat(this.getTags()),this.getCachedBaseRitualEffects=(0,q.default)((function(){return t.getBaseRitualEffects()})),this.tagsByEffect={},this.ritualEffectParams=(0,q.default)((function(){return{ritual:t}})),this.ritualEffectExplanationParams=(0,q.default)((function(e){return{ritual:t,unit:e.unit,valueType:e.valueType}}))}return(0,He.default)(e,[{key:"getDisplayName",value:function(e){var t=this.getBaseName();return this.isActive(e)?ae("{{ritualName}} (Active)",{ritualName:t}):t}},{key:"getBaseRitualEffects",value:function(){return{}}},{key:"getCorruptionCost",value:function(e){return It(this._costTags,e,this.getBaseCorruptionCost(),{ritualId:this.getId()})}},{key:"getLevelRequirements",value:function(){return{Death:this.getDeathLevelRequirement()}}},{key:"isVisible",value:function(e){var t=this;return je(e,"ritualVisibility."+this.getId(),(function(e){return qn(e,t.getLevelRequirements())}))}},{key:"turnOn",value:function(e){return this.isVisible(e)?(e.run.activeRituals[this.getId()]=!0,e=Tt(new Set([pt.Corruption]),e),e=Za(e=si(e=ra(e=Ro(vf.getId(),60,{target:Qr.Player})(e))))):e}},{key:"turnOff",value:function(e){return e.run.activeRituals[this.getId()]=!1,e=Za(e=si(e=ra(e=Tt(new Set([pt.Corruption]),e))))}},{key:"isActive",value:function(e){var t;return null!=(t=e.run.activeRituals[this.getId()])&&t}},{key:"getTags",value:function(){return[pt.Ritual,this.getId()]}},{key:"getTagsByEffect",value:function(e,t){var n,r;null==(null==(n=this.tagsByEffect)?void 0:n[e])&&(this.tagsByEffect[e]=[].concat((0,h.default)(this.getTags()),(0,h.default)(null!=(r=t.tags)?r:[]),[pt.RitualEffect,e]));return this.tagsByEffect[e]}},{key:"getRitualEffects",value:function(e,t){var n=this.getCachedBaseRitualEffects(),r={};for(var a in n)if(null==t||a==t){var i=n[a];r[a]=It(this.getTagsByEffect(a,i),e,i.value,this.ritualEffectParams())}return r}},{key:"getRitualEffectExplanations",value:function(e,t){var n=this.getCachedBaseRitualEffects(),r={};for(var a in n)if(null==t||a==t){var i=n[a];r[a]=Mt(this.getTagsByEffect(a,i),e,i.value,this.ritualEffectExplanationParams(i))}return r}}]),e}();function wy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Ey=new(function(e){(0,ws.default)(n,e);var t=wy(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"necromancyRitual"}},{key:"getBaseName",value:function(){return ae("Necromancy Ritual")}},{key:"getDescription",value:function(e){return ae("Your Familiars could gain unholy strength...")}},{key:"getBaseRitualEffects",value:function(){return{attackMagnitude:{value:1,valueType:vt.Percent},regenMagnitude:{value:5,valueType:vt.Percent}}}},{key:"getEffect",value:function(e){var t=this.getRitualEffects(e),n=this.getRitualEffectExplanations(e);return ae("^{{attackMultiplier}}^<{{attackExplanation}}> Familiar :attack:; ^{{regenMultiplier}}^<{{regenExplanation}}> Familiar :hp: regeneration while recovering during combat",{attackMultiplier:le(1+t.attackMagnitude),attackExplanation:n.attackMagnitude,regenMultiplier:le(1+t.regenMagnitude),regenExplanation:n.regenMagnitude})}},{key:"getBaseCorruptionCost",value:function(){return 6}},{key:"getDeathLevelRequirement",value:function(){return 1}},{key:"isVisible",value:function(e){return nl.getById("forbiddenInvocation").isBonusActive(e)}}]),n}(xy));var Cy=o.createContext({announceForAccessibility:function(){}}),Iy=["color","indeterminate","style","progress","visible","animatedValue"];function By(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?By(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):By(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ry=C.default.isRTL,Py=function(e){var t,n=e.color,r=e.indeterminate,i=e.style,u=e.progress,l=void 0===u?0:u,s=e.visible,c=void 0===s||s,f=e.animatedValue,d=(0,Ol.default)(e,Iy),g=(0,D.useTheme)(),h=o.useRef(new w.default.Value(0)).current,m=o.useRef(f),y=o.useState(0),p=(0,a.default)(y,2),v=p[0],A=p[1],b=o.useState(0),k=(0,a.default)(b,2),x=k[0],E=k[1],C=o.useRef(null),B=g.animation.scale;o.useEffect((function(){m.current=f}));var S=o.useCallback((function(){"undefined"!==typeof m.current&&m.current>=0||(r?(C.current||(C.current=w.default.timing(h,{duration:2e3,toValue:1,useNativeDriver:"web"!==I.default.OS,isInteraction:!1})),h.setValue(0),w.default.loop(C.current).start()):w.default.timing(h,{duration:200*B,toValue:l||0,useNativeDriver:!0,isInteraction:!1}).start())}),[B,r,h,l]),R=o.useCallback((function(){C.current&&C.current.stop()}),[B]);o.useEffect((function(){c?S():R()}),[c,S,R]),o.useEffect((function(){f&&f>=0&&h.setValue(f)}),[f,h]),o.useEffect((function(){c&&0===x&&S()}),[x,S,c]);var P=o.useCallback((function(e){var t=e.nativeEvent.layout.width;v!=t&&(E(v),A(t))}),[v]),j=n||(null==(t=g.colors)?void 0:t.primary),M=g.isV3?g.colors.surfaceVariant:W()(j).alpha(.38).rgb().string(),O=o.useMemo((function(){return v?(0,Ll.jsx)(w.default.View,{style:[Ty.progressBar,{width:v,backgroundColor:j,transform:[{translateX:h.interpolate(r?{inputRange:[0,.5,1],outputRange:[.5*(Ry?1:-1)*v,.5*(Ry?1:-1)*.6*v,.7*(Ry?-1:1)*v]}:{inputRange:[0,1],outputRange:[.5*(Ry?1:-1)*v,0]})},{scaleX:h.interpolate(r?{inputRange:[0,.5,1],outputRange:[1e-4,.6,1e-4]}:{inputRange:[0,1],outputRange:[1e-4,1]})}]}]}):null}),[v,j,h,Ry]);return o.useMemo((function(){return(0,Ll.jsx)(T.default,Sy(Sy({onLayout:P},d),{},{accessible:!0,accessibilityRole:"progressbar",accessibilityState:{busy:c},accessibilityValue:r?{}:{min:0,max:100,now:100*l},children:(0,Ll.jsx)(T.default,{style:[Ty.container,{backgroundColor:M},i],children:O})}))}),[P,c,M,i,r,O])},Ty=R.default.create({container:{height:4,overflow:"hidden"},progressBar:{flex:1}});function jy(){var e=As(),t=(0,o.useContext)(pm).getUIState("current_event_occurrence_id"),n=zo,r=function(e){var t;return(null==(t=e.run.exploration)?void 0:t.enemyActionProgress)||0}(e),a=(0,o.useContext)(Cy),i=(0,o.useContext)(hs);return(0,o.useEffect)((function(){null!=(null==n?void 0:n.name)&&null==t&&i&&setTimeout((function(){return a.announceForAccessibility(null==n?void 0:n.name)}),0)}),[n,t,a,i]),(0,o.useMemo)((function(){return n?(0,Ll.jsxs)(T.default,{style:My.row,children:[(0,Ll.jsx)(ts,{icon:"attack",style:My.icon}),(0,Ll.jsxs)(T.default,{style:My.progressBarContainer,children:[(0,Ll.jsx)(zl,{numberOfLines:1,style:My.markdownContainer,children:n.name}),(0,Ll.jsx)(T.default,{style:{width:120},children:(0,Ll.jsx)(Py,{progress:r,style:{width:120}})})]})]}):(0,Ll.jsxs)(T.default,{style:My.row,children:[(0,Ll.jsx)(ts,{icon:"attack",style:My.icon}),(0,Ll.jsxs)(T.default,{style:My.progressBarContainer,children:[(0,Ll.jsx)(zl,{style:My.idleTextContainer,children:"-"}),(0,Ll.jsx)(Py,{progress:0,style:{width:120}})]})]})}),[null==n?void 0:n.name,r])}var My=R.default.create({row:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},icon:{marginRight:4,height:24,width:24},progressBarContainer:{flex:1,marginTop:-5},idleTextContainer:{height:21},markdownContainer:{height:21}});function Dy(e){var t,n,r=(0,o.useMemo)((function(){var t=null,n=null;return void 0!=e.action&&(e.action.isHit?(t=(e.action.damage>0?"-":"")+ue(Math.abs(e.action.damage),{showDecimals:!1})+(e.action.isCrit?"!":""),n=e.action.isCrit?Ny.auxTextCritical:e.action.damage>=0?Ny.auxTextDamage:Ny.auxTextHealing):t=ae("Miss!")),[t,n]}),[e.action]),i=(0,a.default)(r,2),u=i[0],l=i[1],s=(0,o.useRef)(new w.default.Value(0)).current,c=(0,o.useRef)(new w.default.Value(0)).current;(0,o.useEffect)((function(){s.setValue(0),w.default.sequence([w.default.delay(e.delay),w.default.spring(s,{toValue:-16,useNativeDriver:!0,bounciness:0})]).start()}),[null==(t=e.action)?void 0:t.id]),(0,o.useEffect)((function(){w.default.sequence([w.default.delay(e.delay),w.default.timing(c,{toValue:1,useNativeDriver:!0,duration:0}),w.default.timing(c,{toValue:0,useNativeDriver:!0,duration:800})]).start()}),[null==(n=e.action)?void 0:n.id]);var f=(0,D.useTheme)();return(0,o.useMemo)((function(){return u?(0,Ll.jsx)(w.default.View,{style:[Ny.auxTextContainer,{transform:[{translateY:s}],opacity:c}],children:(0,Ll.jsx)(Fl.default,{style:[Ny.auxText,{color:f.colors.onBackground},l],children:u})}):(0,Ll.jsx)(T.default,{})}),[s,c,f,u,l])}var Oy=o.memo((function(e){var t=As(),n=(0,o.useRef)(t);n.current=t;var r=(0,o.useContext)(hs),a=(0,o.useRef)(Aa(t));(0,o.useEffect)((function(){a.current=Aa(n.current)}),[r]);var i=(0,o.useMemo)((function(){return t.options.hideDamageEffects?[]:t.run.exploration.actionResultQueue.filter((function(t){return null!=t&&t.target===e.actionTarget&&t.time>a.current}))}),[t.options.hideDamageEffects,e.actionTarget,t.run.exploration.lastActionResultPushedTime]),u=(0,o.useMemo)((function(){return i.map((function(e){return e.id})).join()}),[i]),l=(0,o.useMemo)((function(){var e=0,t=0,n=[];for(var r in i){var a=i[r];1e3*a.time<e+300?t+=e+300-1e3*a.time:t=0,n.push((0,Ll.jsx)(Dy,{action:a,delay:t},a.id)),e=1e3*a.time}return n}),[u]),s=(0,D.useTheme)(),c=(0,o.useMemo)((function(){return[Ny.bar,{backgroundColor:s.colors.hpBarBackground}]}),[s]),f=(0,o.useMemo)((function(){return(0,Ll.jsx)(Py,{progress:e.current/e.max,color:s.colors.hpBarForeground,style:c})}),[e.current/e.max,s,c]),d=(0,o.useMemo)((function(){return!e.empty&&(0,Ll.jsxs)(Fl.default,{style:Ny.overlaidText,children:[ue(Math.ceil(e.current)),"/",ue(Math.ceil(e.max))]})}),[e.empty,ue(Math.ceil(e.current)),e.max]),g=(0,o.useMemo)((function(){return ae("{{target}} HP: {{current}}/{{max}} {{shortcut}}",{target:zr(e.actionTarget),current:ue(Math.ceil(e.current),{showDecimals:!1}),cap:ue(Math.ceil(e.max),{showDecimals:!1}),shortcut:"web"===I.default.OS?ae(" (Control + Shift + Z)"):""})}),[e.actionTarget,ue(Math.ceil(e.current),{showDecimals:!1}),e.max]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:[Ny.row,Ny.container],accessibilityLabel:g,accessible:!0,accessibilityRole:"web"!==I.default.OS?"header":void 0,children:[(0,Ll.jsx)(ts,{icon:"hp",style:Ny.icon,accessibilityHidden:!0}),(0,Ll.jsxs)(T.default,{style:Ny.progressBarContainer,accessibilityHidden:!0,children:[f,d,l]})]})}),[g,f,d,e.empty,e.actionTarget,l])})),Ny=R.default.create({row:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},icon:{marginTop:-4,marginRight:4,height:24,width:24},overlaidText:{color:"#fff",fontWeight:"bold",position:"absolute",top:I.default.select({default:0,android:-1}),width:"100%",textAlign:"center"},auxTextContainer:{left:48,position:"absolute",width:"100%"},auxText:{width:"100%",textAlign:"center",fontWeight:"bold"},auxTextCritical:{color:"#dd0"},auxTextDamage:{color:"#f00"},auxTextHealing:{color:"#0f0"},progressBarContainer:{flex:1},container:{height:24},bar:{height:20,borderRadius:10}});function Uy(){var e=As(),t=Zi(e)==me.Combat,n=0,r=1;return t&&(n=nu(e),r=Xi(e).getMaxHP(e)),(0,Ll.jsx)(Oy,{empty:!t,current:n,max:r,actionTarget:Qr.Enemy})}var Fy=n(74504);function Ly(e){var t,n=(0,D.useTheme)(),r=Sd(null!=(t=e.themeOverride)?t:n,e.disabled);return(0,Ll.jsx)(T.default,{style:[Hy.activeMark,{backgroundColor:r},null==e?void 0:e.style]})}var Hy=R.default.create({activeMark:{width:8,height:8,alignSelf:"center",marginRight:8,borderRadius:4}});function Yy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yy(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yy(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zy(e){var t=e.element,n=As(),r=(0,D.useTheme)();return(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:[qy.elementTextContainer,{backgroundColor:Bd(r.dark,t)}],children:(0,Ll.jsx)(zl,{style:[Bn(n).includes(t)&&qy.primaryElementText,qy.spellElementBadgeText],children:t})})}),[t,Bn(n).join(),r])}function Vy(e){var t=As(),n=e.spell;return(0,Ll.jsx)(Ll.Fragment,{children:n.getDisplayName(t)})}function Wy(e){var t,n,r,a=e.spell,i=e.theme,u=As(),l=!a.isEnabled(u),s=(0,o.useMemo)((function(){return[{color:i.colors.onPrimary},l&&{color:i.colors.onSurfaceDisabled},qy.smallButtonTitle]}),[i,l]),c=(0,o.useMemo)((function(){return(0,Ll.jsx)(Vy,{spell:a})}),[a]),f=null!=(t=null==(n=a.getCost(u))||null==(r=n.resources)?void 0:r.Mana)?t:0,d=a.isActive(u);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:qy.spellButtonTitleContainer,children:[(0,Ll.jsxs)(T.default,{style:qy.spellButtonTitleOnlyContainer,children:[d&&(0,Ll.jsx)(Ly,{disabled:l,themeOverride:i}),(0,Ll.jsx)(T.default,{style:qy.spellButtonTitleTitleOnlyContainer,children:(0,Ll.jsx)(zl,{style:s,numberOfLines:2,children:c})})]}),(0,Ll.jsxs)(T.default,{style:[qy.spellButtonCostContainer,gs.flexRowAlignCenter],children:[(0,Ll.jsx)(zl,{style:s,doNotScaleFonts:!0,children:ue(f,{showDecimals:!1})}),(0,Ll.jsx)(ts,{icon:"mana",style:qy.spellManaIcon})]})]})}),[d,l,s,c,f])}function Gy(e){var t=e.state,n=(0,o.useRef)(e.state),r=e.spell,i=e.showAddToQuickbar||!1,u="",l="";if(!e.collapsed||"web"===I.default.OS){var s=Te(t,"spellDescriptionAndEffect:"+r.getId(),(function(e){return[r.getDisplayDescription(e),r.getDisplayEffect(e)]}),(function(e){return Math.floor(Date.now()/500).toString()+r.isEmpowered(e)})),c=(0,a.default)(s,2);u=c[0],l=c[1]}var f=(0,o.useMemo)((function(){var e=u+" **"+l+"**";return(0,Ll.jsx)(T.default,{style:qy.descriptionTextContainer,children:(0,Ll.jsx)(Rd,{style:{flex:1},children:e})})}),[u,l]),d=(0,D.useTheme)(),g=r.getElement();g&&!Rn(t).includes(g)&&(g=void 0);var h=(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{children:null!=g&&(0,Ll.jsxs)(T.default,{style:qy.elementContainer,children:[(0,Ll.jsx)(fs,{children:ae("Element:")}),(0,Ll.jsx)(zy,{element:g})]})})}),[g,d]),m=r.getMainExp(t),y=(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:[gs.mt4,gs.flexRowSpaceBetween],children:[(0,Ll.jsx)(T.default,{style:gs.flex,children:(0,Ll.jsx)(fs,{children:ae("Exp gain:")})}),(0,Ll.jsx)(T.default,{style:[gs.ml8],children:(0,Ll.jsx)(fs,{style:{textAlign:"right"},children:null!=m.element?ae("+{{amount}} {{element}} exp",{amount:ue(m.expMin),element:ln(m.element)}):ae("+{{min}}~{{max}} exp (various)",{min:ue(m.expMin),max:ue(m.expMax)})})})]})}),[m.element,m.expMin,m.expMax]),p=(0,o.useMemo)((function(){var e=r.getCooldown(t),n=ae("{{cooldown}} sec",{cooldown:ue(e,{showDecimals:!0})});return(0,Ll.jsx)(T.default,{children:e>0&&(0,Ll.jsxs)(T.default,{style:qy.costContainer,children:[(0,Ll.jsx)(fs,{children:ae("Cooldown:")}),(0,Ll.jsx)(fs,{containerStyle:{flex:null},children:n})]})})}),[(!e.collapsed||"web"===I.default.OS)&&r.getCooldown(t)]),v=(0,o.useCallback)((function(){n.current.apply((function(e){return Ma(e,r)?ja(e,r):function(e,t){return Ma(e,t)||e.run.favoriteSpells.push(t.getId()),e}(e,r)}))}),[]),A=(0,o.useMemo)((function(){return(0,Ll.jsx)(Fy.default,{accessibilityLabel:Ma(t,r)?ae("Remove from Favorites"):ae("Add to Favorites"),onPress:v,name:Ma(t,r)?"heart":"heart-outline",color:d.colors.onBackground,size:32})}),[!e.showAddToQuickbar&&Ma(t,r),v,d]),b=t.options.colorSpellButtonsByElement?ir(r.getElement(),d.dark):d,k=!r.isEnabled(t),x=(0,o.useCallback)((function(){null!=e.onPress?e.onPress(r):n.current.apply(r.doAction.bind(r,{isAutomatic:!1}))}),[e.onPress,r]),w=Ul(),E=(0,o.useMemo)((function(){return(0,Ll.jsx)(Wy,{spell:r,theme:b})}),[r,b]),C=(0,o.useMemo)((function(){return(0,Ll.jsx)(Vd,{tooltip:e.collapsed||e.isMinimal?(0,Ll.jsxs)(T.default,{children:[f,h,y,p]}):void 0,tooltipPosition:i?zd.RIGHT_OF_ELEMENT:zd.LEFT_OF_ELEMENT,tooltipId:r.getId()+(i?"yes":"no")+e.tooltipExtra,children:(0,Ll.jsx)(ql,{compact:!0,enableAutoRepress:!0,onPress:x,style:gs.flex,labelStyle:[qy.buttonLabelStyle,w.compactLayout&&{height:36}],contentStyle:[qy.buttonContentStyle,w.compactLayout&&{height:36}],theme:b,TextComponent:T.default,disabled:k,disableDisabledRenderingOptimization:!0,children:E},r.getId())})}),[r.getDisplayName(t),x,k,f,h,y,p,e.collapsed,e.isMinimal,i,e.tooltipExtra,E,b,w.compactLayout]),B=(0,o.useMemo)((function(){return(0,Ll.jsx)(ql,{onPress:function(){return n.current.apply((function(e){return function(e,t){return kh(e,{type:"action",id:t.getId()})}(e,r)}))},style:qy.quickbarButtonContainer,disabled:Eh(t,{type:"action",id:r.getId()})||wh(t),children:ae("Add to Quickbar")})}),[e.showAddToQuickbar&&Eh(t,{type:"action",id:r.getId()}),e.showAddToQuickbar&&wh(t)]),S=r.isPermaCastAllowed()&&Ve(t,Ir.PermaCastUnlocked)&&!e.collapsed,R=S?r.getPermaCastManaCostPerSec(t):0,P=S?r.getPermaCastDelaySec(t):0,j=S?bc(t,r):0,M=S?function(e,t){var n=dc(e),r=bc(e,t);return Math.ceil(r/n)}(t,r):0,O=kc(t,r),N=!S||r.getManaCost(t)<=Qt(t,Dt.Mana),U=(0,o.useMemo)((function(){return S?(0,Ll.jsx)(ql,{onPress:function(){return n.current.apply((function(e){return kc(e,r)?function(e,t){var n=Ic(e);if(!n.permaCastRules[t.getId()])return e;var r=Vc(e,n),a=n.wizardsAssignedToPermaCast;delete n.permaCastRules[t.getId()];var i=Vc(e=zc(e),n);return a==r&&a>i&&(e=Ac(e,i-a)),e}(e,r):function(e,t){if(!t.isPermaCastAllowed())return e;var n=Ic(e),r=Rc(e,t);null!=r&&(n.rules=n.rules.filter((function(e){return r!=e}))),n.permaCastRules[t.getId()]={conditions:Wc,disabled:!1,id:Math.random().toString(),spellId:t.getId(),wizardsAssigned:0};var a=Vc(e=zc(e),n),i=n.wizardsAssignedToPermaCast;return i<a&&(e=Ac(e,a-i)),zc(e),e}(e,r)}))},disabled:!N&&!O,compact:!0,mode:"outlined",children:ae(O?"Stop Perma-Cast":"Perma-Cast")}):null}),[S,r,N,O,R,M]),F=r.isEmpoweringPossible(t),L=r.isEmpowered(t),H=(0,o.useMemo)((function(){return F?(0,Ll.jsx)(ql,{onPress:function(){return n.current.apply((function(e){return Da(e,r)}))},compact:!0,mode:"outlined",children:ae(L?"Cancel Empower":"Empower")}):null}),[r,F,L]),Y=(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:[gs.mt8,gs.mb4,gs.alignSelfNormal,gs.flexRowAlignCenter,{gap:8}],children:[H,U]})}),[U,H]),Q=S?{sec:ue(P,{showDecimals:!0}),mana:ue(R,{showDecimals:!0}),wizardPower:ue(j,{showDecimals:!0}),wizText:ae(M>1?"{{wiz}} wizards":"{{wiz}} wizard",{wiz:ue(M)})}:{},z=S?O?N?ae("You are Perma-Casting this spell every {{sec}} sec. Requires {{mana}}:mana:/sec and {{wizardPower}}:wizardpower:/sec (about {{wizText}})",Q):ae("You are Perma-Casting this spell, but your Max:mana: is not enough, so it will not get cast."):N?ae("You may Perma-Cast this spell to automatically cast it every {{sec}} sec. Requires {{mana}}:mana:/sec and {{wizardPower}}:wizardpower:/sec (about {{wizText}})",Q):ae("You may Perma-Cast this spell, but your Max:mana: is not enough."):"",V=F?ae(L?"You are Empowering this spell.":"You may Empower this spell to increase its effects at a higher :mana: cost."):"",W=S&&F?ae("{{empowerText}}\n\n{{permaCastText}}",{permaCastText:z,empowerText:V}):S?z:V,G=(0,o.useMemo)((function(){return(0,Ll.jsx)(fs,{children:W})}),[W]);return(0,o.useMemo)((function(){return e.isMinimal?(0,Ll.jsx)(T.default,{style:qy.buttonContainerView,children:C}):(0,Ll.jsxs)(T.default,{style:[qy.actionContainer,w.compactLayout&&gs.mv4],children:[(0,Ll.jsxs)(T.default,{style:qy.buttonRowContainer,children:[(0,Ll.jsx)(T.default,{style:qy.buttonContainerView,children:C}),(0,Ll.jsx)(Xd.default,{accessibilityLabel:e.collapsed?ae("Expand"):ae("Collapse"),onPress:e.toggleCollapsed,children:(0,Ll.jsx)(T.default,{style:qy.expandContainer,children:(0,Ll.jsx)(qd.default,{name:e.collapsed?"chevron-right":"chevron-down",size:24,color:d.colors.onBackground})})})]}),(!e.collapsed||!e.showAddToQuickbar)&&(0,Ll.jsx)(Sg,{isVisible:!e.collapsed,children:(0,Ll.jsxs)(T.default,{style:e.collapsed&&{display:"none",opacity:0},children:[(0,Ll.jsxs)(T.default,{style:qy.descriptionRow,children:[f,!i&&A,i&&B]}),h,y,p,e.showWizards&&!O&&Dc(t)?(0,Ll.jsx)(T.default,{style:gs.mt4,children:(0,Ll.jsx)(Ag,{spellId:r.getId()})}):null,(S||F)&&!i&&Y,""==W||i?null:G]})})]},r.getId())}),[r.getId(),w.compactLayout,!e.collapsed&&p,!e.collapsed&&y,!e.collapsed&&f,i,i&&B,i&&t.run.quickbar.length,e.collapsed,e.showWizards,O,Dc(t),d,v,e.isMinimal,e.toggleCollapsed,A,C,S,F,U,G])}function Jy(e){var t=As();return(0,o.useMemo)((function(){return(0,Ll.jsx)(Gy,Qy({state:t},e))}),[e.spell.getId(),e.collapsed,e.tooltipExtra,e.showAddToQuickbar,e.toggleCollapsed,!1!==e.isVisible&&t])}var qy=R.default.create({actionContainer:{marginVertical:8},buttonRowContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},quickbarButtonContainer:{marginTop:4,marginLeft:8},expandContainer:{width:40,alignSelf:"stretch",alignItems:"center",justifyContent:"center",cursor:"pointer"},costContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",marginTop:4},elementContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end",marginTop:4},descriptionTextContainer:{flex:1,flexDirection:"row",flexWrap:"wrap",paddingRight:4},buttonTitle:Qy({fontSize:16,textAlign:"center",paddingVertical:1},I.default.select({android:{fontFamily:"sans-serif-medium"},default:{fontSize:18}})),smallButtonTitle:{fontSize:12},buttonContainerView:{flexDirection:"row",flex:1},buttonContainer:{flex:1},buttonContainerSmall:{marginRight:0},disabledActionText:{color:"#aaa"},capTooLowText:{color:"#d99"},turnOnRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginTop:8},turnOnQuantityContainer:{flexDirection:"row",alignItems:"center"},plusMinusContainer:{marginLeft:8},spellButtonTitleContainer:{flex:1,flexDirection:"row",alignItems:"center"},spellButtonTitleOnlyContainer:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},spellButtonTitleTitleOnlyContainer:{flex:1},spellButtonCostContainer:{flexDirection:"row",width:50,justifyContent:"flex-end"},spellManaIcon:{height:16,width:16,justifyContent:"flex-end",alignItems:"center",marginLeft:2},descriptionRow:{flexDirection:"row",alignItems:"flex-start",marginTop:8},elementTextContainer:{paddingHorizontal:8,borderRadius:8},primaryElementText:{fontWeight:"bold"},spellElementBadgeText:{color:"white"},buttonLabelStyle:{marginHorizontal:16,flex:1,marginVertical:0,height:40},buttonContentStyle:{marginHorizontal:0,flex:1,height:40}}),Xy=n(43140);function Ky(e){var t=(0,D.useTheme)();return(0,Ll.jsx)(T.default,{importantForAccessibility:"no-hide-descendants",accessibilityElementsHidden:!0,style:Zy.dragHandle,children:(0,Ll.jsx)(Xd.default,{onPressIn:e.drag,hitSlop:{top:8,bottom:8,left:8,right:8},children:(0,Ll.jsx)(m.default,{name:"drag-indicator",size:24,color:t.colors.onBackground})})})}var Zy=R.default.create({dragHandle:{cursor:"grab",marginRight:8}});function _y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $y(e){var t=Ta(e.state).filter((function(e){return null!=e}));if(0===t.length)return null;var n=(0,o.useRef)(e.state);n.current=e.state;var r=(0,D.useTheme)(),a=(0,o.useCallback)((function(e){var t=e.item,r=e.drag,a=(e.isActive,t);return(0,Ll.jsx)(Xy.ScaleDecorator,{children:(0,Ll.jsxs)(T.default,{style:gs.flexRowAlignCenter,children:[(0,Ll.jsx)(Ky,{drag:r}),(0,Ll.jsx)(Jy,{spell:a,isMinimal:!0,tooltipExtra:"favorite"},a.getId()),(0,Ll.jsx)(F.default,{icon:"close",accessibilityLabel:ae("Remove from Favorites"),style:tp.deleteButton,hitSlop:{top:8,bottom:8,left:8,right:8},onPress:function(){return n.current.apply((function(e){return ja(e,a)}))}})]},a.getId())})}),[ja,r]),i=(0,o.useCallback)((function(e){return e.getId()}),[]);return(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:gs.flex,children:(0,Ll.jsx)(Rg,{title:ae("Favorites"),containerStyle:tp.categoryContainer,contentContainerStyle:gs.flex,children:(0,Ll.jsx)(T.default,{style:[gs.mt8,gs.flex],children:(0,Ll.jsx)(Xy.default,{data:t,renderItem:a,containerStyle:gs.flex,keyExtractor:i,onDragEnd:function(e){n.current.apply((function(t){return t.run.favoriteSpells=e.data.map((function(e){return e.getId()})),t}))}})})})})}),[t.map((function(e){return e.getId()})).join(),a,i])}function ep(e){var t=As();return(0,o.useMemo)((function(){return(0,Ll.jsx)($y,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_y(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({state:t},e))}),[!1!==e.isVisible&&t])}var tp=R.default.create({deleteButton:{marginLeft:8,width:32,height:32},deleteButtonInner:{paddingHorizontal:0,paddingVertical:0,height:32,width:32,borderRadius:16},categoryContainer:{paddingTop:8,flex:1}});function np(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rp(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?np(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):np(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=t.element,r=t.selected,a=t.onPress,i=(0,D.useTheme)(),u=ir(n,i.dark);return(0,o.useMemo)((function(){var t;return(0,Ll.jsx)(P.default,{onPress:a,accessible:!0,accessibilityLabel:ln(n),accessibilityRole:"tab",children:(0,Ll.jsx)(T.default,{style:[ip.itemContainerStyle,{borderColor:null!=(t=e.dividerColor)?t:i.colors.outlineVariant},r?{backgroundColor:u.colors.primaryContainer}:null],children:(0,Ll.jsx)(ts,{icon:n.toLowerCase()})})})}),[a,n,i,r,e.dividerColor])}function ap(e){return(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:[ip.container,e.style],children:e.elements.map((function(t){return(0,Ll.jsx)(rp,{onPress:function(){return e.onPress(t)},element:t,selected:e.selected==t,dividerColor:e.dividerColor},t)}))})}),[e.style,e.elements.join(""),e.selected,e.onPress,e.dividerColor])}var ip=R.default.create({itemContainerStyle:{width:34,height:34,borderWidth:1},container:{flexDirection:"row",flexWrap:"wrap",gap:2,alignItems:"center"}});function op(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function up(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?op(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):op(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lp(e){var t,n=e.state,r=e.uiContext,i=e.uiKey+".currentElement",u=Sa(n,e.area),l=Z(u),s=vm(r,i,null!=(t=null==l?void 0:l[0])?t:un.Fire),c=(0,a.default)(s,2),f=c[0],d=c[1];(0,o.useEffect)((function(){l.includes(f)||d(null==l?void 0:l[0])}),[l.join(",")]);var g=(0,o.useState)({}),h=(0,a.default)(g,2),m=h[0],p=h[1],v=(0,o.useRef)(m);v.current=m;var A=(null==u?void 0:u[f])||[],b=(0,o.useCallback)((function(e){var t,n=e.getId();v.current[n]=!(null!=v&&null!=(t=v.current)&&t[n]),p(X(v.current))}),[]),k=(0,o.useMemo)((function(){return Object.fromEntries(l.map((function(e){return[e,Object.fromEntries(u[e].map((function(e){return[e.getId(),b.bind(null,e)]})))]})))}),[u]),x=(0,o.useMemo)((function(){return e.showAddToQuickbar?A.map((function(t,n){return(0,Ll.jsx)(Jy,{spell:t,showAddToQuickbar:e.showAddToQuickbar,showWizards:e.showWizards,collapsed:!(null!=m&&m[t.getId()]),toggleCollapsed:k[f][t.getId()],isVisible:e.isVisible},t.getId())})):l.map((function(t){var n=u[t];return(0,Ll.jsx)(Sg,{isVisible:f===t,children:(0,Ll.jsx)(T.default,{style:f!==t&&{display:"none"},children:n.map((function(n,r){return(0,Ll.jsx)(Jy,{spell:n,showAddToQuickbar:e.showAddToQuickbar,showWizards:e.showWizards,collapsed:!(null!=m&&m[n.getId()]),toggleCollapsed:k[t][n.getId()],isVisible:e.isVisible&&f===t},n.getId())}))})},t)}))}),[e.showAddToQuickbar?A:u,JSON.stringify(m),k,f,e.isVisible,e.showWizards]),w=(0,o.useMemo)((function(){return(0,Ll.jsx)(ap,{onPress:function(e){return d(e)},style:cp.picker,selected:f,elements:l,dividerColor:e.dividerColor})}),[d,f,JSON.stringify(l),e.dividerColor]),E=A.map((function(e){return e.getId()})).join(","),C=(0,o.useMemo)((function(){return!A.some((function(e){var t;return!(null!=(t=null==m?void 0:m[e.getId()])&&t)}))}),[m,E]),I=(0,o.useCallback)((function(){var e=!1;A.forEach((function(t){var n=t.getId();null!=m&&m[n]||(e=!0,m[n]=!0)})),e||A.forEach((function(e){delete m[e.getId()]})),p(X(m))}),[m,E]),B=(0,D.useTheme)();return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{children:[!e.hideTitle&&(0,Ll.jsxs)(T.default,{accessible:!0,accessibilityRole:"header",style:cp.emptyTitleContainer,children:[(0,Ll.jsx)(y.default,{name:"magic-wand",size:24,style:cp.magicWand,color:B.colors.onBackground}),(0,Ll.jsx)(zl,{h2:!0,accessibilityRole:"none",children:ae("Cast Spell")})]}),!e.onlyBySchool&&(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(ep,{isVisible:e.isVisible})}),l.length>0?(0,Ll.jsxs)(Rg,{title:ae("By Element"),dividerColor:e.dividerColor,children:[(0,Ll.jsxs)(T.default,{style:cp.schoolRowContainer,children:[(0,Ll.jsx)(T.default,{style:cp.tagPickerContainer,children:w}),(0,Ll.jsxs)(T.default,{style:gs.flexCenter,children:[(0,Ll.jsx)(ql,{compact:!0,onPress:I,children:ae(C?"Collapse all":"Expand all")}),(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(zy,{element:f})})]})]}),(0,Ll.jsx)(T.default,{style:cp.schoolContainer,children:x})]}):(0,Ll.jsx)(T.default,{style:cp.noSpellsContainer,children:(0,Ll.jsx)(zl,{style:cp.noSpellsText,children:ae("No spells yet!")})})]})}),[e.hideTitle,f,d,x,e.isVisible,w,I,e.onlyBySchool,e.dividerColor,l.length,C,B])}function sp(e){var t=As(),n=(0,o.useContext)(pm);return(0,o.useMemo)((function(){return(0,Ll.jsx)(Sg,{isVisible:e.isVisible,children:(0,Ll.jsx)(lp,up({state:t,uiContext:n},e))})}),[e.area,e.hideRecent,e.showAddToQuickbar,e.onlyBySchool,e.showWizards,!1!==e.isVisible&&t,!1!==e.isVisible&&n,!1!==e.isVisible&&e.dividerColor])}var cp=R.default.create({schoolContainer:{marginTop:8},spellsContainer:{marginTop:8},schoolButton:{marginVertical:4},magicWand:{marginRight:8},schoolTitleContainer:{flexDirection:"row",alignItems:"center",flex:1,justifyContent:"center"},emptyTitleContainer:{flexDirection:"row",justifyContent:"center"},titleContainer:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},schoolTitleTextContainer:{},picker:{flex:1,width:144},schoolRowContainer:{marginTop:8,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},tagPickerContainer:{width:180},buttonTitle:up(up({textAlign:"center",paddingVertical:1},I.default.select({android:{fontFamily:"sans-serif-medium"},default:{fontSize:18}})),{},{fontSize:12}),noSpellsText:{fontStyle:"italic"},noSpellsContainer:{marginTop:16},nuxText:{fontStyle:"italic"}});function fp(e){var t=e.callback;return(0,o.useEffect)((function(){return window.addEventListener("keydown",t),function(){return window.removeEventListener("keydown",t)}}),[t]),null}function dp(e){var t=As(),n=e.index,r=xi(t,hi.Pouch,n),a=(0,o.useRef)(t);a.current=t;var i=r&&Br.getById(r.itemId);if(i&&!(i instanceof Jh))throw new Error("Only pouch items should be equipped");var u=null==i||null==i.getPouchItemAction?void 0:i.getPouchItemAction(t,n,r.params),l=function(e,t){var n,r=null==(n=e.run.exploration.pouchItemsUsesLeft)?void 0:n[t];if(null!=r)return r;var a=wi(e,hi.Pouch)[t];if(null==a)return 0;var i=a.itemId,o=a.params,u=Br.getById(i).getUsesPerCombat(e,o);return e.run.exploration.pouchItemsUsesLeft[t]=u,u}(t,n);return(0,o.useMemo)((function(){var e;return r?(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(Gd,{icon:i.getId(),quality:null==r||null==(e=r.params)?void 0:e.itemQuality,disabled:!u.isEnabled,amount:l>1?l:void 0,title:i.getName(r.params),onPress:function(){return a.current.apply(u.transform)},tooltip:(0,Ll.jsx)(Zh,{showTile:!1,itemStack:{itemOccurrence:r,amount:1}}),tooltipIdSuffix:"explorationPouch"+n})},n):(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(Gd,{title:ae("Empty")})},n)}),[JSON.stringify(r),null==u?void 0:u.isEnabled,n,l,null==u?void 0:u.transform,a,null==i?void 0:i.getName((null==r?void 0:r.params)||{})])}function gp(e){var t=As(),n=(0,o.useRef)(t);n.current=t;var r=pi(t,hi.Pouch),a=(0,o.useMemo)((function(){for(var e=[],t=0;t<r;t++)e.push((0,Ll.jsx)(dp,{index:t},t));return e}),[r]),i=(0,o.useCallback)((function(){n.current.apply((function(e){return e.global.autoUsePouch=!e.global.autoUsePouch,e}))}),[]);return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(T.default,{style:[gs.flexRowAlignCenter,gs.flexCenter,{flexWrap:"wrap"}],children:a}),(0,Ll.jsx)(T.default,{style:[gs.mt16,gs.ph16],children:(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Auto-use pouch items"),checked:t.global.autoUsePouch,onPress:i})})})]})}var hp={top:8,bottom:8,left:8,right:8};var mp=o.memo((function(e){var t=(0,D.useTheme)(),n=(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:gs.mr8,children:(0,Ll.jsx)($g,{title:e.tooltip,hitSlop:hp,children:(0,Ll.jsx)(m.default,{name:"info",size:16,color:t.colors.onBackground})})})}),[e.tooltip,t]),r=(0,o.useMemo)((function(){return[pp.row,{width:"100%"}]}),[]),a=(0,o.useMemo)((function(){return(0,Ll.jsx)(Zl.default,{source:e.icon,style:pp.icon})}),[e.icon]);return(0,Ll.jsxs)(T.default,{style:r,children:[n,a,(0,Ll.jsx)(zl,{doNotScaleFonts:!0,style:pp.boostText,children:e.text})]})}));function yp(e){var t,n=As(),r=null!=(t=e.target)?t:Qr.Player,a=Io(n,r).concat(r==Qr.Player?Io(n,Qr.Familiar):[]).sort((function(e,t){return(r==Qr.Enemy?-1:1)*((po.getById(e.id).isBeneficial()?1e4:0)-(po.getById(t.id).isBeneficial()?1e4:0))+(e.fromPermacast?1e3:0)-(t.fromPermacast?1e3:0)+(e.fromPouch?100:0)-(t.fromPouch?100:0)+(e.fromAutocast?10:0)-(t.fromAutocast?10:0)})),i=(0,o.useMemo)((function(){return[pp.row,{width:"100%"}]}),[]);return(0,o.useMemo)((function(){var t=a.slice(0,e.maxElements).map((function(t,r){var a=t.endTime,i=po.getById(t.id),o=i.getDisplayName(),u=a-Aa(n),l=t.fromPermacast&&!e.skipPermacast?ae("{{familiarPrefix}}{{temporaryEffectName}} (P)",{temporaryEffectName:o,familiarPrefix:t.target==Qr.Familiar?ae("(Familiar) "):""}):ae("{{familiarPrefix}}{{temporaryEffectName}} ({{temporaryEffectDuration}} sec)",{temporaryEffectName:o,temporaryEffectDuration:ue(u),familiarPrefix:t.target==Qr.Familiar?ae("(Familiar) "):""});return(0,Ll.jsx)(T.default,{style:r>0&&gs.mt2,children:(0,Ll.jsx)(mp,{text:l,tooltip:i.getDisplayDescription(n,t),icon:i.getIcon()})},t.id+t.target)})),r=null;return t.length<a.length&&(r=(0,Ll.jsx)(T.default,{style:i,children:(0,Ll.jsx)(zl,{doNotScaleFonts:!0,style:pp.boostText,children:ae("And {{notShownElements}} more...",{notShownElements:ue(a.length-t.length)})})},"andMore")),(0,Ll.jsxs)(T.default,{style:pp.container,children:[a.length>0&&null!=e.accessibilityHeader&&(0,Ll.jsx)(T.default,{style:pp.accessibilityHidden,accessible:!0,accessibilityLabel:e.accessibilityHeader,accessibilityRole:"header",accessibilityElementsHidden:!1}),t,r]})}),[!1!==e.isVisible&&n,!1!==e.isVisible&&a,e.maxElements])}var pp=R.default.create({container:{justifyContent:"center",alignItems:"stretch"},icon:{height:16,width:16},row:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginTop:4},boostText:{flex:1,marginLeft:8},accessibilityHidden:{width:1,height:1,position:"absolute",left:0,top:0}});function vp(e){var t=As(),n=(0,o.useRef)(t);n.current=t;var r=t.world.currentQuickbar,a=r<=0,i=r>=3,u=r+1,l=(0,o.useCallback)((function(){n.current.apply((function(e){return e.world.currentQuickbar=e.world.currentQuickbar-1,e}))}),[]),s=(0,o.useCallback)((function(){n.current.apply((function(e){return e.world.currentQuickbar=e.world.currentQuickbar+1,e}))}),[]),c=(0,D.useTheme)(),f=(0,o.useMemo)((function(){return(0,Ll.jsx)(ql,{disabled:a,accessibilityLabel:ae("Previous Quickbar"),passthroughStyle:kp.quickbarSelectorButton,ButtonComponent:yg,size:24,icon:function(){return(0,Ll.jsx)(m.default,{name:"arrow-back",size:24,color:a?c.colors.onSurfaceDisabled:c.colors.onPrimary})},disableDisabledRenderingOptimization:!0,onPress:l})}),[a,l]),d=(0,o.useMemo)((function(){return(0,Ll.jsx)(ql,{disabled:i,accessibilityLabel:ae("Next Quickbar"),passthroughStyle:kp.quickbarSelectorButton,ButtonComponent:yg,size:24,icon:function(){return(0,Ll.jsx)(m.default,{name:"arrow-forward",size:24,color:i?c.colors.onSurfaceDisabled:c.colors.onPrimary})},disableDisabledRenderingOptimization:!0,onPress:s})}),[i,s]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:[kp.row,{alignSelf:"stretch",justifyContent:"center"}],children:[f,(0,Ll.jsxs)(T.default,{style:kp.barText,children:[(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(zl,{children:ae("Bar {{slot}}",{slot:ue(u)})})}),"web"===I.default.OS&&(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(zl,{style:{color:c.colors.tertiary},numberOfLines:1,children:ae("[Ctrl+1~4]")})})]}),d]})}),[f,u,d])}function Ap(e){var t=As(),n=(0,o.useRef)(t);n.current=t;var r=e.quickbarAction,a=r.getDisplayName(t),i=r.getTransform(t),u=r.toQuickbarData(),l=r.isEnabled(t),s=r.isActive(t),c=(0,D.useTheme)(),f=r instanceof Ah&&t.options.colorSpellButtonsByElement?ir(r.getAction().getElement(),c.dark):c,d=(0,o.useMemo)((function(){return e.hotkey?(0,Ll.jsxs)(zl,{style:[kp.smallButtonTitle,{color:Sd(f,!l)},gs.flex],numberOfLines:2,children:[(0,Ll.jsxs)(zl,{style:l?{color:f.colors.onTertiary}:{color:Sd(f,!l)},children:["[",e.hotkey,"]"]})," ",a]}):(0,Ll.jsx)(zl,{style:[kp.smallButtonTitle,{color:Sd(f,!l)},gs.flex],numberOfLines:2,children:a})}),[e.hotkey,a,f,l]),g=(0,o.useCallback)((function(){return n.current.apply(i)}),[i]);return(0,o.useMemo)((function(){return(0,Ll.jsx)(Xy.ScaleDecorator,{children:(0,Ll.jsxs)(T.default,{style:[gs.flex,gs.flexRowAlignCenter,gs.mv4],children:[(0,Ll.jsx)(T.default,{importantForAccessibility:"no-hide-descendants",accessibilityElementsHidden:!0,style:kp.dragHandle,children:(0,Ll.jsx)(Xd.default,{onPressIn:e.drag,hitSlop:{top:8,bottom:8,left:8,right:8},importantForAccessibility:"no-hide-descendants",accessibilityElementsHidden:!0,children:(0,Ll.jsx)(m.default,{name:"drag-indicator",size:24,color:c.colors.onSecondaryContainer})})}),(0,Ll.jsx)(T.default,{style:gs.flex,children:(0,Ll.jsx)(ql,{icon:s?function(){return(0,Ll.jsx)(Ly,{disabled:!l,style:{marginRight:-8}})}:void 0,onPress:g,disabled:!l,compact:!0,style:gs.flex,labelStyle:{marginHorizontal:16,flex:1,marginVertical:0,height:40},contentStyle:{marginHorizontal:0,flex:1,height:40},TextComponent:T.default,enableAutoRepress:!0,disableDisabledRenderingOptimization:!0,numberOfLines:2,theme:f,children:(0,Ll.jsx)(T.default,{style:[gs.flex,gs.flexRowAlignCenter],children:(0,Ll.jsx)(zl,{numberOfLines:2,children:d})})})}),(0,Ll.jsx)(ql,{accessibilityLabel:ae("Remove from Quickbar"),passthroughStyle:kp.deleteButton,ButtonComponent:yg,hitSlop:{top:8,bottom:8,left:8,right:8},onPress:function(){return n.current.apply((function(e){return xh(e,u)}))},icon:"close",disableDisabledRenderingOptimization:!0})]})})}),[a,n,i,l,s,xh,e.hotkey,f,e.drag])}function bp(){var e=As(),t=(0,o.useRef)(e);t.current=e;var n=function(e){return bh(e).map((function(e){return"item"==e.type?new ph(e):new Ah(e)}))}(e),r=(0,o.useCallback)((function(e){var t,n=e.item,r=e.getIndex,a=e.drag;e.isActive;return(0,Ll.jsx)(Ap,{hotkey:"web"===I.default.OS?(((null!=(t=r())?t:0)+1)%10).toString():void 0,drag:a,quickbarAction:n})}),[]),a=(0,o.useCallback)((function(e){return JSON.stringify(e.toQuickbarData())}),[]),i=(0,o.useCallback)((function(e){if(e.ctrlKey){var r=-1;switch(e.key){case"1":r=0;break;case"2":r=1;break;case"3":r=2;break;case"4":r=3}r>-1&&t.current.apply((function(e){return e.world.currentQuickbar=r,e}))}else{var a=-1;switch(e.key){case"1":a=0;break;case"2":a=1;break;case"3":a=2;break;case"4":a=3;break;case"5":a=4;break;case"6":a=5;break;case"7":a=6;break;case"8":a=7;break;case"9":a=8;break;case"0":a=9}if(a>=0){var i=null==n?void 0:n[a];if(null!=i){var o=i.getTransform(t.current);i.isEnabled(t.current)&&t.current.apply(o)}}}}),[JSON.stringify(n)]),u=(0,o.useCallback)((function(e){t.current.apply((function(t){return t.world.quickbars[t.world.currentQuickbar]=e.data.map((function(e){return e.toQuickbarData()})),t}))}),[]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:kp.mainContainer,children:[(0,Ll.jsx)(fp,{callback:i}),(0,Ll.jsx)(T.default,{style:kp.actionsContainer,children:I.default.select({web:(0,Ll.jsx)(S.default,{style:kp.actionsScroll,nestedScrollEnabled:!0,children:n.length>0?(0,Ll.jsx)(Xy.default,{renderItem:r,data:n,keyExtractor:a,onDragEnd:u,nestedScrollEnabled:!0}):(0,Ll.jsx)(zl,{style:kp.emptyText,children:ae('Your Quickbar is empty. Add actions to the Quickbar through the "Spells" menu at the bottom!')})}),default:n.length>0?(0,Ll.jsx)(Xy.default,{renderItem:r,data:n,keyExtractor:a,onDragEnd:u,nestedScrollEnabled:!0}):(0,Ll.jsx)(zl,{style:kp.emptyText,children:ae('Your Quickbar is empty. Add actions to the Quickbar through the "Spells" menu at the bottom!')})})}),(0,Ll.jsxs)(T.default,{style:kp.infoContainer,children:[(0,Ll.jsx)(T.default,{style:kp.accessibilityHidden,accessible:!0,accessibilityLabel:ae("Select Quickbar slot"),accessibilityRole:"header",accessibilityElementsHidden:!1}),(0,Ll.jsx)(vp,{}),(0,Ll.jsx)(S.default,{style:kp.infoContainer,nestedScrollEnabled:!0,children:(0,Ll.jsx)(yp,{accessibilityHeader:ae("Player Buffs"),maxElements:5})})]})]})}),[r,a,u,JSON.stringify(n),i])}var kp=R.default.create({emptyText:{fontWeight:"bold",fontStyle:"italic"},row:{flexDirection:"row",alignItems:"center",marginVertical:4},mainContainer:{flexDirection:"row",alignItems:"stretch",height:"100%"},actionsContainer:{flex:1.5,marginRight:8},infoContainer:{flex:1},actionsScroll:{flex:1},mainButton:{flex:1},smallButtonTitle:{fontSize:12},deleteButton:{marginLeft:8,paddingHorizontal:0,paddingVertical:0,height:24,width:24,borderRadius:16},quickbarSelectorButton:{height:24,width:24,borderRadius:12,marginHorizontal:4,paddingHorizontal:0,paddingVertical:0},barText:{marginHorizontal:4,alignItems:"center"},dragHandle:{cursor:"grab",marginRight:8},accessibilityHidden:{width:1,height:1,position:"absolute",left:0,top:0}});function xp(){var e=As(),t=(0,o.useRef)(e);t.current=e;var n=e.run.lastEquipmentLoadoutModified+1,r=(0,o.useCallback)((function(e){t.current.apply((function(t){return function(e,t){var n,r,a=JSON.parse(JSON.stringify((null==(n=e.run.equipmentLoadouts)||null==(r=n[t])?void 0:r.equipment)||{Hand:[],Body:[],Accessory:[],Pouch:[]}));for(var i of Object.values(hi))if(i!=hi.Pouch){for(var o=pi(e,i),u=0;u<o;u++)null!=xi(e,i,u)&&(e=Ci(i,u,!0,e));for(var l=0;l<o;l++){var s,c=null==a||null==(s=a[i])?void 0:s[l],f=xi(e,i,l);if(null==c&&null!=f){if(!vi(e,i,l))continue;e=Ci(i,l,!0,e)}else null!=c&&(e=ki(e,i,c,l,!0))}}return e.run.lastEquipmentLoadoutModified=t,e}(t,e)}))}),[]),a=(0,D.useTheme)(),i=(0,o.useMemo)((function(){return[0,1,2,3].map((function(t){var a,i=null==(a=e.run.equipmentLoadouts)?void 0:a[t],o=[];for(var u of[hi.Hand,hi.Body,hi.Accessory])for(var l=pi(e,u),s=0;s<l;s++){var c,f,d=null==i||null==(c=i.equipment)||null==(f=c[u])?void 0:f[s];if(null!=d){var g=(0,Ll.jsx)(ts,{icon:d.itemId,small:!0},u+s);o.push(g)}else o.push((0,Ll.jsx)(T.default,{style:wp.emptyIcon},u+s))}return(0,Ll.jsxs)(T.default,{style:wp.buttonContainer,children:[(0,Ll.jsx)(ql,{style:wp.setButton,contentStyle:{margin:0,flex:1},disabled:n==t+1,compact:!0,onPress:r.bind(null,t),children:ae("Set {{number}}",{number:t+1})}),(0,Ll.jsx)(T.default,{style:wp.iconsContainer,children:o})]},t)}))}),[JSON.stringify(e.run.equipmentLoadouts),r,n,a]);return(0,Ll.jsx)(T.default,{style:wp.equipmentSetButtonsRow,children:i})}var wp=R.default.create({equipmentSetButtonsRow:{flexDirection:"row",alignItems:"center",justifyContent:"center",flexWrap:"wrap"},setButton:{width:70},setText:{marginRight:8},smallButtonTitle:{fontSize:12},iconsContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",height:16,width:48,marginTop:2},emptyIcon:{width:16},buttonContainer:{marginLeft:4,alignItems:"center",width:70}});function Ep(e){var t,n=As(),r=(0,D.useTheme)(),a=null!=(t=n.world.synchro.grids[e.gridIndex])?t:ke,i=(0,o.useMemo)((function(){for(var e=[],t=0;t<hd;t++){for(var i=[],o=0;o<md;o++){var u=Ad(n,o,t,a),l=void 0;if(null!=u){var s=ir(u,r.dark);l=W()(s.colors.primaryContainer).saturate(.5).lighten(r.dark?.5:-.5).toString()}i.push((0,Ll.jsx)(T.default,{style:{width:8,height:8,borderLeftWidth:1,borderTopWidth:1,borderColor:r.colors.outline,backgroundColor:l}},o))}e.push((0,Ll.jsx)(T.default,{style:gs.flexRowAlignCenter,children:i},t))}return e}),[JSON.stringify(a),r]);return(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:{borderRightWidth:1,borderBottomWidth:1,borderColor:r.colors.outline},children:i})}),[i,r])}function Cp(e){var t=As(),n=(0,o.useRef)(t);n.current=t;var r=(0,D.useTheme)(),a=(0,o.useCallback)((function(){return n.current.apply((function(t){return t=function(e,t){if(t<0||t>=yd)return e;for(var n of(e.world.synchro.currentGrid=t,bd.getAll()))e=n(e);return e}(t,e.gridIndex)}))}),[e.gridIndex]),i=e.gridIndex==t.world.synchro.currentGrid;return(0,o.useMemo)((function(){return(0,Ll.jsx)(P.default,{onPress:a,accessible:!0,accessibilityLabel:ae(i?"Selected - Select Grid {{index}}":"Select Grid {{index}}",{index:ue(e.gridIndex+1)}),accessibilityRole:"button",children:(0,Ll.jsx)(T.default,{style:{borderRadius:4,backgroundColor:i?W()(r.colors.primary).alpha(.25).toString():void 0,padding:4},children:(0,Ll.jsx)(Ep,{gridIndex:e.gridIndex})})})}),[a,i,r,e.gridIndex])}var Ip=(0,o.memo)((function(e){for(var t=[],n=0;n<yd;n++)t.push((0,Ll.jsx)(Cp,{gridIndex:n},n));return(0,Ll.jsxs)(T.default,{style:gs.flexRowAlignCenter,children:[(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(zl,{h4:!0,children:ae("Grids:")})}),(0,Ll.jsx)(T.default,{style:[gs.ml16,gs.flexRowAlignCenter,{flex:1,gap:4,flexWrap:"wrap"}],children:t})]})}));function Bp(e){var t,n=As(),r=(0,o.useRef)(n);r.current=n;var a=null!=(t=n.global.autocast.savedStrategies)?t:[],i=(0,o.useCallback)((function(e){r.current.apply((function(t){return function(e,t){var n,r=null==(n=e.global.autocast.savedStrategies)?void 0:n[t];if(null==r)return e;var a=e.global.autocast.currentStrategy,i=e.run.autocast.rules;e.global.autocast.currentStrategy=X(r),e.run.autocast.rules={};var o=r.wizardsAssignedToPermaCast;for(var u in e.global.autocast.currentStrategy.rules){var l,s,c=e.global.autocast.currentStrategy.rules[u],f=Rc(e,Ia.getById(c.spellId),a),d=0;null!=f&&(d=null!=(l=null==(s=i[f.id])?void 0:s.currentPoints)?l:0);var g=Sc(e,c);g.disabled=c.disabled,g.currentPoints=d,e.run.autocast.rules[c.id]=g,e=wc(e,c,c.wizardsAssigned)}for(var h of(e.global.autocast.currentStrategy.wizardsAssignedToPermaCast=0,e=Ac(e,o),Z(a.permaCastRules))){var m=a.permaCastRules[h].id,y=e.global.autocast.currentStrategy.permaCastRules[h];if(null!=y){var p,v,A=null!=(p=null==(v=i[m])?void 0:v.currentPoints)?p:0,b=Sc(e,y);b.currentPoints=A,e.run.autocast.rules[y.id]=b}}return e.global.autocast.lastStrategyIndex=t,zc(e)}(t,e)}))}),[]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:Sp.loadoutsLoadRow,children:[(0,Ll.jsx)(T.default,{style:Sp.loadTextContainer,children:(0,Ll.jsx)(zl,{children:ae("Load:")})}),Z(a).length>0?Z(a).map((function(e){var t=a[e];if(null==t)return null;var n=""!=(null==t?void 0:t.name)&&null!=(null==t?void 0:t.name)?null==t?void 0:t.name:ae("Slot {{slot}}",{slot:("string"===typeof e?Number.parseInt(e):e)+1});return(0,Ll.jsx)(ql,{style:Sp.loadButton,labelStyle:Sp.smallButtonTitle,compact:!0,onPress:i.bind(null,e),children:n},e)})):(0,Ll.jsx)(zl,{style:Sp.noLoadoutsText,children:ae("No loadouts have been saved yet!")})]})}),[JSON.stringify(a),i])}var Sp=R.default.create({loadoutsLoadRow:{flexDirection:"row",flexWrap:"wrap",alignItems:"center",gap:8},loadButton:{},loadTextContainer:{marginRight:8},noLoadoutsText:{fontStyle:"italic"},smallButtonTitle:{fontSize:12}});function Rp(){var e,t,n,r=As(),a=(0,o.useRef)(r);a.current=r;var i=(0,D.useTheme)(),u=null!=(e=null==(t=r.global.autocast.savedStrategies)||null==(n=t[r.global.autocast.lastStrategyIndex])?void 0:n.name)?e:null,l=(0,o.useCallback)((function(){a.current.apply((function(e){return e.run.autoAdvanceToNextFloor=!e.run.autoAdvanceToNextFloor,e}))}),[]),s=(0,o.useCallback)((function(){a.current.apply((function(e){return e.run.autoAttemptBoss=!e.run.autoAttemptBoss,e}))}),[]),c=(0,o.useCallback)((function(){a.current.apply((function(e){return e.options.waitUntilFullyHealedBeforeExplore=!e.options.waitUntilFullyHealedBeforeExplore,e}))}),[]);return(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:Pp.mainContainer,children:(0,Ll.jsxs)(T.default,{style:Pp.actionsContainer,children:[(0,Ll.jsx)(Rg,{title:ae("Equipment Sets"),containerStyle:Pp.equipmentContainer,dividerColor:i.colors.surfaceDisabled,children:(0,Ll.jsx)(T.default,{style:Pp.categoryContents,children:(0,Ll.jsx)(xp,{})})}),pd(r)&&(0,Ll.jsx)(Rg,{title:ae("Synchro Grids"),containerStyle:Pp.autocastContainer,dividerColor:i.colors.surfaceDisabled,children:(0,Ll.jsx)(T.default,{style:Pp.categoryContents,children:(0,Ll.jsx)(Ip,{})})}),(0,Ll.jsx)(Rg,{title:ae("Wizard Strategy"),containerStyle:Pp.autocastContainer,dividerColor:i.colors.surfaceDisabled,children:(0,Ll.jsxs)(T.default,{style:Pp.categoryContents,children:[(0,Ll.jsx)(Bp,{}),null!=u&&(0,Ll.jsx)(T.default,{style:Pp.lastLoadedContainer,children:(0,Ll.jsx)(zl,{children:ae("Last loaded: {{lastLoadoutUsed}}",{lastLoadoutUsed:u})})})]})}),(0,Ll.jsx)(Rg,{title:ae("Exploration Config"),containerStyle:Pp.autocastContainer,dividerColor:i.colors.surfaceDisabled,children:(0,Ll.jsxs)(T.default,{style:Pp.categoryContents,children:[(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Automatically advance to the next floor"),checked:r.run.autoAdvanceToNextFloor,onPress:l,containerStyle:Pp.checkboxContainer})}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Automatically attempt fighting the boss"),checked:r.run.autoAttemptBoss,onPress:s,containerStyle:Pp.checkboxContainer})}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Wait until fully healed before exploring"),checked:r.options.waitUntilFullyHealedBeforeExplore,onPress:c,containerStyle:Pp.checkboxContainer})})]})})]})})}),[u,r.run.autoAdvanceToNextFloor,r.run.autoAttemptBoss,r.options.waitUntilFullyHealedBeforeExplore,pd(r),i])}var Pp=R.default.create({mainContainer:{height:"100%"},actionsContainer:{flex:1.5,marginRight:8},equipmentContainer:{paddingTop:0},autocastContainer:{paddingTop:0,marginTop:16},categoryContents:{marginTop:8},lastLoadedContainer:{marginTop:8},checkboxContainer:{marginLeft:0,marginTop:8,padding:0}});function Tp(e){var t=vm((0,o.useContext)(pm),"exploration_bottom_component_tab",""),n=(0,a.default)(t,2),r=n[0],i=n[1],u=(0,D.useTheme)(),l=(0,o.useContext)(hs),s=(0,j.default)(),c=(s.height,s.width,As()),f=(0,o.useRef)(c);f.current=c;c.options.enableBottomMenu,(0,Q.useSafeAreaInsets)();var d=(0,o.useContext)(Cy),g=Ve(c,"combat_paused_magic_tap"),h=(0,o.useCallback)((function(){f.current.apply((function(e){return g?Ke("combat_paused_magic_tap")(e):qe("combat_paused_magic_tap")(e)})),d.announceForAccessibility(ae(g?"Resuming Exploration":"Pausing Exploration"))}),[d,g]),m=(0,o.useCallback)((function(e){l&&e.shiftKey&&e.ctrlKey&&"X"==e.key&&h()}),[h,l]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsxs)(T.default,{style:[jp.mainComponent,{backgroundColor:u.colors.secondaryContainer,borderColor:u.colors.outlineVariant},!r&&{display:"none"}],children:["Inventory"==r&&(0,Ll.jsxs)(S.default,{style:[jp.mainScrollView,{height:Math.max(Math.min(e.containerHeight-434,350),168)}],nestedScrollEnabled:!0,children:[(0,Ll.jsx)(T.default,{style:jp.accessibilityHidden,accessible:!0,accessibilityLabel:ae("Inventory Tab"),accessibilityRole:"header",accessibilityElementsHidden:!1}),(0,Ll.jsx)(gp,{})]}),(0,Ll.jsxs)(S.default,{style:[jp.mainScrollView,{height:Math.max(Math.min(e.containerHeight-434,350),168)},"Spells"!=r&&{display:"none"}],children:[(0,Ll.jsx)(T.default,{style:jp.accessibilityHidden,accessible:!0,accessibilityLabel:ae("Spells Tab"),accessibilityRole:"header",accessibilityElementsHidden:!1}),(0,Ll.jsx)(Sg,{isVisible:"Spells"==r,children:(0,Ll.jsx)(sp,{uiKey:"ExplorationBottomContainer",area:_t.EXPLORATION,hideRecent:!0,showAddToQuickbar:!0,onlyBySchool:!0,hideTitle:!0,isVisible:"Spells"==r,dividerColor:u.colors.surfaceDisabled})})]}),"Quickbar"==r&&(0,Ll.jsxs)(T.default,{style:[jp.quickbarScrollView,{height:Math.max(Math.min(e.containerHeight-434,350),168)}],children:[(0,Ll.jsx)(T.default,{style:jp.accessibilityHidden,accessible:!0,accessibilityLabel:ae("Quickbar Tab"),accessibilityRole:"header",accessibilityElementsHidden:!1}),(0,Ll.jsx)(bp,{})]}),"Strategy"==r&&(0,Ll.jsxs)(S.default,{style:[jp.mainScrollView,{height:Math.max(Math.min(e.containerHeight-434,350),150)},"Strategy"!=r&&{display:"none"}],children:[(0,Ll.jsx)(T.default,{style:jp.accessibilityHidden,accessible:!0,accessibilityLabel:ae("Strategy Tab"),accessibilityRole:"header",accessibilityElementsHidden:!1}),(0,Ll.jsx)(Rp,{})]})]}),(0,Ll.jsxs)(T.default,{style:jp.tabsContainer,children:[(0,Ll.jsx)(T.default,{style:jp.accessibilityHidden,accessible:!0,accessibilityLabel:"Exploration Tabs",accessibilityRole:"header",accessibilityElementsHidden:!1}),(0,Ll.jsx)(Xd.default,{onPress:h,accessibilityElementsHidden:!1,children:(0,Ll.jsx)(T.default,{accessibilityLabel:ae(g?"Resume Exploration {{shortcut}}":"Pause Exploration {{shortcut}}",{shortcut:"web"===I.default.OS?ae("(Shortcut Control + Shift + X)"):""}),accessibilityRole:"button",style:[jp.accessibilityHidden,{left:1}]})}),(0,Ll.jsx)(Xd.default,{onPress:function(){i("")},accessibilityElementsHidden:!1,children:(0,Ll.jsx)(T.default,{accessibilityLabel:ae("Exploration Log - Exploration"),accessibilityRole:"tab",style:[jp.accessibilityHidden,{left:2}]})}),(0,Ll.jsx)(fp,{callback:m}),(0,Ll.jsx)(Xd.default,{onPress:function(){i("Inventory"!=r?"Inventory":"")},accessibilityLabel:ae("Items - Exploration"),accessibilityRole:"tab",children:(0,Ll.jsx)(T.default,{style:[jp.tab,{backgroundColor:u.colors.secondaryContainer,borderColor:u.colors.outlineVariant},"Inventory"==r&&jp.selectedTab],children:(0,Ll.jsx)(zl,{h3:!0,children:ae("Items")})})}),(0,Ll.jsx)(Xd.default,{onPress:function(){i("Spells"!=r?"Spells":"")},accessibilityLabel:ae("Spells - Exploration"),accessibilityRole:"tab",children:(0,Ll.jsx)(T.default,{style:[jp.tab,{backgroundColor:u.colors.secondaryContainer,borderColor:u.colors.outlineVariant},"Spells"==r&&jp.selectedTab],children:(0,Ll.jsx)(zl,{h3:!0,children:ae("Spells")})})}),(0,Ll.jsx)(Xd.default,{onPress:function(){i("Strategy"!=r?"Strategy":"")},accessibilityLabel:ae("Strategy - Exploration"),accessibilityRole:"tab",children:(0,Ll.jsx)(T.default,{style:[jp.tab,{backgroundColor:u.colors.secondaryContainer,borderColor:u.colors.outlineVariant},"Strategy"==r&&jp.selectedTab],children:(0,Ll.jsx)(zl,{h3:!0,children:ae("Strategy")})})}),(0,Ll.jsx)(Xd.default,{onPress:function(){i("Quickbar"!=r?"Quickbar":"")},accessibilityLabel:ae("Quickbar - Exploration"),accessibilityRole:"tab",children:(0,Ll.jsx)(T.default,{style:[jp.tab,{backgroundColor:u.colors.secondaryContainer,borderColor:u.colors.outlineVariant},"Quickbar"==r&&jp.selectedTab],children:(0,Ll.jsx)(zl,{h3:!0,children:ae("Quickbar")})})})]})]})}),[r,i,u,l,e.containerHeight,h,g])}var jp=R.default.create({mainComponent:{padding:8,marginHorizontal:2,borderWidth:R.default.hairlineWidth},mainScrollView:{height:296},quickbarScrollView:{height:226,overflow:"hidden"},tabsContainer:{marginHorizontal:8,marginBottom:8,flexDirection:"row",alignItems:"flex-end",justifyContent:"space-evenly"},tab:{borderWidth:R.default.hairlineWidth,borderRadius:8,padding:8,top:-1,cursor:"pointer"},selectedTab:{borderTopLeftRadius:0,borderTopRightRadius:0,borderTopWidth:0,paddingTop:16,position:"relative"},accessibilityHidden:{width:1,height:1,position:"absolute",left:0,top:0}});function Mp(){var e=As(),t=(Aa(e)-Ko(e))/Iu(e);return(0,Ll.jsx)(T.default,{style:{width:120},children:(0,Ll.jsx)(Py,{progress:t})})}function Dp(){var e=As(),t=Vo,n=[$i.Exploring,$i.Combat].includes(ao(e).status.companionStatus),r=function(e){var t;return(null==(t=e.run.exploration)?void 0:t.familiarActionProgress)||0}(e);return(0,o.useMemo)((function(){return n?t?(0,Ll.jsxs)(T.default,{style:Op.row,children:[(0,Ll.jsx)(ts,{icon:"attack",style:Op.icon}),(0,Ll.jsxs)(T.default,{style:Op.progressBarContainer,children:[(0,Ll.jsx)(zl,{numberOfLines:1,style:Op.markdownContainer,children:t.name}),(0,Ll.jsx)(Py,{progress:r,style:Op.progressBar})]})]}):(0,Ll.jsxs)(T.default,{style:Op.row,children:[(0,Ll.jsx)(ts,{icon:"attack",style:Op.icon}),(0,Ll.jsxs)(T.default,{style:Op.progressBarContainer,children:[(0,Ll.jsx)(zl,{style:Op.idleTextContainer,children:"-"}),(0,Ll.jsx)(Py,{progress:0,style:Op.progressBar})]})]}):(0,Ll.jsx)(T.default,{style:[Op.row,gs.flexCenter],children:(0,Ll.jsx)(ky.default,{size:"small"})})}),[null==t?void 0:t.name,r,n])}var Op=R.default.create({row:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:148},icon:{marginRight:4,height:24,width:24},progressBarContainer:{flex:1,marginTop:-5},idleTextContainer:{height:21},markdownContainer:{height:21},progressBar:{width:120}});function Np(){var e,t,n,r,a=As(),i=(null==(e=ao(a))||null==(t=e.status)?void 0:t.currentHp)||0,o=(null==(n=io(a))||null==(r=n.getStatsForCompanion(a))?void 0:r.maxHP)||1;return(0,Ll.jsx)(Oy,{empty:!1,current:i,max:o,actionTarget:Qr.Familiar})}function Up(e){return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:Fp.tile,children:[e.sprite&&e.showUndead&&(0,Ll.jsx)(Zl.default,{resizeMode:"contain",source:Hg(e.sprite),style:[Fp.image,{tintColor:"#444"}]}),e.sprite&&(0,Ll.jsx)(Zl.default,{resizeMode:"contain",source:Hg(e.sprite),style:[Fp.image,{opacity:e.showUndead?.15:e.showDead?.25:1,position:"absolute"}]})]})}),[e.sprite,e.showDead,e.showUndead])}var Fp=R.default.create({tile:{height:24,width:24,justifyContent:"center",alignItems:"stretch"},image:{height:22,width:22}});function Lp(){var e=As(),t=Zi(e)==me.Combat,n=0;return t&&(n=function(e){var t;return(null==(t=e.run.exploration)?void 0:t.playerActionProgress)||0}(e)),(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:Hp.row,children:[(0,Ll.jsx)(ts,{icon:"attack",style:Hp.icon}),(0,Ll.jsx)(Py,{progress:n,style:{width:120}})]})}),[n])}var Hp=R.default.create({icon:{marginRight:4,height:24,width:24},row:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}});function Yp(){var e=As(),t=eu(e),n=Gr(e);return(0,Ll.jsx)(Oy,{empty:!1,current:t,max:n,actionTarget:Qr.Player})}function Qp(){var e=function(e){return e.run.explorationMessageLog||[]}(As());return(0,o.useMemo)((function(){return(0,Ll.jsx)(S.default,{children:e.map((function(e){var t,n=e.id;return(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{accessibilityLabel:null!=(t=e.accessibleMessage)?t:e.message,children:e.realTimestamp?ae("[{{time}}] {{message}}",{time:ly()(e.realTimestamp).format("h:mm:ss A"),message:e.message}):e.message})},n)}))})}),[e.map((function(e){return e.id})).join()])}var zp=o.memo((function(e){var t=Ut(e.resource),n=e.current>=e.cap-1e-6,r=(0,o.useMemo)((function(){return(0,Ll.jsx)(ts,{icon:t.icon,style:Wp.icon,small:!0})}),[t.icon]),a=(0,D.useTheme)(),i=(0,o.useMemo)((function(){return n&&{color:a.colors.tertiary}}),[n,a]),u=ue(e.current,{showDecimals:!0})+"/"+ue(e.cap),l=(0,o.useMemo)((function(){return(0,Ll.jsx)(zl,{style:i,doNotScaleFonts:!0,children:u})}),[u,i]);return(0,Ll.jsxs)(T.default,{style:Wp.item,accessible:!0,children:[r,l]})}));function Vp(e){var t=As(),n=Ft(t),r=(0,o.useMemo)((function(){return n.map((function(e){return e==Dt.Mana?null:(0,Ll.jsx)(zp,{resource:e,current:zt(t,e),cap:Qt(t,e)},e)}))}),[!1!==e.isVisible&&t]);return(0,Ll.jsx)(T.default,{style:Wp.container,children:r})}var Wp=R.default.create({container:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around"},item:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",width:106},inlineRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},icon:{marginRight:2}});function Gp(e){var t=e.floor,n=As(),r=(0,o.useRef)(n);r.current=n;var a=t.canFightBoss(n)&&null!=t.getBoss(n),i=yr(n,t),u=(0,D.useTheme)();return(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{children:(0,Ll.jsxs)(T.default,{style:Zp.noneRow,children:[(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(zl,{style:Zp.noneFloorText,children:t.getFloorName()}),(0,Ll.jsxs)(T.default,{style:Zp.noneStatusRow,children:[(0,Ll.jsx)(zl,{children:ae("Status: ")}),a?(0,Ll.jsx)(m.default,{name:"check",size:24,style:Zp.noneIcon,color:i?u.dark?u.colors.primaryContainer:u.colors.primary:u.colors.onBackground}):(0,Ll.jsx)(m.default,{name:"lock-open",size:24,style:Zp.noneIcon,color:u.colors.onBackground}),(0,Ll.jsx)(zl,{children:ae(i?"Completed":a?"Boss Unlocked":"Open for Exploration")})]})]}),(0,Ll.jsx)(ql,{onPress:function(){return r.current.apply((function(e){var n;return e=Jo(e,t),null!=(n=t.getNextFloor(e))&&null!=n.isUnlocked&&n.isUnlocked(e)&&(e.run.autoAdvanceToNextFloor=!1),e}))},children:ae("Explore")})]})})}),[i,a,u,t.getFloorName()])}function Jp(e){var t=As(),n=e.dungeon.getDungeonFloors().filter((function(e){return e.isUnlocked(t)}));return(0,o.useMemo)((function(){return(0,Ll.jsx)(Rg,{title:e.dungeon.getName(),children:(0,Ll.jsx)(T.default,{style:gs.mt8,children:n.map((function(e){return(0,Ll.jsx)(Gp,{floor:e},e.getId())}))})})}),[JSON.stringify(n.map((function(e){return e.getId()})))])}function qp(){var e=mr(As());return(0,o.useMemo)((function(){return(0,Ll.jsxs)(S.default,{style:Zp.container,contentContainerStyle:Zp.noneContent,children:[(0,Ll.jsx)(T.default,{style:Zp.topRow,children:(0,Ll.jsx)(zl,{h2:!0,children:ae("Exploration")})}),(0,Ll.jsx)(zl,{children:ae("Select a destination.")}),e.map((function(e){return(0,Ll.jsx)(Jp,{dungeon:e},e.getId())}))]})}),[JSON.stringify(e.map((function(e){return e.getId()})))])}function Xp(){var e,t,n,r,i=As(),l=(0,o.useRef)(i);l.current=i;var s=Zi(i),c=Zo(i),f=c.getFloorName(),d=s==me.Combat&&Xi(i).getPicture(i),g=c.getExplorationSuccessesForBoss(i)-xu(i,c.getId()),h=s==me.Combat&&Xi(i).getName(),y=xu(i,c.getId())>=c.getExplorationSuccessesForBoss(i)||yr(i,c),p=null!=c.getBoss(i),v=c.canFightBoss(i),A=null==(e=c.getNextFloor(i))?void 0:e.isUnlocked(i),b=s==me.Combat&&Xi(i).isBoss(),k=Ve(i,"exploration_paused"),x=(0,o.useCallback)((function(){l.current.apply((function(e){return Ve(e,"exploration_paused")?function(e){return(e=Ke("exploration_paused")(e)).run.exploration.explorationStartTime=Aa(e),e}(e):function(e){return qe("exploration_paused")(e)}(e)}))}),[]),w=(0,o.useMemo)((function(){return(0,Ll.jsx)(ql,{style:Zp.pauseExplorationButton,compact:!0,onPress:x,disableDisabledRenderingOptimization:!0,children:ae(k?"Resume Exploration":"Pause Exploration")})}),[k,x]),E=(0,o.useMemo)((function(){var e=null;return s==me.Combat?e=(0,Ll.jsxs)(S.default,{centerContent:!1,style:Zp.explorationStatusContainer,persistentScrollbar:!0,children:[(0,Ll.jsx)(zl,{h3:!0,children:h}),(0,Ll.jsx)(T.default,{style:gs.mt4,children:(0,Ll.jsx)(Uy,{})}),(0,Ll.jsx)(T.default,{style:gs.mt4,children:(0,Ll.jsx)(jy,{})}),(0,Ll.jsx)(T.default,{style:gs.mt4,children:(0,Ll.jsx)(yp,{target:Qr.Enemy,skipPermacast:!0,accessibilityHeader:ae("Enemy Buffs")})})]}):s==me.Exploring?e=(0,Ll.jsxs)(T.default,{style:Zp.explorationStatusContainer,children:[(0,Ll.jsx)(T.default,{style:gs.mb8,children:(0,Ll.jsx)(zl,{h3:!0,children:ae("Exploring...")})}),(0,Ll.jsx)(Mp,{}),w]}):s==me.ExploringBoss?e=(0,Ll.jsxs)(T.default,{style:Zp.explorationStatusContainer,children:[(0,Ll.jsx)(zl,{h3:!0,children:ae("Preparing for Boss...")}),(0,Ll.jsx)(Mp,{}),w]}):s==me.Reviving&&(e=(0,Ll.jsxs)(T.default,{style:Zp.explorationStatusContainer,children:[(0,Ll.jsx)(zl,{h3:!0,children:ae("Recovering...")}),(0,Ll.jsx)(ky.default,{})]})),e}),[s,h,w]),C=function(e){return null!=ao(e)}(i),I=C&&io(i).getPicture(i),B=C&&[$i.Combat,$i.Exploring].includes(null==(t=ao(i))||null==(n=t.status)?void 0:n.companionStatus),R=(0,o.useCallback)((function(){l.current.apply((function(e){return e.run.exploration.familiarIsInBackRow=!e.run.exploration.familiarIsInBackRow,e}))}),[]),P=yr(i,c),M=(0,D.useTheme)(),O=s==me.Combat&&Xi(i).getBackdropColor(i),N=(0,o.useContext)(Cy),U=(0,o.useContext)(hs);(0,o.useEffect)((function(){return l.current.apply(Ke("combat_paused_magic_tap")),function(){return l.current.apply(Ke("combat_paused_magic_tap"))}}),[U]);var F=(0,o.useContext)(pm),L=F.getUIState("current_event_occurrence_id"),H=null!=(r=F.getUIState("exploration_bottom_component_tab"))?r:"";(0,o.useEffect)((function(){U&&null==L&&(s===me.Exploring&&N.announceForAccessibility(ae("Exploring")),s===me.ExploringBoss&&N.announceForAccessibility(ae("Preparing for boss")),s===me.Combat&&N.announceForAccessibility(ae("Fighting {{enemy}}",{enemy:h})),s===me.Reviving&&N.announceForAccessibility(ae("You were defeated. Recovering from injuries...")))}),[s,N,U,L]);var Y=(0,o.useState)(""),Q=(0,a.default)(Y,2),z=Q[0],V=Q[1],W=(0,o.useCallback)((function(e){if(U){var t=l.current;if(e.shiftKey&&e.ctrlKey&&"Z"==e.key){var n=Zi(t)==me.Combat,r=Ho(t);if("player"===z&&r){var a,i,o=tu(t),u=null!=(a=null==(i=io(t))?void 0:i.getStatsForCompanion(t).maxHP)?a:0;N.announceForAccessibility(ae("Familiar HP: {{current}}/{{max}}",{current:ue(Math.ceil(o),{showDecimals:!1}),max:ue(Math.ceil(u),{showDecimals:!1})})),V("familiar")}else if(("player"===z||r&&"familiar"===z)&&n){var s=nu(t),c=Xi(t).getMaxHP(t);N.announceForAccessibility(ae("Enemy HP: {{current}}/{{max}}",{current:ue(Math.ceil(s),{showDecimals:!1}),max:ue(Math.ceil(c),{showDecimals:!1})})),V("enemy")}else N.announceForAccessibility(ae("Player HP: {{current}}/{{max}}",{current:ue(Math.ceil(eu(t)),{showDecimals:!1}),max:ue(Math.ceil(Gr(t)),{showDecimals:!1})})),V("player")}}}),[U,z]),G=function(e){return Ey.isActive(e)}(i),J=(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:Zp.row,children:[(0,Ll.jsx)(ql,{style:Zp.exitButtonContainer,compact:!0,onPress:function(){return l.current.apply(Eu)},children:ae("Exit")}),(0,Ll.jsx)(ql,{style:Zp.exitButtonContainer,compact:!0,onPress:function(){return l.current.apply((function(e){return Jo(e,Zo(e).getNextFloor(e))}))},disabled:!A,children:ae("Next Floor")}),(0,Ll.jsx)(ql,{compact:!0,onPress:function(){return l.current.apply(Xo)},disabled:!v||b,children:ae("Fight Boss")})]})}),[v,b,A]),q=(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsxs)(T.default,{style:[Zp.row,Zp.enemyContainer],children:[E,(0,Ll.jsx)(T.default,{style:gs.ml8,children:(0,Ll.jsx)(Yg,{sprite:d,backdropColor:O})})]}),(0,Ll.jsx)(Bg,{}),C&&!i.run.exploration.familiarIsInBackRow&&(0,Ll.jsxs)(T.default,{style:[Zp.row,Zp.summonContainer,{marginTop:8}],children:[(0,Ll.jsx)(Up,{sprite:I,showDead:!B,showUndead:G}),(0,Ll.jsx)(T.default,{style:{flex:1,marginLeft:4,marginRight:4},children:(0,Ll.jsx)(Np,{})}),(0,Ll.jsx)(Dp,{})]},"companion"),(0,Ll.jsxs)(T.default,{style:[Zp.row,Zp.playerContainer,(!C||i.run.exploration.familiarIsInBackRow)&&{marginTop:8}],children:[(0,Ll.jsx)(T.default,{style:{flex:1,marginRight:4},children:(0,Ll.jsx)(Yp,{})}),(0,Ll.jsx)(Lp,{})]}),C&&i.run.exploration.familiarIsInBackRow&&(0,Ll.jsxs)(T.default,{style:[Zp.row,Zp.summonContainer],children:[(0,Ll.jsx)(Up,{sprite:I,showDead:!B,showUndead:G}),(0,Ll.jsx)(T.default,{style:{flex:1,marginLeft:4,marginRight:4},children:(0,Ll.jsx)(Np,{})}),(0,Ll.jsx)(Dp,{})]},"companion"),C&&(0,Ll.jsx)(T.default,{style:Zp.switchFamiliarRowContainer,children:(0,Ll.jsx)(T.default,{style:Zp.switchFamiliarRow,children:(0,Ll.jsx)(u.TouchableWithoutFeedback,{onPress:R,accessibilityLabel:i.run.exploration.familiarIsInBackRow?ae("Send Familiar to Front Row"):ae("Send Familiar to Back Row"),hitSlop:{top:8,bottom:8,left:8,right:8},children:(0,Ll.jsx)(ts,{icon:"exchange",small:!0})})})}),(0,Ll.jsxs)(T.default,{style:[Zp.row,Zp.runAway],children:[(0,Ll.jsxs)(T.default,{style:[Zp.row,Zp.unlockBossContainer],children:[y&&(0,Ll.jsx)(m.default,{name:"check",size:24,style:Zp.checkmark,color:P?M.dark?M.colors.primaryContainer:M.colors.primary:M.colors.onBackground}),(0,Ll.jsx)(T.default,{style:Zp.unlockBossTextContainer,children:(0,Ll.jsx)(zl,{doNotScaleFonts:!0,numberOfLines:2,children:P?ae("Floor complete!"):v?ae("Boss unlocked"):p?ae("To unlock boss: {{amount}}",{amount:ue(g)}):""})})]}),J]})]})}),[d,E,g,y,v,p,l,Xo,Eu,C,I,P,O,B,G,i.run.exploration.familiarIsInBackRow,R,J,M]),X=(0,j.default)(),K=X.height,Z=X.width,_=(0,o.useState)(null),$=(0,a.default)(_,2),ee=$[0],te=$[1],ne=(0,o.useCallback)((function(e){te(e.nativeEvent.layout.height)}),[]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:Zp.wholeContainer,onLayout:ne,children:[(0,Ll.jsxs)(T.default,{style:Zp.container,children:[(0,Ll.jsx)(T.default,{style:[Zp.topRow],children:(0,Ll.jsx)(zl,{h2:!0,children:ae("Exploration - {{dungeonTitle}}",{dungeonTitle:f})})}),(0,Ll.jsxs)(T.default,{style:Zp.restOfScreen,children:[q,(0,Ll.jsxs)(T.default,{style:Zp.playerMessageLogContainer,children:[""==H&&(0,Ll.jsx)(T.default,{style:Zp.accessibilityHidden,accessible:!0,accessibilityLabel:ae("Exploration Log Tab"),accessibilityRole:"header",accessibilityElementsHidden:!1}),(0,Ll.jsx)(Qp,{})]}),Z<640&&K>640&&!i.options.hideBottomResourceViewer&&(0,Ll.jsx)(Sg,{isVisible:""==H,children:(0,Ll.jsx)(Vp,{})})]})]}),(0,Ll.jsx)(T.default,{style:Zp.bottomComponentContainer,children:(0,Ll.jsx)(Tp,{containerHeight:ee})}),(0,Ll.jsx)(fp,{callback:W})]})}),[l,H,Eu,f,q,M,W,Z,K,i.options.hideBottomResourceViewer,ne,ee])}function Kp(){return Zi(As())==me.None?(0,Ll.jsx)(qp,{}):(0,Ll.jsx)(Xp,{})}var Zp=R.default.create({wholeContainer:{flex:1},container:{flex:1,padding:8},topRow:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",marginBottom:8,height:32},arrowBack:{marginRight:8},row:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},checkmark:{marginRight:4},enemyContainer:{marginBottom:8},playerContainer:{marginTop:16},summonContainer:{marginTop:16},playerMessageLogContainer:{flex:1,padding:8,borderColor:"#444",borderWidth:R.default.hairlineWidth,marginTop:8},moveRow:{marginTop:8},exitButtonContainer:{marginRight:4},explorationStatusContainer:{flex:1,maxHeight:144},restOfScreen:{flex:1,justifyContent:"space-between",marginBottom:48},bottomComponentContainer:{position:"absolute",left:0,bottom:0,width:"100%"},dungeonButton:{marginTop:8},gradient:{left:0,top:0,width:"100%",height:"60%",position:"absolute",opacity:.3},noneContent:{paddingBottom:32},noneDungeonContentsContainer:{marginTop:8},noneRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:4},noneStatusRow:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},noneFloorText:{fontWeight:"bold"},noneIcon:{marginHorizontal:4},smallButtonTitle:{fontSize:12},runAway:{marginTop:8},unlockBossContainer:{flex:1,justifyContent:"flex-start"},unlockBossTextContainer:{flex:1},accessibilityHidden:{width:1,height:1,position:"absolute",left:0,top:0},pauseExplorationButton:{marginTop:16,alignSelf:"flex-start"},noMoreStorylines:{fontStyle:"italic"},switchFamiliarRow:{position:"absolute",top:-40,cursor:"pointer"},switchFamiliarRowContainer:{alignSelf:"center"}});function _p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const $p=new(function(e){(0,ws.default)(r,e);var t=_p(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"slimeDrop"}},{key:"getTags",value:function(){return[yh.Material]}},{key:"getPicture",value:function(){return n(68585)}},{key:"getBaseName",value:function(e){return ae("Slime Drop")}},{key:"getDescription",value:function(e,t){return ae("A piece of a felled Slime.")}},{key:"getEffect",value:function(e,t){}},{key:"getBaseSalePrice",value:function(e,t){return 24}}]),r}(Nh));function ev(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const tv=new(function(e){(0,ws.default)(r,e);var t=ev(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"wildgrass"}},{key:"getTags",value:function(){return[yh.Material]}},{key:"getPicture",value:function(){return n(31306)}},{key:"getBaseName",value:function(e){return ae("Wildgrass")}},{key:"getDescription",value:function(e,t){return ae("A basic herb used in alchemical compounds.")}},{key:"getEffect",value:function(e,t){}},{key:"getBaseSalePrice",value:function(e,t){return 12}}]),r}(Nh));function nv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const rv=new(function(e){(0,ws.default)(r,e);var t=nv(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"slime"}},{key:"getName",value:function(){return ae("Slime")}},{key:"getBaseStats",value:function(){return{maxHP:50,attack:15,defense:5,attackDelay:3.2,accuracy:100,dodge:100,crit:0}}},{key:"getPicture",value:function(e){return n(11143)}},{key:"getLevel",value:function(){return 1}},{key:"getCoinsAwardedBase",value:function(e){return 12}},{key:"getMonstiumAwardedBase",value:function(e){return 3}},{key:"getItemsAwardedBase",value:function(e){return[{itemId:tv.getId(),amount:1,chance:.1},{itemId:$p.getId(),amount:1,chance:.5}]}}]),r}(Wu));var av=.015,iv={maxHP:[Qr.Familiar,Vr.MaxHP,"maxHP"],attack:[Qr.Familiar,Vr.Attack,"attack"],attackDelay:[Qr.Familiar,Vr.AttackDelay,"attackDelay"],defense:[Qr.Familiar,Vr.Defense,"defense"],accuracy:[Qr.Familiar,Vr.Accuracy,"accuracy"],dodge:[Qr.Familiar,Vr.Dodge,"dodge"],crit:[Qr.Familiar,Vr.Crit,"crit"]},ov=[pt.MaxFamiliarLevel],uv=function(){function e(){(0,Le.default)(this,e)}return(0,He.default)(e,[{key:"getNextAction",value:function(e,t){var n=this;return{name:ae("Attack"),delay:this.getStats(e,t).attackDelay,transform:function(e){return function(e,t,n){var r,a,i,o=null!=(r=null==n?void 0:n.forcedTarget)?r:Qr.Enemy,u=io(e),l=gu(e,o,Vr.Dodge),s=u.getStatsForCompanion(e),c=ou(s.accuracy*(null!=(a=null==n?void 0:n.accuracyMultiplier)?a:1),l),f=0,d=!1;if(c){var g,h=s.crit*(null!=(g=null==n?void 0:n.critChanceMultiplier)?g:1)/100;d=Math.random()<(null!=h?h:0);var m=It(pu(o),e,0,{target:o,tags:null==n?void 0:n.tags});Math.random()<m&&(d=!1),f=iu(d?1.5*t:t,d?0:gu(e,o,Vr.Defense)),e=uu(e,o,-(f=It(yu(o),e,f,{target:o,source:Qr.Familiar,tags:null==n?void 0:n.tags})),null==n?void 0:n.cause)}var y={id:Math.random().toString(),damage:f,isHit:c,isCrit:d,time:Aa(e),source:Qr.Familiar,target:o,tags:null!=(i=null==n?void 0:n.tags)?i:[]};return e=Lo(e,y),null!=(null==n?void 0:n.onHit)?n.onHit(e,y):e}(e,n.getStats(e,t).attack)}}}},{key:"getNextActionForCompanion",value:function(e){return this.getNextAction(e,ro(e))}},{key:"getStats",value:function(e,t,n){var r=this.getLevel(e,t),a=this.getBaseStats(),i=this.getPerLevelStatMultiplier(),o={},u=function(u){null!=n&&n!=Lu(u)||(o[u]=na(e,Qr.Familiar,Lu(u),(function(e){var t=a[u]*Math.pow(i[u],r-1);return It(iv[u],e,t)}),t,r))};for(var l in a)u(l);return o}},{key:"getMaxHP",value:function(e,t){var n=this.getLevel(e,t),r=this.getBaseStats(),a=this.getPerLevelStatMultiplier();return na(e,Qr.Familiar,Vr.MaxHP,(function(e){var t=r.maxHP*Math.pow(a.maxHP,n-1);return Rt(iv.maxHP,e,t)}),t,n)}},{key:"getStatsForCompanion",value:function(e,t){return this.getStats(e,ro(e),t)}},{key:"getLevel",value:function(e,t){var n=e.temp.familiarLevelCache.get(t),r=vn(to(e,t).exp/av,1.38,this.getMaxLevel(e,t),n);return r!=n&&e.temp.familiarLevelCache.set(t,r),r}},{key:"getMaxLevel",value:function(e,t){return Pt(ov,e,90)}},{key:"getExpForNextLevel",value:function(e,t){return pn(this.getLevel(e,t)+1,1.38,this.getMaxLevel(e,t))*av}},{key:"create",value:function(e){var t=Math.random().toString(),n={id:t,familiarClassId:this.getId(),exp:pn(5,1.38,10)*av,status:{status:_i.Idle,exploringDungeonFloorId:void 0,exploringNextRandomRoll:Math.random(),autoExploring:!1,triggerFamiliarDeath:!1,currentHp:this.getBaseStats().maxHP,companionStatus:$i.Exploring,actionProgress:0},messageLog:[]};return e.run.familiars[t]=n,n.status.currentHp=this.getStats(e,t).maxHP,e}}]),e}();function lv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var sv=new(function(e){(0,ws.default)(n,e);var t=lv(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"slimeFamiliar"}},{key:"getPicture",value:function(e){return rv.getPicture(e)}},{key:"getName",value:function(){return ae("Slime")}},{key:"getBaseStats",value:function(){return{maxHP:50,attack:15,defense:5,attackDelay:3.2,accuracy:100,dodge:100,crit:0}}},{key:"getPerLevelStatMultiplier",value:function(){return{maxHP:1.06,attack:1.06,defense:1.06,attackDelay:1,accuracy:1,dodge:1,crit:1}}}]),n}(uv));function cv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var fv=new(function(e){(0,ws.default)(n,e);var t=cv(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"familiarCrate"}},{key:"getName",value:function(){return ae("Familiar Crate")}},{key:"getDisplayDescription",value:function(e){return ae("Dedicate a parcel of land to a Familiar - a forever friend and companion to a skilled Wizard.")}},{key:"getDisplayEffect",value:function(e){return ae("+1 Familiars. Note: Cannot be demolished - release the Familiar instead from the Familiars screen")}},{key:"getBaseLandRequired",value:function(){return 25}},{key:"canTurnOff",value:function(){return!1}}]),n}(lg)),dv=new(function(e){(0,ws.default)(n,e);var t=cv(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getAreas",value:function(){return{HOME:[$t.OTHER]}}},{key:"getBuilding",value:function(){return fv}},{key:"getBaseResourceCost",value:function(){return{Coins:1e4,LifeEssence:1e4}}},{key:"getBaseResourceScale",value:function(){return{Coins:10,LifeEssence:10}}},{key:"isVisible",value:function(e){return go(e)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"shouldHideDemolish",value:function(){return!0}},{key:"canDemolish",value:function(e,t){return!1}},{key:"getLevelRequirements",value:function(){return{}}},{key:"getElement",value:function(){return un.Life}}]),n}(sg));function gv(e){var t=function(e,t){var n;return null==(n=to(e,t))?void 0:n.messageLog}(As(),e.familiarId);return(0,o.useMemo)((function(){return(0,Ll.jsx)(S.default,{children:0===t.length?(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{children:ae("*No activity yet!*")})},"noActivity"):t.map((function(e){var t,n=e.id;return(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{accessibilityLabel:null!=(t=e.accessibleMessage)?t:e.message,children:e.realTimestamp?ae("[{{time}}] {{message}}",{time:ly()(e.realTimestamp).format("h:mm:ss A"),message:e.message}):e.message})},n)}))})}),[t.map((function(e){return e.id})).join()])}function hv(e){var t=As(),n=mr(t),r=ho(t),a={};for(var i of n){var o=i.getDungeonFloors().filter((function(e){return r.includes(e)}));o.length>0&&(a[i.getId()]=o)}var l=(0,D.useTheme)(),s=(0,Ll.jsx)(T.default,{children:Z(a).map((function(n){var r=gr.getById(n);return(0,Ll.jsx)(Rg,{title:r.getName(),children:(0,Ll.jsx)(T.default,{style:gs.mt8,children:a[n].map((function(n){return(0,Ll.jsxs)(T.default,{style:[gs.flexRowSpaceBetween,gs.mv4],children:[(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(zl,{children:n.getFloorName()}),null!=e.familiarId&&n.isDangerousForFamiliar(t,e.familiarId)&&(0,Ll.jsx)(zl,{style:{color:l.colors.error},children:ae("Caution - dangerous!")})]}),(0,Ll.jsx)(ql,{style:gs.ml16,onPress:function(){return e.onSelect(n.getId())},children:ae("Explore")})]},n.getId())}))})},r.getId())}))});return(0,Ll.jsx)(T.default,{style:[gs.flex,mv.bigContainer],children:(0,Ll.jsx)(u.ScrollView,{style:[{flexGrow:0},gs.mt8],children:s})})}og.register((function(e){var t=rg(e,fv);if(Z(e.run.familiars).length<t)for(var n=rg(e,fv),r=Z(e.run.familiars).length;r<n;)e=sv.create(e),r++;return e}),"familiarCrates");var mv=R.default.create({spellButtonTitleContainer:{flex:1,flexDirection:"row",alignItems:"center"},spellButtonTitleOnlyContainer:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},spellButtonCostContainer:{flexDirection:"row",width:100,justifyContent:"flex-end"},spellManaIcon:{height:16,width:16,justifyContent:"flex-end",alignItems:"center",marginLeft:2},bigContainer:{width:340}}),yv=n(1959);function pv(e){var t=(0,D.useTheme)(),n=(0,j.default)(),r=n.width,a=n.height;return(0,Ll.jsx)(yv.default,{visible:e.visible,onDismiss:e.onDismiss,contentContainerStyle:[vv.overlay,{maxWidth:Math.min(r-16,640),maxHeight:a-32,backgroundColor:t.colors.background}],children:(0,Ll.jsx)(T.default,{style:[gs.flex,gs.p16],children:e.children})})}var vv=R.default.create({overlay:{alignSelf:"center",marginHorizontal:16,maxWidth:640}});function Av(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Av(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Av(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kv(e){var t=As(),n=(0,o.useRef)(t);n.current=t;var r=(0,D.useTheme)(),i=(0,o.useState)(!0),l=(0,a.default)(i,2),s=l[0],c=l[1],f=e.familiarId,d=to(t,f),g=mo.getById(d.familiarClassId),h=g.getLevel(t,f),m=g.getMaxLevel(t,f),y=ae("Idle");switch(d.status.status){case _i.Companion:y=ae("Fighting ({{companionStatus}})",{companionStatus:eo(d.status.companionStatus)});break;case _i.Exploring:y=ae("{{auto}}Exploring ({{dungeonFloorName}} - {{explorationProgressPct}}%)",{auto:d.status.autoExploring?ae("Auto-"):"",dungeonFloorName:hr.getById(d.status.exploringDungeonFloorId).getFloorName(),explorationProgressPct:ue(100*d.status.actionProgress)})}var p=vm((0,o.useContext)(pm),"picker_open",!1),v=(0,a.default)(p,2),A=(v[0],v[1]),b=(0,o.useState)(!1),k=(0,a.default)(b,2),x=k[0],w=k[1],E=(0,o.useCallback)((function(){w(!0),A(!0)}),[w,A]),C=(0,o.useCallback)((function(){w(!1),A(!1)}),[w,A]),I=(0,o.useState)(!1),B=(0,a.default)(I,2),S=B[0],R=B[1],P=(0,o.useCallback)((function(){S?n.current.apply((function(e){return e=function(e,t){return delete e.run.familiars[t],no.getAll().forEach((function(t){e=t(e)})),e}(e,f),dv._demolishUnsafe(e,1),e})):R(!0)}),[S]),j=(0,o.useCallback)((function(){n.current.apply((function(e){return uo(e,f)}))}),[f]),M=(0,o.useCallback)((function(){n.current.apply((function(e){return function(e,t){var n=ao(e);null!=n&&(n.status.status=_i.Idle);var r=to(e,t);return null==r||(r.status.status=_i.Companion,r.status.companionStatus=$i.Preparing,r.status.actionProgress=0),e}(e,f)}))}),[f]),O=(0,o.useCallback)((function(e){n.current.apply((function(t){return oo(t,f,e)})),C()}),[f,C]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(Wg.default,{mode:"flat",style:wv.rowContainer,children:[(0,Ll.jsx)(u.TouchableOpacity,{onPress:function(){return c(!s)},style:wv.expandTouchable,children:(0,Ll.jsxs)(T.default,{style:gs.flexRowSpaceBetween,children:[(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(zl,{h4:!0,style:gs.bold,children:ae("{{familiarName}} - Lv{{familiarLevel}}",{familiarName:g.getName(),familiarLevel:h})}),(0,Ll.jsx)(zl,{children:y})]}),(0,Ll.jsx)(qd.default,{name:s?"chevron-right":"chevron-down",size:24,color:r.colors.onBackground})]})}),(0,Ll.jsx)(Sg,{isVisible:!s,children:(0,Ll.jsxs)(T.default,{style:s?{display:"none"}:null,children:[(0,Ll.jsxs)(T.default,{style:gs.flexRowSpaceBetween,children:[(0,Ll.jsx)(T.default,{style:[gs.flex,gs.flexCenter],children:(0,Ll.jsx)(Yg,{sprite:g.getPicture(t)})}),(0,Ll.jsxs)(T.default,{style:gs.flex,children:[(0,Ll.jsx)(Rg,{title:ae("General"),children:(0,Ll.jsxs)(T.default,{style:gs.mt8,children:[(0,Ll.jsxs)(T.default,{style:gs.flexRowSpaceBetween,children:[(0,Ll.jsx)(zl,{children:ae("Level:")}),h<m?(0,Ll.jsx)(zl,{children:ae("{{level}}",{level:ue(h)})}):(0,Ll.jsx)(zl,{children:ae("{{level}} (Max)",{level:ue(h)})})]}),(0,Ll.jsxs)(T.default,{style:gs.flexRowSpaceBetween,children:[(0,Ll.jsx)(zl,{children:ae("Exp:")}),(0,Ll.jsx)(zl,{children:ae("{{currentExp}}/{{toNextLevel}}",{currentExp:ue(d.exp),toNextLevel:ue(g.getExpForNextLevel(t,f))})})]}),(0,Ll.jsxs)(T.default,{style:gs.flexRowSpaceBetween,children:[(0,Ll.jsx)(zl,{children:ae("Status:")}),(0,Ll.jsx)(zl,{style:[gs.ml8,{textAlign:"right",flex:1}],children:y})]})]})}),(0,Ll.jsx)(Rg,{title:ae("Stats"),children:(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(ih,{combatStats:bv(bv({},g.getStats(t,f)),{},{currentHP:d.status.currentHp}),showCurrentHP:!0})})})]})]}),(0,Ll.jsxs)(Rg,{title:ae("Actions"),children:[(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsxs)(T.default,{style:wv.optionRow,children:[(0,Ll.jsx)(ql,{onPress:M,disabled:d.status.status==_i.Companion,compact:!0,children:ae("Summon")}),(0,Ll.jsx)(ql,{onPress:E,compact:!0,children:ae("Explore")}),(0,Ll.jsx)(ql,{onPress:j,disabled:d.status.status==_i.Exploring&&d.status.autoExploring,compact:!0,children:ae("Auto-Explore")}),(0,Ll.jsx)(U.default,{children:(0,Ll.jsx)(pv,{visible:x,onDismiss:C,children:(0,Ll.jsx)(hv,{onSelect:O,familiarId:f})})})]})}),(0,Ll.jsx)(T.default,{style:[gs.mt8,gs.ph8],children:(0,Ll.jsx)(Rg,{title:ae("Release"),initiallyExpanded:!1,children:(0,Ll.jsxs)(T.default,{style:gs.mt8,children:[(0,Ll.jsx)(fs,{children:ae("If you want to recover the land used by a Familiar Crate, you can release a familiar. However, you will **lose the familiar** permanently - if you build a Familiar Crate again, you will need to raise the familiar again as if it was new.")}),(0,Ll.jsx)(T.default,{style:[gs.mt8,gs.flexCenter],children:(0,Ll.jsx)(ql,{onPress:P,children:ae(S?"Press again to confirm":"Release Familiar")})})]})})})]}),(0,Ll.jsx)(Rg,{title:ae("Activity"),initiallyExpanded:!1,children:(0,Ll.jsx)(T.default,{style:[gs.mt8,wv.messageLogContainer],children:(0,Ll.jsx)(gv,{familiarId:f})})})]})})]},e.familiarId)}),[s,c,g.getName(),h,m,y,!s&&x,!s&&C,!s&&O,!s&&j,!s&&JSON.stringify(d),r,S,P])}function xv(){var e=As(),t=(0,o.useRef)(e);t.current=e;var n=Z(e.run.familiars),r=vm((0,o.useContext)(pm),"picker_open",!1),i=(0,a.default)(r,2),u=(i[0],i[1]),l=(0,o.useState)(!1),s=(0,a.default)(l,2),c=s[0],f=s[1],d=(0,o.useCallback)((function(){f(!0),u(!0)}),[f,u]),g=(0,o.useCallback)((function(){f(!1),u(!1)}),[f,u]),h=(0,o.useCallback)((function(){t.current.apply((function(e){return function(e){for(var t of Z(e.run.familiars)){var n=to(e,t);null!=n&&n.status.status!=_i.Companion&&(e=uo(e,t))}return e}(e)}))}),[]),m=(0,o.useCallback)((function(e){t.current.apply((function(t){return function(e,t){for(var n of Z(e.run.familiars)){var r=to(e,n);null!=r&&r.status.status!=_i.Companion&&(e=oo(e,n,t))}return e}(t,e)})),g()}),[g]);return(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:wv.topContainer,children:n.length>0?(0,Ll.jsxs)(T.default,{children:[n.map((function(e){return(0,Ll.jsx)(T.default,{style:gs.pv4,children:(0,Ll.jsx)(kv,{familiarId:e},e)},e)})),(0,Ll.jsx)(T.default,{style:gs.mt16,children:(0,Ll.jsxs)(Rg,{title:ae("Familiar Actions"),children:[(0,Ll.jsx)(T.default,{style:gs.flexCenter,children:(0,Ll.jsxs)(T.default,{style:[gs.mt8,gs.flexRowAlignCenter,{gap:8,justifyContent:"space-around"}],children:[(0,Ll.jsx)(ql,{onPress:d,compact:!0,children:ae("All Explore")}),(0,Ll.jsx)(ql,{onPress:h,compact:!0,children:ae("All Auto-Explore")})]})}),(0,Ll.jsx)(U.default,{children:(0,Ll.jsx)(pv,{visible:c,onDismiss:g,children:(0,Ll.jsx)(hv,{onSelect:m,familiarId:void 0})})})]})})]}):(0,Ll.jsx)(fs,{children:ae("In this screen, you can check the status of your familiars and control them. However, you have no familiars right now. Build a Familiar Crate in your Home to get one!")})})}),[n.join(),c,g,m,h,d])}var wv=R.default.create({container:{flex:1,width:"100%"},contentContainer:{paddingVertical:8,paddingHorizontal:4,alignItems:"stretch",justifyContent:"flex-start"},hintProgress:{marginTop:4},loadoutsContainer:{borderTopWidth:1,paddingVertical:8,paddingHorizontal:4},categoryTitle:{marginLeft:8},categoryContainer:{paddingTop:4,marginBottom:8},campusContainer:{flex:1,alignItems:"stretch",justifyContent:"flex-start"},campusHintWarning:{marginTop:16},optionRow:{marginTop:8,flexDirection:"row",flexWrap:"wrap",gap:8,justifyContent:"space-around"},overlay:{alignSelf:"center",marginHorizontal:16,maxWidth:640},messageLogContainer:{padding:8,borderColor:"#444",borderWidth:1,maxHeight:320},rowContainer:{padding:8,borderRadius:8},topContainer:{gap:8},expandTouchable:{cursor:"pointer"}}),Ev=function(e){return e.Introduction="Introduction",e.ScreensOverview="ScreensOverview",e.ElementsOverview="ElementsOverview",e.GameFeatures="GameFeatures",e.Wizards="Wizards",e.Exploration="Exploration",e.TipsAndTricks="TipsAndTricks",e}({});function Cv(e){switch(e){case Ev.Introduction:return ae("Introduction");case Ev.ScreensOverview:return ae("Screens Overview");case Ev.ElementsOverview:return ae("Elements Overview");case Ev.GameFeatures:return ae("Game Features");case Ev.Wizards:return ae("Wizards");case Ev.Exploration:return ae("Exploration");case Ev.TipsAndTricks:return ae("Tips and Tricks")}}var Iv=new Qe;function Bv(e){return Iv.getAll().filter((function(t){return null==t.isVisible||t.isVisible(e)})).sort((function(e,t){return e.order-t.order}))}var Sv=void 0;function Rv(e){var t=e.help,n=t.title,r=t.description,a=(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:Pv.descriptionTextContainer,children:(0,Ll.jsx)(fs,{style:Pv.descriptionViewer,children:r})})}),[r]),i=(0,D.useTheme)();return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:Pv.helpContainer,children:[(0,Ll.jsx)(Xd.default,{accessibilityRole:"button",accessibilityHint:"Expand",onPress:e.onPressExpand,children:(0,Ll.jsxs)(T.default,{style:Pv.topRowContainer,children:[(0,Ll.jsxs)(T.default,{style:Pv.topContainer,children:[(0,Ll.jsx)(zl,{h3:!0,children:n},n),e.showBadge&&(0,Ll.jsx)(T.default,{style:Pv.badgeContainer,children:(0,Ll.jsx)(L.default,{})})]}),(0,Ll.jsx)(T.default,{style:Pv.expandContainer,children:(0,Ll.jsx)(qd.default,{name:e.collapsed?"chevron-right":"chevron-down",size:24,color:i.colors.onBackground})})]})}),!e.collapsed&&(0,Ll.jsx)(T.default,{children:a})]},n)}),[i,n,!e.collapsed&&a,e.collapsed,e.onPressExpand,e.showBadge])}ft("HelpNotifier",(function(e){var t,n;if(null!=Sv){var r=null!=(t=null==(n=Sv)?void 0:n.split(","))?t:[],a=Bv(e),i=[];for(var o of a)r.includes(o.order.toString())||i.push(o.id);return i.length>0?function(e){for(var t of i)e=Os(e,"Help",t);return e}:void 0}}),(function(e,t){return Sv=t,Bv(e).map((function(e){return e.order.toString()})).join(",")}));var Pv=R.default.create({helpContainer:{marginVertical:8},topRowContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},expandContainer:{width:40},descriptionTextContainer:{marginBottom:8,marginTop:8,marginHorizontal:8,flex:1,flexDirection:"row",flexWrap:"wrap"},descriptionViewer:{flex:1,justifyContent:"center"},topContainer:{flex:1,marginLeft:8,flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},disabledStorylineText:{color:"#aaa"},badgeContainer:{marginLeft:8}});function Tv(e){var t=e.category,n=e.expandedHelp,r=e.helps,a=e.setHelpCallback,i=Ds(As(),"Help").map((function(e){return e.item})),u=r.map((function(e){return e.title})).join(","),l=(0,o.useMemo)((function(){return r.map((function(e){return(0,Ll.jsx)(Rv,{help:e,showBadge:i.includes(e.id),collapsed:n!=e.id,onPressExpand:a.bind(null,e.id)},e.title)}))}),[u,n,a,i.join()]);return(0,o.useMemo)((function(){return 0===r.length?null:(0,Ll.jsx)(Rg,{title:Cv(t),children:(0,Ll.jsxs)(T.default,{style:gs.mt4,children:[l.map((function(e,t){return(0,Ll.jsxs)(T.default,{children:[t>0&&(0,Ll.jsx)(Bg,{}),e]},r[t].title)})),(0,Ll.jsx)(Bg,{})]})})}),[u,l])}function jv(){var e=(0,o.useState)(""),t=(0,a.default)(e,2),n=t[0],r=t[1],i=As(),u=o.useRef(i);u.current=i;var l=(0,o.useCallback)((function(e){r(n==e?"":e)}),[n]);(0,o.useEffect)((function(){""!=n&&u.current.apply((function(e){return function(e,t,n){var r=Ms(e,t,n);return r&&(js(r)||(r.globalTimestampRead=va(e))),e}(e,"Help",n)}))}),[n]);var s=function(e){var t=Bv(e),n={Introduction:[],ScreensOverview:[],ElementsOverview:[],GameFeatures:[],Wizards:[],Exploration:[],TipsAndTricks:[]};for(var r of t){var a;n[r.category]=null!=(a=n[r.category])?a:[],n[r.category].push(r)}for(var i in n)0==n[i].length&&delete n[i];return n}(i);return(0,o.useMemo)((function(){var e=[];for(var t in s){var r=s[t];null!=r&&r.length>0&&e.push((0,Ll.jsx)(Tv,{category:t,expandedHelp:n,helps:r,setHelpCallback:l},t))}return(0,Ll.jsxs)(T.default,{children:[e,(0,Ll.jsx)(Bg,{})]})}),[JSON.stringify(s),n,r])}function Mv(){return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(T.default,{style:Dv.headerContainer,children:(0,Ll.jsx)(zl,{h1:!0,children:ae("Help")})}),(0,Ll.jsx)(zl,{children:ae("Learn how to play the game!")}),(0,Ll.jsx)(T.default,{style:Dv.helpContainer,children:(0,Ll.jsx)(jv,{})})]})}var Dv=R.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",width:"100%"},headerContainer:{marginBottom:16},valueText:{minWidth:60,textAlign:"right",marginLeft:8},valueTextLong:{minWidth:112},helpContainer:{marginTop:16},captionText:{flex:1}}),Ov=n(25373),Nv=[];function Uv(e){Nv.push(e)}function Fv(e){var t=(0,o.useContext)(hs),n=As(),r=(0,o.useRef)(n);r.current=n;var i=function(e){for(var t in Nv){var n=Nv[t];if(!n.isCompleted(e))return n}}(n),u=null==i||null==i.progress?void 0:i.progress(n),l=(0,D.useTheme)(),s=(0,o.useState)(!1),c=(0,a.default)(s,2),f=c[0],d=c[1],g=(0,o.useCallback)((function(){return d(!f)}),[f,d]),h=(0,o.useMemo)((function(){return(0,Ll.jsx)(ql,{compact:!0,onPress:g,children:ae("More actions...")})}),[g]),m=(0,o.useMemo)((function(){return(0,Ll.jsx)(Ov.default.Item,{title:ae("Toggle all auto-purchase max"),onPress:function(){r.current.apply((function(e){var t=!1,n=Ca();for(var r of n){var a,i,o;if(r.isVisible(e)&&(null!=(a=null==(i=r.getAreas()[_t.HOME])?void 0:i.length)?a:0)>0&&(null==(o=e.run.autoPurchaseActions[r.getId()])||!o)){t=!0;break}}for(var u of n){var l,s;u.isVisible(e)&&(null!=(l=null==(s=u.getAreas()[_t.HOME])?void 0:s.length)?l:0)>0&&(e.run.autoPurchaseActions[u.getId()]=t)}return e})),d(!1)}},"toggleAllAutoBuild")}),[d]),y=(0,o.useCallback)((function(){return d(!1)}),[d]),p=(0,o.useMemo)((function(){var e=[];return Ea(n)&&e.push(m),e}),[m,Ea(n)]),v=(0,o.useMemo)((function(){return p.length>0&&(0,Ll.jsx)(Ov.default,{visible:f,anchor:h,onDismiss:y,children:p})}),[p,f,h,y]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:Lv.campusContainer,children:[(0,Ll.jsxs)(S.default,{contentContainerStyle:Lv.contentContainer,style:Lv.container,onScroll:t&&e.onScroll,ref:e.scrollRef,children:[(0,Ll.jsxs)(T.default,{style:[gs.mt8,gs.flexRowSpaceBetween],children:[(0,Ll.jsx)(zl,{h1:!0,children:ae("Home")}),v]}),(0,Ll.jsx)(Dg,{area:_t.HOME})]}),(0,Ll.jsx)(T.default,{style:[Lv.hintContainer,{borderColor:l.colors.outlineVariant}],children:(0,Ll.jsx)(Rg,{titleStyle:Lv.categoryTitle,title:ae("Current Goal"),containerStyle:Lv.categoryContainer,children:(0,Ll.jsxs)(T.default,{style:Lv.hintContents,children:[(0,Ll.jsxs)(zl,{style:Lv.hintContentsText,children:[null==i?void 0:i.description,"!"]}),(null==i?void 0:i.progress)&&(0,Ll.jsx)(Py,{progress:u,style:Lv.hintProgress})]})})})]})}),[i,u,l,e.onScroll,t,v])}var Lv=R.default.create({container:{flex:1,width:"100%"},contentContainer:{alignItems:"stretch",justifyContent:"flex-start",width:"100%",paddingHorizontal:8},hintContents:{marginLeft:16,marginTop:8,paddingRight:32},hintContentsText:{fontStyle:"italic"},hintProgress:{marginTop:4},hintContainer:{borderTopWidth:1},categoryTitle:{marginLeft:8},categoryContainer:{paddingTop:4,marginBottom:8},campusContainer:{height:"100%",alignItems:"stretch",justifyContent:"flex-start",width:"100%"},campusHintWarning:{marginTop:16}}),Hv=n(2557),Yv=new Er("dualFlexibility",ae("Dual Flexibility"),470,40,ae("Reach Lv45 on your primary element, and have a second element at least Lv35 and 3 levels higher than the next highest"),ae("Unlock the ability to select a second Primary Element"),(function(e){return!0}));function Qv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qv(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vv(e){var t=(0,D.useTheme)();return(0,Ll.jsx)(Mm.default,zv(zv({},e),{},{mode:"outlined",style:[{backgroundColor:t.colors.background},null==e?void 0:e.style],children:e.children}))}function Wv(e){var t=As(),n=(0,o.useRef)(t),r=(0,o.useState)(""),i=(0,a.default)(r,2),u=i[0],l=i[1],s=(0,o.useState)(""),c=(0,a.default)(s,2),f=c[0],g=c[1],h=(0,o.useCallback)(function(){var e=(0,d.default)((function*(e){try{var t;false;var r=de()||1/0,a=function(e,t,n){var r=e.split("."),a=t.split(".");try{for(var i in r){var o,u;if(null!=n&&Number.parseInt(i)>=n)break;var l=Number.parseInt(null!=(o=null==r?void 0:r[i])?o:"0"),s=Number.parseInt(null!=(u=null==a?void 0:a[i])?u:"0");if(l-s!=0)return l-s}}catch(ON){return 0}return 0}(null!=(t=ge())?t:"99.99.99",e.global.appVersionString,2);if(e.global.isFullVersionSave&&(r<e.global.appVersionTimestamp-2592e6||a<0))return void l(ae("Failed to load save. This save data was made with a more recent version of the game. Please update your game and try again. If no update is available, please try restarting the game or your device several times and loading the save again."));var i=Oi(e),o=Math.max(Math.min(172800,(Date.now()-i.run.lastProcessedTime)/1e3),0);i.run.skipAheadTime=o,n.current.overwrite((function(e){return i})),yield Mi(i),l(ae("Load successful!"))}catch(ON){l(ae("Failed to load save because of an unexpected error! Is the data valid?"))}}));return function(t){return e.apply(this,arguments)}}(),[]),m=(0,o.useCallback)((0,d.default)((function*(){if(""!==f)try{var e=yield Ni(f);null!=e?yield h(e):l(ae("Failed to load save. Make sure you have copied the full text!"))}catch(ON){l(ae("Failed to load save. Make sure you have copied the full text!"))}else l(ae("Please paste your save in the text field above this message first!"))})),[f,h]);(0,o.useEffect)((function(){return l("")}),[f]);var y=(0,D.useTheme)(),p=ey,v=(0,o.useCallback)((0,d.default)((function*(){try{var e=yield function(){return ty.apply(this,arguments)}();"error"===e.result&&l(ae("There was an error reading from the file. Is it a valid Magic Research save? {{error}}",{error:e.error})),"success"===e.result&&(yield h(e.data))}catch(ON){l(ae("There was an error reading from the file. Is it a valid Magic Research save?"))}})),[h]);return(0,o.useMemo)((function(){var t;return(0,Ll.jsxs)(T.default,{style:e.style,children:[(0,Ll.jsx)(gh.default,{multiline:!0,onChangeText:g,value:f,mode:"outlined",label:null!=(t=ae("Save text"))?t:"Save text",style:{maxHeight:120}}),""!=u&&(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(zl,{style:{color:y.colors.error},children:u})}),""==f&&p?(0,Ll.jsx)(ql,{style:gs.mt16,onPress:v,children:ae("Load from file")}):(0,Ll.jsx)(ql,{style:gs.mt16,onPress:m,children:ae("Import savefile")})]})}),[g,f,u,m,v])}function Gv(){var e,t,n=As(),r=(0,o.useState)(null),i=(0,a.default)(r,2),u=i[0],l=i[1],s=Rn(n),c=null!=u?Un(n,u):0,f=0===(null!=(e=n.world.totalTimesResetted)?e:0)&&0===(null!=(t=n.global.newGamePlusCount)?t:0)&&!Fe(),d=ae(ey?"If you have save data from the demo version of the game, you may load it by opening the save file, or pasting it here.":"If you have save data from the demo version of the game, you may load it by pasting it here."),g=ae("Please choose a primary element."),h={Fire:ae("You have selected **Fire**! Fire specializes in high temperatures and raw power, as well as Catalysts, which increase the efficiency with which you can generate resources."),Earth:ae("You have selected **Earth**! Earth is defensive and strongly protective. It specializes in Storages, which allow you to hold more resources at a time."),Water:ae("You have selected **Water**! Water has a focus on health and basic Mana generation, the source of all Magic. Allows for more frequent spellcasting."),Air:ae("You have selected **Air**! Air is speedy, but also plentiful. It is great for making large amounts of Coins, efficiently and quickly, as well as moving fast."),Poison:ae("You have selected **Poison**! Poison can deal damage over time regardless of defense (and is sometimes even unavoidable), and is a key ingredient in many alchemical potions, Monstium gathering, and more."),Mind:ae("You have selected **Mind**! Mind is a mysterious element with multiple applications, affecting various things about the game. It is also good for guaranteed damage that doesn't miss."),Life:ae("You have selected **Life**! Apparently there is some of this element in each living being, from the tiniest plant to the largest animal. Key for healing and staying healthy."),Electric:ae("You have selected **Electric**! Energy in one of its purest forms. Powerful, fast attacks, with a high critical hit chance that can pierce defenses."),Death:ae("You have selected **Death**! One of the strongest elements, it is intensely powerful, but those who delve in it too much are said to become corrupt... It allows game-changing Rituals."),Holy:ae("You have selected **Holy**! Power granted directly from a Divine, it can purify corruption."),Time:ae("You have selected **Time**! A secret element, very few know about it."),Space:ae("You have selected **Space**! A secret element, very few know about it.")},m=(0,o.useState)(void 0),y=(0,a.default)(m,2),p=y[0],v=y[1],A=function(e){return el(e)?$u.getAll().filter((function(t){return t.isVisible(e)})):[]}(n),b=A.length>0,k=null!=p?$u.getById(p):null,x=(0,o.useState)(null),w=(0,a.default)(x,2),E=w[0],C=w[1],I=null!=E?Un(n,E):0,B=ae("Please choose a second primary element. It will gain identical bonuses to the first."),S=Yv.isBonusActive(n);(0,o.useEffect)((function(){return C(null)}),[u]);var R=(0,o.useState)(void 0),P=(0,a.default)(R,2),M=P[0],D=P[1],O=fy(n),N=O.length>0,U=null!=M?sy.getById(M):null,F=null!=u&&(!b||null!=p)&&(!S||null!=E),L=(0,j.default)(),H=(L.height,L.width);return(0,Ll.jsx)(T.default,{style:[Jv.container,H<600&&{width:H}],children:(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(zl,{h1:!0,children:ae("Welcome to Magic Research 2!")}),(0,Ll.jsx)(zl,{style:gs.mt8,children:ae("In Magic Research 2, you are a rookie wizard with a single ambition: to find or create the Philosopher's Stone, a legendary magical item that is said to be able to cure any illness. As you do so, you will learn more than you ever imagined about Magic and about the world around you. What kinds of adventures await you?")}),(0,Ll.jsx)(zl,{style:gs.mt8,children:ae("Before starting your story, you will need to choose a primary element. While you will need to utilize every element at your disposal to succeed, choosing an element as a primary will make it much easier to become proficient on that element, and might allow you to access some specific content related to that element.")})]}),(0,Ll.jsxs)(Vv,{style:gs.mt16,children:[(0,Ll.jsx)(Mm.default.Title,{title:ae("Elements"),accessibilityRole:"header"}),(0,Ll.jsxs)(Mm.default.Content,{children:[(0,Ll.jsx)(fs,{children:g}),(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(Hv.default.Group,{onValueChange:l,value:null!=u?u:"",children:s.map((function(e,t){return(0,Ll.jsx)(Hv.default.Item,{value:e,label:ln(e)},e)}))})}),(0,Ll.jsx)(T.default,{style:gs.mt8,children:void 0!=u&&(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(fs,{children:h[u]}),c>0&&(0,Ll.jsx)(zl,{style:gs.mt8,children:ae("Your Maximum Primary Level (MPL) for this element is {{mpl}}.",{mpl:c})})]})}),S&&void 0!=u&&(0,Ll.jsxs)(T.default,{style:gs.mt16,children:[(0,Ll.jsx)(fs,{children:B}),(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(Hv.default.Group,{onValueChange:C,value:null!=E?E:"",children:s.filter((function(e){return e!=u})).map((function(e,t){return(0,Ll.jsx)(Hv.default.Item,{value:e,label:ln(e)},e)}))})}),(0,Ll.jsx)(T.default,{style:gs.mt8,children:void 0!=E&&(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(fs,{children:h[E]}),I>0&&(0,Ll.jsx)(zl,{style:gs.mt8,children:ae("Your Maximum Primary Level (MPL) for this element is {{mpl}}.",{mpl:I})})]})})]})]})]}),b&&(0,Ll.jsxs)(Vv,{style:gs.mt16,children:[(0,Ll.jsx)(Mm.default.Title,{title:ae("Classes"),accessibilityRole:"header"}),(0,Ll.jsxs)(Mm.default.Content,{children:[(0,Ll.jsx)(fs,{children:ae("Choose a class.")}),(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(Hv.default.Group,{onValueChange:v,value:null!=p?p:"",children:A.map((function(e,t){return(0,Ll.jsx)(Hv.default.Item,{value:e.getId(),label:e.getDisplayName()},e.getId())}))})}),(0,Ll.jsx)(T.default,{style:gs.mt8,children:null!=k&&(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{children:k.getDisplayDescription(n)})}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{children:ae("Effect: **{{combatClassEffect}}**",{combatClassEffect:k.getDisplayEffect(n)})})})]})})]})]}),N&&(0,Ll.jsxs)(Vv,{style:gs.mt16,children:[(0,Ll.jsx)(Mm.default.Title,{title:ae("Challenges"),accessibilityRole:"header"}),(0,Ll.jsxs)(Mm.default.Content,{children:[(0,Ll.jsx)(fs,{children:ae("You may optionally select a challenge for the current retirement. Challenges strongly increase the difficulty of your journey; however, if you are able to complete them, you will gain permanent bonuses!")}),(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsxs)(Hv.default.Group,{onValueChange:D,value:null!=M?M:"",children:[(0,Ll.jsx)(Hv.default.Item,{value:"",label:ae("No Challenge")},"none"),O.map((function(e,t){return(0,Ll.jsx)(Hv.default.Item,{value:e.getId(),label:ae("{{challenge}}{{completed}}",{challenge:e.getName(),completed:e.isCompleted(n)?ae(" (Complete!)"):""})},e.getId())}))]})}),(0,Ll.jsx)(T.default,{style:gs.mt8,children:null!=U&&(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{children:ae("{{description}} **{{effect}}**",{description:U.getDescription(n),effect:U.getEffect(n)})})}),(0,Ll.jsx)(T.default,{style:gs.mt4,children:(0,Ll.jsx)(fs,{children:ae("To win: **{{objective}}**",{objective:U.getObjective(n)})})}),U.isCompleted(n)&&(0,Ll.jsx)(T.default,{style:gs.mt4,children:(0,Ll.jsx)(fs,{children:ae("*You have already completed this Challenge!* It is giving you the following permanent bonus: **{{reward}}**",{reward:U.getReward(n)})})})]})})]})]}),(0,Ll.jsx)(ql,{style:Jv.startButton,disabled:!F,onPress:function(){n.apply((function(e){return e.run.combatClassId=p,e.run.currentChallengeId=M,e.run.lastProcessedTime=Date.now(),e=function(e){return Cn.bind(this,e)}(u)(e),null!=E&&(e=function(e){return In.bind(this,e)}(E)(e)),e=Ne(e=function(e){return bg.getAll().forEach((function(t){e=t(e)})),e}(e=Jn(e)))}))},children:ae("Start the Game!")}),f&&(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(fs,{children:d}),(0,Ll.jsx)(Wv,{style:gs.mt8})]})]})})}var Jv=R.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",maxWidth:600,paddingHorizontal:16,paddingTop:8},buttonGroupText:{fontSize:14},startButton:{marginVertical:24},mplText:{marginTop:8}});function qv(e){var t=As(),n=e.slot,r=e.position,a=Ei(t,n,r),i=xi(t,n,r),u=Bi(t,n,null!=r?r:0),l=(0,o.useRef)(t);l.current=t;var s=a&&Br.getById(a.itemId);if(s&&!(s instanceof Qh))throw new Error("Only equippable items should be equipped");var c=a!=i;return(0,o.useMemo)((function(){var e;return a?(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(Gd,{icon:s.getId(),quality:null==a||null==(e=a.params)?void 0:e.itemQuality,disabled:c,title:s.getName(a.params),tooltip:(0,Ll.jsx)(Zh,{showTile:!1,itemStack:{itemOccurrence:a,amount:1}}),tooltipIdSuffix:n}),(0,Ll.jsx)(ql,{compact:!0,style:[Kv.button,{height:20}],labelStyle:{marginHorizontal:0,flex:1,marginVertical:0,height:20},contentStyle:{marginHorizontal:0,height:20},disabled:!u.isEnabled,onPress:function(){return u.transform&&l.current.apply(u.transform)},children:u.description})]},n+r):(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(Gd,{title:ae("Empty")}),(0,Ll.jsx)(ql,{compact:!0,style:[Kv.button,{height:20}],labelStyle:{marginHorizontal:0,flex:1,marginVertical:0,height:20},contentStyle:{marginHorizontal:0,height:20},disabled:!0,onPress:function(){return u.transform&&l.current.apply(u.transform)},children:u.description})]},n+r)}),[JSON.stringify(a),c,n,r,u.description,u.isEnabled,u.transform,l,null==s?void 0:s.getName((null==a?void 0:a.params)||{})])}function Xv(e){var t=As(),n=[hi.Hand,hi.Body,hi.Accessory].map((function(n){for(var r=pi(t,n),a=[],i=0;i<r;i++)a.push((0,Ll.jsx)(qv,{position:i,slot:n,onPressEquippedItem:e.onPressEquippedItem},n+i));return a}));return(0,Ll.jsxs)(T.default,{style:gs.flexRowAlignCenter,children:[(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(zl,{h4:!0,children:ae("Equip:")})}),(0,Ll.jsx)(T.default,{style:[gs.ml16,gs.flexRowAlignCenter,{flex:1,gap:4,flexWrap:"wrap"}],children:n.flat()})]})}var Kv=R.default.create({equipmentRow:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},row:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",flex:1},labelStyle:{marginHorizontal:8,flex:1},button:{height:20}});function Zv(e){var t=As(),n=e.index,r=Ei(t,hi.Pouch,n),a=xi(t,hi.Pouch,n),i=Bi(t,hi.Pouch,n),u=(0,o.useRef)(t);u.current=t;var l=r&&Br.getById(r.itemId);if(l&&!(l instanceof Qh))throw new Error("Only equippable items should be equipped");var s=r!=a;return(0,o.useMemo)((function(){var e;return r?(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(Gd,{icon:l.getId(),quality:null==r||null==(e=r.params)?void 0:e.itemQuality,disabled:s,title:l.getName(r.params),tooltip:(0,Ll.jsx)(Zh,{showTile:!1,itemStack:{itemOccurrence:r,amount:1}}),tooltipIdSuffix:"pouch"}),(0,Ll.jsx)(ql,{compact:!0,style:[$v.button,{height:20}],labelStyle:{marginHorizontal:0,flex:1,marginVertical:0,height:20},contentStyle:{marginHorizontal:0,height:20},disabled:!i.isEnabled,onPress:function(){return i.transform&&u.current.apply(i.transform)},children:i.description})]},n):(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(Gd,{title:ae("Empty")}),(0,Ll.jsx)(ql,{compact:!0,style:[$v.button,{height:20}],labelStyle:{marginHorizontal:0,flex:1,marginVertical:0,height:20},contentStyle:{marginHorizontal:0,height:20},disabled:!0,onPress:function(){return i.transform&&u.current.apply(i.transform)},children:i.description})]},n)}),[JSON.stringify(r),s,n,i.description,i.isEnabled,i.transform,u,null==l?void 0:l.getName((null==r?void 0:r.params)||{})])}function _v(e){var t=As();(0,o.useRef)(t).current=t;var n=pi(t,hi.Pouch),r=(0,o.useMemo)((function(){for(var e=[],t=0;t<n;t++)e.push((0,Ll.jsx)(Zv,{index:t},t));return e}),[n]);return(0,o.useMemo)((function(){return 0==n?(0,Ll.jsx)(T.default,{}):(0,Ll.jsxs)(T.default,{style:gs.flexRowAlignCenter,children:[(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(zl,{h4:!0,children:ae("Pouch:")})}),(0,Ll.jsx)(T.default,{style:[gs.ml16,gs.flexRowAlignCenter,{flex:1,gap:4,flexWrap:"wrap"}],children:r})]})}),[r,n])}var $v=R.default.create({button:{height:20}});function eA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var tA=[pt.TimePerAutoSalePerStall,"saleStall"];function nA(e){return It(tA,e,30)}var rA=(0,q.default)((function(){return{unit:ae(" sec")}}));function aA(e){return Mt(tA,e,30,rA())}var iA=new(function(e){(0,ws.default)(n,e);var t=eA(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"saleStall"}},{key:"getName",value:function(){return ae("Market Stall")}},{key:"getDisplayDescription",value:function(e){return ae("A public-facing area of your home used to sell things you have marked for sale.")}},{key:"getDisplayEffect",value:function(e){return ae("Sells one item every ^{{amount}}^<{{timeExplanation}}> sec for ^{{multiplier}}x^<{{multiplierExplanation}}> the normal price",{amount:ue(nA(e),{showDecimals:!0}),timeExplanation:aA(e),multiplier:ue(sA(e),{showDecimals:!0}),multiplierExplanation:fA(e)})}},{key:"getBaseLandRequired",value:function(){return 3}},{key:"canTurnOff",value:function(){return!0}}]),n}(lg)),oA=function(e){(0,ws.default)(n,e);var t=eA(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getAreas",value:function(){return{HOME:[$t.OTHER]}}},{key:"getBuilding",value:function(){return iA}},{key:"getBaseResourceCost",value:function(){return{Coins:200,AirEssence:400,EarthEssence:100}}},{key:"getBaseResourceScale",value:function(){return{Coins:1.35,AirEssence:1.35,EarthEssence:1.35}}},{key:"getBaseManaCost",value:function(e){return 10}},{key:"isVisible",value:function(e){return uA(e)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"getLevelRequirements",value:function(){return{}}},{key:"getElement",value:function(){return un.Air}}]),n}(sg);function uA(e){return Ve(e,Ir.SaleStallsUnlocked)}var lA=[pt.SaleStallRevenue];function sA(e){return It(lA,e,2.5)}var cA=(0,q.default)((function(){return{unit:ae("x")}}));function fA(e){return Mt(lA,e,2.5,cA())}var dA=new oA;function gA(e){var t=e.run.saleStallItems.filter((function(t){return Ur(t,e)>0})),n=t.length;if(n>0){var r,a=t[Math.floor(Math.random()*n)],i=Br.getById(a.itemId).getSellOneAction(e,a.params,[pt.FromSaleStalls]);e=null!=(r=null==i||null==i.transform?void 0:i.transform(e))?r:e}return e}function hA(e,t){return null!=e.run.saleStallItems.find((function(e){return e.itemId==t.itemId&&JSON.stringify(e.params)==JSON.stringify(t.params)}))}function mA(e){return e.run.saleStallItems=[],e}function yA(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var pA=mh()((function(e,t,n,r,a,i){return{id:"primaryConsumable",description:(0,l.t)("Use"),isEnabled:e,isActive:t,requireConfirm:r,transform:function(e){var t=Br.getById(a).getFamiliarAction(e,i,n);return null!=t&&t.isEnabled&&((e=Nr({itemId:a,params:i},1,e)).run.lastItemUsedTimes[a]=Aa(e),e=Br.getById(a).doFamiliarItemEffect(e,i,n)),e}}}),{cacheKey:JSON.stringify}),vA=function(e){(0,ws.default)(n,e);var t=yA(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"canUseOnFamiliar",value:function(e,t,n){return!0}},{key:"getFamiliarAction",value:function(e,t,n){var r=Ur({itemId:this.getId(),params:t},e),a=this.isActive(e),i=r>0&&this.canUseOnFamiliar(e,t,n);return pA(i,a,n,this.shouldConfirm(),this.getId(),t)}},{key:"getTags",value:function(){return[yh.Familiar]}},{key:"shouldConfirm",value:function(){return!1}}]),n}(Nh);!function(e){(0,ws.default)(n,e);var t=yA(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}(0,He.default)(n,[{key:"isVisible",value:function(e){return Je(e,Ir.FamiliarsUnlocked)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}}])}(sf);function AA(e){var t=e.action,n=As(),r=(0,o.useRef)(n);r.current=n;var i=(0,o.useState)(!1),u=(0,a.default)(i,2),l=u[0],s=u[1],c=(0,o.useCallback)((function(){!t.requireConfirm||l?(t.transform&&r.current.apply(t.transform),e.extraOnPress&&e.extraOnPress()):s(!0)}),[t.requireConfirm,t.requireConfirm&&s,t.requireConfirm&&l,t.transform,e.extraOnPress]);return(0,o.useMemo)((function(){return(0,Ll.jsx)(ql,{icon:t.isActive?function(){return(0,Ll.jsx)(Ly,{disabled:!t.isEnabled})}:void 0,disabled:!t.isEnabled,style:gs.mr8,enableAutoRepress:!0,autoRepressConfig:{dropoffMultiplier:.8,startingThreshold:300,startingRepressTime:200,minTimeMs:50},compact:!0,onPress:c,TextComponent:fs,children:t.requireConfirm&&l?ae("Press again to confirm"):t.description},t.id)}),[t.id,t.description,t.isEnabled,t.isActive,t.requireConfirm,t.requireConfirm&&l,c])}function bA(e){var t=As(),n=to(t,e.familiarId),r=mo.getById(n.familiarClassId),a=r.getLevel(t,e.familiarId),i=e.item.getFamiliarAction(t,e.params,e.familiarId);return(0,Ll.jsx)(Wg.default,{mode:"flat",style:xA.rowContainer,children:(0,Ll.jsxs)(T.default,{style:gs.flexRowSpaceBetween,children:[(0,Ll.jsx)(zl,{h4:!0,style:gs.bold,children:ae("{{familiarName}} - Lv{{familiarLevel}}",{familiarName:r.getName(),familiarLevel:a})}),(0,Ll.jsx)(T.default,{style:gs.ml16,children:(0,Ll.jsx)(AA,{action:i})})]})},e.familiarId)}function kA(e){var t=As();(0,o.useRef)(t).current=t;var n=Z(t.run.familiars),r=Fr(e.item,t);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(T.default,{style:gs.mb8,children:(0,Ll.jsx)(zl,{h3:!0,children:ae("Use {{item}} ({{amount}} left) on...",{item:e.item.getName(e.params),amount:ue(r)})})}),n.map((function(t){return(0,Ll.jsx)(bA,{familiarId:t,item:e.item,params:e.params},t)})),(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(ql,{onPress:e.onClose,children:ae("Close")})})]})}),[n.join(),e.item,e.params,r])}var xA=R.default.create({rowContainer:{marginVertical:8,padding:8,borderRadius:8}});function wA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wA(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CA(e){var t,n,r,i=As(),u=(0,o.useRef)(i);u.current=i;var l=e.itemStack.itemOccurrence,s=l.itemId,c=l.params,f=Br.getById(s),d=(f.getName(c),f.getDescription(i,c),f.getEffect(i,c),f instanceof vA),g=(0,o.useState)(!1),m=(0,a.default)(g,2),y=m[0],p=m[1],v=(0,o.useCallback)((function(){return p(!1)}),[]),A=(0,o.useMemo)((function(){return{id:"familiarPrimary",description:ae("Use"),isEnabled:!0,transform:function(e){return p(!0),e}}}),[p]),b=e.disableSelling||0==f.getBaseSalePrice(i,c),k=d?A:f.getPrimaryAction(i,c),x=b?void 0:f.getSaleActions(i,c),w=e.showQuickbar?f.getQuickbarAction(i,c):void 0,E=e.disableSelling?void 0:f.getCombineActions(i,c),C=f.getExtraActions(i,c),I=(0,o.useCallback)((function(){var t,n=(null!=(t=e.itemStack.itemOccurrence.params.itemQuality)?t:0)+1,r={itemId:e.itemStack.itemOccurrence.itemId,params:EA(EA({},e.itemStack.itemOccurrence.params),{},{itemQuality:n})};e.selectItem(r)}),[e.itemStack.itemOccurrence,e.selectItem]),B=[{action:k}].concat((0,h.default)(null!=(t=null==x?void 0:x.map((function(e){return{action:e}})))?t:[]),[{action:w}],(0,h.default)(null!=(n=null==E?void 0:E.map((function(e,t){return{action:e,extraPress:t==E.length-1&&I}})))?n:[]),(0,h.default)(null!=(r=null==C?void 0:C.map((function(e){return{action:e}})))?r:[])).filter((function(e){return void 0!=e.action})),S=(0,o.useMemo)((function(){return(0,Ll.jsx)(Zh,{itemStack:e.itemStack,showTile:!0})}),[JSON.stringify(e.itemStack)]),R=(0,o.useCallback)((function(){u.current.apply((function(t){return function(e,t){return hA(e,t)?e.run.saleStallItems=e.run.saleStallItems.filter((function(e){return e.itemId!=t.itemId||JSON.stringify(e.params)!=JSON.stringify(t.params)})):e.run.saleStallItems.push(t),e}(t,e.itemStack.itemOccurrence)}))}),[e.itemStack.itemOccurrence]);return(0,Ll.jsxs)(T.default,{style:IA.itemDetailsContainer,children:[S,uA(i)&&!b&&(0,Ll.jsxs)(T.default,{style:[gs.mt8,gs.flexRowAlignCenter,gs.flex],children:[(0,Ll.jsx)(zl,{children:ae("Sell automatically through Market Stalls")}),(0,Ll.jsx)(cg.default,{style:gs.ml8,value:hA(i,e.itemStack.itemOccurrence),onValueChange:R})]}),(0,Ll.jsx)(T.default,{style:IA.actionRow,children:B.map((function(e){return(0,Ll.jsx)(AA,{action:e.action,extraOnPress:e.extraPress},e.action.id)}))}),d&&(0,Ll.jsx)(U.default,{children:(0,Ll.jsx)(pv,{visible:y,onDismiss:v,children:(0,Ll.jsx)(kA,{item:f,onClose:v,params:c})})})]})}var IA=R.default.create({itemDetailsContainer:{marginBottom:16},actionRow:{flexDirection:"row",flexWrap:"wrap",marginTop:8,rowGap:8},actionButtonContainer:{marginRight:8}});function BA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var SA=function(e,t){return"All"===e||Br.getById(t.itemOccurrence.itemId).getTags().includes(e)},RA=function(e,t){var n,r,a=Br.getById(e.itemOccurrence.itemId),i=Br.getById(t.itemOccurrence.itemId);for(var o of km){if(a.getTags().includes(o)&&!i.getTags().includes(o))return-1;if(i.getTags().includes(o)&&!a.getTags().includes(o))return 1}return a==i?(null!=(n=t.itemOccurrence.params.itemQuality)?n:0)-(null!=(r=e.itemOccurrence.params.itemQuality)?r:0):Br.getNumericId(e.itemOccurrence.itemId)-Br.getNumericId(t.itemOccurrence.itemId)},PA=(0,q.memoizeWithLimit)((function(e,t,n,r){return{itemOrSpellId:e,amount:t,params:JSON.parse(n),disableTooltip:r}}),1e4);function TA(e){var t=As(),n=(0,o.useRef)(t);n.current=t;var r=vm((0,o.useContext)(pm),"InventoryTag","All"),i=(0,a.default)(r,2),u=i[0],l=i[1],s=u,c=(0,o.useState)(null),f=(0,a.default)(c,2),d=f[0],g=f[1],m=t.run.inventory,y=new Set;m.forEach((function(e){Br.getById(e.itemOccurrence.itemId).getTags().forEach((function(e){return y.add(e)}))}));var p=Array.from(y).sort((function(e,t){return km.findIndex((function(t){return t==e}))-km.findIndex((function(e){return e==t}))}));(0,o.useEffect)((function(){p.includes(s)||l("All")}),[p.join(),s]);var v=(0,o.useMemo)((function(){return(0,Ll.jsx)(ym,{onValueChange:l,selectedValue:s,data:["All"].concat((0,h.default)(p)).map((function(e){return{label:"All"==e?ae("All"):Bh(e),value:e,key:e}})),disablePlaceholder:!0})}),[l,s,JSON.stringify(p)]),A=m.filter(SA.bind(null,s)).sort(RA);(0,o.useEffect)((function(){if(null!=d){var e=JSON.stringify(d.params);A.some((function(t){return t.itemOccurrence.itemId==d.itemId&&JSON.stringify(t.itemOccurrence.params)==e}))||g(null)}}),[s]);var b=A.map((function(e,t){return PA(e.itemOccurrence.itemId,e.amount,JSON.stringify(e.itemOccurrence.params),jr(e.itemOccurrence,d))})),k=(0,o.useContext)(hs);(0,o.useEffect)((function(){k||g(null)}),[k]),(0,o.useEffect)((function(){k&&null!=d&&Ur(d,t)<=0&&g(null)}),[d,k,t]);var x=null!=d&&null!=Mr(t,d)&&(0,Ll.jsx)(CA,{disableSelling:e.disableSelling,showQuickbar:e.showQuickbar,itemStack:Mr(t,d),selectItem:g});(0,o.useRef)(A).current=A;var w=o.useCallback((function(e){g({itemId:e.itemOrSpellId,params:e.params})}),[g]),E=o.useCallback((function(e){n.current.apply((function(t){var n={itemId:e.itemOrSpellId,params:e.params};if(null!=(null==n?void 0:n.itemId)){var r=Br.getById(n.itemId),a=null==r?void 0:r.getPrimaryAction(t,n.params);if(null!=a&&null!=a&&a.isEnabled){var i=a.transform;return null!=i?i(t):t}}return t}))}),[]),C=(0,o.useMemo)((function(){return(0,Ll.jsx)(lm,{items:b,onPressItem:w,onDoublePressItem:E,overrideMaxHeight:e.overrideMaxHeight})}),[JSON.stringify(b),w,E,e.overrideMaxHeight]),I=(0,o.useState)(!1),B=(0,a.default)(I,2),S=B[0],R=B[1],P=(0,o.useCallback)((function(){return R(!S)}),[S,R]),j=(0,o.useMemo)((function(){return(0,Ll.jsx)(ql,{compact:!0,onPress:P,children:ae("More actions...")})}),[P]),M=(0,o.useMemo)((function(){return(0,Ll.jsx)(Ov.default.Item,{title:ae("Combine all"),onPress:function(){n.current.apply(Rr),R(!1)}},"combineAll")}),[R]),D=(0,o.useMemo)((function(){return(0,Ll.jsx)(Ov.default.Item,{title:ae("Sell low quality items"),onPress:function(){n.current.apply(Pr),R(!1)}},"sellLowQuality")}),[R]),O=(0,o.useMemo)((function(){return(0,Ll.jsx)(Ov.default.Item,{title:ae("Clear market stall marks"),onPress:function(){n.current.apply(mA),R(!1)}},"removeAllFromSaleStalls")}),[R]),N=(0,o.useCallback)((function(){return R(!1)}),[R]),U=(0,o.useMemo)((function(){var e=[];return Sr(t)&&(e.push(M),e.push(D)),uA(t)&&e.push(O),e}),[M,D,Sr(t)]),F=(0,o.useMemo)((function(){return U.length>0&&e.showExtraActions&&(0,Ll.jsx)(Ov.default,{visible:S,anchor:j,onDismiss:N,children:U})}),[e.showExtraActions,U,S,j,N]);return(0,o.useMemo)((function(){return 0==m.length?(0,Ll.jsx)(T.default,{style:gs.p8,children:(0,Ll.jsx)(zl,{style:{fontStyle:"italic"},children:ae("You are not holding any items yet!")})}):(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsxs)(T.default,{style:[gs.mb8,gs.ml8,gs.flexRowSpaceBetween],children:[(0,Ll.jsx)(T.default,{style:jA.tagPickerContainer,children:v}),F]}),C,(0,Ll.jsx)(T.default,{style:[jA.detailsContainer,e.isFullBleed&&jA.detailsContainerPadding],children:x})]})}),[m.length,v,F,C,x,e.isFullBleed])}var jA=R.default.create({detailsContainer:{marginTop:18},detailsContainerPadding:{paddingHorizontal:8,paddingBottom:8},tagPickerContainer:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BA(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({width:180},I.default.select({android:{backgroundColor:"#eee",borderRadius:10,default:{}}}))});function MA(){return(0,Ll.jsxs)(T.default,{style:DA.container,children:[(0,Ll.jsxs)(T.default,{style:DA.fullBleedPadding,children:[(0,Ll.jsx)(T.default,{style:DA.equippedItemsContainer,children:(0,Ll.jsx)(Xv,{})}),(0,Ll.jsx)(T.default,{style:gs.mb16,children:(0,Ll.jsx)(_v,{})}),(0,Ll.jsx)(T.default,{style:DA.equipmentSetButtonsRow,children:(0,Ll.jsx)(xp,{})})]}),(0,Ll.jsx)(TA,{isFullBleed:!0,showExtraActions:!0})]})}var DA=R.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",width:"100%"},topRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:16,height:48},arrowBack:{marginRight:8},equippedItemsContainer:{marginBottom:8},row:{justifyContent:"flex-start"},topButtons:{flexDirection:"row",alignItems:"center"},craftButton:{marginLeft:16},fullBleedPadding:{paddingHorizontal:8,marginTop:8},equipmentSetButtonsRow:{marginBottom:16},smallButtonTitle:{fontSize:12}}),OA=n(9910);function NA(){return null}function UA(e){var t=(0,D.useTheme)(),n=(0,o.useRef)(new w.default.Value(0)).current;return(0,o.useEffect)((function(){w.default.timing(n,{useNativeDriver:!0,toValue:400,duration:6e4,easing:OA.default.out(OA.default.poly(5))}).start()}),[]),(0,Ll.jsxs)(Ll.Fragment,{children:[(0,Ll.jsx)(NA,{}),(0,Ll.jsx)(b.default,{style:t.dark?"light":"dark"}),(0,Ll.jsx)(B.default,{style:[FA.safeAreaContainer,{backgroundColor:t.colors.background}],children:(0,Ll.jsxs)(T.default,{style:{alignItems:"center",width:"100%"},children:[(0,Ll.jsx)(x.default,{size:"large"}),"web"!=I.default.OS&&(0,Ll.jsx)(T.default,{style:{width:200,marginVertical:8,borderWidth:1,borderRadius:3,height:6,overflow:"hidden",borderColor:t.colors.primary},children:(0,Ll.jsx)(w.default.View,{style:{height:4,width:1,transform:[{scaleX:n}],backgroundColor:t.colors.primary}})}),(0,Ll.jsx)(zl,{style:{color:t.colors.onBackground},children:ae("Loading game. Please wait a moment...")})]})})]})}var FA=R.default.create({safeAreaContainer:{flex:1,justifyContent:"center"}}),LA=zi();function HA(){if(!zi())return null;var e=As();return(0,o.useEffect)((function(){Vi().webFrame.setZoomFactor(e.options.zoomLevel)}),[e.options.zoomLevel]),null}function YA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function QA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?YA(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zA=["10","12","15","20","24","30","40","50","60"].map((function(e){return{label:e,key:e,value:e}})),VA=[.5,.6,.7,.8,.85,.9,.95,.98,1,1.02,1.05,1.1,1.151,1.2,1.25,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,2.75,3].map((function(e){return{label:ue(e,{showDecimals:!0})+"x",key:e.toString(),value:e.toString()}}));function WA(e,t){return(0,o.useCallback)((function(){var n;null==(n=e.current)||n.apply((function(e){return e.options.hideEventTags.includes(t)?e.options.hideEventTags.splice(e.options.hideEventTags.findIndex((function(e){return e===t})),1):e.options.hideEventTags.push(t),e}))}),[])}function GA(e){var t=As(),n=(0,o.useRef)(t);n.current=t;var r=function(e,t){return(0,o.useCallback)((function(){var n;null==(n=e.current)||n.apply((function(e){return e.options.hiddenFromBottomMenu.includes(t)?e.options.hiddenFromBottomMenu.splice(e.options.hiddenFromBottomMenu.findIndex((function(e){return e===t})),1):e.options.hiddenFromBottomMenu.push(t),e}))}),[])}(n,e.section),a=(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:KA.toggleMenuRow,children:[(0,Ll.jsx)(ts,{icon:e.section.toLowerCase(),small:!0}),(0,Ll.jsx)(T.default,{style:KA.toggleMenuTextContainer,children:(0,Ll.jsx)(zl,{children:Dd(e.section).name})})]})}),[e.section]);return(0,Ll.jsx)(T.default,{style:[gs.mt8,gs.mr8],children:(0,Ll.jsx)(fg,{title:a,checked:!t.options.hiddenFromBottomMenu.includes(e.section),onPress:r,containerStyle:KA.toggleMenuCheckboxContainer})})}function JA(e){var t,n=As(),r=(0,D.useTheme)(),a=Dd(e.section),i=null!=a&&(null==(t=null==a||null==a.isVisible?void 0:a.isVisible(n))||t),u=null==a?void 0:a.name;return(0,o.useMemo)((function(){return i&&(0,Ll.jsx)(Xy.ScaleDecorator,{children:(0,Ll.jsxs)(T.default,{style:gs.flexRowAlignCenter,children:[(0,Ll.jsx)(T.default,{importantForAccessibility:"no-hide-descendants",accessibilityElementsHidden:!0,style:KA.dragHandle,children:(0,Ll.jsx)(Xd.default,{onPressIn:e.drag,hitSlop:{top:8,bottom:8,left:8,right:8},importantForAccessibility:"no-hide-descendants",accessibilityElementsHidden:!0,children:(0,Ll.jsx)(m.default,{name:"drag-indicator",size:24,color:r.colors.onSecondaryContainer})})}),(0,Ll.jsxs)(T.default,{style:[gs.flex,gs.flexRowAlignCenter],children:[null!=a&&(0,Ll.jsx)(ts,{icon:e.section.toLowerCase()}),(0,Ll.jsx)(T.default,{style:[gs.flex,gs.ml16],children:(0,Ll.jsx)(zl,{children:u})})]})]})})}),[e.drag,r,u,i])}function qA(e){var t=As(),n=(0,o.useRef)(t);n.current=t;var r=(0,o.useCallback)((function(e){var t=e.item,n=(e.getIndex,e.drag);e.isActive;return(0,Ll.jsx)(JA,{drag:n,section:t})}),[]),a=(0,o.useCallback)((function(e){return e}),[]),i=(0,o.useCallback)((function(e){n.current.apply((function(t){return t.options.sectionOrder=e.data,t}))}),[]),u=t.options.sectionOrder.length>0?t.options.sectionOrder:jd;return(0,Ll.jsx)(Xy.default,{renderItem:r,data:u,keyExtractor:a,onDragEnd:i,nestedScrollEnabled:!0})}function XA(){var e=As(),t=(0,o.useRef)(e);t.current=e;var n=(0,o.useState)(null),r=(0,a.default)(n,2),i=r[0],u=r[1],l=(0,o.useCallback)((0,d.default)((function*(){var e=yield Fi(t.current);if(yield v.setStringAsync(e),"android"==I.default.OS||"ios"==I.default.OS){var n=yield v.getStringAsync();u(n!=e?ae("Warning: save did not copy to clipboard correctly!"):null)}})),[]),s=(0,o.useCallback)((function(e){t.current.apply((function(t){return t.options.targetFps=Number.parseInt(e),t}))}),[]),f=(0,o.useCallback)((function(e){t.current.apply((function(t){return t.options.zoomLevel=Number.parseFloat(e),t}))}),[]),g=(0,o.useCallback)((function(e){t.current.apply((function(t){return t.options.overrideElementDisplay=e,t}))}),[]),m=[{label:ae("Primary Element"),key:"no",value:"no"}].concat((0,h.default)(Pn(e).map((function(e){return{label:ln(e),key:e,value:e}})))),y=(0,o.useCallback)((function(){t.current.apply((function(e){return e.options.hideBottomResourceViewer=!e.options.hideBottomResourceViewer,e}))}),[]),A=(0,o.useCallback)((function(){t.current.apply((function(e){return e.options.hideChannelingSpellsOnHome=!e.options.hideChannelingSpellsOnHome,e}))}),[]),b=(0,o.useCallback)((function(){t.current.apply((function(e){return e.options.hideDamageEffects=!e.options.hideDamageEffects,e}))}),[]),k=(0,o.useCallback)((function(){t.current.apply((function(e){return e.options.doNotUseNativeDriver=!e.options.doNotUseNativeDriver,e}))}),[]),x=(0,o.useCallback)((function(){t.current.apply((function(e){return e.options.themeMode="dark"===e.options.themeMode?"light":"dark",e}))}),[]),w=(0,o.useCallback)((function(){t.current.apply((function(e){return e.options.colorSpellButtonsByElement=!e.options.colorSpellButtonsByElement,e}))}),[]),E=(0,o.useCallback)((function(){t.current.apply((function(e){return e.options.compactUI=!e.options.compactUI,e}))}),[]),C=(0,o.useCallback)((function(){t.current.apply((function(e){return e.options.saveExpandedUI=!e.options.saveExpandedUI,e}))}),[]),B=(0,o.useCallback)((function(){t.current.apply((function(e){return e.options.hideTooltips=!e.options.hideTooltips,e}))}),[]),S=(0,o.useCallback)((function(){t.current.apply((function(e){return e.options.wakeLock=!e.options.wakeLock,e}))}),[]),R=(0,o.useCallback)((function(){t.current.apply((function(e){return e.options.enableBottomMenu=!e.options.enableBottomMenu,e}))}),[]),P=(0,o.useCallback)((function(){t.current.apply((function(e){return e.options.leftHandedMode=!e.options.leftHandedMode,e}))}),[]),M=(0,o.useCallback)((function(){t.current.apply((function(e){return e.options.putCastSpellOnBottomMenu=!e.options.putCastSpellOnBottomMenu,e}))}),[]),O=(0,o.useCallback)((function(){t.current.apply((function(e){return e.options.doNotShowEventsOnWideScreens=!e.options.doNotShowEventsOnWideScreens,e}))}),[]),N=WA(t,fl.LEVEL_UP_ALREADY_REACHED),U=WA(t,fl.LEVEL_UP_EMPTY),F=WA(t,fl.LEVEL_UP),L=WA(t,fl.INCONSEQUENTIAL_RANDOM_EVENT),H=WA(t,fl.MAIN_QUEST_SEEN_BEFORE),Y=(0,o.useCallback)((function(){t.current.apply((function(e){return e.options.doNotPopupEventsDuringBossFights=!e.options.doNotPopupEventsDuringBossFights,e}))}),[]),Q=(0,o.useState)(""),z=(0,a.default)(Q,2),V=z[0],W=z[1],G=(0,o.useCallback)((function(){t.current.overwrite((function(e){return X(Ie)})),p.default.removeItem("MR2.GameState"),p.default.removeItem("MR2.LastSaveSecondsPlayed")}),[]),J=(0,D.useTheme)(),q=ae(ey?"You may import save data by loading it from a file, or by pasting it here.":"You may import save data by pasting it here."),K=(0,o.useCallback)((0,d.default)((function*(){yield ry(t.current)})),[]),Z=null!=c.getString("uploadedTranslationsJSON"),_=(0,o.useState)(""),$=(0,a.default)(_,2),ee=$[0],te=$[1],ne=(0,o.useCallback)((0,d.default)((function*(){try{var e=yield function(){return ny.apply(this,arguments)}();"error"===e.result&&te(ae("There was an error reading from the file. Is it a valid translation file? {{error}}",{error:e.error})),"success"===e.result&&(c.set("uploadedTranslationsJSON",JSON.stringify(e.data)),te(ae("Successfully loaded translations file! Restart the app for it to take effect.")))}catch(ON){te(ae("There was an error reading from the file. Is it a valid translation file?"))}})),[te]),re=(0,o.useCallback)((function(){c.delete("uploadedTranslationsJSON"),te("Successfully deleted translations! Restart the app for it to take effect.")}),[te]),ie=(0,j.default)(),oe=ie.width,ue=(ie.height,(0,o.useMemo)((function(){return Md(e).map((function(e){return(0,Ll.jsx)(GA,{section:e},e)}))}),[Md(e).join()])),le=(0,o.useMemo)((function(){return{color:J.colors.onBackground}}),[J]),se=(0,o.useMemo)((function(){return(0,Ll.jsx)(Rg,{title:"Performance",children:(0,Ll.jsxs)(T.default,{style:KA.categoryContainer,children:[(0,Ll.jsx)(zl,{children:ae("You may set your target UI updates per second (UUPS) here. Higher UUPS will make the game elements refresh quicker but it could affect battery power and CPU usage.")}),(0,Ll.jsxs)(T.default,{style:[gs.mt8,gs.flexRowAlignCenter],children:[(0,Ll.jsx)(zl,{style:le,children:ae("Target UUPS:")}),(0,Ll.jsx)(T.default,{style:KA.targetFpsDropdownContainer,children:(0,Ll.jsx)(ym,{onValueChange:s,selectedValue:e.options.targetFps.toString(),style:KA.targetFpsPicker,data:zA})})]}),(0,Ll.jsxs)(T.default,{style:KA.hideDamageEffectsContainer,children:[(0,Ll.jsx)(zl,{children:ae("The following options may help improve performance in various screens.")}),(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Hide bottom resource viewer"),checked:e.options.hideBottomResourceViewer,onPress:y,containerStyle:KA.checkboxContainer})}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Hide channeling spells on Home screen"),checked:e.options.hideChannelingSpellsOnHome,onPress:A,containerStyle:KA.checkboxContainer})})]})]}),Ve(e,Ir.ExplorationUnlocked)&&(0,Ll.jsxs)(T.default,{style:KA.hideDamageEffectsContainer,children:[(0,Ll.jsx)(zl,{children:ae("If you are seeing performance problems specifically in the Exploration screen, you may turn off damage effects here, which should improve performance somewhat. The alternate animation code for the bars is less smooth, and may or may not improve performance; you may want to try both.")}),(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Hide damage effects"),checked:e.options.hideDamageEffects,onPress:b,containerStyle:KA.checkboxContainer})}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Use alternate animation code for the bars"),checked:e.options.doNotUseNativeDriver,onPress:k,containerStyle:KA.checkboxContainer})})]})]})]})})}),[y,e.options.hideBottomResourceViewer,A,e.options.hideChannelingSpellsOnHome,k,e.options.doNotUseNativeDriver,b,e.options.hideDamageEffects,Ve(e,Ir.ExplorationUnlocked),s,e.options.targetFps.toString(),zA,le]),ce=(0,o.useMemo)((function(){return(0,Ll.jsx)(Rg,{title:ae("Keep Awake"),children:(0,Ll.jsxs)(T.default,{style:KA.categoryContainer,children:[(0,Ll.jsx)(zl,{children:ae("By default, devices go to sleep after a period of inactivity, to save battery. You can disable this behavior while you are playing Magic Research actively in the foreground.")}),(0,Ll.jsx)(fg,{title:ae("Prevent device from sleeping"),checked:e.options.wakeLock,onPress:S,containerStyle:gs.mt8})]})})}),[e.options.wakeLock,S]),fe=(0,o.useMemo)((function(){return(0,Ll.jsx)(Rg,{title:"Hide Event Popups",children:(0,Ll.jsxs)(T.default,{style:KA.categoryContainer,children:[(0,Ll.jsx)(zl,{children:ae("Hide certain kinds of events, so that they don't disrupt gameplay. Hidden events will not show a popup, but will still be accessible through the Event Menu.")}),(0,Ll.jsxs)(T.default,{style:KA.eventPopupsContainer,children:[e.world.totalTimesResetted>0&&(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Hide element level up events of levels that you have reached in previous retirements"),checked:e.options.hideEventTags.includes(fl.LEVEL_UP_ALREADY_REACHED),onPress:N,containerStyle:KA.checkboxContainer})}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Hide element level up events if nothing new is unlocked"),checked:e.options.hideEventTags.includes(fl.LEVEL_UP_EMPTY),onPress:U,containerStyle:KA.checkboxContainer})}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Hide all element level up events"),checked:e.options.hideEventTags.includes(fl.LEVEL_UP),onPress:F,containerStyle:KA.checkboxContainer})}),e.world.totalTimesResetted>0&&(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Hide and skip main progression events that require no action and that you have seen in previous retirements"),checked:e.options.hideEventTags.includes(fl.MAIN_QUEST_SEEN_BEFORE),onPress:H,containerStyle:KA.checkboxContainer})}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Hide common random events (random events which are not Storylines and which appear more than once)"),checked:e.options.hideEventTags.includes(fl.INCONSEQUENTIAL_RANDOM_EVENT),onPress:L,containerStyle:KA.checkboxContainer})}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Hide events when you are in the middle of a boss fight"),checked:e.options.doNotPopupEventsDuringBossFights,onPress:Y,containerStyle:KA.checkboxContainer})})]})]})})}),[e.options.hideEventTags.join(),L,F,U,N,H,e.options.doNotPopupEventsDuringBossFights,Y,e.world.totalTimesResetted]),de=(0,o.useMemo)((function(){return oe<700&&(0,Ll.jsx)(Rg,{title:ae("Bottom Menu"),children:(0,Ll.jsxs)(T.default,{style:KA.categoryContainer,children:[(0,Ll.jsx)(zl,{children:ae("In smaller screens, there is a menu at the bottom to quickly switch between screens. You can customize the menu in this section. If you are left handed, you can swap the position of the Cast Spell button to be able to use it more easily. If you prefer to have the extra screen space instead, you can also disable this menu here.")}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Enable bottom menu"),checked:e.options.enableBottomMenu,onPress:R,containerStyle:KA.checkboxContainer})}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Show Cast Spell button in bottom menu"),checked:e.options.putCastSpellOnBottomMenu,onPress:M,containerStyle:KA.checkboxContainer})}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Left handed mode"),checked:e.options.leftHandedMode,onPress:P,containerStyle:KA.checkboxContainer})}),(0,Ll.jsxs)(T.default,{style:gs.mt16,children:[(0,Ll.jsx)(zl,{children:ae("You can also customize which screens will show up on the bottom menu. You will always be able to navigate to these screens by using the main menu on the left hand side. The bottom menu will show the following screens:")}),(0,Ll.jsx)(T.default,{style:KA.hideBottomMenuContainer,children:ue})]}),(0,Ll.jsxs)(T.default,{style:gs.mt16,children:[(0,Ll.jsx)(zl,{children:ae("In addition, you may re-order the screens in the bottom menu expanding the following:")}),(0,Ll.jsx)(Rg,{title:ae("Re-order Bottom Menu Items"),initiallyExpanded:!1,children:(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(qA,{})})})]})]})})}),[oe,e.options.enableBottomMenu,e.options.putCastSpellOnBottomMenu,e.options.leftHandedMode,R,M,P,ue]),ge=(0,o.useMemo)((function(){return(0,Ll.jsx)(Rg,{title:"Theming and UI",children:(0,Ll.jsxs)(T.default,{style:KA.categoryContainer,children:[(0,Ll.jsx)(zl,{children:ae("Change the colors to be easier on the eyes.")}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Enable dark mode"),checked:"dark"===e.options.themeMode,onPress:x,containerStyle:KA.checkboxContainer})}),(0,Ll.jsxs)(T.default,{style:gs.mt16,children:[(0,Ll.jsx)(zl,{children:ae("The game remembers whether you had certain UI elements expanded or not, so that when you open the game again, they stay in the same status. You can turn off this functionality here.")}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Remember expanded / collapsed UI status"),checked:e.options.saveExpandedUI,onPress:C,containerStyle:KA.checkboxContainer})})]}),"web"===I.default.OS&&(0,Ll.jsxs)(T.default,{style:gs.mt16,children:[(0,Ll.jsx)(zl,{children:ae("You can disable tooltips if they get in the way.")}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Disable tooltips"),checked:e.options.hideTooltips,onPress:B,containerStyle:KA.checkboxContainer})})]}),oe>=1350&&(0,Ll.jsxs)(T.default,{style:gs.mt16,children:[(0,Ll.jsx)(zl,{children:ae("If you have a wide screen, you can make the Events menu collapsible in order to get more out of your screen space.")}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Collapse Events menu on the right"),checked:e.options.doNotShowEventsOnWideScreens,onPress:O,containerStyle:KA.checkboxContainer})})]}),(0,Ll.jsxs)(T.default,{style:gs.mt16,children:[(0,Ll.jsx)(zl,{children:ae("By default, the game changes the colors of the buttons and interface depending on the chosen element. If you'd like, you can instead choose to always show buttons with the looks of the element of your choice.")}),(0,Ll.jsxs)(T.default,{style:[gs.mt8,gs.flexRowAlignCenter],children:[(0,Ll.jsx)(zl,{style:le,children:ae("Game UI color:")}),(0,Ll.jsx)(T.default,{style:KA.targetFpsDropdownContainer,children:(0,Ll.jsx)(ym,{onValueChange:g,selectedValue:e.options.overrideElementDisplay,style:KA.uiColorPicker,disablePlaceholder:!0,data:m})})]})]}),(0,Ll.jsxs)(T.default,{style:gs.mt16,children:[(0,Ll.jsx)(zl,{children:ae("Buttons to cast spells are colored by the spell's Element by default, but you can turn off this behavior.")}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Color spell buttons by Element"),checked:e.options.colorSpellButtonsByElement,onPress:w,containerStyle:KA.checkboxContainer})})]}),(0,Ll.jsxs)(T.default,{style:gs.mt16,children:[(0,Ll.jsx)(zl,{children:ae("In very small screens, you can opt for an extra-compact UI to see more on the screen, at the expense of buttons being harder to press. Not recommended for large screens. {{extra}}",{extra:"web"!=I.default.OS?ae("Changing the device's font size (making it smaller) might also help somewhat."):""})}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fg,{title:ae("Compact UI (Experimental)"),checked:e.options.compactUI,onPress:E,containerStyle:KA.checkboxContainer})})]}),LA&&(0,Ll.jsxs)(T.default,{style:KA.elementOverrideContainer,children:[(0,Ll.jsx)(zl,{children:ae("You can also adjust the zoom level on the game.")}),(0,Ll.jsxs)(T.default,{style:[gs.mt8,gs.flexRowAlignCenter],children:[(0,Ll.jsx)(zl,{style:le,children:ae("Zoom scale:")}),(0,Ll.jsx)(T.default,{style:KA.targetFpsDropdownContainer,children:(0,Ll.jsx)(ym,{onValueChange:f,selectedValue:e.options.zoomLevel.toString(),style:KA.uiColorPicker,data:VA})})]})]})]})})}),[e.options.themeMode,x,e.options.saveExpandedUI,C,le,e.options.overrideElementDisplay,g,e.options.colorSpellButtonsByElement,w,e.options.doNotShowEventsOnWideScreens,O,e.options.compactUI,E,LA,e.options.zoomLevel,f,VA,e.options.hideTooltips,B,oe]),he=(0,o.useMemo)((function(){return(0,Ll.jsxs)(Rg,{title:ae("Save File"),children:[(0,Ll.jsxs)(T.default,{style:KA.categoryContainer,children:[(0,Ll.jsx)(zl,{children:ae("You may persist your save data by copying it to the clipboard and storing it anywhere you'd like.")}),(0,Ll.jsx)(ql,{onPress:l,style:gs.mt8,children:ae("Copy savefile to clipboard")}),null!=i&&(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(zl,{style:{color:J.colors.error},children:i})})]}),$m&&(0,Ll.jsxs)(T.default,{style:KA.categoryContainer,children:[(0,Ll.jsx)(zl,{children:ae("You can also save your data directly to a file or elsewhere.")}),(0,Ll.jsx)(ql,{onPress:K,style:gs.mt8,children:ae("Save to file")})]})]})}),[l,$m,K,i,J]),me=(0,o.useMemo)((function(){return(0,Ll.jsx)(Rg,{title:ae("Load File"),children:(0,Ll.jsxs)(T.default,{style:KA.categoryContainer,children:[(0,Ll.jsx)(zl,{children:q}),(0,Ll.jsx)(zl,{style:{fontWeight:"bold",color:J.colors.error},children:ae("WARNING: This will erase your current save! Make sure you have backed up your data!")}),(0,Ll.jsx)(Wv,{})]})})}),[J.colors.error,q]),ye=(0,o.useMemo)((function(){return ey&&(0,Ll.jsx)(Rg,{title:ae("Language"),children:(0,Ll.jsxs)(T.default,{style:KA.categoryContainer,children:[(0,Ll.jsx)(zl,{children:ae("Although the game does not provide official translations, if you would rather play in a different language, the game supports loading a translations file which will replace the text in the game. If you have such a file, you can load it below.")}),(0,Ll.jsx)(ql,{onPress:ne,style:gs.mt8,children:ae("Load translations file")}),Z&&(0,Ll.jsx)(ql,{onPress:re,style:gs.mt8,children:ae("Clear translations")}),""!=ee&&(0,Ll.jsx)(zl,{style:{color:J.colors.error},children:ee})]})})}),[J.colors.error,ee,ey,ne]),pe=(0,o.useMemo)((function(){return(0,Ll.jsx)(Rg,{title:"Erase Saved Data",children:(0,Ll.jsxs)(T.default,{style:KA.categoryContainer,children:[(0,Ll.jsx)(zl,{children:ae("If you want to start all over again and retirement isn't enough, you can delete your save data entirely.")}),(0,Ll.jsx)(zl,{style:{fontWeight:"bold",color:J.colors.error},children:ae('WARNING: This will erase your current save, including all your progress with Storylines and retirement! Make sure you have backed up your data! Once you have done this, there is no going back! If you are sure you want to do this, write "erase" in the text field below.')}),(0,Ll.jsx)(gh.default,{style:gs.mt16,value:V,onChangeText:W}),(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(ql,{disabled:"erase"!=V.toLowerCase(),buttonColor:J.colors.errorContainer,textColor:J.colors.onErrorContainer,onPress:G,children:ae("Permanently erase all saved data")})})]})})}),[V,G,W,V,J.colors.error,J.colors.errorContainer]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:KA.container,children:[se,ce,fe,de,ge,he,me,ye,pe]})}),[se,ce,fe,de,ge,he,me,ye,pe])}var KA=R.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",width:"100%"},headerContainer:{marginBottom:16},categoryContainer:{marginTop:8,paddingHorizontal:8},eventPopupsContainer:{marginTop:8},targetFpsDropdownContainer:QA(QA({},I.default.select({android:{backgroundColor:"#eee",borderRadius:10,default:{}}})),{},{marginLeft:16}),targetFpsPicker:{width:100},uiColorPicker:{width:160},sliderContainer:{width:200,marginLeft:16},sliderTextContainer:{width:120},checkboxContainer:{marginLeft:0,marginTop:8,padding:0},checkboxText:{fontWeight:"normal"},saveButton:{marginTop:8},loadMessageContainer:{marginBottom:8},inputContainer:{borderWidth:1,marginTop:16,maxHeight:48},toggleMenuCheckboxContainer:{padding:0,marginLeft:0},toggleMenuRow:{flexDirection:"row",alignItems:"center"},hideBottomMenuContainer:{flexDirection:"row",flexWrap:"wrap"},toggleMenuTextContainer:{paddingLeft:4},bottomMenuCustomizationContainer:{marginTop:8},hideDamageEffectsContainer:{marginTop:8},elementOverrideContainer:{marginTop:8},dragHandle:{cursor:"grab",marginRight:8}});function ZA(){var e=As(),t=Rn(e).map((function(t){return xn(e,t)})),n=nl.getAll().filter((function(t){return t.isCompletedThisRun(e)})).map((function(e){return e.id})).join(),r=(0,o.useMemo)((function(){var t=Zt(Se(e),!0);return t=Jn(t)}),[JSON.stringify(t),n]),i=Wn(r),u=Gn(r),l=Wn(e),s=Gn(e),c=100*(i-l)/l,f=100*(u-s)/s,d=nl.getAll().filter((function(t){return t.isCompletedThisRun(e)})),g="";d.length>0&&(g=ae("\n      \nAdditionally, in this retirement, you have completed the following Storylines, which will be fully activated after retirement:\n    \n{{storylineList}}",{storylineList:d.map((function(t){return ae("* **{{storylineName}}**: {{storylineBonus}}",{storylineName:t.getName(),storylineBonus:t.getBonusDescription(e)})})).join(ae("\n"))}));var h=Vn(r,e.run.primaryElement),m=xn(r,e.run.primaryElement),y=null!=e.run.secondaryElement?Vn(r,e.run.secondaryElement):0,p=null!=e.run.secondaryElement?xn(r,e.run.secondaryElement):0,v=ae("**If you retire now, your element exp gain multiplier will become {{newExp}}x (+{{expDeltaPct}}%) and your channeling, production and loot multiplier will become {{newProduction}}x (+{{productionDeltaPct}}%). You will also begin all subsequent retirements with {{startingExp}} {{element}} exp (meaning it will start on at least Lv{{startingLevel}}){{secondaryElementText}}.**",{newExp:ue(i,{showDecimals:!0}),expDeltaPct:ue(c,{showDecimals:!0}),newProduction:ue(u,{showDecimals:!0}),productionDeltaPct:ue(f,{showDecimals:!0}),startingExp:ue(h),startingLevel:ue(m),element:ln(e.run.primaryElement),secondaryElementText:null!=e.run.secondaryElement?ae(" and {{startingExp}} {{element}} exp (meaning it will start on at least Lv{{startingLevel}})",{startingExp:ue(y),startingLevel:ue(p),element:ln(e.run.secondaryElement)}):""}),A=ae('You have gone through a lot, even if it wasn\'t quite enough. You feel tired and contemplate giving up and retiring from your quest.\n\nIf you retire, **you will reset the game.** Everything will revert back to its initial state, except:\n* Any bonuses you obtained from "(Storyline)" events will remain;\n* You will gain a boost to exp gain, building and channeling production, and loot based on the maximum level you have ever attained on your primary element (MPL), as well as on the sum of the MPLs you have attained on each element;\n* You will additionally start with some exp on elements for which your MPL is higher than 1;\n* If you have obtained any :timepiece:Time Pieces from time spent away from the game, these will also remain.\n\nWhen you retire, you will be able to choose a new primary element.\n\n{{retirementEffects}}{{storylineBonusMessage}}\n\n*Do you want to retire?*',{retirementEffects:v,storylineBonusMessage:g}),b=(0,o.useState)(!1),k=(0,a.default)(b,2),x=k[0],w=k[1],E=(0,o.useContext)(hs);(0,o.useEffect)((function(){E||w(!1)}),[E]);var C=Object.values(e.run.eventOccurrences).some((function(e){return e.currentMessageId&&!gl(e.currentMessageId).isTerminal()})),I=Ar(e)&&Sn(e)>Fn(e)+4,B=br(e),S=(0,D.useTheme)();return(0,Ll.jsxs)(T.default,{style:_A.container,children:[(0,Ll.jsx)(zl,{h1:!0,children:ae("Retirement")}),(0,Ll.jsx)(T.default,{style:_A.explanation,children:(0,Ll.jsx)(fs,{children:A})}),I&&(0,Ll.jsx)(T.default,{style:_A.warning,children:(0,Ll.jsx)(zl,{style:{fontStyle:"italic"},children:ae("It looks like your multipliers might be too low for your current\nprogression in Exploration, and your retirement bonus seems\nreasonably high. This might be a good time to retire!")})}),B&&(0,Ll.jsx)(T.default,{style:_A.warning,children:(0,Ll.jsx)(zl,{style:{color:S.colors.error},children:ae("Warning: Your multipliers seem to be very high for your current\nprogression in Exploration. You might benefit more by making more\nprogress in Exploration. Are you sure you want to retire?")})}),!1,C&&(0,Ll.jsx)(T.default,{style:_A.warning,children:(0,Ll.jsx)(zl,{style:{color:S.colors.error},children:ae("Warning: You still have ongoing events! Are you sure you want to retire?")})}),(0,Ll.jsxs)(T.default,{style:_A.buttonContainer,children:[!x&&(0,Ll.jsx)(ql,{onPress:function(){return w(!0)},children:ae("Retire")}),x&&(0,Ll.jsx)(ql,{onPress:function(){e.apply((function(e){return Zt(e,!1)}))},children:ae("Are you sure? Press again to confirm")})]})]})}var _A=R.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",width:"100%"},explanation:{marginTop:16},buttonContainer:{marginTop:16},warning:{marginTop:8}});function $A(e){var t=As(),n=Bf(t),r=jf(t),a=Uf(t),i=wf(t),o=kf(t),u=[];n&&u.push(ae("* {{multiplier}} Max:hp:",{multiplier:le(Sf(t))})),r&&u.push(ae("* {{multiplier}} Element Exp gained",{multiplier:le(Mf(t))})),a&&u.push(ae("* +{{multiplier}}% resources and items needed for all Transmutation (rounded up)",{multiplier:ue(100*Ff(t)-100,{showDecimals:!0})}));var l=u.length>0?u.join("\n"):"",s=ae("Your active Rituals will give you Corruption (:corruption:). Your soul cannot take on too much :corruption: at a time; if you activate too many Rituals at once, you will grow weak."),c=i<=o?ae("You currently have {{amount}}:corruption:, which is *below* your safe limit of {{cap}}:corruption:. Your soul is strong; you have no penalties.",{amount:ue(i,{showDecimals:!0}),cap:ue(o,{showDecimals:!0})}):ae("You currently have {{amount}}:corruption:, which is *above* your safe limit of {{cap}}:corruption:. The extra Corruption is giving you the following penalties:\n  \n{{penaltyText}}",{amount:ue(i,{showDecimals:!0}),cap:ue(o,{showDecimals:!0}),penaltyText:l});return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{children:s})}),(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(fs,{children:c})})]})}function eb(e){var t=As(),n=(0,o.useRef)(t),r=e.ritual,a=ae("{{ritualDescription}} **{{ritualEffect}}; {{corruptionCost}}:corruption:**",{ritualDescription:r.getDescription(t),ritualEffect:r.getEffect(t),corruptionCost:ue(r.getCorruptionCost(t),{showDecimals:!0})}),i=r.isActive(t),u=(0,o.useCallback)((function(){return n.current.apply((function(e){return r.isActive(e)?r.turnOff(e):r.turnOn(e)}))}),[r]),l=(0,o.useMemo)((function(){return i?(0,Ll.jsx)(T.default,{style:gs.flexRowAlignCenter,children:(0,Ll.jsx)(ql,{compact:!0,onPress:u,children:ae("Stop Ritual")})}):(0,Ll.jsx)(T.default,{style:gs.flexRowAlignCenter,children:(0,Ll.jsx)(ql,{compact:!0,onPress:u,children:ae("Start Ritual")})})}),[u,i]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:gs.mv8,children:[(0,Ll.jsx)(Rd,{children:a}),(0,Ll.jsx)(T.default,{style:gs.mt8,children:l})]})}),[a,l])}function tb(e){var t=e.ritual,n=(0,o.useState)(!0),r=(0,a.default)(n,2),i=r[0],l=r[1],s=(0,D.useTheme)(),c=As(),f=t.getDisplayName(c),d=(0,o.useCallback)((function(){return l(!i)}),[i,l]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:gs.pv4,children:[(0,Ll.jsx)(u.TouchableWithoutFeedback,{accessibilityRole:"button",accessibilityHint:ae("Expand"),onPress:d,children:(0,Ll.jsxs)(T.default,{style:nb.topRowContainer,children:[(0,Ll.jsx)(zl,{h2:!0,accessibilityRole:"none",style:nb.topContainer,children:f}),(0,Ll.jsx)(T.default,{style:nb.expandContainer,children:(0,Ll.jsx)(qd.default,{name:i?"chevron-right":"chevron-down",size:24,color:s.colors.onBackground})})]})}),!i&&(0,Ll.jsx)(T.default,{style:gs.ph8,children:(0,Ll.jsx)(eb,{ritual:t})})]})}),[d,f,i,s,t])}var nb=R.default.create({topRowContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},expandContainer:{width:40},descriptionTextContainer:{marginBottom:8,marginTop:8,flex:1,flexDirection:"row",flexWrap:"wrap"},descriptionViewer:{flex:1,justifyContent:"center"},effectContainer:{flex:1},effectSubcontainer:{flexDirection:"row",alignItems:"flex-start",flexWrap:"wrap"},smallButtonTitle:{fontSize:12},topContainer:{flex:1,marginLeft:8},disabledStorylineText:{color:"#aaa"}});function rb(e){var t=Lf(As()),n=t.map((function(e){return e.getId()})).join(""),r=(0,o.useMemo)((function(){return t.map((function(e){return(0,Ll.jsx)(tb,{ritual:e},e.getId())}))}),[n]);return(0,o.useMemo)((function(){return 0===t.length?null:(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(T.default,{children:r[0]},t[0].getId()),r.slice(1).map((function(e,n){return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(Bg,{}),e]},t[n].getId())}))]})}),[n,r])}function ab(){return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:ib.campusContainer,children:[(0,Ll.jsx)(Rg,{title:ae("Corruption"),children:(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)($A,{})})}),(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(Rg,{title:ae("Rituals"),children:(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(rb,{})})})})]})}),[])}var ib=R.default.create({campusContainer:{height:"100%",alignItems:"stretch",justifyContent:"flex-start",width:"100%"}});function ob(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var ub=new(function(e){(0,ws.default)(n,e);var t=ob(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"spellcraftingVat"}},{key:"getName",value:function(){return ae("Spellcrafting Vat")}},{key:"getDisplayDescription",value:function(e){return ae("An oversized tube meant to hold large amounts of items, so that their power may be routed into a spell.")}},{key:"getDisplayEffect",value:function(e){return ae("+1 Spellcraft slot. Note: Cannot be demolished - destroy the vat instead from the Spellcraft screen")}},{key:"getBaseLandRequired",value:function(){return 15}},{key:"canTurnOff",value:function(){return!1}}]),n}(lg)),lb=new(function(e){(0,ws.default)(n,e);var t=ob(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getAreas",value:function(){return{HOME:[$t.OTHER]}}},{key:"getBuilding",value:function(){return ub}},{key:"getBaseResourceCost",value:function(){return{Coins:1e4,AirEssence:12e3}}},{key:"getBaseResourceScale",value:function(){return{Coins:4,AirEssence:4}}},{key:"isVisible",value:function(e){return dd(e)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"shouldHideDemolish",value:function(){return!0}},{key:"canDemolish",value:function(e,t){return!1}},{key:"getLevelRequirements",value:function(){return{}}},{key:"getElement",value:function(){return un.Air}}]),n}(sg));function sb(e){var t=As(),n=e.spell,r=(0,o.useCallback)((function(){return e.onPress(n)}),[e.onPress,n]),a=n.getBasicDisplayName(t),i=n.getManaCost(t),u=e.theme,l=(0,o.useMemo)((function(){return[{color:u.colors.onPrimary},{fontSize:12}]}),[u]);return(0,o.useMemo)((function(){return(0,Ll.jsx)(ql,{compact:!0,enableAutoRepress:!0,onPress:r,style:[gs.flex],labelStyle:{marginHorizontal:16,flex:1,marginVertical:0,height:40},contentStyle:{marginHorizontal:0,flex:1,height:40},TextComponent:T.default,theme:u,children:(0,Ll.jsxs)(T.default,{style:fb.spellButtonTitleContainer,children:[(0,Ll.jsx)(T.default,{style:fb.spellButtonTitleOnlyContainer,children:(0,Ll.jsx)(zl,{style:[l,gs.flex],numberOfLines:1,children:a})}),(0,Ll.jsx)(T.default,{style:[fb.spellButtonCostContainer,gs.flexRowAlignCenter],children:i>0&&(0,Ll.jsxs)(T.default,{style:[gs.flexRowAlignCenter,gs.ml8],children:[(0,Ll.jsx)(zl,{style:l,doNotScaleFonts:!0,children:ue(i,{showDecimals:!1})}),(0,Ll.jsx)(ts,{icon:"mana",style:fb.spellManaIcon})]})})]})},n.getId())}),[a,l,i,r,u])}function cb(e){var t,n,r=As(),i=(0,o.useState)(e.spellId),l=(0,a.default)(i,2),s=l[0],c=l[1],f=Ia.getByIdNullable(s),d=Sa(r,_t.SPELL_MENU),g=null!=(t=Z(Sa(r,_t.SPELL_MENU)))?t:[],h=(0,o.useState)(null==f||null==f.getElement?void 0:f.getElement()),m=(0,a.default)(h,2),y=m[0],p=m[1],v=null!=(n=null==d?void 0:d[y])?n:[],A=(0,o.useCallback)((function(t){return e.onSelect(t.getId())}),[e.onSelect]);!function(e,t){var n=(0,o.useRef)(!1);(0,o.useEffect)((function(){n.current?e():n.current=!0}),t)}((function(){return c(void 0)}),[y]);var b=(0,o.useMemo)((function(){return(0,Ll.jsx)(ap,{selected:y,onPress:p,elements:g,style:{width:216}})}),[y,p,[JSON.stringify(g)]]),k=(0,D.useTheme)(),x=r.options.colorSpellButtonsByElement&&null!=y?ir(y,k.dark):k,w=(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:gs.mv4,children:v.map((function(e){return(0,Ll.jsx)(T.default,{style:gs.mv4,children:(0,Ll.jsx)(sb,{spell:e,onPress:A,theme:x})},e.getId())}))})}),[v,A,x]);return(0,Ll.jsxs)(T.default,{style:[gs.flex,fb.topContainer],children:[(0,Ll.jsx)(T.default,{style:gs.flexCenter,children:g.length>0&&b}),(0,Ll.jsx)(T.default,{style:gs.flex,children:(0,Ll.jsx)(u.ScrollView,{style:[{flexGrow:0},gs.mt8],children:w})})]})}og.register((function(e){var t=rg(e,ub);if(Z(e.run.spellcrafts).length<t)for(var n=rg(e,ub),r=Z(e.run.spellcrafts).length;r<n;)e=fd(e),r++;return e}),"spellcraftingVats");var fb=R.default.create({spellButtonTitleContainer:{flex:1,flexDirection:"row",alignItems:"center"},spellButtonTitleOnlyContainer:{flex:1,flexDirection:"row",justifyContent:"center",alignItems:"center"},spellButtonCostContainer:{flexDirection:"row",width:100,justifyContent:"flex-end"},spellManaIcon:{height:16,width:16,justifyContent:"flex-end",alignItems:"center",marginLeft:2},topContainer:{minWidth:300}});function db(e){var t=As(),n=(0,o.useRef)(t);n.current=t;var r=(0,D.useTheme)(),i=(0,o.useState)(!0),l=(0,a.default)(i,2),s=l[0],c=l[1],f=(0,o.useState)(null),d=(0,a.default)(f,2),g=d[0],h=d[1],m=o.useCallback((function(e){h(e)}),[h]);(0,o.useRef)(g).current=g;var y=e.vatId,p=t.run.spellcrafts[y],v=id.getByIdNullable(p.spellcraftId),A=null!=v?v.getName():ae("Empty"),b=null!=p.spellId?Ia.getById(p.spellId):null,k=ae("Vat {{index}} - {{spellcraftName}}",{index:ue(e.index+1),spellcraftName:A}),x=null!=b?ae("On spell: {{spell}}",{spell:b.getSpellName()}):"",w=vm((0,o.useContext)(pm),"picker_open",!1),E=(0,a.default)(w,2),C=(E[0],E[1]),I=(0,o.useState)(!1),B=(0,a.default)(I,2),S=B[0],R=B[1],P=(0,o.useCallback)((function(){R(!0),C(!0)}),[R,C]),M=(0,o.useCallback)((function(){R(!1),C(!1)}),[R,C]),O=(0,o.useState)(!1),N=(0,a.default)(O,2),F=N[0],L=N[1],H=(0,o.useCallback)((function(){F?n.current.apply((function(e){return e=function(e,t){return null==e.run.spellcrafts[t]||(null!=e.run.spellcrafts[t].spellcraftId&&(e=cd(e,t)),delete e.run.spellcrafts[t]),e}(e,y),lb._demolishUnsafe(e,1),e})):L(!0)}),[F]),Y=(0,o.useCallback)((function(e){n.current.apply((function(t){return function(e,t,n){if(null!=e.run.spellcrafts[t].spellcraftId){var r=id.getById(e.run.spellcrafts[t].spellcraftId);r.isSpellCompatible(Ia.getById(n))&&sd(e,n,r)||(e=cd(e,t))}return e.run.spellcrafts[t].spellId=n,zc(e=Ya(e))}(t,y,e)})),M()}),[y,M]),Q=(0,o.useCallback)((function(){n.current.apply((function(e){return cd(e,y)}))}),[y]),z=null!=b?ld(t,b):[],V=(0,o.useMemo)((function(){return null!=b&&null==v?z.map((function(e){return{itemOrSpellId:e.getBaseItem().getId(),amount:1,params:e.getBaseItem().getDefaultParams(),disabled:!e.isSpellCompatible(b)}})):[]}),[z.map((function(e){return e.getId()})).join(),b,v]),W=(0,o.useMemo)((function(){return JSON.stringify(V)}),[V]);(0,o.useEffect)((function(){return h(void 0)}),[W]);var G=null!=g?id.getAll().find((function(e){return e.getBaseItem().getId()==(null==g?void 0:g.itemOrSpellId)})):void 0,J=(0,o.useMemo)((function(){return(0,Ll.jsx)(lm,{items:V,location:im.SPELLCRAFT,onPressItem:m})}),[W,m]),q=(0,j.default)(),X=q.height,K=q.width,Z=(0,o.useMemo)((function(){return(0,Ll.jsx)(yv.default,{visible:S,onDismiss:M,contentContainerStyle:[hb.overlay,{maxWidth:Math.min(K-16,640),maxHeight:X-32,backgroundColor:r.colors.background}],children:(0,Ll.jsx)(T.default,{style:[gs.flex,gs.p16],children:(0,Ll.jsx)(cb,{onSelect:Y,spellId:p.spellId})})},"changeSpell")}),[S,M,K,X,r,Y,p.spellId]),_=null!=b?ir(b.getElement(),r.dark):r,$=_.colors.secondaryContainer,ee=(0,o.useMemo)((function(){return null!=v?(0,Ll.jsx)(T.default,{style:[hb.tile,{borderColor:_.colors.outline}],children:(0,Ll.jsx)(ts,{icon:v.getBaseItem().getId()})}):(0,Ll.jsx)(T.default,{style:[hb.tile,{borderColor:_.colors.outline}]})}),[v,_]);return(0,o.useMemo)((function(){var n;return(0,Ll.jsx)(D.ThemeProvider,{theme:_,children:(0,Ll.jsxs)(Wg.default,{mode:"flat",style:[hb.rowContainer,{backgroundColor:$}],children:[(0,Ll.jsx)(u.TouchableOpacity,{onPress:function(){return c(!s)},style:hb.expandTouchable,children:(0,Ll.jsxs)(T.default,{style:gs.flexRowSpaceBetween,children:[(0,Ll.jsxs)(T.default,{style:gs.flexRowAlignCenter,children:[ee,(0,Ll.jsxs)(T.default,{style:gs.ml8,children:[(0,Ll.jsx)(zl,{h4:!0,style:gs.bold,children:k}),""!=x&&(0,Ll.jsx)(zl,{children:x})]})]}),(0,Ll.jsx)(qd.default,{name:s?"chevron-right":"chevron-down",size:24,color:_.colors.onBackground})]})}),(0,Ll.jsx)(Sg,{isVisible:!s,children:(0,Ll.jsxs)(T.default,{style:s?{display:"none"}:null,children:[(0,Ll.jsx)(T.default,{style:gs.mt16,children:(0,Ll.jsxs)(T.default,{style:gs.flexRowSpaceBetween,children:[(0,Ll.jsx)(fs,{children:ae("Spell: **{{spell}}**",{spell:null!=(n=null==b||null==b.getSpellName?void 0:b.getSpellName())?n:ae("None")})}),(0,Ll.jsx)(ql,{onPress:P,compact:!0,children:ae("Select spell")}),(0,Ll.jsx)(U.default,{children:Z})]})}),null!=b&&(0,Ll.jsxs)(T.default,{style:gs.mt16,children:[(0,Ll.jsxs)(T.default,{style:gs.flexRowAlignCenter,children:[(0,Ll.jsx)(T.default,{style:[gs.flex,gs.mr16],children:(0,Ll.jsx)(fs,{children:null!=v?ae("Spellcraft: **{{spellcraft}} - {{effect}}**",{spellcraft:A,effect:v.getEffect(t)}):ae("Spellcraft: **Empty**")})}),null!=v&&(0,Ll.jsx)(ql,{onPress:Q,compact:!0,children:ae("Remove")})]}),0==V.length&&null==v&&(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(zl,{style:{fontStyle:"italic"},children:ae("You have no known Spellcrafts that could affect this spell!")})}),V.length>0&&(0,Ll.jsx)(T.default,{style:gs.mt8,children:J}),null!=g&&(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(rm,{vatId:y,spellcraftId:G.getId()})})]}),(0,Ll.jsx)(T.default,{style:[gs.mt16,gs.ph8],children:(0,Ll.jsx)(Rg,{title:ae("Destroy Vat"),initiallyExpanded:!1,dividerColor:_.colors.outline,children:(0,Ll.jsxs)(T.default,{style:gs.mt8,children:[(0,Ll.jsx)(fs,{children:ae("If you want to recover the land used by a Spellcrafting Vat, you can destroy the vat here. If you have an active Spellcraft, you will regain the items you used.")}),(0,Ll.jsx)(T.default,{style:[gs.mt8,gs.flexCenter],children:(0,Ll.jsx)(ql,{onPress:H,children:ae(F?"Press again to confirm":"Destroy Vat")})})]})})})]})})]},e.vatId)})}),[s,c,_,k,x,ee,!s&&b,!s&&M,!s&&(null==v||null==v.getEffect?void 0:v.getEffect(t)),!s&&A,!s&&g,!s&&JSON.stringify(p),!s&&H,!s&&Q,!s&&F,_,Z])}function gb(){var e=As();(0,o.useRef)(e).current=e;var t=Z(e.run.spellcrafts);return(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:hb.topContainer,children:t.length>0?(0,Ll.jsx)(T.default,{children:t.map((function(e,t){return(0,Ll.jsx)(T.default,{style:gs.pv4,children:(0,Ll.jsx)(db,{index:t,vatId:e},e)},e)}))}):(0,Ll.jsx)(fs,{children:ae("In this screen, you can do Spellcrafting to modify the effects of your spells. However, you have no vats right now, which are needed to do so. Build a Spellcrafting Vat in your Home to get one!")})})}),[t.join()])}var hb=R.default.create({container:{flex:1,width:"100%"},contentContainer:{paddingVertical:8,paddingHorizontal:4,alignItems:"stretch",justifyContent:"flex-start"},hintProgress:{marginTop:4},loadoutsContainer:{borderTopWidth:1,paddingVertical:8,paddingHorizontal:4},categoryTitle:{marginLeft:8},categoryContainer:{paddingTop:4,marginBottom:8},campusContainer:{flex:1,alignItems:"stretch",justifyContent:"flex-start"},campusHintWarning:{marginTop:16},optionRow:{marginTop:8,flexDirection:"row",flexWrap:"wrap",gap:8,justifyContent:"space-around"},overlay:{alignSelf:"center",marginHorizontal:16,maxWidth:640},messageLogContainer:{padding:8,borderColor:"#444",borderWidth:1,maxHeight:320},rowContainer:{padding:8,borderRadius:8},topContainer:{gap:8},expandTouchable:{cursor:"pointer"},tile:{borderWidth:.5,height:32,width:32,justifyContent:"center",alignItems:"center"}}),mb=n(17955),yb=new Er("convenience",ae("Convenience"),327,10,(function(e){return ae("Expand your home at least 20 times")}),(function(e){return ae('Unlock "Auto purchase max" option for furniture and "Expand Home"')}),(function(e){return!0}));function pb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var vb=function(e){(0,ws.default)(n,e);var t=pb(n);function n(){var e;(0,Le.default)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).catalystTags=(0,q.default)((function(){return[pt.CatalystEffectivity,e.getId()]})),e.catalystEffectivityParams={valueType:vt.Percent},e}return(0,He.default)(n,[{key:"getId",value:function(){return"essenceCatalyst"}},{key:"getName",value:function(){return ae("Essence Catalyst")}},{key:"getPerCatalystBonusMultiplier",value:function(e){return 1+It(this.catalystTags(),e,.15)}},{key:"getPerCatalystBonusMultiplierExplanation",value:function(e){return Mt(this.catalystTags(),e,.15,this.catalystEffectivityParams)}},{key:"getDisplayDescription",value:function(e){return ae("A catalyst for channeling. Greatly empowers channeling strength for all elements.")}},{key:"getDisplayEffect",value:function(e){var t=100*(this.getPerCatalystBonusMultiplier(e)-1);return ae("^+{{effectPct}}%^<{{explanation}}> production from Channeling",{effectPct:ue(t),explanation:this.getPerCatalystBonusMultiplierExplanation(e)})}},{key:"getBaseLandRequired",value:function(){return 10}},{key:"canTurnOff",value:function(){return!1}}]),n}(lg),Ab=new vb,bb=new(function(e){(0,ws.default)(n,e);var t=pb(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getAreas",value:function(){return{HOME:[$t.CATALYSTS]}}},{key:"getBuilding",value:function(){return Ab}},{key:"getBaseResourceCost",value:function(){return{FireEssence:200}}},{key:"getBaseResourceScale",value:function(){return{FireEssence:2}}},{key:"getBaseManaCost",value:function(e){return 20}},{key:"isVisible",value:function(e){return Ve(e,Ir.CatalystsUnlocked)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"getLevelRequirements",value:function(){return{}}},{key:"getElement",value:function(){return un.Fire}}]),n}(sg));function kb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var xb=.75,wb=[pt.Production,Dt.Mana,"manaSpout"];function Eb(e){return It(wb,e,xb)}var Cb=function(e){(0,ws.default)(n,e);var t=kb(n);function n(){var e;(0,Le.default)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).effectUnit=(0,q.default)((function(){return{unit:ae(":mana:/sec")}})),e}return(0,He.default)(n,[{key:"getId",value:function(){return"manaSpout"}},{key:"getName",value:function(){return ae("Mana Spout")}},{key:"getDisplayDescription",value:function(e){return ae("A small piece of furniture that automatically produces Mana. Key for any wizard.")}},{key:"getDisplayEffect",value:function(e){return ae("^+{{manaRegenPerSec}}^<{{explanation}}>:mana:/sec",{manaRegenPerSec:ue(Eb(e),{showDecimals:!0}),explanation:Mt(wb,e,xb,this.effectUnit())})}},{key:"getBaseLandRequired",value:function(){return 2}},{key:"canTurnOff",value:function(){return!1}}]),n}(lg),Ib=new Cb,Bb=new(function(e){(0,ws.default)(n,e);var t=kb(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getAreas",value:function(){return{HOME:[$t.MANA]}}},{key:"getBuilding",value:function(){return Ib}},{key:"getBaseResourceCost",value:function(){return{WaterEssence:10,AirEssence:5}}},{key:"getBaseResourceScale",value:function(){return{WaterEssence:1.25,AirEssence:1.25}}},{key:"getBaseManaCost",value:function(e){return 10}},{key:"isVisible",value:function(e){return Ve(e,Ir.ManaSpoutsUnlocked)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"getLevelRequirements",value:function(){return{}}},{key:"getElement",value:function(){return un.Water}}]),n}(sg));function Sb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}ui.register(new oi(Ib.getId(),Ib.getName(),(function(e){return{Mana:Eb(e)*rg(e,Ib)}}))),og.register((function(e,t){return t==Ib&&(e=si(e)),e}));var Rb=function(e){(0,ws.default)(n,e);var t=Sb(n);function n(){var e;(0,Le.default)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).perBuildingCapTags=(0,q.default)((function(t){return[pt.PerBuildingCap,t,e.getId()]})),e.perBuildingCapParams=(0,q.default)((function(e){return{resource:e}})),e.perBuildingCapExplanationParams=(0,q.default)((function(e){return{resource:e,unit:ae(" Max{{resourceIcon}}",{resourceIcon:":"+e.toLowerCase()+":"})}})),e}return(0,He.default)(n,[{key:"getId",value:function(){return"essenceStorage"}},{key:"getName",value:function(){return ae("Essence Storage")}},{key:"getPerStorageBonusCap",value:function(e,t){return Rt(this.perBuildingCapTags(t),e,400,this.perBuildingCapParams(t))}},{key:"getPerStorageBonusCapExplanation",value:function(e,t){return Mt(this.perBuildingCapTags(t),e,400,this.perBuildingCapExplanationParams(t))}},{key:"getDisplayDescription",value:function(e){return ae("A magical storage that allows you to accumulate more elemental Essence.")}},{key:"_getDisplayEffectUncached",value:function(e){var t=this;return Rn(e).map((function(n){return ae("^+{{amount}}^<{{explanation}}> Max{{resourceIcon}}",{amount:ue(t.getPerStorageBonusCap(e,Ss[n])),resourceIcon:":"+Ss[n].toLowerCase()+":",explanation:t.getPerStorageBonusCapExplanation(e,Ss[n])})})).join(ae(", "))}},{key:"getDisplayEffect",value:function(e){var t=this;return Te(e,"essenceStoragesEffect",(function(e){return t._getDisplayEffectUncached(e)}),(function(e){return JSON.stringify(Rn(e).map((function(n){return t.getPerStorageBonusCap(e,Ss[n])})))}))}},{key:"getBaseLandRequired",value:function(){return 5}},{key:"canTurnOff",value:function(){return!1}}]),n}(lg),Pb=new Rb,Tb=new(function(e){(0,ws.default)(n,e);var t=Sb(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getAreas",value:function(){return{HOME:[$t.STORAGE]}}},{key:"getBuilding",value:function(){return Pb}},{key:"shouldNeverHaveDemolishBlockers",value:function(){return!1}},{key:"getBaseResourceCost",value:function(){return{EarthEssence:60}}},{key:"getBaseResourceScale",value:function(){return{EarthEssence:1.4}}},{key:"getBaseManaCost",value:function(e){return 20}},{key:"isVisible",value:function(e){return Ve(e,Ir.StoragesUnlocked)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"getLevelRequirements",value:function(){return{}}},{key:"getElement",value:function(){return un.Earth}}]),n}(sg));function jb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Mb=[pt.PerBuildingCap,Dt.Mana,"manaShard"];function Db(e){return It(Mb,e,100,{resource:Dt.Mana})}var Ob=(0,q.default)((function(){return{resource:Dt.Mana,unit:ae(" Max:mana:")}}));function Nb(e){return Mt(Mb,e,100,Ob())}var Ub=new(function(e){(0,ws.default)(n,e);var t=jb(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"manaShard"}},{key:"getName",value:function(){return ae("Mana Shard")}},{key:"getDisplayDescription",value:function(e){return ae("A small furniture that allows you to accumulate more Mana, to cast more powerful spells.")}},{key:"getDisplayEffect",value:function(e){return ae("^+{{maxMana}}^<{{explanation}}> Max:mana:",{maxMana:Db(e),explanation:Nb(e)})}},{key:"getBaseLandRequired",value:function(){return 2}},{key:"canTurnOff",value:function(){return!1}}]),n}(lg)),Fb=new(function(e){(0,ws.default)(n,e);var t=jb(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getAreas",value:function(){return{HOME:[$t.MANA]}}},{key:"getBuilding",value:function(){return Ub}},{key:"shouldNeverHaveDemolishBlockers",value:function(){return!1}},{key:"getBaseResourceCost",value:function(){return{EarthEssence:40,WaterEssence:20}}},{key:"getBaseResourceScale",value:function(){return{EarthEssence:1.25,WaterEssence:1.25}}},{key:"getBaseManaCost",value:function(e){return 10}},{key:"isVisible",value:function(e){return Ve(e,Ir.ManaShardsUnlocked)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"getLevelRequirements",value:function(){return{}}},{key:"getElement",value:function(){return un.Earth}}]),n}(sg));function Lb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[pt.Cap,Dt.Mana]],"manaShards",ae("Mana Shards"),At.Addition,(function(e,t){return rg(e,Ub)*Db(e)})),og.register((function(e,t){return t==Ub&&(e=Fa(e=Yt(e))),e}),Ub.getId());var Hb=new(function(e){(0,ws.default)(r,e);var t=Lb(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"copperOre"}},{key:"getTags",value:function(){return[yh.Material]}},{key:"getPicture",value:function(){return n(28657)}},{key:"getBaseName",value:function(e){return ae("Copper Ore")}},{key:"getDescription",value:function(e,t){return ae("Ore. Needs to be processed to be able to actually utilize it.")}},{key:"getEffect",value:function(e,t){}},{key:"getBaseSalePrice",value:function(e,t){return 36}}]),r}(Nh)),Yb=new(function(e){(0,ws.default)(n,e);var t=Lb(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return Hb}},{key:"getCraftingElementLevelRequirements",value:function(){return{Earth:24}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:300,EarthEssence:1e4},items:{}}}},{key:"getElement",value:function(){return un.Earth}}]),n}(sf));function Qb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var zb=function(e){(0,ws.default)(r,e);var t=Qb(r);function r(){var e;(0,Le.default)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).poisonDoTAmountTags=(0,q.default)((function(t){return[e.getId(),pt.PoisonDoTAmount,t]})),e}return(0,He.default)(r,[{key:"getId",value:function(){return"poison"}},{key:"getDisplayName",value:function(){return ae("Poison")}},{key:"getIcon",value:function(){return n(63973)}},{key:"isBeneficial",value:function(){return!1}},{key:"getDamagePerSec",value:function(e,t){var n;return It(this.poisonDoTAmountTags(t.target),e,null!=(n=t.params.magnitude)?n:0,{target:t.target})}},{key:"getDisplayDescription",value:function(e,t){return ae("-{{amount}}:hp:/sec",{amount:ue(this.getDamagePerSec(e,t),{showDecimals:!0})})}},{key:"mergeData",value:function(e,t,n,a){if(t.params.magnitude==n.params.magnitude)return(0,xs.default)((0,Cs.default)(r.prototype),"mergeData",this).call(this,e,t,n,a);var i=Aa(e),o=(t.endTime-i)*t.params.magnitude;return(n.endTime-i)*n.params.magnitude<o?t:n}}]),r}(yf),Vb=new zb;function Wb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Gb=new(function(e){(0,ws.default)(r,e);var t=Wb(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"noxiousCloak"}},{key:"getDisplayName",value:function(){return ae("Noxious Cloak")}},{key:"getIcon",value:function(){return n(81478)}},{key:"getDisplayDescription",value:function(e,t){return ae("Applies Poison (-{{magnitude}}:hp:/sec for {{duration}} sec) when hit",{magnitude:ue(t.params.magnitude,{showDecimals:!0}),duration:ue(t.params.duration)})}}]),r}(yf));function Jb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var qb=function(e){(0,ws.default)(r,e);var t=Jb(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"evolvedSlime"}},{key:"getName",value:function(){return ae("Evolved Slime")}},{key:"getBaseStats",value:function(){return{maxHP:550,attack:32,defense:10,attackDelay:2.5,accuracy:100,dodge:100,crit:0}}},{key:"getPicture",value:function(e){return n(6784)}},{key:"getLevel",value:function(){return 9}},{key:"getCoinsAwardedBase",value:function(e){return 48}},{key:"getMonstiumAwardedBase",value:function(e){return 15}},{key:"getNextAction",value:function(e){var t=this;return xo(e,Gb.getId(),Qr.Enemy)?(0,xs.default)((0,Cs.default)(r.prototype),"getNextAction",this).call(this,e):{name:ae("Noxious Cloak"),delay:this.getAttackDelay(e),transform:function(e){return Ro(Gb.getId(),60,{target:Qr.Enemy,params:{magnitude:t.getAttack(e)/8,duration:1}})(e)}}}},{key:"getItemsAwardedBase",value:function(e){return[{itemId:$p.getId(),amount:1,chance:1},{itemId:tv.getId(),amount:1,chance:.35},{itemId:Hb.getId(),amount:1,chance:.4}]}}]),r}(Wu);const Xb=new qb;function Kb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Zb=new(function(e){(0,ws.default)(n,e);var t=Kb(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"airborne"}},{key:"getDisplayName",value:function(){return ae("Airborne")}},{key:"isBeneficial",value:function(){return!1}},{key:"getDisplayDescription",value:function(e,t){return ae('-20:accuracy:; immune to Earth damage and to "Grounded"')}}]),n}(yf));function _b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var $b=new(function(e){(0,ws.default)(n,e);var t=_b(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"attackSpellProtection"}},{key:"getDisplayName",value:function(){return ae("Spell Barrier")}},{key:"isBeneficial",value:function(){return!0}},{key:"getDisplayDescription",value:function(e,t){return ae("{{amount}} damage received from attack spells",{amount:le(t.params.damageMultiplier)})}}]),n}(yf));function ek(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var tk=new(function(e){(0,ws.default)(n,e);var t=ek(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"autoAttackProtection"}},{key:"getDisplayName",value:function(){return ae("Physical Barrier")}},{key:"isBeneficial",value:function(){return!0}},{key:"getDisplayDescription",value:function(e,t){return ae("{{amount}} damage received from physical attacks (auto-attacks)",{amount:le(t.params.damageMultiplier)})}}]),n}(yf));function nk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var rk=new(function(e){(0,ws.default)(n,e);var t=nk(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"berserk"}},{key:"getDisplayName",value:function(){return ae("Berserk")}},{key:"isBeneficial",value:function(){return!0}},{key:"getDamagePerSec",value:function(e,t){return gu(e,t.target,Vr.MaxHP)*t.params.damageMagnitude}},{key:"getDisplayDescription",value:function(e,t){return ae("{{multiplier}}:attack:; -{{amount}}:hp:/sec while in combat",{multiplier:le(t.params.attackMultiplier),amount:ue(this.getDamagePerSec(e,t),{showDecimals:!0})})}}]),n}(yf));function ak(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var ik=new(function(e){(0,ws.default)(n,e);var t=ak(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"wet"}},{key:"getDisplayName",value:function(){return ae("Wet")}},{key:"isBeneficial",value:function(){return!1}},{key:"getDisplayDescription",value:function(e,t){return ae("+10%:attackDelay:; next Fire attack received is halved in damage")}}]),n}(yf));function ok(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var uk=new(function(e){(0,ws.default)(n,e);var t=ok(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"chilled"}},{key:"getDisplayName",value:function(){return ae("Chilled")}},{key:"isBeneficial",value:function(){return!1}},{key:"getDisplayDescription",value:function(e,t){return ae("+25%:attackDelay:; next Fire attack received is halved in damage")}}]),n}(yf));function lk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var sk=new(function(e){(0,ws.default)(r,e);var t=lk(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"cloakOfFlames"}},{key:"getDisplayName",value:function(){return ae("Cloak of Flames")}},{key:"isBeneficial",value:function(){return!0}},{key:"getIcon",value:function(){return n(54177)}},{key:"getDisplayDescription",value:function(e,t){return ae("Reflects back {{multiplier}}x of the damage received as Fire damage",{multiplier:ue(t.params.magnitude,{showDecimals:!0})})}}]),r}(yf));function ck(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var fk=function(e){(0,ws.default)(r,e);var t=ck(r);function r(){var e;(0,Le.default)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).corrosionDoTAmountTags=(0,q.default)((function(t){return[e.getId(),pt.CorrosionDoTAmount,t]})),e}return(0,He.default)(r,[{key:"getId",value:function(){return"corrosion"}},{key:"getDisplayName",value:function(){return ae("Corrosion")}},{key:"getIcon",value:function(){return n(26795)}},{key:"isBeneficial",value:function(){return!1}},{key:"getDamagePerSec",value:function(e,t){return It(this.corrosionDoTAmountTags(t.target),e,t.params.magnitude,{target:t.target})}},{key:"getDisplayDescription",value:function(e,t){return ae("-{{amount}}:hp:/sec",{amount:ue(this.getDamagePerSec(e,t),{showDecimals:!0})})}},{key:"mergeData",value:function(e,t,n,a){if(t.params.magnitude==n.params.magnitude)return(0,xs.default)((0,Cs.default)(r.prototype),"mergeData",this).call(this,e,t,n,a);var i=Aa(e),o=(t.endTime-i)*t.params.magnitude;return(n.endTime-i)*n.params.magnitude<o?t:n}}]),r}(yf),dk=new fk;function gk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var hk=new(function(e){(0,ws.default)(r,e);var t=gk(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"cursed"}},{key:"getDisplayName",value:function(){return ae("Cursed")}},{key:"getIcon",value:function(){return n(25705)}},{key:"isBeneficial",value:function(){return!1}},{key:"isCombatOnly",value:function(){return!0}},{key:"getDisplayDescription",value:function(e,t){return ae("Explicit healing effects, in addition to the healing, cause damage of the same amount")}}]),r}(yf));function mk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var yk=new(function(e){(0,ws.default)(n,e);var t=mk(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"disease"}},{key:"getDisplayName",value:function(){return ae("Disease")}},{key:"isBeneficial",value:function(){return!1}},{key:"getDisplayDescription",value:function(e,t){return ae("Lowers Max HP to the current HP")}}]),n}(yf));function pk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var vk=new(function(e){(0,ws.default)(r,e);var t=pk(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"divineImmunity"}},{key:"getDisplayName",value:function(){return ae("Divine Immunity")}},{key:"isCombatOnly",value:function(){return!0}},{key:"getIcon",value:function(){return n(41487)}},{key:"getDisplayDescription",value:function(e,t){return ae("Immune to all damage and debuffs")}}]),r}(yf));function Ak(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var bk=function(e){(0,ws.default)(n,e);var t=Ak(n);function n(e){var r;return(0,Le.default)(this,n),(r=t.call(this)).element=e,r}return(0,He.default)(n,[{key:"getId",value:function(){return"elementalProtection"+this.element}},{key:"getDisplayName",value:function(){return ae("Resist {{element}}",{element:ln(this.element)})}},{key:"isBeneficial",value:function(){return!0}},{key:"getDisplayDescription",value:function(e,t){return ae("{{amount}} {{element}} damage received",{amount:le(t.params.damageMultiplier),element:ln(this.element)})}}]),n}(yf);function kk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var xk=function(e){(0,ws.default)(n,e);var t=kk(n);function n(e){var r;return(0,Le.default)(this,n),(r=t.call(this)).element=e,r}return(0,He.default)(n,[{key:"getId",value:function(){return"elementalSilence"+this.element}},{key:"getDisplayName",value:function(){return ae("Silence {{element}}",{element:ln(this.element)})}},{key:"isBeneficial",value:function(){return!1}},{key:"isCombatOnly",value:function(){return!0}},{key:"getDisplayDescription",value:function(e,t){return ae("Prevented from using {{element}} elemental spells",{element:ln(this.element)})}}]),n}(yf);function wk(){var e=function(e){po.register(new xk(e)),xt([[pt.CanCastSpell,e]],"elementalSilence"+e,ae("Silence {{element}}",{element:ln(e)}),At.Override,(function(t,n){return xo(t,"elementalSilence"+e,Qr.Player)?0:void 0})),ft("elementalSilence"+e+"-CanCastSpellClearer",(function(e){return La}),(function(t){return xo(t,"elementalSilence"+e,Qr.Player)}))};for(var t of _(un))e(t)}function Ek(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Ck=new(function(e){(0,ws.default)(r,e);var t=Ek(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"frail"}},{key:"getDisplayName",value:function(){return ae("Frail")}},{key:"getIcon",value:function(){return n(69773)}},{key:"isBeneficial",value:function(){return!1}},{key:"getDisplayDescription",value:function(e,t){return ae("-10%:defense:; takes double damage from Poison effect")}}]),r}(yf));function Ik(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Bk=new(function(e){(0,ws.default)(r,e);var t=Ik(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"frozen"}},{key:"getDisplayName",value:function(){return ae("Frozen")}},{key:"isBeneficial",value:function(){return!1}},{key:"getIcon",value:function(){return n(65173)}},{key:"getDisplayDescription",value:function(e,t){return ae("Attack gauge does not increase; next Fire attack received is reduced to 0")}}]),r}(yf)),Sk=new(function(e){(0,ws.default)(r,e);var t=Ik(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"frozenProtection"}},{key:"getDisplayName",value:function(){return ae("Frozen Protection")}},{key:"isBeneficial",value:function(){return!0}},{key:"getIcon",value:function(){return n(2504)}},{key:"getDisplayDescription",value:function(e,t){return ae('Immune to "Frozen"')}}]),r}(yf)),Rk=(0,q.default)((function(e){return[e,pt.PostFrozenProtectionDuration]}));function Pk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Tk=new(function(e){(0,ws.default)(n,e);var t=Pk(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"grounded"}},{key:"getDisplayName",value:function(){return ae("Grounded")}},{key:"isBeneficial",value:function(){return!1}},{key:"getDisplayDescription",value:function(e,t){return ae('-40:dodge:; immune to "Airborne"')}}]),n}(yf));function jk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Mk=new(function(e){(0,ws.default)(n,e);var t=jk(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"guard"}},{key:"getDisplayName",value:function(){return ae("Guard")}},{key:"isBeneficial",value:function(){return!0}},{key:"getDisplayDescription",value:function(e,t){return ae("-{{amount}}% damage received from next attack",{amount:ue(100*(1-t.params.multiplier))})}}]),n}(yf));function Dk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Ok=new(function(e){(0,ws.default)(r,e);var t=Dk(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"paralyzed"}},{key:"getDisplayName",value:function(){return ae("Paralyzed")}},{key:"isBeneficial",value:function(){return!1}},{key:"getIcon",value:function(){return n(53278)}},{key:"getDisplayDescription",value:function(e,t){return ae("+300%:attackDelay:")}}]),r}(yf));function Nk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Uk=new(function(e){(0,ws.default)(r,e);var t=Nk(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"petrified"}},{key:"getDisplayName",value:function(){return ae("Petrified")}},{key:"isBeneficial",value:function(){return!1}},{key:"getIcon",value:function(){return n(66430)}},{key:"getDisplayDescription",value:function(e,t){return ae("All explicit attack damage received is reduced to 0; Attack gauge does not increase")}}]),r}(yf));function Fk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Lk=new(function(e){(0,ws.default)(r,e);var t=Fk(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"poisonImmunity"}},{key:"getDisplayName",value:function(){return ae("Poison Immunity")}},{key:"getIcon",value:function(){return n(56927)}},{key:"getDisplayDescription",value:function(e,t){return ae('Immune to "Poison" debuff')}}]),r}(yf));function Hk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Yk=new(function(e){(0,ws.default)(n,e);var t=Hk(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"seared"}},{key:"getDisplayName",value:function(){return ae("Seared")}},{key:"isBeneficial",value:function(){return!1}},{key:"getDisplayDescription",value:function(e,t){return ae("-30%:defense:")}}]),n}(yf));function Qk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var zk=new(function(e){(0,ws.default)(r,e);var t=Qk(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"shapeshifted"}},{key:"getDisplayName",value:function(){return ae("Shapeshifted")}},{key:"getIcon",value:function(){return n(25910)}},{key:"isBeneficial",value:function(){return!0}},{key:"isCommonBuffEnabled",value:function(){return _(Vr).map((function(e){return[{stat:e,type:At.Addition},{stat:e,type:At.Multiplier}]})).flat()}},{key:"getDisplayDescription",value:function(e,t){return ae("Temporarily shapeshifted into {{what}}. Various stats altered.",{what:t.params.what})}}]),r}(yf));function Vk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Wk=new(function(e){(0,ws.default)(r,e);var t=Vk(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"shrunken"}},{key:"getDisplayName",value:function(){return ae("Shrunken")}},{key:"getIcon",value:function(){return n(61529)}},{key:"isBeneficial",value:function(){return!0}},{key:"isCommonBuffEnabled",value:function(){return[{stat:Vr.Dodge,type:At.Addition}]}},{key:"getDisplayDescription",value:function(e,t){return ae("+{{amount}}:dodge:",{amount:ue(t.params.commonBuff.Dodge)})}}]),r}(yf));function Gk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Jk=function(e){(0,ws.default)(n,e);var t=Gk(n);function n(e){var r;return(0,Le.default)(this,n),(r=t.call(this)).effect=e,r}return(0,He.default)(n,[{key:"getId",value:function(){return"statusImmunity"+this.effect.getId()}},{key:"getDisplayName",value:function(){return ae("Protection from {{status}}",{status:this.effect.getDisplayName()})}},{key:"isBeneficial",value:function(){return!0}},{key:"getDisplayDescription",value:function(e,t){return ae("Immunity to {{status}}",{status:this.effect.getDisplayName()})}}]),n}(yf),qk=[hk];function Xk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Kk=new(function(e){(0,ws.default)(r,e);var t=Xk(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"statusImmunity"}},{key:"getDisplayName",value:function(){return ae("Status Immunity")}},{key:"getIcon",value:function(){return n(35427)}},{key:"getDisplayDescription",value:function(e,t){return ae("Immune to all debuffs")}}]),r}(yf));function Zk(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var _k=new(function(e){(0,ws.default)(r,e);var t=Zk(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"stun"}},{key:"getDisplayName",value:function(){return ae("Stunned!")}},{key:"isBeneficial",value:function(){return!1}},{key:"getIcon",value:function(){return n(31351)}},{key:"getDisplayDescription",value:function(e,t){return ae("Cannot use spells or attack; Current attack is canceled")}}]),r}(yf)),$k=new(function(e){(0,ws.default)(r,e);var t=Zk(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"stunProtection"}},{key:"getDisplayName",value:function(){return ae("Stun Protection")}},{key:"isBeneficial",value:function(){return!0}},{key:"getIcon",value:function(){return n(97978)}},{key:"getDisplayDescription",value:function(e,t){return ae('Immune to "Stunned!"')}}]),r}(yf));function ex(){po.register(_k),po.register($k),xt([[Qr.Player,Vr.AttackDelay]],"PlayerStunAttackDelay",ae("Stunned!"),At.Override,(function(e){return xo(e,_k.getId(),Qr.Player)?1/0:null})),xt([[Qr.Familiar,Vr.AttackDelay]],"FamiliarStunAttackDelay",ae("Stunned!"),At.Override,(function(e){return xo(e,_k.getId(),Qr.Familiar)?1/0:null})),xt([[Qr.Enemy,Vr.AttackDelay]],"EnemyStunAttackDelay",ae("Stunned!"),At.Override,(function(e){return xo(e,_k.getId(),Qr.Enemy)?1/0:null})),No(_k.getId(),Vr.AttackDelay),Do("stunning",(function(e,t){return t.id===_k.getId()&&t.endTime>t.setTime&&xo(e,$k.getId(),t.target)?(t.endTime=bo(e,_k.getId(),t.target),t):t})),ft("PlayerStunning",(function(e){if(xo(e,_k.getId(),Qr.Player)){var t=bo(e,_k.getId(),Qr.Player)-Aa(e);return function(n){return n.run.exploration.playerActionProgress=0,n=Ro($k.getId(),It([Qr.Player,pt.PostStunProtectionDuration],e,6)+t,{mode:"add",target:Qr.Player})(n)}}}),(function(e){return bo(e,_k.getId(),Qr.Player)})),ft("PlayerStunningRecovery",(function(e){if(!xo(e,_k.getId(),Qr.Player))return function(e){return e.run.exploration.playerActionProgress=0,e}}),(function(e){return xo(e,_k.getId(),Qr.Player)})),ft("FamiliarStunning",(function(e){if(xo(e,_k.getId(),Qr.Familiar)){var t=bo(e,_k.getId(),Qr.Familiar)-Aa(e);return function(n){return n.run.exploration.familiarActionProgress=0,n=Ro($k.getId(),It([Qr.Familiar,pt.PostStunProtectionDuration],e,6)+t,{mode:"add",target:Qr.Familiar})(n)}}}),(function(e){return bo(e,_k.getId(),Qr.Familiar)})),ft("FamiliarStunningRecovery",(function(e){if(!xo(e,_k.getId(),Qr.Familiar))return function(e){return Vo=void 0,e.run.exploration.familiarActionProgress=0,e}}),(function(e){return xo(e,_k.getId(),Qr.Familiar)})),ft("EnemyStunning",(function(e){if(xo(e,_k.getId(),Qr.Enemy)){var t=bo(e,_k.getId(),Qr.Enemy)-Aa(e);return function(n){return n.run.exploration.enemyActionProgress=0,Zi(n=rt("enemyTurnCounter",Pu(n)+1)(n))===me.Combat&&(n=Ro($k.getId(),It([Qr.Enemy,pt.PostStunProtectionDuration],e,6)+t,{mode:"add",target:Qr.Enemy})(n)),n}}}),(function(e){return bo(e,_k.getId(),Qr.Enemy)})),ft("EnemyStunningRecovery",(function(e){if(!xo(e,_k.getId(),Qr.Enemy))return function(e){return zo=void 0,e.run.exploration.enemyActionProgress=0,e}}),(function(e){return xo(e,_k.getId(),Qr.Enemy)}))}function tx(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var nx=new(function(e){(0,ws.default)(r,e);var t=tx(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"weakened"}},{key:"getDisplayName",value:function(){return ae("Weakened")}},{key:"getIcon",value:function(){return n(12976)}},{key:"isBeneficial",value:function(){return!1}},{key:"isCommonBuffEnabled",value:function(){return[{stat:Vr.Attack,type:At.Multiplier}]}},{key:"getDisplayDescription",value:function(e,t){return ae("-{{amount}}%:attack:",{amount:ue(100*(1-t.params.commonBuff.AttackMultiplier))})}}]),r}(yf));function rx(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var ax=new(function(e){(0,ws.default)(r,e);var t=rx(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"wizardDisarray"}},{key:"getDisplayName",value:function(){return ae("Wizard Disarray")}},{key:"getIcon",value:function(){return n(78066)}},{key:"isBeneficial",value:function(){return!1}},{key:"getDisplayDescription",value:function(e,t){return ae("{{amount}}:wizardpower: production",{amount:le(t.params.multiplier)})}}]),r}(yf));function ix(e,t){return!xo(e,hk.getId(),t)&&du(e,t)>0}function ox(){ca("CommonDoT",(function(e,t){return Co(e,(function(e,t){var n;return null!=(null==(n=t.params)?void 0:n.commonDoTAmount)})).forEach((function(n){var r=po.getById(n.id);if(n.target===Qr.Enemy){if(n.params.commonDoTAmount<0&&nu(e)<=0)return e;e=cu(e,-n.params.commonDoTAmount*t)}else if(n.target===Qr.Familiar){if(n.params.commonDoTAmount<0&&tu(e)<=0)return e;e=su(e,-n.params.commonDoTAmount*t,r.getDisplayName())}else{if(n.params.commonDoTAmount<0&&eu(e)<=0)return e;e=lu(e,-n.params.commonDoTAmount*t,r.getDisplayName())}})),e})),_(Qr).forEach((function(e){_(Vr).forEach((function(t){xt([[e,t]],"CommonBuff"+e+t,ae("Buffs and debuffs"),At.Addition,(function(n){var r=0;return jo(t,At.Addition).forEach((function(a){var i,o,u,l=Eo(n,a.getId(),e);r+=null!=(i=null==l||null==(o=l.params)||null==(u=o.commonBuff)?void 0:u[t])?i:0})),r})),xt([[e,t]],"CommonBuffMultiplication"+e+t,ae("Buffs and debuffs"),At.Multiplier,(function(n){var r=1,a=t+"Multiplier";return jo(t,At.Multiplier).forEach((function(t){var i,o,u,l=Eo(n,t.getId(),e);r*=null!=(i=null==l||null==(o=l.params)||null==(u=o.commonBuff)?void 0:u[a])?i:1})),r}))}))})),Do("TemporaryEffectCombatStatCacheClearer",(function(e,t){var n=po.getById(t.id).isCommonBuffEnabled();if(n.length>0)for(var r of n)e=ra(e,t.target,r.stat);return t})),ca("TemporaryEffectDeleterAndCacheCleaerer",(function(e,t,n){var r=Aa(e),a=_(e.run.temporaryEffects).filter((function(e){return!e.registeredClear&&e.endTime<r}));if(a.length>0){var i=function(t){t.registeredClear=!0,e=ra(e,t.target),Oo.getAll().forEach((function(n){return n(e,t)}))};for(var o of a)i(o)}return e}),1e5),function(){po.register(ik),xt([[pt.AttackDamageReceived]],"wet",ik.getDisplayName(),At.Multiplier,(function(e,t){var n;return xo(e,ik.getId(),t.target)&&(null!=(n=t.tags)?n:[]).includes(un.Fire)?.5:1}));var e=function(e){xt([[Vr.AttackDelay,e]],"wet"+e,ik.getDisplayName(),At.Multiplier,(function(t,n){return xo(t,ik.getId(),e)?1.1:1}))};for(var t of _(Qr))e(t);No(ik.getId(),Vr.AttackDelay),Fo.register((function(e,t){return t.tags.includes(un.Fire)&&t.isHit&&xo(e,ik.getId(),t.target)&&(e=Po(ik.getId(),t.target)(e)),e}))}(),function(){po.register(uk),xt([[pt.AttackDamageReceived]],"chilled",uk.getDisplayName(),At.Multiplier,(function(e,t){var n;return xo(e,uk.getId(),t.target)&&(null!=(n=t.tags)?n:[]).includes(un.Fire)?.5:1}));var e=function(e){xt([[Vr.AttackDelay,e]],"chilled"+e,uk.getDisplayName(),At.Multiplier,(function(t,n){return xo(t,uk.getId(),e)?1.25:1}))};for(var t of _(Qr))e(t);No(uk.getId(),Vr.AttackDelay),Fo.register((function(e,t){return t.tags.includes(un.Fire)&&t.isHit&&xo(e,uk.getId(),t.target)&&(e=Po(uk.getId(),t.target)(e)),e})),ft("wetClearerIfChilled",(function(e){for(var t of _(Qr))if(xo(e,uk.getId(),t)&&xo(e,ik.getId(),t))return Po(ik.getId(),t)}))}(),function(){po.register(Bk),po.register(Sk),xt([[pt.AttackDamageReceived]],"frozen",Bk.getDisplayName(),At.Override,(function(e,t){var n;return xo(e,Bk.getId(),t.target)&&(null!=(n=t.tags)?n:[]).includes(un.Fire)?0:void 0}));var e=function(e){xt([[Vr.AttackDelay,e]],"frozen"+e,Bk.getDisplayName(),At.Override,(function(t,n){return xo(t,Bk.getId(),e)?1/0:void 0}))};for(var t of _(Qr))e(t);No(Bk.getId(),Vr.AttackDelay),Fo.register((function(e,t){return t.tags.includes(un.Fire)&&xo(e,Bk.getId(),t.target)&&(e=Po(Bk.getId(),t.target)(e)),e})),Do("frozenClearer",(function(e,t){if(t.id===Bk.getId()&&t.endTime>t.setTime){if(xo(e,Sk.getId(),t.target))return t.endTime=bo(e,Bk.getId(),t.target),t;e=Ro(Sk.getId(),It(Rk(t.target),e,3)+t.endTime-Aa(e),{mode:"add",target:t.target})(e)}return t}),!0)}(),function(){po.register(Yk);var e=function(e){xt([[Vr.Defense,e]],"seared"+e,Yk.getDisplayName(),At.Multiplier,(function(t,n){return xo(t,Yk.getId(),e)?.7:1}))};for(var t of _(Qr))e(t);No(Yk.getId(),Vr.Defense),ft("searedClearerIfWet",(function(e){for(var t of _(Qr))if(xo(e,ik.getId(),t)&&xo(e,Yk.getId(),t))return Po(Yk.getId(),t)}))}(),po.register(Mk),xt([[pt.AttackDamageReceived]],"guard",Mk.getDisplayName(),At.Multiplier,(function(e,t){return xo(e,Mk.getId(),t.target)?Eo(e,Mk.getId(),t.target).params.multiplier:1})),Fo.register((function(e,t){return t.isHit&&t.damage>=0&&xo(e,Mk.getId(),t.target)&&(e=Po(Mk.getId(),t.target)(e)),e})),po.register(Vb),ca("PoisonDoT",(function(e,t){return Co(e,(function(e,t){return t.id==Vb.getId()})).forEach((function(n){e=n.target===Qr.Enemy?cu(e,-Vb.getDamagePerSec(e,n)*t):n.target===Qr.Familiar?su(e,-Vb.getDamagePerSec(e,n)*t,Vb.getDisplayName()):lu(e,-Vb.getDamagePerSec(e,n)*t,Vb.getDisplayName())})),e})),po.register(Gb),Fo.register((function(e,t){if((t.tags.includes(pt.AutoAttack)||t.source==Qr.Enemy||t.source==Qr.Familiar)&&xo(e,Gb.getId(),t.target)){var n=Eo(e,Gb.getId(),t.target);e=Ro(Vb.getId(),n.params.duration,{target:t.source,params:{magnitude:n.params.magnitude}})(e)}return e})),po.register(Wk),function(){po.register(yk);var e=function(e){xt([[e,Vr.MaxHP]],e+"disease",yk.getDisplayName(),At.Override,(function(t){return xo(t,yk.getId(),e)?Math.max(du(t,e),1):null})),ca("diseaseCacheClearerHP"+e,(function(t,n){return xo(t,yk.getId(),e)?ra(t,e,Vr.MaxHP):t}))};for(var t of _(Qr))e(t);No(yk.getId(),Vr.MaxHP)}(),po.register(nx),function(){po.register(Tk);var e=function(e){xt([[Vr.Dodge,e]],"grounded"+e,Tk.getDisplayName(),At.Addition,(function(t,n){return xo(t,Tk.getId(),e)?-40:0}))};for(var t of _(Qr))e(t);No(Tk.getId(),Vr.Dodge),Do("groundedAirbornePrevention",(function(e,t){return xo(e,Tk.getId(),t.target)?("airborne"!=t.id||(t.endTime=Aa(e)-1),t):t}))}(),function(){po.register(Zb),xt([[pt.AttackDamageReceived]],"airborneDamage",Zb.getDisplayName(),At.Multiplier,(function(e,t){var n;return xo(e,Zb.getId(),t.target)&&(null!=(n=t.tags)?n:[]).includes(un.Earth)?0:1}));var e=function(e){xt([[Vr.Accuracy,e]],"airborne"+e,Zb.getDisplayName(),At.Addition,(function(t,n){return xo(t,Zb.getId(),e)?-20:0}))};for(var t of _(Qr))e(t);No(Zb.getId(),Vr.Accuracy),Do("airborneGroundedPrevention",(function(e,t){return xo(e,Zb.getId(),t.target)?("grounded"!=t.id||(t.endTime=Aa(e)-1),t):t}))}(),po.register(sk),Fo.register((function(e,t){if(!xo(e,sk.getId(),t.target))return e;if(!t.isHit||t.damage<=0||t.tags.includes(pt.Reflected)||t.source==t.target)return e;var n=Eo(e,sk.getId(),t.target).params.magnitude,r=t.damage*n;return Lo(e=uu(e,t.source,-r,sk.getDisplayName()),{id:Math.random().toString(),damage:r,isHit:!0,isCrit:!1,source:t.target,time:Aa(e),target:t.source,tags:[un.Fire,pt.Reflected]})})),ex(),po.register(ax),xt([[pt.AutocastPointsProduction]],ax.getId(),ax.getDisplayName(),At.Multiplier,(function(e,t){return xo(e,ax.getId(),Qr.Player)?Eo(e,ax.getId(),Qr.Player).params.multiplier:1})),function(){po.register(Ck),xt([[Vb.getId(),pt.PoisonDoTAmount]],Ck.getId()+"poison",Ck.getDisplayName(),At.Multiplier,(function(e,t){return xo(e,Ck.getId(),t.target)?2:1}));var e=function(e){xt([[e,Vr.Defense]],Ck.getId()+"defense",Ck.getDisplayName(),At.Multiplier,(function(t,n){return xo(t,Ck.getId(),e)?.9:1}))};for(var t of _(Qr))e(t);No(Ck.getId(),Vr.Defense)}(),function(){po.register(rk),ca("BerserkDoT",(function(e,t){return Co(e,(function(e,t){return t.id==rk.getId()})).forEach((function(n){Zi(e)==me.Combat&&(e=uu(e,n.target,-rk.getDamagePerSec(e,n)*t,ae("Berserk")))})),e}));var e=function(e){xt([[e,Vr.Attack]],"berserk"+e,rk.getDisplayName(),At.Multiplier,(function(t){return xo(t,rk.getId(),e)?Eo(t,rk.getId(),e).params.attackMultiplier:1}))};for(var t of _(Qr))e(t);No(rk.getId(),Vr.Attack)}(),function(){po.register(Uk),xt([[pt.AttackDamageReceived]],"petrified",Uk.getDisplayName(),At.Override,(function(e,t){return xo(e,Uk.getId(),t.target)?0:void 0}));var e=function(e){xt([[Vr.AttackDelay,e]],"petrified"+e,Uk.getDisplayName(),At.Override,(function(t,n){return xo(t,Uk.getId(),e)?1/0:void 0}))};for(var t of _(Qr))e(t);No(Uk.getId(),Vr.AttackDelay)}(),po.register(zk),po.register(Lk),Do("poisonImmunityPoisonPrevention",(function(e,t){return t.id!=Vb.getId()?t:xo(e,Lk.getId(),t.target)?(t.endTime=Aa(e)-1,t):t})),po.register(dk),ca("CorrosionDoT",(function(e,t){return Co(e,(function(e,t){return t.id==dk.getId()})).forEach((function(n){e=n.target===Qr.Enemy?cu(e,-dk.getDamagePerSec(e,n)*t):n.target===Qr.Familiar?su(e,-dk.getDamagePerSec(e,n)*t,dk.getDisplayName()):lu(e,-dk.getDamagePerSec(e,n)*t,dk.getDisplayName())})),e})),function(){var e=function(e){po.register(new bk(e)),xt([[pt.AttackDamageReceived]],"elementalProtection"+e,ae("Resist {{element}}",{element:ln(e)}),At.Multiplier,(function(t,n){var r;return xo(t,"elementalProtection"+e,n.target)&&(null!=(r=n.tags)?r:[]).includes(e)?Eo(t,"elementalProtection"+e,n.target).params.damageMultiplier:1}))};for(var t of _(un))e(t);xt([[pt.PoisonDoTAmount],[pt.CorrosionDoTAmount]],"poisonResistanceFromElementalProtection",ae("Resist Poison"),At.Multiplier,(function(e,t){return xo(e,"elementalProtectionPoison",t.target)?Eo(e,"elementalProtectionPoison",t.target).params.damageMultiplier:1}))}(),po.register(hk),Fo.register((function(e,t){return t.damage<0&&xo(e,hk.getId(),t.target)&&(e=Lo(e=uu(e,t.target,t.damage,hk.getDisplayName()),{id:Math.random().toString(),damage:-t.damage,isCrit:!1,isHit:!0,time:Aa(e),source:t.target,target:t.target,tags:[hk.getId()]})),e})),po.register(Kk),Do("statusImmunityDebuffPrevention",(function(e,t){return xo(e,Kk.getId(),t.target)?(po.getById(t.id).isBeneficial()||(t.endTime=Aa(e)-1),t):t})),function(){po.register(Ok);var e=function(e){xt([[Vr.AttackDelay,e]],"paralyzed"+e,Ok.getDisplayName(),At.Multiplier,(function(t,n){return xo(t,Ok.getId(),e)?4:1}))};for(var t of _(Qr))e(t);No(Ok.getId(),Vr.AttackDelay)}(),po.register($b),xt([[pt.AttackDamageReceived]],"attackSpellProtection",ae("Resist Attack Spells"),At.Multiplier,(function(e,t){var n;return xo(e,$b.getId(),t.target)&&(null!=(n=t.tags)?n:[]).includes(pt.AttackSpell)?Eo(e,$b.getId(),t.target).params.damageMultiplier:1})),wk(),function(){var e=function(e){var t=new Jk(e);po.register(t),Do("statusImmunityDebuffPrevention"+e.getId(),(function(n,r){return xo(n,t.getId(),r.target)&&r.id==e.getId()?(r.endTime=Aa(n)-1,r):r})),Do("statusImmunityDispelling"+e.getId(),(function(n,r){return r.id==t.getId()&&r.endTime>Aa(n)&&(n=Po(e.getId(),r.target)(n)),r}))};for(var t of qk)e(t)}(),function(){po.register(vk);var e=function(e){xt([[pt.AttackDamageReceived,e]],"DivineImmunityDamage"+e,vk.getDisplayName(),At.Multiplier,(function(t){return xo(t,vk.getId(),e)?0:1})),Do("divineImmunityDebuffPrevention",(function(e,t){return xo(e,vk.getId(),t.target)?(po.getById(t.id).isBeneficial()||(t.endTime=Aa(e)-1),t):t}))};for(var t of _(Qr))e(t)}(),po.register(tk),xt([[pt.AttackDamageReceived]],"autoAttackProtection",ae("Physical Barrier"),At.Multiplier,(function(e,t){var n;return xo(e,tk.getId(),t.target)&&(null!=(n=t.tags)?n:[]).includes(pt.AutoAttack)?Eo(e,tk.getId(),t.target).params.damageMultiplier:1}))}function ux(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var lx=function(e){(0,ws.default)(n,e);var t=ux(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"isVisible",value:function(e){return Ve(e,Ir.ExplorationUnlocked)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"timesCraftable",value:function(e){return Sr(e)?Math.min(9999,(0,xs.default)((0,Cs.default)(n.prototype),"timesCraftable",this).call(this,e)):1}},{key:"simplifyCrafting",value:function(){return!1}}]),n}(sf);function sx(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var cx=function(e){(0,ws.default)(r,e);var t=sx(r);function r(){var e;(0,Le.default)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).hpHealTags=[],e}return(0,He.default)(r,[{key:"getId",value:function(){return"healthPotion"}},{key:"getPicture",value:function(){return n(7181)}},{key:"getBaseName",value:function(e){return ae("Health Potion")}},{key:"getDescription",value:function(e,t){return ae("A basic potion that cures minor wounds.")}},{key:"getBaseExtraItemEffects",value:function(e){return{hpHeal:{value:25,tags:this.hpHealTags,unit:":hp:"}}}},{key:"getHPHealAmount",value:function(e,t){return this.getItemEffects(e,t,"hpHeal").hpHeal}},{key:"getEffect",value:function(e,t){return ae("^+{{amount}}^<{{explanation}}>:hp:",{amount:ue(this.getHPHealAmount(e,t)),explanation:this.getItemEffectExplanations(e,t,"hpHeal").hpHeal})}},{key:"getBaseSalePrice",value:function(e,t){return 150}},{key:"doPouchItemEffect",value:function(e,t){var n=this.getHPHealAmount(e,t);return e=Lo(e=lu(e,n,this.getBaseName(t)),{id:Math.random().toString(),damage:-n,isCrit:!1,isHit:!0,time:Aa(e),source:Qr.Player,target:Qr.Player,tags:this.getTags()})}},{key:"shouldAutoUse",value:function(e,t){var n=Gr(e),r=eu(e);return(n-r>this.getHPHealAmount(e,t)||r/n<.3)&&ix(e,Qr.Player)}},{key:"getUsesPerCombatBase",value:function(e){return 3}}]),r}(Jh),fx=new cx,dx=new(function(e){(0,ws.default)(n,e);var t=sx(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return fx}},{key:"getCraftingElementLevelRequirements",value:function(){return{Water:6}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:200,WaterEssence:2e3},items:{elementalShardWater:5,wildgrass:10}}}},{key:"getElement",value:function(){return un.Water}}]),n}(lx));function gx(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var hx=new(function(e){(0,ws.default)(r,e);var t=gx(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"cotton"}},{key:"getTags",value:function(){return[yh.Material]}},{key:"getPicture",value:function(){return n(94027)}},{key:"getBaseName",value:function(e){return ae("Cotton")}},{key:"getDescription",value:function(e,t){return ae("A thread of cotton. Strong and durable, useful for making many kinds of clothing.")}},{key:"getEffect",value:function(e,t){}},{key:"getBaseSalePrice",value:function(e,t){return 80}}]),r}(Nh)),mx=new(function(e){(0,ws.default)(n,e);var t=gx(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return hx}},{key:"getCraftingElementLevelRequirements",value:function(){return{Air:22}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:600,AirEssence:18e3},items:{}}}},{key:"getElement",value:function(){return un.Air}}]),n}(sf));function yx(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var px=function(e){(0,ws.default)(r,e);var t=yx(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"goblin"}},{key:"getName",value:function(){return ae("Goblin")}},{key:"getBaseStats",value:function(){return{maxHP:799,attack:39,defense:25,attackDelay:1.8,accuracy:100,dodge:100,crit:0}}},{key:"getPicture",value:function(e){return n(78203)}},{key:"getLevel",value:function(){return 13}},{key:"getCoinsAwardedBase",value:function(e){return 46}},{key:"getMonstiumAwardedBase",value:function(e){return 23}},{key:"getNextAction",value:function(e){var t=this;return zt(e,Dt.Coins)>=250&&Math.random()<.1?{name:ae("Steal Coins"),delay:this.getAttackDelay(e),transform:function(e){return Wt(Dt.Coins,-(50+200*Math.random()))(e)}}:Math.random()<.7?{name:ae("Double Attack"),delay:1*this.getAttackDelay(e),transform:function(e){return e=vu(e,.8*t.getAttack(e)),e=vu(e,.8*t.getAttack(e))}}:(0,xs.default)((0,Cs.default)(r.prototype),"getNextAction",this).call(this,e)}},{key:"getItemsAwardedBase",value:function(e){return[{itemId:Hb.getId(),amount:2,chance:.45},{itemId:hx.getId(),amount:1,chance:.12},{itemId:tv.getId(),amount:1,chance:.25},{itemId:fx.getId(),amount:1,chance:.01}]}},{key:"onDeath",value:function(e,t,n){return e=(0,xs.default)((0,Cs.default)(r.prototype),"onDeath",this).call(this,e,t,n),t||(e=Gi(e,"goblinKills",1)),e}}]),r}(Wu);const vx=new px;function Ax(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var bx=function(e){(0,ws.default)(r,e);var t=Ax(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"mutatedFish"}},{key:"getName",value:function(){return ae("Mutated Fish")}},{key:"getBaseStats",value:function(){return{maxHP:3e3,attack:40,defense:30,attackDelay:2.5,accuracy:100,dodge:100,crit:0}}},{key:"getPicture",value:function(e){return n(17163)}},{key:"isBoss",value:function(){return!0}},{key:"getLevel",value:function(){return 13}},{key:"getCoinsAwardedBase",value:function(e){return 99}},{key:"getMonstiumAwardedBase",value:function(e){return 60}},{key:"getNextAction",value:function(e){var t=this;return Pu(e)%12==0?{name:ae("Tsunami"),delay:3*this.getAttackDelay(e),transform:function(e){return e=Ro(ik.getId(),60,{target:Qr.Enemy})(e),e=Lo(e=cu(e=vu(e=Ro(ik.getId(),60,{target:Qr.Player})(e),3*t.getAttack(e),{tags:[un.Water]}),-300),{id:Math.random().toString(),damage:300,isCrit:!1,isHit:!0,source:Qr.Enemy,target:Qr.Enemy,tags:[],time:Aa(e)})}}:!xo(e,ik.getId(),Qr.Enemy)&&!xo(e,uk.getId(),Qr.Enemy)||Math.random()<.5?{name:ae("Ripple"),delay:this.getAttackDelay(e),transform:function(e){return e=Ro(ik.getId(),60,{target:Qr.Enemy})(e),e=Lo(e=cu(e=vu(e=Ro(ik.getId(),60,{target:Qr.Player})(e),t.getAttack(e),{tags:[un.Water]}),-30),{id:Math.random().toString(),damage:30,isCrit:!1,isHit:!0,source:Qr.Enemy,target:Qr.Enemy,tags:[],time:Aa(e)})}}:Math.random()<.05&&!xo(e,Vb.getId(),Qr.Player)?{name:ae("Poisonous Bite"),delay:this.getAttackDelay(e),transform:function(e){return e=vu(e,.6*t.getAttack(e)),e=Ro(Vb.getId(),15,{target:Qr.Player,params:{magnitude:t.getAttack(e)/20}})(e)}}:Math.random()<.4?{name:ae("Fast Attack"),delay:.5*this.getAttackDelay(e),transform:function(e){return vu(e,.8*t.getAttack(e))}}:(0,xs.default)((0,Cs.default)(r.prototype),"getNextAction",this).call(this,e)}},{key:"getItemsAwardedBase",value:function(e){return[{itemId:Hb.getId(),amount:4,chance:1}]}},{key:"getTips",value:function(){return ae("This might have used to be a Sewer Fish, but something odd has happened to it! It is strong. It will use Water attacks that also hit itself. This will make them Wet, which will reduce the effectivity of your Fire attacks. It also seems to have a really strong Tsunami attack... watch out! The Guard skill might come in handy, if your Earth is Lv12 or higher.")}},{key:"onDeath",value:function(e,t,n){return e=vr(e=(0,xs.default)((0,Cs.default)(r.prototype),"onDeath",this).call(this,e,t,n),"sewerEntrance")}}]),r}(Wu);const kx=new bx;function xx(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const wx=new(function(e){(0,ws.default)(r,e);var t=xx(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"venomPowder"}},{key:"getTags",value:function(){return[yh.Material]}},{key:"getPicture",value:function(){return n(40289)}},{key:"getBaseName",value:function(e){return ae("Venom Powder")}},{key:"getDescription",value:function(e,t){return ae("A toxic extract. Useful for making equally toxic items.")}},{key:"getEffect",value:function(e,t){}},{key:"getBaseSalePrice",value:function(e,t){return 30}}]),r}(Nh));function Ex(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Cx=function(e){(0,ws.default)(r,e);var t=Ex(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"poisonousToad"}},{key:"getName",value:function(){return ae("Poisonous Toad")}},{key:"getBaseStats",value:function(){return{maxHP:450,attack:34,defense:12,attackDelay:1.8,accuracy:100,dodge:100,crit:0}}},{key:"getPicture",value:function(e){return n(13726)}},{key:"getLevel",value:function(){return 9}},{key:"getCoinsAwardedBase",value:function(e){return 50}},{key:"getMonstiumAwardedBase",value:function(e){return 16}},{key:"getNextAction",value:function(e){var t=this;return!xo(e,Vb.getId(),Qr.Player)&&Math.random()<.2?{name:ae("Poisonous Spit"),delay:this.getAttackDelay(e),transform:function(e){return Ro(Vb.getId(),15,{target:Qr.Player,params:{magnitude:t.getAttack(e)/12}})(e)}}:!xo(e,Wk.getId(),Qr.Enemy)&&Math.random()<.1?{name:ae("Shrink!"),delay:1.15*this.getAttackDelay(e),transform:function(e){return Ro(Wk.getId(),15,{target:Qr.Enemy,params:{commonBuff:{Dodge:100}}})(e)}}:(0,xs.default)((0,Cs.default)(r.prototype),"getNextAction",this).call(this,e)}},{key:"getItemsAwardedBase",value:function(e){return[{itemId:Hb.getId(),amount:1,chance:.25},{itemId:wx.getId(),amount:2,chance:.15}]}}]),r}(Wu);const Ix=new Cx;function Bx(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Sx=function(e){(0,ws.default)(r,e);var t=Bx(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"sewerFish"}},{key:"getName",value:function(){return ae("Sewer Fish")}},{key:"getBaseStats",value:function(){return{maxHP:640,attack:35,defense:16,attackDelay:2,accuracy:100,dodge:100,crit:0}}},{key:"getPicture",value:function(e){return n(98864)}},{key:"getLevel",value:function(){return 11}},{key:"getCoinsAwardedBase",value:function(e){return 65}},{key:"getMonstiumAwardedBase",value:function(e){return 22}},{key:"getNextAction",value:function(e){var t=this;return xo(e,ik.getId(),Qr.Enemy)||xo(e,uk.getId(),Qr.Enemy)?Math.random()<.4?{name:ae("Fast Attack"),delay:.5*this.getAttackDelay(e),transform:function(e){return vu(e,.8*t.getAttack(e))}}:(0,xs.default)((0,Cs.default)(r.prototype),"getNextAction",this).call(this,e):{name:ae("Soak"),delay:.2*this.getAttackDelay(e),transform:function(e){return Ro(ik.getId(),60,{target:Qr.Enemy})(e)}}}},{key:"getItemsAwardedBase",value:function(e){return[{itemId:Hb.getId(),amount:2,chance:.55},{itemId:hx.getId(),amount:1,chance:.15}]}}]),r}(Wu);const Rx=new Sx;function Px(e){return{enemy:e,normal:$o(e),familiar:function(t,n){var r=to(t,n),a=mo.getById(r.familiarClassId),i=a.getLevel(t,n),o=e.getLevel(),u=1;return i<o&&(u=Math.pow(.5,o-i)),Math.random()<u?(t=fo(t,n,ae("Your familiar defeated {{enemy}}!",{enemy:e.getName()})),t=e.onDeath(t,!0,n)):t=fo(t,n,ae("Your familiar faced {{enemy}}, but was defeated!",{enemy:e.getName()})),t}}}var Tx=[pt.ExplorationBossRequirement],jx=function(){function e(){(0,Le.default)(this,e)}return(0,He.default)(e,[{key:"getIdForTallyingClears",value:function(){return this.getId()}},{key:"getExplorationRequiredTimeSecBase",value:function(){return 5}},{key:"_getExplorationSuccessesForBossBase",value:function(){return 50}},{key:"getExplorationSuccessesForBoss",value:function(e){return Math.max(Math.ceil(It(Tx,e,this._getExplorationSuccessesForBossBase(),{floor:this})),1)}},{key:"doExplore",value:function(e,t,n){var r=this,a=Re(e,this.getId()+"ExplorationPossibilities"+t,(function(e){return r.getExplorationPossibilities(e,t)})),i=a.reduce((function(e,t){return e+t.weight}),0),o=(null!=n?n:Math.random())*i;for(var u in a){var l=a[u];if((o-=l.weight)<0)return l.transforms}return null}},{key:"doFightBoss",value:function(e){var t=this.getBoss(e);if(t)return $o(t)}},{key:"canFightBoss",value:function(e){var t=this;return je(e,"dungeonFloorFightBoss."+this.getId(),(function(e){return(xu(e,t.getId())>=t.getExplorationSuccessesForBoss(e)||yr(e,t))&&void 0!=t.getBoss(e)}))}},{key:"isUnlocked",value:function(e){return!1}},{key:"getNextFloor",value:function(e){}},{key:"getMinimumMPLRecommendation",value:function(){}},{key:"getMaximumMPLRecommendation",value:function(){}},{key:"getExplorationPossibilities",value:function(e,t){var n=this;return this.getBaseExplorationPossibilities(e).map((function(r){var a;return{weight:It(Mx(n.getId(),null==(a=r.transforms.enemy)?void 0:a.getId(),t),e,r.weight),transforms:r.transforms}}))}},{key:"isDangerousForFamiliar",value:function(e,t){var n=to(e,t),r=mo.getById(n.familiarClassId).getLevel(e,t),a=this.getExplorationPossibilities(e,!0),i=0,o=0;for(var u of a){var l=u.weight,s=u.transforms.enemy.getLevel(),c=1;r<s&&(c=Math.pow(.5,s-r)),i+=l*c,o+=l*(1-c)}return i/(i+o)<.8}},{key:"calculateAverageEnemyLevelForFamiliars",value:function(e){var t=this.getExplorationPossibilities(e,!0),n=0,r=0;for(var a of t){var i=a.weight;n+=i,r+=a.transforms.enemy.getLevel()*i}return r/n}}]),e}(),Mx=(0,q.default)((function(e,t,n){return[e,t,pt.ExplorationWeight,n?pt.FromFamiliarExploration:pt.FromExploration]}));function Dx(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Ox=new(function(e){(0,ws.default)(r,e);var t=Dx(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"antidotePotion"}},{key:"getPicture",value:function(){return n(12693)}},{key:"getBaseName",value:function(e){return ae("Antidote Potion")}},{key:"getDescription",value:function(e,t){return ae("Although built from extracted venom, it neutralizes it instead.")}},{key:"getEffect",value:function(e,t){return ae('Cures "Poison"')}},{key:"getBaseSalePrice",value:function(e,t){return 250}},{key:"doPouchItemEffect",value:function(e,t){return Po(Vb.getId(),Qr.Player)(e)}},{key:"shouldAutoUse",value:function(e,t){return xo(e,Vb.getId(),Qr.Player)}},{key:"getUsesPerCombatBase",value:function(e){return 8}}]),r}(Jh)),Nx=new(function(e){(0,ws.default)(n,e);var t=Dx(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return Ox}},{key:"getCraftingElementLevelRequirements",value:function(){return{Poison:15}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:400,PoisonEssence:1e3},items:{elementalShardWater:5,elementalShardPoison:5,venomPowder:5}}}},{key:"getElement",value:function(){return un.Poison}}]),n}(lx));function Ux(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Fx=function(e){(0,ws.default)(r,e);var t=Ux(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"goblinSharpshooter"}},{key:"getName",value:function(){return ae("Goblin Sharpshooter")}},{key:"getBaseStats",value:function(){return{maxHP:899,attack:60,defense:25,attackDelay:1.9,accuracy:70,dodge:100,crit:0}}},{key:"getPicture",value:function(e){return n(39914)}},{key:"getLevel",value:function(){return 15}},{key:"getCoinsAwardedBase",value:function(e){return 68}},{key:"getMonstiumAwardedBase",value:function(e){return 29}},{key:"getNextAction",value:function(e){var t=this,n=hu(e);return zt(e,Dt.Coins)>=250&&Math.random()<.1?{name:ae("Steal Coins"),delay:this.getAttackDelay(e),transform:function(e){return Wt(Dt.Coins,-(50+200*Math.random()))(e)}}:!xo(e,Vb.getId(),n)&&Math.random()<.2?{name:ae("Poisonous Arrow"),delay:1*this.getAttackDelay(e),transform:function(e){var n=Ki(e=vu(e,1*t.getAttack(e)));return n.isHit&&(e=Ro(Vb.getId(),15,{target:n.target,params:{magnitude:t.getAttack(e)/19}})(e)),e}}:Math.random()<.2?{name:ae("Barrage"),delay:2*this.getAttackDelay(e),transform:function(e){return e=vu(e,.6*t.getAttack(e)),e=vu(e,.6*t.getAttack(e)),e=vu(e,.6*t.getAttack(e)),e=vu(e,.6*t.getAttack(e))}}:(0,xs.default)((0,Cs.default)(r.prototype),"getNextAction",this).call(this,e)}},{key:"getItemsAwardedBase",value:function(e){return[{itemId:Hb.getId(),amount:2,chance:.5},{itemId:hx.getId(),amount:1,chance:.25},{itemId:tv.getId(),amount:1,chance:.5},{itemId:Ox.getId(),amount:1,chance:.01}]}},{key:"onDeath",value:function(e,t,n){return e=(0,xs.default)((0,Cs.default)(r.prototype),"onDeath",this).call(this,e,t,n),t||(e=Gi(e,"goblinKills",1)),e}}]),r}(Wu);const Lx=new Fx;function Hx(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Yx=function(e){(0,ws.default)(r,e);var t=Hx(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"sewerFly"}},{key:"getName",value:function(){return ae("Sewer Fly")}},{key:"getBaseStats",value:function(){return{maxHP:420,attack:37,defense:10,attackDelay:1.1,accuracy:100,dodge:120,crit:0}}},{key:"getPicture",value:function(e){return n(98276)}},{key:"getLevel",value:function(){return 14}},{key:"getCoinsAwardedBase",value:function(e){return 30}},{key:"getMonstiumAwardedBase",value:function(e){return 24}},{key:"getNextAction",value:function(e){var t=this,n=hu(e);return!xo(e,yk.getId(),n)&&Math.random()<.1?{name:ae("Diseased Leech"),delay:1.3*this.getAttackDelay(e),transform:function(e){return e=Au(e,t.getAttack(e)),e=Ro(yk.getId(),12,{target:n})(e)}}:Math.random()<.5?{name:ae("Leech"),delay:this.getAttackDelay(e),transform:function(e){return e=Au(e,t.getAttack(e))}}:(0,xs.default)((0,Cs.default)(r.prototype),"getNextAction",this).call(this,e)}},{key:"getItemsAwardedBase",value:function(e){return[{itemId:Hb.getId(),amount:1,chance:.55},{itemId:hx.getId(),amount:1,chance:.13},{itemId:wx.getId(),amount:1,chance:.35}]}}]),r}(Wu);const Qx=new Yx;function zx(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Vx=function(e){(0,ws.default)(r,e);var t=zx(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"sicklefish"}},{key:"getName",value:function(){return ae("Sicklefish")}},{key:"getBaseStats",value:function(){return{maxHP:900,attack:52,defense:30,attackDelay:2.1,accuracy:100,dodge:100,crit:0}}},{key:"getPicture",value:function(e){return n(50392)}},{key:"getLevel",value:function(){return 15}},{key:"getCoinsAwardedBase",value:function(e){return 54}},{key:"getMonstiumAwardedBase",value:function(e){return 31}},{key:"getNextAction",value:function(e){var t=this;return Pu(e)%4==0?{name:ae("Strong Attack"),delay:1*this.getAttackDelay(e),transform:function(e){return e=vu(e,2*t.getAttack(e))}}:Pu(e)%4==3?{name:ae("Charging..."),delay:1.5*this.getAttackDelay(e),transform:function(e){return e}}:xo(e,ik.getId(),Qr.Enemy)||xo(e,uk.getId(),Qr.Enemy)?(0,xs.default)((0,Cs.default)(r.prototype),"getNextAction",this).call(this,e):{name:ae("Soak"),delay:.2*this.getAttackDelay(e),transform:function(e){return Ro(ik.getId(),60,{target:Qr.Enemy})(e)}}}},{key:"getItemsAwardedBase",value:function(e){return[{itemId:Hb.getId(),amount:4,chance:.2},{itemId:hx.getId(),amount:1,chance:.3}]}}]),r}(Wu);const Wx=new Vx;function Gx(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Jx=function(e){(0,ws.default)(r,e);var t=Gx(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"sludgeMass"}},{key:"getName",value:function(){return ae("Sludge Mass")}},{key:"getBaseStats",value:function(){return{maxHP:6500,attack:47,defense:10,attackDelay:4.5,accuracy:100,dodge:100,crit:0}}},{key:"getPicture",value:function(e){return n(32210)}},{key:"isBoss",value:function(){return!0}},{key:"getLevel",value:function(){return 17}},{key:"getCoinsAwardedBase",value:function(e){return 199}},{key:"getMonstiumAwardedBase",value:function(e){return 110}},{key:"getNextAction",value:function(e){var t=this,n=hu(e);return xo(e,yk.getId(),n)?!xo(e,Vb.getId(),n)&&Math.random()<.5?{name:ae("Poison"),delay:this.getAttackDelay(e),transform:function(e){var n=hu(e);return e=Ro(Vb.getId(),12,{target:n,params:{magnitude:t.getAttack(e)/7}})(e)}}:(0,xs.default)((0,Cs.default)(r.prototype),"getNextAction",this).call(this,e):{name:ae("Plague"),delay:this.getAttackDelay(e),transform:function(e){var t=hu(e);return e=Ro(yk.getId(),25,{target:t})(e)}}}},{key:"getItemsAwardedBase",value:function(e){return[{itemId:wx.getId(),amount:2,chance:1}]}},{key:"getTips",value:function(){return ae("What is this *monstrosity*?! It really, *really* stinks! It is so powerful that it's leaving us sick, making us unable to get healthy again! On top of that, it is also highly poisonous! But, at least, we can try and prevent that. Let's make sure we go prepared with something to counter the poison, like with a Charm of Poison Resistance (requires Poison Lv4), and ready to heal as soon as the disease subsides.")}},{key:"onDeath",value:function(e,t,n){return e=vr(e=(0,xs.default)((0,Cs.default)(r.prototype),"onDeath",this).call(this,e,t,n),"sewerHazardousSector")}}]),r}(Wu);const qx=new Jx;function Xx(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const Kx=new(function(e){(0,ws.default)(r,e);var t=Xx(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"etherealEelExtract"}},{key:"getTags",value:function(){return[yh.QuestItem]}},{key:"getPicture",value:function(){return n(76498)}},{key:"getBaseName",value:function(e){return ae("Ethereal Eel Extract")}},{key:"getDescription",value:function(e,t){return ae("A substance obtained from an Ethereal Eel. Proof of its defeat.")}},{key:"getEffect",value:function(e,t){}},{key:"getBaseSalePrice",value:function(e,t){return 1e5}}]),r}(Nh));function Zx(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var _x=function(e){(0,ws.default)(n,e);var t=Zx(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getAreas",value:function(){return{SPELL_MENU:[this.getElement()],EXPLORATION:[this.getElement()]}}},{key:"isVisible",value:function(e){return Je(e,Ir.ExplorationUnlocked)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"canUseOutsideOfCombat",value:function(){return!1}},{key:"isEnabled",value:function(e,t){return(this.canUseOutsideOfCombat()||Zi(e)==me.Combat)&&(0,xs.default)((0,Cs.default)(n.prototype),"isEnabled",this).call(this,e,t)}}]),n}(uf);function $x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var ew=new(function(e){(0,ws.default)(r,e);var t=$x(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"haste"}},{key:"getDisplayName",value:function(){return ae("Haste")}},{key:"getIcon",value:function(){return n(29253)}},{key:"isCommonBuffEnabled",value:function(){return[{stat:Vr.AttackDelay,type:At.Multiplier}]}},{key:"getDisplayDescription",value:function(e,t){var n=t.params.commonBuff.AttackDelayMultiplier;return ae("{{ratio}}:attackDelay:",{ratio:le(n)})}}]),r}(yf));po.register(ew);var tw=.13637,nw=new(function(e){(0,ws.default)(n,e);var t=$x(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"haste"}},{key:"getSpellName",value:function(){return ae("Haste")}},{key:"getElement",value:function(){return un.Air}},{key:"getAutocastCategory",value:function(){return lc.COMBAT_BUFF}},{key:"getBaseManaCost",value:function(e){return 700}},{key:"canUseOutsideOfCombat",value:function(){return!0}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:2,tags:[pt.TemporaryEffectMagnitude],valueType:vt.Log2Divisor,base:tw},duration:{value:60,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"doSpellAction",value:function(e,t){var n=this.getActionEffects(e);return Ro(ew.getId(),n.duration,{params:{commonBuff:{AttackDelayMultiplier:1/(1+tw*Math.max(0,Math.log2(n.magnitude)))}}})(e)}},{key:"getDisplayDescription",value:function(e){return ae("Enchant your body to be able to move faster.")}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e);return ae("^{{magnitude}}^<{{magnitudeExplanation}}>:attackDelay: for ^{{duration}}^<{{durationExplanation}}> sec",{magnitude:le(1/(1+tw*Math.max(Math.log2(t.magnitude)))),magnitudeExplanation:n.magnitude,duration:ue(t.duration),durationExplanation:n.duration})}},{key:"getLevelRequirements",value:function(){return{Air:8}}},{key:"isEmpowerable",value:function(){return!0}},{key:"getEmpoweringLevelRequirements",value:function(){return{Air:52}}}]),n}(_x));function rw(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}Qa(nw,[pt.Cost,Dt.Mana],10),Qa(nw,[pt.TemporaryEffectMagnitude],2);var aw=function(e){(0,ws.default)(r,e);var t=rw(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"etherealEel"}},{key:"getName",value:function(){return ae("Ethereal Eel")}},{key:"getBaseStats",value:function(){return{maxHP:15e4,attack:400,defense:250,attackDelay:1.5,accuracy:160,dodge:400,crit:0}}},{key:"getPicture",value:function(e){return n(18610)}},{key:"getLevel",value:function(){return 55}},{key:"getCoinsAwardedBase",value:function(e){return 99999}},{key:"getMonstiumAwardedBase",value:function(e){return 9999}},{key:"getNextAction",value:function(e){var t=this;hu(e);return Pu(e)%5==0&&Math.random()<.5?{name:ae("Wide Tsunami"),delay:3*this.getAttackDelay(e),transform:function(e){return e=Ro(ik.getId(),60,{target:Qr.Enemy})(e),Ho(e=Ro(ik.getId(),60,{target:Qr.Player})(e))&&(e=Ro(ik.getId(),60,{target:Qr.Familiar})(e)),e=Lo(e=cu(e=function(e,t,n){return Ho(e)&&(e=vu(e,t,Qo(Qo({},n),{},{forcedTarget:Qr.Familiar}))),vu(e,t,Qo(Qo({},n),{},{forcedTarget:Qr.Player}))}(e,3*t.getAttack(e),{tags:[un.Water]}),-300),{id:Math.random().toString(),damage:300,isCrit:!1,isHit:!0,source:Qr.Enemy,target:Qr.Enemy,tags:[],time:Aa(e)})}}:xo(e,ik.getId(),Qr.Enemy)||xo(e,uk.getId(),Qr.Enemy)?!xo(e,ew.getId(),Qr.Enemy)&&ru(e)<.5?{name:ae("Haste"),delay:1*this.getAttackDelay(e),transform:Ro(ew.getId(),30,{target:Qr.Enemy,params:{commonBuff:{AttackDelayMultiplier:.75}}})}:Math.random()<.5?{name:ae("Splash"),delay:1.1*this.getAttackDelay(e),transform:function(e){return e=vu(e,1.1*t.getAttack(e),{tags:[un.Water],cause:ae("Splash"),onHit:function(e,t){return t.isHit&&(e=Ro(ik.getId(),15,{target:t.target})(e)),e}})}}:(0,xs.default)((0,Cs.default)(r.prototype),"getNextAction",this).call(this,e):{name:ae("Soak"),delay:.2*this.getAttackDelay(e),transform:function(e){return Ro(ik.getId(),60,{target:Qr.Enemy})(e)}}}},{key:"getItemsAwardedBase",value:function(e){return[{itemId:Hb.getId(),amount:24,chance:1},{itemId:Kx.getId(),amount:1,chance:1}]}},{key:"isBoss",value:function(){return!0}},{key:"getTips",value:function(){return ae("This eel is... it's almost as if it *wasn't there*! It is very hard to find, and it is mighty strong. **If we're not actively looking for it, we probably will not stand a chance!** That said, if we somehow ARE hunting for this enemy in particular, then we probably ARE strong enough; and in that case, this fight might not be THAT difficult... Just watch out for Wide Tsunami and avoid using Fire spells - and it'll be OK!")}}]),r}(Wu);const iw=new aw;function ow(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var uw=function(e){(0,ws.default)(r,e);var t=ow(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"goblinDoctor"}},{key:"getName",value:function(){return ae("Goblin Doctor")}},{key:"getBaseStats",value:function(){return{maxHP:1199,attack:60,defense:25,attackDelay:2.3,accuracy:100,dodge:100,crit:0}}},{key:"getPicture",value:function(e){return n(67479)}},{key:"getLevel",value:function(){return 18}},{key:"getCoinsAwardedBase",value:function(e){return 62}},{key:"getMonstiumAwardedBase",value:function(e){return 45}},{key:"getNextAction",value:function(e){var t=this,n=hu(e);return zt(e,Dt.Coins)>=250&&Math.random()<.1?{name:ae("Steal Coins"),delay:this.getAttackDelay(e),transform:function(e){return Wt(Dt.Coins,-(50+200*Math.random()))(e)}}:!xo(e,Vb.getId(),n)&&Math.random()<.2?{name:ae("Sting"),delay:1*this.getAttackDelay(e),transform:function(e){var n=Ki(e=vu(e,1*t.getAttack(e),{tags:[un.Poison]}));return n.isHit&&(e=Ro(Vb.getId(),12,{target:n.target,params:{magnitude:t.getAttack(e)/16}})(e)),e}}:Math.random()<.1?{name:ae("Sear"),delay:2*this.getAttackDelay(e),transform:function(e){var n=Ki(e=vu(e,2*t.getAttack(e),{tags:[un.Fire]}));return n.isHit&&(e=Ro(Yk.getId(),12,{target:n.target})(e)),e}}:xo(e,Yk.getId(),n)&&Math.random()<.8?{name:ae("Air Blast"),delay:.5*this.getAttackDelay(e),transform:function(e){return e=vu(e,.7*t.getAttack(e),{tags:[un.Air]})}}:Math.random()<.2?{name:ae("Fireball"),delay:1.5*this.getAttackDelay(e),transform:function(e){return e=vu(e,1.5*t.getAttack(e),{tags:[un.Fire]})}}:Math.random()<.2&&ru(e)<1?{name:ae("Droplet of Healing"),delay:1*this.getAttackDelay(e),transform:function(e){var n=t.getMaxHP(e)*(.05+.025*Math.random());return e=Lo(e=cu(e,n),{id:Math.random().toString(),damage:-n,isCrit:!1,isHit:!0,time:Aa(e),source:Qr.Enemy,target:Qr.Enemy,tags:[]})}}:(0,xs.default)((0,Cs.default)(r.prototype),"getNextAction",this).call(this,e)}},{key:"getItemsAwardedBase",value:function(e){return[{itemId:Hb.getId(),amount:2,chance:1},{itemId:hx.getId(),amount:2,chance:.2},{itemId:tv.getId(),amount:1,chance:.8}]}},{key:"onDeath",value:function(e,t,n){return e=(0,xs.default)((0,Cs.default)(r.prototype),"onDeath",this).call(this,e,t,n),t||(e=Gi(e,"goblinKills",1)),e}}]),r}(Wu);const lw=new uw;function sw(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var cw=function(e){(0,ws.default)(n,e);var t=sw(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"doubleTrouble"}},{key:"getDisplayName",value:function(){return ae("Double Trouble")}},{key:"isDispellable",value:function(){return!1}},{key:"getDisplayDescription",value:function(e,t){return ae("Transforms into a different form")}}]),n}(yf),fw=function(e){(0,ws.default)(n,e);var t=sw(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"botanicalSwarm"}},{key:"getDisplayName",value:function(){return ae("Botanical Swarm")}},{key:"isDispellable",value:function(){return!1}},{key:"getDisplayDescription",value:function(e,t){return ae("Transforms into a different form")}}]),n}(yf),dw=new cw,gw=new fw,hw=function(e){(0,ws.default)(r,e);var t=sw(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"manEatingPlant"}},{key:"getName",value:function(){return ae("Man-Eating Plant")}},{key:"getBaseStats",value:function(){return{maxHP:8e3,attack:60,defense:50,attackDelay:2.8,accuracy:100,dodge:100,crit:0}}},{key:"getPhase",value:function(e){return Xi(e)!=this?1:xo(e,gw.getId(),Qr.Enemy)?3:xo(e,dw.getId(),Qr.Enemy)?2:1}},{key:"getPicture",value:function(e){switch(this.getPhase(e)){case 3:return n(26292);case 2:return n(92287);default:return n(15233)}}},{key:"getLevel",value:function(){return 20}},{key:"getCoinsAwardedBase",value:function(e){return 500}},{key:"getMonstiumAwardedBase",value:function(e){return 200}},{key:"getNextActionPhase3",value:function(e){var t=this;return Math.random()<.4?{name:ae("Triple Absorb"),delay:1.5*this.getAttackDelay(e),transform:function(e){return e=Au(e,.7*t.getAttack(e)),e=Au(e,.7*t.getAttack(e)),e=Au(e,.7*t.getAttack(e))}}:{name:ae("Triple Attack"),delay:1.2*this.getAttackDelay(e),transform:function(e){return e=vu(e,.7*t.getAttack(e)),e=vu(e,.7*t.getAttack(e)),e=vu(e,.7*t.getAttack(e))}}}},{key:"getNextActionPhase2",value:function(e){var t=this,n=hu(e);return!xo(e,Vb.getId(),n)&&Math.random()<.1?{name:ae("Slow-Acting Poison"),delay:1.4*this.getAttackDelay(e),transform:function(e){var n=hu(e);return e=Ro(Vb.getId(),60,{target:n,params:{magnitude:t.getAttack(e)/20}})(e)}}:Math.random()<.4?{name:ae("Double Absorb"),delay:1.3*this.getAttackDelay(e),transform:function(e){return e=Au(e,.8*t.getAttack(e)),e=Au(e,.8*t.getAttack(e))}}:{name:ae("Double Attack"),delay:1.1*this.getAttackDelay(e),transform:function(e){return e=vu(e,.8*t.getAttack(e)),e=vu(e,.8*t.getAttack(e))}}}},{key:"getNextAction",value:function(e){var t=this,n=this.getPhase(e);if(ru(e)<.2&&n<3)return{name:ae("Mutate"),delay:2*this.getAttackDelay(e),transform:function(e){e=Ro(gw.getId(),600,{target:Qr.Enemy})(e),e=Po(dw.getId(),Qr.Enemy)(e);var n=.2*t.getMaxHP(e);return e=Lo(e=cu(e,n),{id:Math.random().toString(),damage:-n,isCrit:!1,isHit:!0,time:Aa(e),source:Qr.Enemy,target:Qr.Enemy,tags:[]})}};if(ru(e)<.6&&n<2)return{name:ae("Mutate"),delay:1.5*this.getAttackDelay(e),transform:function(e){return e=Ro(dw.getId(),600,{target:Qr.Enemy})(e),e=Po(gw.getId(),Qr.Enemy)(e)}};if(3==n)return this.getNextActionPhase3(e);if(2==n)return this.getNextActionPhase2(e);var r=hu(e);return!xo(e,Vb.getId(),r)&&Math.random()<.2?{name:ae("Deadly Poison"),delay:1.2*this.getAttackDelay(e),transform:function(e){var n=hu(e);return e=Ro(Vb.getId(),12,{target:n,params:{magnitude:t.getAttack(e)/6}})(e)}}:Math.random()<.4?{name:ae("Absorb"),delay:1.1*this.getAttackDelay(e),transform:function(e){return e=Au(e,t.getAttack(e))}}:{name:ae("Attack"),delay:this.getAttackDelay(e),transform:function(e){return vu(e,t.getAttack(e))}}}},{key:"isBoss",value:function(){return!0}},{key:"getBackdropColor",value:function(){return"#84a"}},{key:"getItemsAwardedBase",value:function(e){return[]}},{key:"onDeath",value:function(e,t,n){return e=vr(e=(0,xs.default)((0,Cs.default)(r.prototype),"onDeath",this).call(this,e,t,n),"sewerHideout")}},{key:"getTips",value:function(){return ae("This giant plant is unbelievably strong. It might be the hardest fight we have done so far. Very strong attacks, very strong poison. Using Antidote (needs Poison Lv7) can certainly help us here, too, as we can neutralize the very strong poison it has. But the worst part is that it mutates into even more dangerous forms eventually! I wonder if higher :defense: would help us on the later forms...")}}]),r}(Wu),mw=new hw;var yw=["duration"];function pw(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var vw=function(e){(0,ws.default)(n,e);var t=pw(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return this.getTemporaryEffect().getId()}},{key:"getPicture",value:function(){return this.getTemporaryEffect().getIcon()}},{key:"getBaseName",value:function(e){return this.getTemporaryEffect().getDisplayName()}},{key:"getTarget",value:function(){return Qr.Player}},{key:"doPouchItemEffect",value:function(e,t){var n=this.getItemEffects(e,t),r=n.duration,a=(0,Ol.default)(n,yw);return e=Ro(this.getTemporaryEffect().getId(),r,{target:this.getTarget(),params:a})(e)}},{key:"doCleanup",value:function(e,t){return e=(0,xs.default)((0,Cs.default)(n.prototype),"doCleanup",this).call(this,e,t),e=Po(this.getTemporaryEffect().getId(),this.getTarget())(e)}},{key:"shouldAutoUse",value:function(e,t){return!xo(e,this.getTemporaryEffect().getId(),this.getTarget())}}]),n}(Jh);function Aw(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var bw=new(function(e){(0,ws.default)(r,e);var t=Aw(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"venomousBrew"}},{key:"getBaseName",value:function(e){return ae("Venomous Brew")}},{key:"getPicture",value:function(){return n(12397)}},{key:"getTemporaryEffect",value:function(){return Vb}},{key:"getTarget",value:function(){return Qr.Enemy}},{key:"getDescription",value:function(e,t){return ae("A toxic compound. Holds a potent poison.")}},{key:"getBaseItemEffects",value:function(){return{magnitude:{value:30,tags:[pt.TemporaryEffectMagnitude]},duration:{value:30,tags:[pt.TemporaryEffectDuration]}}}},{key:"getEffect",value:function(e,t){var n=this.getItemEffects(e,t),r=this.getItemEffectExplanations(e,t);return ae('Apply ^-{{magnitude}}^<{{explanation}}>:hp:/sec "Poison" for ^{{duration}}^<{{durationExplanation}}> sec',{magnitude:ue(n.magnitude),explanation:null==r?void 0:r.magnitude,duration:ue(Math.floor(n.duration)),durationExplanation:null==r?void 0:r.duration})}},{key:"getBaseSalePrice",value:function(e,t){return 700}},{key:"getUsesPerCombatBase",value:function(e){return 3}}]),r}(vw)),kw=new(function(e){(0,ws.default)(n,e);var t=Aw(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return bw}},{key:"getCraftingElementLevelRequirements",value:function(){return{Poison:10}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:300,PoisonEssence:3500},items:{elementalShardWater:5,venomPowder:10}}}},{key:"getElement",value:function(){return un.Poison}}]),n}(lx));function xw(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var ww=function(e){(0,ws.default)(r,e);var t=xw(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"venomousSpider"}},{key:"getName",value:function(){return ae("Venomous Spider")}},{key:"getBaseStats",value:function(){return{maxHP:1100,attack:57,defense:10,attackDelay:1.5,accuracy:100,dodge:100,crit:0}}},{key:"getPicture",value:function(e){return n(30497)}},{key:"getLevel",value:function(){return 17}},{key:"getCoinsAwardedBase",value:function(e){return 72}},{key:"getMonstiumAwardedBase",value:function(e){return 38}},{key:"getNextAction",value:function(e){var t=this,n=hu(e);return!xo(e,nx.getId(),n)&&Math.random()<.3?{name:ae("Debilitating Venom"),delay:1*this.getAttackDelay(e),transform:function(e){var n=Ki(e=vu(e,1*t.getAttack(e),{tags:[un.Poison]}));return n.isHit&&(e=Ro(nx.getId(),18,{target:n.target,params:{commonBuff:{AttackMultiplier:.7}}})(e)),e}}:!xo(e,Vb.getId(),n)&&Math.random()<.2?{name:ae("Sting"),delay:1*this.getAttackDelay(e),transform:function(e){var n=Ki(e=vu(e,1*t.getAttack(e),{tags:[un.Poison]}));return n.isHit&&(e=Ro(Vb.getId(),12,{target:n.target,params:{magnitude:t.getAttack(e)/12}})(e)),e}}:Math.random()<.1?{name:ae("Hop"),delay:this.getAttackDelay(e),transform:function(e){return e}}:(0,xs.default)((0,Cs.default)(r.prototype),"getNextAction",this).call(this,e)}},{key:"getItemsAwardedBase",value:function(e){return[{itemId:wx.getId(),amount:1,chance:.5},{itemId:hx.getId(),amount:2,chance:.35},{itemId:bw.getId(),amount:1,chance:.01}]}}]),r}(Wu);const Ew=new ww;function Cw(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Iw=[{weight:30,transforms:Px(Lx)},{weight:100,transforms:Px(lw)},{weight:20,transforms:Px(Wx)},{weight:100,transforms:Px(Ew)},{weight:1,transforms:Px(iw)}];const Bw=new(function(e){(0,ws.default)(n,e);var t=Cw(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"sewerHideout"}},{key:"getFloorName",value:function(){return ae("Sewer Hideout")}},{key:"getBoss",value:function(e){return mw}},{key:"getBreedingLevel",value:function(){return 16}},{key:"isMainStoryDungeonFloor",value:function(){return!0}},{key:"getExplorationRequiredTimeSecBase",value:function(){return 5.5}},{key:"_getExplorationSuccessesForBossBase",value:function(){return 30}},{key:"getBaseExplorationPossibilities",value:function(e){return Iw}},{key:"isUnlocked",value:function(e){return yr(e,"sewerHazardousSector")}},{key:"getNextFloor",value:function(e){return hr.getByIdNullable("vastDesertFloor")}}]),n}(jx));function Sw(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Rw=[{weight:70,transforms:Px(vx)},{weight:60,transforms:Px(Lx)},{weight:80,transforms:Px(Wx)},{weight:80,transforms:Px(Qx)}];const Pw=new(function(e){(0,ws.default)(n,e);var t=Sw(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"sewerHazardousSector"}},{key:"getFloorName",value:function(){return ae("Hazardous Sector")}},{key:"getBoss",value:function(e){return qx}},{key:"getBreedingLevel",value:function(){return 13}},{key:"isMainStoryDungeonFloor",value:function(){return!0}},{key:"getExplorationRequiredTimeSecBase",value:function(){return 5.25}},{key:"_getExplorationSuccessesForBossBase",value:function(){return 30}},{key:"getBaseExplorationPossibilities",value:function(e){return Rw}},{key:"getNextFloor",value:function(e){return Bw}},{key:"isUnlocked",value:function(e){return yr(e,"sewerEntrance")}}]),n}(jx));function Tw(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var jw=[{weight:100,transforms:Px(Xb)},{weight:70,transforms:Px(Ix)},{weight:70,transforms:Px(Rx)},{weight:10,transforms:Px(vx)}];const Mw=new(function(e){(0,ws.default)(n,e);var t=Tw(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"sewerEntrance"}},{key:"getFloorName",value:function(){return ae("Sewer Entrance")}},{key:"getBoss",value:function(e){return kx}},{key:"getBreedingLevel",value:function(){return 10}},{key:"isMainStoryDungeonFloor",value:function(){return!0}},{key:"getExplorationRequiredTimeSecBase",value:function(){return 5}},{key:"_getExplorationSuccessesForBossBase",value:function(){return 30}},{key:"getBaseExplorationPossibilities",value:function(e){return jw}},{key:"getNextFloor",value:function(e){return Pw}},{key:"isUnlocked",value:function(e){return Ve(e,Ir.SewersUnlocked)}}]),n}(jx));var Dw=[{furniture:Ib,amount:12},{furniture:Ub,amount:8},{furniture:Pb,amount:5},{furniture:Ab,amount:2},{furniture:iA,amount:3}];function Ow(){var e=Dw.map((function(e){return function(e){var t=e.furniture,n=e.amount;return new Er("furniturePreservation-"+t.getId(),ae("Furniture Preservation ({{furniture}})",{furniture:t.getName()}),210+Dw.indexOf(e),20,(function(e){return o.hasTriggered(e)?ae("This Storyline can be found in the Sewers, but you cannot get it this run"):ae("Explore the Sewer Entrance",{amount:ue(n),furniture:t.getName()})}),ae("Begin with {{amount}} {{furniture}} after retirement",{amount:ue(n),furniture:t.getName()}),(function(e){return!0}))}(e)})),t=Tl("furniturePreservation",ae("(Storyline) Furniture Preservation"),[fl.STORYLINE]).setStorylineIds(e.map((function(e){return e.getId()})));t.message(ae('While traversing the Sewers, you find a curious item on the floor: a container of some kind of... substance? Gel? Cream? You are not sure exactly what it is. There is a label, however: "Furniture Preserver". You decide to bring it home.\n      \nBut when you show your hired wizard, she exclaims, really excited: "*Furniture Preserver*?! I\'ve been wanting some of that for a very long time! It is so rare and yet so useful! Can I have it? Pretty please...?" She proceeds to look at you with a puppy face.\n\nShe then explains herself: like the label says, this substance can be applied to furniture for it to last very, very long, almost indefinitely long.'));var n=t.message(ae("You think about the furniture you already own. There isn't so much of this preserver. You tell your hired wizard that you are planning to use half of it, and that she can have the rest. She bursts in happiness and thanks you, full of joy.\n      \nAnd then, you have to think of how you are going to use your half...")),r=function(){var r=Dw[a],i=e[a],o={amount:ue(r.amount),furniture:r.furniture.getName()};n.option(ae("Preserve {{amount}} {{furniture}}",o),{transform:function(e){return i.complete(e)},isVisible:function(e){return!i.isCompleted(e)},isEnabled:function(e){return rg(e,r.furniture)>=r.amount}},"end-"+r.furniture.getId()),t.message(ae("You carefully apply the preserver to your furniture. As you do, it begins to glow with a strange, yet gentle blue light. It was actually a *magical* product?\n      \nFinishing up, you give the remaining preserver to your hired wizard. She thanks you, and proceeds to quickly apply it *on herself*. You try to tell her that it's probably not going to work, but she quickly says it's none of your business...\n\n**You have completed the Storyline \"Furniture Preservation ({{furniture}})\"! In future retirements, you will begin with {{amount}} {{furniture}} already in your Home!**",o)).tag("end-"+r.furniture.getId()).end()};for(var a in Dw)r();for(var i in n.option(ae("Decide later")).end(),Dw)nl.register(e[i]);var o=t.build();ju(o.getId()+"Triggerer",(function(t){return!o.hasTriggered(t)&&e.some((function(e){return!e.isCompleted(t)}))&&(xu(t,"sewerEntrance")>=8||Mw.canFightBoss(t))?xl(o)(t):t})),Dw.forEach((function(t,n){var r=t.furniture.getId(),a=e[n];Xt("furniturePreservation"+r,(function(e){return a.isBonusActive(e)&&(e.run.buildings[r]={current:t.amount,turnedOn:t.amount}),e}))})),Xt("furniturePreservationAutoUnlockStuff",(function(t){return e[0].isBonusActive(t)&&(t=qe(Ir.ManaSpoutsUnlocked)(t)),e[1].isBonusActive(t)&&(t=qe(Ir.ManaShardsUnlocked)(t)),e[2].isBonusActive(t)&&(t=qe(Ir.StoragesUnlocked)(t)),e[3].isBonusActive(t)&&(t=qe(Ir.CatalystsUnlocked)(t)),e[4].isBonusActive(t)&&(t=qe(Ir.SaleStallsUnlocked)(t)),t}))}var Nw=new Er("permaCast",ae("Perma-Cast"),295,10,(function(e){return ae("Have at least 15 rules in your Wizards' current strategy that each have at least 1 Wizard assigned")}),(function(e){return ae('Unlock "Perma-Cast" option for spells')}),(function(e){return!0}));var Uw=new Er("tictactoe",ae("Tic-Tac-Toe"),225,10,ae("Defeat the Sludge Mass in the Hazardous Sewers"),ae("Unlock the Synchro screen"),(function(e){return!0})),Fw=new Er("tomeOfToxicKnowledge",ae("Tome of Toxic Knowledge"),299,20,ae('Clear the area "The Hideout" in the Sewers'),ae("Unlock the Poison element and begin new retirements with Monstruariums and Monstium Catalysts unlocked"),(function(e){return!0}));var Lw=11,Hw=10;function Yw(e){return Math.min(e.global.newGamePlusMax+(ll(e,"ending_1")&&(e.world.worldDifficultyLevel>=10||e.global.newGamePlusMax<10)?1:0),Lw)}var Qw=15,zw=[pt.BoonPointsEarned];function Vw(e){return Ww(e)+e.global.totalBoonPointsEarned}function Ww(e){return It(zw,e,Qw)}function Gw(e,t,n,r,a){if(a>Yw(e)||Vw(e)<Kw(t,n,r)||t>Hw||n>Hw||r>Hw)return e;e.global.newGamePlusCount++,e.global.newGamePlusMax=Yw(e),e.global.totalBoonPointsEarned+=Ww(e),e.world=X(Ee),e.world.startTimestamp=Date.now(),e.world.sheerPowerLevel=t,e.world.storylineOracleLevel=n,e.world.blazingSpeedLevel=r,e.world.worldDifficultyLevel=a,e.run=X(we);var i=[];if(n>=10){var o=nl.getAll().filter((function(e){return e.getId().startsWith("ending")||e.getId().startsWith("challenge")}));i=nl.getAll().filter((function(e){return!o.includes(e)}))}else for(var u=n;u>0;)i=i.concat(hE(u)),u--;for(var l of i)e=l.complete(e),e=l.activateBonus(e);return e=function(e){return(e=Zt(e,!1)).world.totalTimesResetted=0,e}(e)}function Jw(e){return e<=1?1:Jw(e-1)+Jw(e-2)}function qw(e){return Jw(3+e)}function Xw(e){for(var t=0,n=1;n<=e;n++)t+=qw(n);return t}function Kw(e,t,n){return Xw(e)+Xw(t)+Xw(n)}function Zw(e){return e.world.sheerPowerLevel}function _w(e){return e.world.storylineOracleLevel}function $w(e){return e.world.blazingSpeedLevel}function eE(e){return e.world.worldDifficultyLevel}function tE(e){return e<8?10*Math.ceil(e/2):10*Math.floor(e/2)}function nE(e){return 4*e}function rE(e){return 1*e}function aE(e){return Math.pow(1.5,e)}function iE(e){return Math.pow(1.1,e)}function oE(e){return Math.pow(1.8,e)}function uE(e){return Math.pow(1.6,e)}function lE(e){return Math.pow(1.3,e)}function sE(e){return e>10?200:Math.pow(1.6,e)}function cE(e){return e>10?.25:Math.pow(.9,e)}function fE(e){return e>10?4:Math.pow(1.1,e)}function dE(e){return e>10?25:Math.pow(1.3,e)}function gE(e){return Math.pow(1.6,e)}function hE(e){switch(e){case 1:return[Nw,yb,nl.getById("terrainAdvantage")];case 2:return[Fw,nl.getById("tomeOfMentalKnowledge"),nl.getById("tomeOfLivingKnowledge"),nl.getById("tomeOfElectricalKnowledge")];case 3:return Dw.map((function(e){return nl.getById("furniturePreservation-"+e.furniture.getId())})).concat([nl.getById("theBigPurchase")]);case 4:return[nl.getById("schematics"),nl.getById("transmutationPrayer1"),Uw];case 5:return[nl.getById("tomeOfDeathlyKnowledge"),nl.getById("tomeOfDivineKnowledge"),nl.getById("mysteriousBox"),nl.getById("starryNight")];case 6:return[nl.getById("varietyCollector"),nl.getById("boostingMachine"),nl.getById("transmutationPrayer2"),nl.getById("artisanOfMagic")];case 7:return $(un).map((function(e){return nl.getById("masteryOf"+e)}));case 8:return[Zu,nl.getById("ritualistsSecret"),nl.getById("etherealTruthWeapon"),nl.getById("etherealTruthGarment"),nl.getById("etherealTruthFootwear")];case 9:return[nl.getById("blessedLand"),nl.getById("divineCombination")]}return[]}var mE=n(54964),yE=n(45892);function pE(e){var t=e.endingData,n=ol.getById(t.endingId),r=ly()(t.timestamp).format("Y-MM-DD h:mm A"),a=t.worldsCreated>0?ae("{{sheerPower}}/{{storylineOracle}}/{{blazingSpeed}} - D{{worldDifficulty}}",{sheerPower:ue(t.sheerPowerLevel),storylineOracle:ue(t.storylineOracleLevel),blazingSpeed:ue(t.blazingSpeedLevel),worldDifficulty:ue(t.worldDifficultyLevel)}):"",i=null!=t.challengeId?sy.getById(t.challengeId).getName():"",o=""!=a||""!=i?ae(" ({{extraStatsText}})",{extraStatsText:[a,i].filter((function(e){return""!=e})).join(ae("; "))}):"",u=ae("{{ending}}{{extraStats}}",{ending:n.title,extraStats:o}),l=r;return(0,Ll.jsx)(mE.default,{title:u,description:l,onPress:e.onPress,right:function(){return(0,Ll.jsx)(yE.default,{icon:"chevron-right"})}})}function vE(e){var t,n=As(),r=(0,o.useRef)(n);r.current=n;var a=null!=(t=n.global.endingsHistory)?t:[],i=(0,o.useCallback)((function(e){return(0,Ll.jsx)(pE,{endingData:e.item,onPress:function(){return r.current.apply((function(t){return t=Yi(t,"endingHistoryOverride:"+(a.length-1-e.index).toString()),t=Yi(t,"goToEnding")}))}})}),[]);return(0,o.useMemo)((function(){var e;return 0===a.length?null:(0,Ll.jsx)(u.FlatList,{data:null!=(e=null==a||null==a.toReversed?void 0:a.toReversed())?e:[],renderItem:i})}),[a.length])}R.default.create({});var AE=n(96901),bE=new Er("diviningTheWorld",ae("Divining the World"),310,30,ae("Reach Mind Lv10"),ae("Permanently reveal hints for Storylines depending on your Mind element level and your progression through the game"),(function(e){return!0}));function kE(e){var t=As(),n=e.storyline,r=n.isCompleted(t),a=n.isBonusActive(t),i=n.isHintRevealed(t),u=n.isHintUnlockable(t)&&bE.isBonusActive(t),l=r||a||i||u,s=(0,o.useMemo)((function(){var e=ae("???");return u&&(e=ae("You may learn more about this Storyline if your Mind is Lv{{level}} or higher...",{level:n.mindRequirementForHint})),i&&(e=ae("Hint to unlock: *{{hint}}*",{hint:n.hintDescription(t)})),r&&(e=ae("You have completed this Storyline, but not all of its bonuses are active. Retire to obtain the rest!")),a&&(e=n.getBonusDescription(t)),(0,Ll.jsx)(T.default,{style:xE.descriptionTextContainer,children:a?(0,Ll.jsxs)(T.default,{style:xE.effectContainer,children:[(0,Ll.jsx)(zl,{children:ae("Storyline completed!")}),(0,Ll.jsx)(fs,{children:ae("Bonus: **{{description}}**",{description:e})})]}):(0,Ll.jsx)(Rd,{style:xE.descriptionViewer,children:e})})}),[n.getBonusDescription(t),r,a,xn(t,un.Mind),u,i,n.hintDescription(t)]),c=(0,D.useTheme)(),f=(0,o.useMemo)((function(){var e=(0,Ll.jsx)(m.default,{accessibilityLabel:"Locked",name:"lock",size:20,color:c.colors.onSurfaceDisabled});return u&&(e=(0,Ll.jsx)(AE.default,{accessibilityLabel:"Discoverable",name:"lock-open-variant",size:20,color:c.colors.onBackground})),i&&(e=(0,Ll.jsx)(m.default,{accessibilityLabel:"Discovered",name:"more-horiz",size:20,color:c.colors.onBackground})),r&&(e=(0,Ll.jsx)(m.default,{accessibilityLabel:"Completed but Inactive",name:"error-outline",size:21,color:c.colors.onBackground})),a&&(e=(0,Ll.jsx)(m.default,{accessibilityLabel:"Completed",name:"check",size:20,color:c.colors.onBackground})),e}),[u,i,r,a,c]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:xE.storylineContainer,children:[(0,Ll.jsx)(Xd.default,{accessibilityRole:"button",accessibilityHint:"Expand",onPress:e.onPressExpand,children:(0,Ll.jsxs)(T.default,{style:xE.topRowContainer,children:[f,(0,Ll.jsx)(zl,{h3:!0,accessibilityRole:"none",onPress:e.onPressExpand,style:[xE.topContainer,!l&&xE.disabledStorylineText],children:r||a?n.name:i?ae("{{storylineTeaser}}...",{storylineTeaser:n.name.substring(0,3)}):ae("???")},n.name),(0,Ll.jsx)(T.default,{style:xE.expandContainer,children:(0,Ll.jsx)(qd.default,{name:e.collapsed?"chevron-right":"chevron-down",size:24,color:c.colors.onBackground})})]})}),!e.collapsed&&(0,Ll.jsx)(T.default,{children:s})]},n.name)}),[n.name,l,r,a,f,c,!e.collapsed&&s,e.collapsed,e.onPressExpand])}var xE=R.default.create({storylineContainer:{marginVertical:8},topRowContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},expandContainer:{width:40},descriptionTextContainer:{marginBottom:8,marginTop:8,flex:1,flexDirection:"row",flexWrap:"wrap"},descriptionViewer:{flex:1,justifyContent:"center"},effectContainer:{flex:1},effectSubcontainer:{flexDirection:"row",alignItems:"flex-start",flexWrap:"wrap"},smallButtonTitle:{fontSize:12},topContainer:{flex:1,marginLeft:8},disabledStorylineText:{color:"#aaa"}});function wE(e){var t=(0,o.useState)(""),n=(0,a.default)(t,2),r=n[0],i=n[1],u=As(),l=e.onlyStorylineStatus,s=(0,o.useCallback)((function(e){i(r==e?"":e)}),[r]),c=rl().filter((function(e){return!e.isHidden(u)&&(null==l||l==e.getStatus(u))})),f=c.map((function(e){return e.name})).join(","),d=(0,o.useMemo)((function(){return c.map((function(e){return(0,Ll.jsx)(kE,{storyline:e,collapsed:r!=e.name,onPressExpand:s.bind(null,e.name)},e.name)}))}),[f,r,i]);return(0,o.useMemo)((function(){return 0===c.length?null:(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(T.default,{children:d[0]},c[0].name),d.slice(1).map((function(e,t){return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(Bg,{}),e]},c[t].name)}))]})}),[f,d])}R.default.create({});function EE(e){var t,n,r=e.element,a=As(),i=ee(Rn(a).map((function(e){return[e,xn(a,e)]}))),u=Ka(a),l=sn(i[r]),s=(0,o.useMemo)((function(){for(var e=Ra(a,r,_t.SPELL_MENU),t=hf(a),n=e.filter((function(e){return e.isEmpoweringPossible(a)})),i=xn(a,r),o=0,u=!1,l=[],s=[],c=[],f=Se(a);!u&&i+o<mn(a);){o+=1,f.run.elementExperience[r]=bn(f,xn(a,r)+o,r);var d=Ra(f=Ne(f),r,_t.SPELL_MENU),g=hf(f),m=d.filter((function(e){return e.isEmpoweringPossible(f)}));l=d.filter((function(t){return!e.includes(t)})),s=g.filter((function(e){return!t.includes(e)})),c=m.filter((function(e){return!n.includes(e)})),(l.length>0||s.length>0||c.length>0)&&(u=!0)}var y=l.map(qf),p=s.map(Kf.bind(null,a)),v=c.map(Xf),A=[].concat((0,h.default)(y),(0,h.default)(v),(0,h.default)(p));return A.length>0?ae("Your next unlock is at level {{level}}:\n      \n{{unlocks}}",{level:o+i,unlocks:A.join(ae("\n"))}):ae("If you only level up this element, you will not unlock anything new!")}),[JSON.stringify(i)]),c=bn(a,xn(a,r)+1,r)-gn(a,r);return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{children:ae("Rank:")}),(0,Ll.jsx)(zl,{style:PE.valueText,children:l})]}),(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{children:ae("Level:")}),(0,Ll.jsx)(zl,{style:PE.valueText,children:xn(a,r)})]}),(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{children:ae("To Next Level:")}),(0,Ll.jsx)(zl,{style:PE.valueText,children:ue(c)})]}),(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{children:ae("To Next Level (Time):")}),(0,Ll.jsx)(zl,{style:PE.valueText,children:0==(null!=(t=null==u?void 0:u[r])?t:0)||c==1/0?"\u221e":ce(ly().duration(1e3*c/(null!=(n=null==u?void 0:u[r])?n:0)))})]}),(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{style:{flex:1},children:ae("Maximum Primary Level in previous runs (MPL):")}),(0,Ll.jsx)(zl,{style:PE.valueText,children:ue(Un(a,r))})]}),(0,Ll.jsx)(T.default,{style:PE.insideBlock,children:(0,Ll.jsx)(fs,{children:s})})]})}var CE=o.memo((function(e){var t=As(),n=e.element,r=xn(t,n),a=ae("{{element}} Lv{{level}}{{primary}} - {{rank}}",{element:ln(n),level:ue(r),primary:Bn(t).includes(n)?ae(" (Primary)"):"",rank:sn(r)});return(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(mb.default,{title:a,children:(0,Ll.jsx)(T.default,{style:PE.elementElementContainer,children:(0,Ll.jsx)(EE,{element:n})})})},n)}),[a,n])}));function IE(){var e=Rn(As()).map((function(e,t){return(0,Ll.jsx)(CE,{element:e},e)}));return(0,Ll.jsx)(T.default,{children:e})}function BE(){var e=As(),t=rl(),n=t.filter((function(t){return t.isCompleted(e)})),r=al(),i={};for(var u of t){var l,s=u.getStatus(e);i[s]=(null!=(l=i[s])?l:0)+1}var c=new Set(Z(i)),f=(0,o.useState)(c.has(kr.HINT_REVEALED)?kr.HINT_REVEALED:c.has(kr.UNLOCKED)?kr.UNLOCKED:c.has(kr.COMPLETED)?kr.COMPLETED:kr.BONUS_ACTIVE),d=(0,a.default)(f,2),g=d[0],m=d[1],y=Array.from(c).sort((function(e,t){var n=xr.findIndex((function(t){return t==e})),r=xr.findIndex((function(e){return e==t}));return n-r})).filter((function(e){return e!=kr.HIDDEN})),p=(0,o.useMemo)((function(){return(0,Ll.jsx)(ym,{onValueChange:m,selectedValue:g,data:(0,h.default)(y).map((function(e){var t;return{label:ae("{{storylineStatus}} ({{amount}})",{storylineStatus:wr(e),amount:ue(null!=(t=i[e])?t:0)}),value:e,key:e}}))})}),[m,g,JSON.stringify(y),JSON.stringify(i)]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{children:ae("Total Completed Storylines:")}),(0,Ll.jsx)(zl,{style:PE.valueText,children:ae("{{completedStorylines}} / {{allStorylines}}",{completedStorylines:ue(n.length),allStorylines:ue(r)})})]}),(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{children:ae("Completion Percentage:")}),(0,Ll.jsx)(zl,{style:PE.valueText,children:ae("{{completedStorylinesPct}}%",{completedStorylinesPct:ue(n.length>r?n.length-r+100:100*n.length/r)})})]}),(0,Ll.jsxs)(T.default,{style:[gs.mt16,gs.flexRowAlignCenter],children:[(0,Ll.jsx)(zl,{children:ae("Filter Storylines:")}),(0,Ll.jsx)(T.default,{style:[gs.ml8,{width:180}],children:p})]}),(0,Ll.jsx)(T.default,{style:gs.mt8,children:xr.map((function(e){return(0,Ll.jsx)(T.default,{style:g!=e&&{display:"none"},children:(0,Ll.jsx)(Sg,{isVisible:g==e,children:(0,Ll.jsx)(wE,{onlyStorylineStatus:e})})},e)}))})]})}),[n.length,t.length,p,g])}function SE(){var e,t,n,r,a=As(),i=ly().duration(a.run.secondsPlayed,"seconds"),u=ly().duration(a.world.secondsPlayed,"seconds"),l=ly().duration(null==(e=a.global)?void 0:e.secondsPlayed,"seconds"),s=ce(ly().duration(a.run.activeSecondsPlayed,"seconds")),c=ce(ly().duration(a.world.activeSecondsPlayed,"seconds")),f=ce(ly().duration(a.global.activeSecondsPlayed,"seconds")),d=a.run.timePiecesConsumed,g=a.world.timePiecesConsumed,h=a.global.timePiecesConsumed,m=ly().duration(null!=(t=Date.now()-a.run.startTimestamp)?t:0),y=ly().duration(null!=(n=Date.now()-a.world.startTimestamp)?n:0),p=ly().duration(null!=(r=Date.now()-a.global.startTimestamp)?r:0),v=function(e){return e.global.newGamePlusCount}(a),A=Zw(a),b=_w(a),k=$w(a),x=eE(a),w=Wn(a),E=Gn(a),C=(cy(a),Bn(a).map((function(e){return ln(e)})).join(ae(", "))),I=(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{style:PE.captionText,numberOfLines:2,children:ae("Primary element:")}),(0,Ll.jsx)(zl,{style:[PE.valueText,PE.valueTextLong],children:C})]})}),[C]),B=(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{style:PE.captionText,numberOfLines:2,children:ae("In-game time played (total):")}),(0,Ll.jsx)(zl,{style:[PE.valueText,PE.valueTextLong],numberOfLines:3,children:ce(l)})]})}),[ce(l)]),S=(0,o.useMemo)((function(){return v>0&&(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{style:PE.captionText,numberOfLines:3,children:ae("In-game time played (this World):")}),(0,Ll.jsx)(zl,{style:[PE.valueText,PE.valueTextLong],children:ce(u)})]})}),[v,ce(u)]),R=(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{style:PE.captionText,numberOfLines:3,children:ae("In-game time played (this run):")}),(0,Ll.jsx)(zl,{style:[PE.valueText,PE.valueTextLong],children:ce(i)})]})}),[ce(i)]),P=(0,o.useMemo)((function(){return null!=f&&(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{style:PE.captionText,numberOfLines:3,children:ae("Real world time played (total):")}),(0,Ll.jsx)(zl,{style:[PE.valueText,PE.valueTextLong],children:f})]})}),[f]),j=(0,o.useMemo)((function(){return v>0&&(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{style:PE.captionText,numberOfLines:3,children:ae("Real world time played (this World):")}),(0,Ll.jsx)(zl,{style:[PE.valueText,PE.valueTextLong],children:c})]})}),[v,c]),M=(0,o.useMemo)((function(){return d>0&&(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{style:PE.captionText,numberOfLines:3,children:ae("Time Pieces consumed (this run):")}),(0,Ll.jsx)(zl,{style:[PE.valueText,PE.valueTextLong],children:ue(d)})]})}),[d]),D=(0,o.useMemo)((function(){return h>0&&(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{style:PE.captionText,numberOfLines:3,children:ae("Time Pieces consumed (total):")}),(0,Ll.jsx)(zl,{style:[PE.valueText,PE.valueTextLong],children:ue(h)})]})}),[h]),O=(0,o.useMemo)((function(){return v>0&&g>0&&(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{style:PE.captionText,numberOfLines:3,children:ae("Time Pieces consumed (this World):")}),(0,Ll.jsx)(zl,{style:[PE.valueText,PE.valueTextLong],children:ue(g)})]})}),[v,g]),N=(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{style:PE.captionText,numberOfLines:3,children:ae("Real world time played (this run):")}),(0,Ll.jsx)(zl,{style:[PE.valueText,PE.valueTextLong],children:s})]})}),[s]),U=(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{style:PE.captionText,numberOfLines:3,children:ae("Real world time since starting the game:")}),(0,Ll.jsx)(zl,{style:[PE.valueText,PE.valueTextLong],children:ce(p)})]})}),[ce(p)]),F=(0,o.useMemo)((function(){return v>0&&(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{style:PE.captionText,numberOfLines:3,children:ae("Real world time since starting this World:")}),(0,Ll.jsx)(zl,{style:[PE.valueText,PE.valueTextLong],children:ce(y)})]})}),[v,ce(y)]),L=(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{style:PE.captionText,numberOfLines:3,children:ae("Real world time since starting this run:")}),(0,Ll.jsx)(zl,{style:[PE.valueText,PE.valueTextLong],children:ce(m)})]})}),[ce(m)]),H=(0,o.useMemo)((function(){return null!=tl(a)&&(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{style:PE.captionText,numberOfLines:3,children:ae("Class:")}),(0,Ll.jsx)(zl,{style:PE.valueText,children:tl(a).getDisplayName()})]})}),[tl(a)]),Y=(0,o.useMemo)((function(){return null!=cy(a)&&(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{style:PE.captionText,numberOfLines:3,children:ae("Challenge:")}),(0,Ll.jsx)(zl,{style:[PE.valueText],children:cy(a).getName()})]})}),[cy(a)]),Q=(0,o.useMemo)((function(){return v>0&&(0,Ll.jsxs)(Ll.Fragment,{children:[(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{style:PE.captionText,numberOfLines:2,children:ae("Other Worlds visited:")}),(0,Ll.jsx)(zl,{style:[PE.valueText,PE.valueTextLong],children:ue(v)})]}),(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{style:PE.captionText,numberOfLines:2,children:ae("World modifiers:")}),(0,Ll.jsx)(zl,{style:[PE.valueText,PE.valueTextLong],children:ae("{{sheerPower}}/{{storylineOracle}}/{{blazingSpeed}} - D{{worldDifficulty}}",{sheerPower:ue(A),storylineOracle:ue(b),blazingSpeed:ue(k),worldDifficulty:ue(x)})})]})]})}),[v,A,b,k,x]),z=(0,o.useMemo)((function(){return(0,Ll.jsxs)(Ll.Fragment,{children:[(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{children:ae("Total times retired:")}),(0,Ll.jsx)(zl,{style:PE.valueText,children:a.world.totalTimesResetted})]}),(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{children:ae("Global experience multiplier:")}),(0,Ll.jsxs)(zl,{style:PE.valueText,children:[ue(w,{showDecimals:!0}),"x"]})]}),(0,Ll.jsxs)(T.default,{style:PE.row,children:[(0,Ll.jsx)(zl,{children:ae("Global production multiplier:")}),(0,Ll.jsxs)(zl,{style:PE.valueText,children:[ue(E,{showDecimals:!0}),"x"]})]})]})}),[a.world.totalTimesResetted,w,E]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{children:[Y,I,H,B,S,R,P,j,N,M,O,D,U,F,L,Q,z]})}),[Y,I,H,B,S,R,P,j,N,D,O,M,U,F,L,Q,z])}function RE(){var e=As().global.endingsHistory.length>0;return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:PE.container,children:[(0,Ll.jsxs)(Vv,{children:[(0,Ll.jsx)(Mm.default.Title,{title:ae("Stats"),accessibilityRole:"header"}),(0,Ll.jsx)(Mm.default.Content,{children:(0,Ll.jsx)(SE,{})})]}),(0,Ll.jsxs)(Vv,{style:gs.mt16,children:[(0,Ll.jsx)(Mm.default.Title,{title:ae("Elements"),accessibilityRole:"header"}),(0,Ll.jsx)(Mm.default.Content,{children:(0,Ll.jsx)(IE,{})})]}),(0,Ll.jsxs)(Vv,{style:gs.mt16,children:[(0,Ll.jsx)(Mm.default.Title,{title:ae("Storylines"),accessibilityRole:"header"}),(0,Ll.jsx)(Mm.default.Content,{children:(0,Ll.jsx)(BE,{})})]}),e&&(0,Ll.jsxs)(Vv,{style:gs.mt16,children:[(0,Ll.jsx)(Mm.default.Title,{title:ae("Ending History"),accessibilityRole:"header"}),(0,Ll.jsx)(Mm.default.Content,{children:(0,Ll.jsx)(vE,{})})]})]})}),[e])}var PE=R.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",width:"100%"},elementElementContainer:{margin:8,marginBottom:24},row:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:4},insideBlock:{marginTop:16},valueText:{minWidth:60,textAlign:"right",marginLeft:8},valueTextLong:{minWidth:112},captionText:{flex:1}});function TE(e){var t,n,r=e.element,a=As(),i=Rn(a).map((function(e){return xn(a,e)})),u=Ka(a),l=(0,o.useMemo)((function(){a.temp.spellRequirementsCache={};for(var e=Ra(a,r,_t.SPELL_MENU),t=hf(a),n=e.filter((function(e){return e.isEmpoweringPossible(a)})),i=Lf(a),o=xn(a,r),u=0,l=!1,s=[],c=[],f=[],d=[],g=Se(a);!l&&o+u<mn(a);){u+=1,g.run.elementExperience[r]=bn(g,xn(a,r)+u,r);var m=Ra(g=Ne(g),r,_t.SPELL_MENU),y=hf(g),p=m.filter((function(e){return e.isEmpoweringPossible(g)})),v=Lf(g);s=m.filter((function(t){return!e.includes(t)})),c=y.filter((function(e){return!t.includes(e)})),f=p.filter((function(e){return!n.includes(e)})),d=v.filter((function(e){return!i.includes(e)})),(s.length>0||c.length>0||f.length>0||d.length>0)&&(l=!0)}var A=s.map((function(e){return"*"+e.getBasicDisplayName(a)+"*"})),b=c.map((function(e){return ae("{{itemIcon}} *{{itemName}}*",{itemIcon:":"+e.getItem().getId()+":",itemName:e.getItem().getName(e.getItem().getDefaultParams())})})),k=f.map((function(e){return"*"+e.getBasicDisplayName(a)+"+*"})),x=d.map((function(e){return"*"+e.getBaseName()+"*"})),w=[].concat((0,h.default)(A),(0,h.default)(k),(0,h.default)(b),(0,h.default)(x));return w.length>0?ae("Your next unlock is at level {{level}}: {{unlocks}}",{level:u+o,unlocks:w.join(ae(", "))}):ae("If you only level up this element, you will not unlock anything new!")}),[JSON.stringify(i)]),s=bn(a,xn(a,r)+1,r)-gn(a,r);return(0,Ll.jsxs)(T.default,{style:gs.p8,children:[(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(zl,{children:ae("To Next Level: {{exp}} Exp ({{time}})",{exp:ue(s),time:0==(null!=(t=null==u?void 0:u[r])?t:0)||s==1/0?"\u221e":ce(ly().duration(1e3*s/(null!=(n=null==u?void 0:u[r])?n:0)))})})}),(0,Ll.jsx)(T.default,{style:gs.mt4,children:(0,Ll.jsx)(fs,{children:l})})]})}function jE(e){var t,n=e.element,r=As(),i=(0,o.useRef)(r);i.current=r;var u=kg(r,"study:"+n,!1),l=(0,a.default)(u,2),s=l[0],c=l[1],f=(0,o.useCallback)((function(){return c(!s)}),[s]),d=ni(r)>0,g=(null==(t=r.run.studyAllocation)?void 0:t[n])||0,h=(0,o.useCallback)((function(){return i.current.apply(ai(n,e.applyAll?-1/0:-1))}),[n,e.applyAll]),m=(0,o.useCallback)((function(){return i.current.apply(ai(n,e.applyAll?1/0:1))}),[n,e.applyAll]),y=xn(r,n),p=(0,D.useTheme)(),v=(0,o.useMemo)((function(){return(0,Ll.jsx)(zl,{numberOfLines:3,children:ae("{{element}}{{elementPrimaryText}}: Lv{{level}}",{element:ln(n),elementPrimaryText:Bn(r).includes(n)?ae(" (Primary)"):"",level:ue(y)})})}),[n,Bn(r).join(),y]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:[DE.singleElementContainer,e.isOdd&&{backgroundColor:W()(p.colors.primary).alpha(.1)}],children:[(0,Ll.jsxs)(T.default,{style:DE.row,children:[(0,Ll.jsx)(T.default,{style:DE.elementTextContainer,children:v}),(0,Ll.jsxs)(T.default,{style:[DE.row,DE.rightHandSide],children:[(0,Ll.jsx)(zl,{children:ue(g)}),(0,Ll.jsx)(T.default,{style:DE.plusMinusAllocatorContainer,children:(0,Ll.jsx)(pg,{disableMinus:0===g,disablePlus:!d,onPressMinus:h,onPressPlus:m})}),(0,Ll.jsx)(Xd.default,{onPress:f,accessibilityRole:"header",accessibilityLabel:ae(s?"Collapse":"Expand"),children:(0,Ll.jsx)(T.default,{style:DE.expansionContainer,children:(0,Ll.jsx)(qd.default,{name:s?"chevron-down":"chevron-right",size:24,color:p.colors.onBackground})})})]})]}),s&&(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(TE,{element:n})})]},n)}),[v,g,d,h,m,p,e.isOdd,s,f])}function ME(){var e=As(),t=(0,o.useContext)(pm),n=(0,o.useRef)(e);n.current=e;var r=ni(e),i=ti(e),u=vm(t,"research_applyall",!1),l=(0,a.default)(u,2),s=l[0],c=l[1],f=(0,o.useCallback)((function(){c(!s)}),[s,c]),d=e.options.researcherAutoAssignStrategy,g=(0,o.useCallback)((function(e){n.current.apply((function(t){return t.options.researcherAutoAssignStrategy=e,t}))}),[]),h=(0,o.useMemo)((function(){var e=$(ve).map((function(e){return{key:e,value:e,label:Wa(e)}}));return(0,Ll.jsx)(ym,{onValueChange:g,selectedValue:d,disablePlaceholder:!0,data:e,style:{maxWidth:120},maxLength:16})}),[d,g]),m=function(e){return Mt(_a,e,qa)}(e),y=ae("{{exp}} / sec",{exp:ue($a(e),{showDecimals:!0})}),p=(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(T.default,{style:DE.assignAllContainer,children:(0,Ll.jsx)(fg,{title:ae("Assign / unassign all at once"),checked:s,onPress:f})}),(0,Ll.jsxs)(T.default,{style:[gs.mt4,gs.ph16,gs.flexRowSpaceBetween],children:[(0,Ll.jsx)(zl,{children:ae("Auto-assign researchers: ")}),(0,Ll.jsx)(T.default,{style:gs.ml16,children:h})]}),(0,Ll.jsxs)(T.default,{style:[DE.row,DE.researcherCapacityContainer],children:[(0,Ll.jsx)(zl,{children:ae("Researchers available: ")}),(0,Ll.jsx)(zl,{children:ae("{{free}}/{{total}}",{free:ue(r),total:ue(i)})})]}),(0,Ll.jsxs)(T.default,{style:[DE.row,DE.researcherCapacityContainer],children:[(0,Ll.jsx)(zl,{children:ae("Exp per researcher: ")}),null!=m?(0,Ll.jsx)($g,{title:m,children:(0,Ll.jsx)(zl,{style:gs.underlined,children:y})}):(0,Ll.jsx)(zl,{children:y})]}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(Dg,{area:_t.STUDY})})]})}),[y,m,i,r,s,f,h]),v=Rn(e),A=r===i,b=r<=0,k=(0,o.useCallback)((function(){n.current.apply((function(e){for(var t of Z(e.run.studyAllocation))ai(t,s?-1/0:-1)(e);return e}))}),[s]),x=(0,o.useCallback)((function(){n.current.apply((function(e){do{for(var t of Rn(e))ai(t,1)(e)}while(s&&ni(e)>0);return e}))}),[s]),w=(0,D.useTheme)();return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsxs)(Vv,{children:[(0,Ll.jsx)(Mm.default.Title,{title:ae("Elements"),accessibilityRole:"header"}),(0,Ll.jsxs)(T.default,{style:[gs.ph8,gs.pb8],children:[v.map((function(e,t){return(0,Ll.jsx)(jE,{element:e,applyAll:s,isOdd:t%2!=0},e)})),(0,Ll.jsxs)(T.default,{style:[DE.row,DE.singleElementContainer,v.length%2!=0&&{backgroundColor:W()(w.colors.primary).alpha(.1)}],children:[(0,Ll.jsx)(T.default,{style:DE.elementTextContainer,children:(0,Ll.jsx)(zl,{numberOfLines:3,children:ae("Assign to every Element")})}),(0,Ll.jsx)(T.default,{style:[DE.row,DE.rightHandSide],children:(0,Ll.jsx)(T.default,{style:DE.plusMinusAllocatorContainer,children:(0,Ll.jsx)(pg,{disableMinus:A,disablePlus:b,onPressMinus:k,onPressPlus:x})})}),(0,Ll.jsx)(T.default,{style:DE.expansionPlaceholder})]},"All")]})]}),p]})}),[v.length,p,s,A,b,k,x,w])}var DE=R.default.create({row:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},plusMinusAllocatorContainer:{marginLeft:16},assignAllContainer:{marginTop:8,paddingHorizontal:16},researcherCapacityContainer:{marginTop:4,paddingHorizontal:16},singleElementContainer:{padding:4},checkboxContainer:{marginLeft:0,marginTop:8,padding:0},checkboxText:{fontWeight:"normal"},rightHandSide:{marginLeft:16},elementTextContainer:{flex:1},valueText:{minWidth:60,textAlign:"right",marginLeft:8},expansionContainer:{cursor:"pointer"},expansionPlaceholder:{width:24}});function OE(e){var t=As(),n=(0,D.useTheme)(),r=e.bonus.isVisible(t),a=e.bonus.getEffect(t,e.amount<1?1:e.amount);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:[gs.flexRowAlignCenter,0==e.amount&&{opacity:.5}],children:[(0,Ll.jsx)(ts,{icon:e.bonus.getElement1().toLowerCase(),style:gs.mr4}),(0,Ll.jsx)(ts,{icon:e.bonus.getElement2().toLowerCase(),style:gs.mr4}),(0,Ll.jsx)(T.default,{style:gs.ml4,children:(0,Ll.jsx)(zl,{style:{fontWeight:"bold"},children:ae("x{{amount}}",{amount:ue(e.amount)})})}),(0,Ll.jsx)(T.default,{style:[gs.ml16,gs.flex],children:(0,Ll.jsx)(fs,{style:!e.bonus.isBeneficial()&&e.amount>0&&{color:n.colors.error},children:r?a:ae("???")})})]})}),[r,a,e.amount])}function NE(e){var t=As();(0,o.useRef)(t).current=t;var n=function(e){var t=gd.getAll(),n=[],r=Pn(e);for(var a of t){var i=a.getCurrentBonusAmount(e);r.includes(a.getElement1())&&r.includes(a.getElement2())&&n.push({bonus:a,amount:i})}return n.sort((function(e,t){return e.amount!=t.amount?t.amount-e.amount:e.bonus.getElement1()!=t.bonus.getElement1()?$(un).indexOf(e.bonus.getElement1())-$(un).indexOf(t.bonus.getElement1()):$(un).indexOf(e.bonus.getElement2())-$(un).indexOf(t.bonus.getElement2())})),n}(t),r=(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(Bg,{}),(0,Ll.jsx)(T.default,{style:gs.mv8,children:(0,Ll.jsx)(zl,{h3:!0,children:ae("Bonuses")})}),0==n.length&&(0,Ll.jsx)(zl,{style:{fontStyle:"italic"},children:ae("No bonuses yet!")})]})}),[n.length]);return(0,Ll.jsxs)(T.default,{style:gs.flex,children:[r,(0,Ll.jsx)(u.ScrollView,{style:gs.flex,children:n.map((function(e){var t=e.bonus,n=e.amount;return(0,Ll.jsx)(T.default,{style:gs.pv4,children:(0,Ll.jsx)(OE,{bonus:t,amount:n})},t.getId())}))})]})}function UE(e){var t=As(),n=(0,D.useTheme)(),r=Ad(t,e.x,e.y),a={x:ue(e.x+1),y:ue(e.y+1),element:null!=r?ln(r):ae("Empty")};return(0,o.useMemo)((function(){return(0,Ll.jsx)(P.default,{onPress:e.onPress,accessible:!0,accessibilityLabel:e.selected?ae("Position {{x}}, {{y}} - Selected - {{element}}",a):ae("Position {{x}}, {{y}} - {{element}}",a),accessibilityRole:"button",children:(0,Ll.jsx)(T.default,{style:{width:34,height:34,borderWidth:1,borderColor:e.error?n.colors.error:n.colors.outline,backgroundColor:e.selected&&e.error?n.colors.onErrorContainer:e.selected?n.colors.secondaryContainer:e.error?n.colors.errorContainer:void 0},children:null!=r&&(0,Ll.jsx)(ts,{icon:r.toLowerCase()})})})}),[e.x,e.y,r,e.onPress,e.selected,e.error,n])}function FE(e){var t,n,r=As(),a=(0,D.useTheme)(),i=(0,o.useMemo)((function(){for(var t=[],n=0;n<hd;n++){for(var a=[],i=0;i<md;i++){var o,u;a.push((0,Ll.jsx)(UE,{x:i,y:n,selected:(null==(o=e.selectedPosition)?void 0:o.x)==i&&(null==(u=e.selectedPosition)?void 0:u.y)==n,error:Cd(r,i,n),onPress:e.onGridPress.bind(null,i,n)},n.toString()+i.toString()))}t.push((0,Ll.jsx)(T.default,{style:gs.flexRowAlignCenter,children:a},n))}return t}),[JSON.stringify(vd(r)),null==(t=e.selectedPosition)?void 0:t.x,null==(n=e.selectedPosition)?void 0:n.y]);return(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:{borderWidth:1,borderColor:a.colors.outline},children:i})}),[a,i])}function LE(e){var t=As(),n=(0,D.useTheme)(),r=e.element,a=xd(t,r),i=wd(t,r);return(0,o.useMemo)((function(){return void 0==r?(0,Ll.jsx)(T.default,{style:[gs.flexCenter,{alignSelf:"flex-start"}],children:(0,Ll.jsx)(P.default,{onPress:e.onPress.bind(null,r),accessible:!0,accessibilityLabel:ae("Clear position"),accessibilityRole:"button",children:(0,Ll.jsx)(T.default,{style:[YE.itemContainerStyle,{borderColor:n.colors.outlineVariant}],children:(0,Ll.jsx)(ts,{icon:"x"})})})}):(0,Ll.jsxs)(T.default,{style:gs.flexCenter,children:[(0,Ll.jsx)(P.default,{onPress:e.onPress.bind(null,r),accessible:!0,accessibilityLabel:ae("Set to {{element}}",{element:ln(r)}),accessibilityRole:"button",children:(0,Ll.jsx)(T.default,{style:[YE.itemContainerStyle,{borderColor:n.colors.outlineVariant}],children:(0,Ll.jsx)(ts,{icon:r.toLowerCase()})})}),(0,Ll.jsx)(T.default,{style:gs.mt4,children:(0,Ll.jsx)(zl,{style:{fontSize:12},children:ae("{{left}}/{{max}}",{left:ue(i-a),max:ue(i)})})})]})}),[r,e.onPress,n,i,a])}function HE(e){var t=As(),n=(0,o.useRef)(t);n.current=t;var r=(0,o.useState)(null),i=(0,a.default)(r,2),u=i[0],l=i[1],s=(0,o.useCallback)((function(e,t){return l({x:e,y:t})}),[l]);(0,o.useEffect)((function(){return l(void 0)}),[t.world.synchro.currentGrid]);var c=(0,o.useCallback)((function(e){return n.current.apply((function(t){return function(e,t,n,r){if(t<0||n<0||t>=md||n>=hd)return e;if(null!=r&&xd(e,r)>=wd(e,r))return e;var a=vd(e);for(var i of(null==a.grid[n]&&(a.grid[n]={}),a.grid[n][t]=r,e=et(Ir.EverUsedSynchro)(e),bd.getAll()))e=i(e);return e}(t,u.x,u.y,e)}))}),[u]),f=(0,o.useMemo)((function(){return(0,Ll.jsx)(FE,{onGridPress:s,selectedPosition:u})}),[s,u]),d=(0,o.useMemo)((function(){var e=Pn(t).sort((function(e,t){return $(un).indexOf(e)-$(un).indexOf(t)})).map((function(e){return(0,Ll.jsx)(LE,{onPress:c,element:e},e)}));return e.push((0,Ll.jsx)(LE,{onPress:c,element:void 0},"clear")),e}),[JSON.stringify(Pn(t)),c]),g=!tt(t,Ir.EverUsedSynchro);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:[gs.p4,gs.flex],children:[(0,Ll.jsx)(zl,{h1:!0,children:ae("Synchro")}),(0,Ll.jsx)(T.default,{style:[gs.flexCenter,gs.mt8],children:f}),(0,Ll.jsx)(T.default,{style:[gs.flexCenter,gs.mt8,{minHeight:120}],children:(0,Ll.jsxs)(T.default,{style:[gs.flexRowAlignCenter,{width:286,gap:8,flexWrap:"wrap",justifyContent:"center"}],children:[null!=u&&d,null==u&&g&&(0,Ll.jsx)(zl,{style:{fontStyle:"italic"},children:ae("Welcome to the Synchro screen! You can get started with your Synchro Board by pressing any of the tiles in the grid above.")})]})}),(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(Ip,{})}),(0,Ll.jsx)(T.default,{style:[gs.flex,gs.mt8],children:(0,Ll.jsx)(NE,{})})]})}),[u,d,f,g])}var YE=R.default.create({itemContainerStyle:{width:34,height:34,borderWidth:1}});function QE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var zE=function(e){(0,ws.default)(n,e);var t=QE(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getAreas",value:function(){var e=(0,xs.default)((0,Cs.default)(n.prototype),"getAreas",this).call(this);return e.HOME=[$t.CHANNELING],e}},{key:"getAutocastCategory",value:function(){return lc.CHANNELING}},{key:"getBaseManaCost",value:function(e){return Math.floor(Qt(e,Dt.Mana)*this.getManaCostProportion())}},{key:"getBaseEssenceEfficiency",value:function(){return 1}},{key:"getManaCostProportion",value:function(){return.1}},{key:"getBaseActionEffects",value:function(){return{essenceEfficiency:{value:this.getBaseEssenceEfficiency(),tags:[pt.ChannelingEfficiency]}}}},{key:"getEssencesToGrant",value:function(){return Ss[this.getElement()]}},{key:"getEssenceAmountToGrant",value:function(e){var t=this;return Re(e,"essenceAmountToGrant"+this.getId(),(function(e){var n=t.getActionEffects(e);return t.getBaseManaCost(e)*n.essenceEfficiency}))}},{key:"getDisplayEffect",value:function(e){var t=this.getEssencesToGrant(),n=this.getEssenceAmountToGrant(e);if("all"===t){var r=[];for(var a of Rn(e))r.push(ae("+{{amount}}{{resourceIcon}}",{amount:ue(n),resourceIcon:":"+Ss[a].toLowerCase()+":"}));return r.join(ae(", "))}return ae("^+{{amount}}^<{{resourceIcon}}/:mana: calculation: {{explanation}}>{{resourceIcon}}",{amount:ue(n),resourceIcon:":"+t.toLowerCase()+":",explanation:this.getActionEffectExplanations(e,"essenceEfficiency").essenceEfficiency})}},{key:"isVisible",value:function(e){return Ve(e,Ir.ChannelingUnlocked)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"isEnabled",value:function(e,t){return(0,xs.default)((0,Cs.default)(n.prototype),"isEnabled",this).call(this,e,t)&&this.isCastingRecommended(e)}},{key:"getExpFromUsage",value:function(e){var t=this;return Te(e,this.getId()+"expFromUsage",(function(e){var n=t.getLevelRequirements();return ee(Z(n).map((function(r){var a;return[r,Hn(e,r,n[r],(null!=(a=t.getCost(e).resources[Dt.Mana])?a:0)*Math.log10(Math.max(1,t.getEssenceAmountToGrant(e))),!0,t.getTags())]})))}),(function(e){return Math.floor(Date.now()/500)}))}},{key:"doSpellAction",value:function(e,t){var n=this.getEssencesToGrant(),r=this.getEssenceAmountToGrant(e);if("all"===n){for(var a of Rn(e))e=Wt(Ss[a],r)(e);return e}return Wt(n,r)(e)}},{key:"isCastingRecommended",value:function(e){var t=this.getEssencesToGrant();if("all"!=t)return zt(e,t)<Qt(e,t);for(var n of Rn(e))if(("all"==t||t==Ss[n])&&zt(e,Ss[n])<Qt(e,Ss[n]))return!0;return!1}}]),n}(uf);function VE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const WE=new(function(e){(0,ws.default)(n,e);var t=VE(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"channelFire"}},{key:"getSpellName",value:function(){return ae("Channel Fire")}},{key:"getElement",value:function(){return un.Fire}},{key:"getBaseEssenceEfficiency",value:function(){return.75}},{key:"getManaCostProportion",value:function(){return.2}},{key:"getDisplayDescription",value:function(e){return ae("Channel some of your Mana into Fire Essence, a basic resource.")}},{key:"getLevelRequirements",value:function(){return{Fire:1}}}]),n}(zE));function GE(e){var t=jc(e.condition),n=As(),r=t.getDisplayExplanation(n,e.condition.values);return(0,o.useMemo)((function(){return(0,Ll.jsx)(fs,{children:r})}),[r])}function JE(){var e,t=As(),n=(0,o.useRef)(t);n.current=t;var r=(0,D.useTheme)(),a=Ic(t),i=(0,o.useCallback)((function(){return n.current.apply((function(e){return Ac(e,1)}))}),[]),u=(0,o.useCallback)((function(){return n.current.apply((function(e){return Ac(e,-1)}))}),[]),l=Z(a.permaCastRules).length>0,s=Te(t,"permaCastSpellListSorted",(function(e){return function(e,t){var n=Z(t.permaCastRules).map((function(e){return Ia.getById(e)})).filter((function(t){return t.isVisible(e)})),r={},a={};for(var i of n)r[i.getId()]=i.getPermaCastAutocastPointsConsumptionPerSec(e),a[i.getId()]=i.getPermaCastManaCostPerSec(e);return n.sort((function(e,t){return r[e.getId()]*a[e.getId()]-r[t.getId()]*a[t.getId()]}))}(e,a)}),(function(e){return Math.floor(Date.now()/500)})),c=0==s.length?ae("No spells yet! You can assign spells to Perma-Cast by opening a spell's details in the Spell menu."):ae("{{number}} spell(s), most expensive by :mana: and :wizardpower:: {{actualSpellList}}",{number:s.length,actualSpellList:s.slice(-5).reverse().map((function(e){return e.getBasicDisplayName(t)})).join(ae(", "))}),f=Qc(t,a),d=Hc(t,a),g=Vc(t,a),m=null!=(e=di(t).Mana)?e:0,y=Math.max.apply(Math,(0,h.default)(s.map((function(e){return e.getManaCost(t)})))),p=Qt(t,Dt.Mana),v=(0,o.useMemo)((function(){var e=null;return a.wizardsAssignedToPermaCast<g&&(e=(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{style:{color:r.colors.error},children:ae("*Warning: you do not have enough wizards assigned to Perma-Cast! Some of your Perma-Cast spells may not actually get cast.*")})})),e}),[g,a.wizardsAssignedToPermaCast]),A=(0,o.useMemo)((function(){var e=null;return m<d&&(e=(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{style:{color:r.colors.error},children:ae("*Warning: your :mana: income is not enough to support all your Perma-Cast spells! Some of your Perma-Cast spells may not actually get cast, and your :mana: may not increase.*")})})),e}),[m,d]),b=(0,o.useMemo)((function(){var e=null;return p<y&&(e=(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{style:{color:r.colors.error},children:ae("*Warning: your Max:mana: is not high enough to cast at least one of your Perma-Cast spells! Those spells will not get cast, but they will also not consume :mana: or :wizardpower:.*")})})),e}),[p,y]),k=(0,o.useMemo)((function(){return l?ae("*({{wizardPower}}:wizardpower:/s ({{wiz}} Wizards); {{mana}}:mana:/s)*",{wizardPower:ue(f,{showDecimals:!0}),wiz:ue(g),mana:ue(d,{showDecimals:!0})}):""}),[l,f,g,d]),x=(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:gs.flexRowAlignCenter,children:(0,Ll.jsx)(T.default,{style:gs.flex,children:(0,Ll.jsx)(fs,{children:ae("***Perma-Cast spells:** {{permaCastSpellList}}*",{permaCastSpellList:c})})})})}),[c]),w=(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:gs.flexRowAlignCenter,children:""!=k?(0,Ll.jsx)(fs,{children:k}):null})}),[k]),E=(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{children:[v,A,b]})}),[v,A,b]),C=(0,o.useMemo)((function(){return[gs.flexRowAlignCenter,gs.flex,gs.mv4,gs.p8,{backgroundColor:l?r.colors.secondaryContainer:r.colors.surfaceDisabled,borderRadius:8}]}),[l,r]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:C,children:[(0,Ll.jsxs)(T.default,{style:gs.flex,children:[x,w,E]}),(0,Ll.jsxs)(T.default,{style:[gs.flexRowAlignCenter,gs.ml16],children:[(0,Ll.jsx)(T.default,{style:gs.mr4,children:(0,Ll.jsx)(zl,{children:a.wizardsAssignedToPermaCast})}),(0,Ll.jsx)(pg,{disableMinus:a.wizardsAssignedToPermaCast<=0,disablePlus:yc(t)<=0,onPressPlus:i,onPressMinus:u})]})]})}),[x,w,E,a.wizardsAssignedToPermaCast,yc(t),i,u,C])}function qE(e){var t,n=As(),r=(0,o.useRef)(n);r.current=n;var a=e.ruleId,i=e.onPressMinus,u=e.onPressPlus,l=e.toggleDisabled,s=e.onDelete,c=Pc(n,a),f=Sc(n,c),d=Ia.getByIdNullable(null==c?void 0:c.spellId),g=null==d?void 0:d.getAutocastPointsRequirement(n),h=null==d||null==(t=d.getCost(n))?void 0:t.resources[Dt.Mana],y=null==d?void 0:d.isVisible(n),p=Nc(n,c,f),v=Uc(n,c,f),A=(0,o.useCallback)((function(){return r.current.apply((function(e){return Cc(e,c)}))}),[c]),b=(0,o.useMemo)((function(){return f.wizardsAssigned>0&&!f.disabled?ae("*({{secs}}s/cast; {{mana}}:mana:/s)*",{secs:ue(p,{showDecimals:!0}),mana:ue(v,{showDecimals:!0})}):""}),[p,f.wizardsAssigned,f.disabled,v]),k=(0,o.useMemo)((function(){var e;return(0,Ll.jsxs)(T.default,{style:[gs.flexRowAlignCenter,gs.mr8,{marginTop:2}],children:[(0,Ll.jsx)(ts,{icon:"wizardpower",small:!0,style:gs.mr4}),(0,Ll.jsx)(zl,{children:ae("{{amount}}/{{cap}}",{amount:ue(f.currentPoints),cap:null!=(e=ue(g))?e:0})})]})}),[ue(f.currentPoints),g]),x=(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:gs.flexRowAlignCenter,children:[(0,Ll.jsxs)(T.default,{style:[gs.flex,{marginTop:-4}],children:["checkOnly"==c.spellId?(0,Ll.jsx)(fs,{children:ae("Stop processing rules below if conditions not met:")}):y?0==c.conditions.length?(0,Ll.jsx)(fs,{children:ae("*{{spellName}}*",{spellName:ne(d).getBasicDisplayName(n)})}):(0,Ll.jsx)(fs,{children:ae("*{{spellName}}*) if:",{spellName:ne(d).getBasicDisplayName(n)})}):(0,Ll.jsx)(fs,{children:ae("[Rule hidden as spell is not unlocked]")}),c.conditions.map((function(e,t){return(0,Ll.jsx)(GE,{condition:e},t)}))]}),null!=d&&(0,Ll.jsxs)(T.default,{style:[gs.flexRowAlignCenter,gs.ml8],children:[(0,Ll.jsx)(T.default,{style:gs.mr4,children:(0,Ll.jsx)(zl,{children:f.wizardsAssigned})}),(0,Ll.jsx)(pg,{disableMinus:!y||f.wizardsAssigned<=0,disablePlus:!y||yc(n)<=0,onPressPlus:u.bind(null,a),onPressMinus:i.bind(null,a)})]})]})}),[a,JSON.stringify(c.conditions),y,null!=d&&d.getBasicDisplayName(n),h,f.wizardsAssigned,yc(n),i,u]),w=(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:[gs.ml4,gs.mr4,{alignSelf:"stretch",alignItems:"center",justifyContent:"space-around"}],children:[(0,Ll.jsx)(cg.default,{value:!f.disabled,onValueChange:l.bind(null,a)}),(0,Ll.jsxs)(T.default,{style:gs.flexRowAlignCenter,children:[(0,Ll.jsx)(F.default,{icon:function(e){return(0,Ll.jsx)(m.default,{name:"remove",size:20,color:e.color})},style:[{margin:0,width:20,height:20},gs.mr4],onPress:A}),(0,Ll.jsx)(F.default,{icon:function(e){return(0,Ll.jsx)(m.default,{name:"close",size:20,color:e.color})},style:{margin:0,width:20,height:20},onPress:function(){return s(a)}})]})]})}),[f.disabled,l,a,s,A]),E=(0,o.useMemo)((function(){return null!=d&&y&&(0,Ll.jsxs)(T.default,{style:gs.flexRowAlignCenter,children:[k,(0,Ll.jsx)(fs,{children:b})]})}),[k,b,c.spellId,y]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:[gs.flexRowAlignCenter,gs.flex],children:[(0,Ll.jsxs)(T.default,{style:gs.flex,children:[x,E]}),w]})}),[x,w,E])}function XE(e){var t=e.params,n=e.saveRule,r=e.deleteRule,a=e.toggleDisabled,i=e.onPressMinus,u=e.onPressPlus,l=t.item,s=(0,D.useTheme)(),c=Ia.getByIdNullable(l.spellId),f=As(),d=(0,o.useRef)(f);d.current=f;var g=Sc(f,l),h=g.disabled||null!=c&&g.wizardsAssigned<=0||null!=c&&!c.isVisible(f),y=(0,o.useMemo)((function(){return(0,Ll.jsx)(Ky,{drag:t.drag})}),[t.drag]),p=s.dark,v=g.hidden,A=null!=c&&null!=c.getElement()?ir(c.getElement(),p).colors.secondaryContainer:s.colors.secondaryContainer,b=(0,o.useMemo)((function(){return[gs.flexRowAlignCenter,gs.flex,gs.mv4,gs.p4,{backgroundColor:h?s.colors.surfaceDisabled:A,borderRadius:8}]}),[h,s,A]),k=(0,o.useMemo)((function(){return n.bind(null)}),[n]),x=(0,o.useMemo)((function(){return r.bind(null,l.id)}),[l.id,r]),w=(0,o.useCallback)((function(){return d.current.apply((function(e){return Cc(e,l)}))}),[l.id]),E=(0,o.useCallback)((function(e){return(0,Ll.jsx)(m.default,{name:"unfold-more",size:20,color:e.color})}),[]),C=(0,o.useMemo)((function(){return[gs.flexRowSpaceBetween,gs.ph8]}),[]),I=(0,o.useMemo)((function(){return ae("{{spellName}} (hidden){{wizardCount}}",{spellName:c.getBasicDisplayName(f),wizardCount:g.wizardsAssigned>0?ae(" ({{wizardCount}})",{wizardCount:ue(g.wizardsAssigned)}):""})}),[c.getDisplayName(f),g.wizardsAssigned]);return(0,o.useMemo)((function(){return v?(0,Ll.jsxs)(T.default,{style:C,children:[(0,Ll.jsx)(zl,{children:I},"hiddenText"),(0,Ll.jsx)(F.default,{icon:E,style:$E.unfoldButton,onPress:w},"unhide")]}):(0,Ll.jsxs)(T.default,{style:b,children:[y,(0,Ll.jsx)(qE,{ruleId:l.id,onPressMinus:i,onPressPlus:u,onDelete:r,toggleDisabled:a})]})}),[v,b,y,l.id,l,k,x,i,u,a,C,I,E,w])}function KE(e){var t,n,r=As();(0,o.useRef)(r).current=r;var a=Ic(r),i=(0,D.useTheme)(),u=function(e,t){var n=0;for(var r in t.rules)n+=Fc(e,t.rules[r],Number.parseInt(r));return n+Hc(e,t)}(r,a),l=null!=(t=null==(n=di(r))?void 0:n.Mana)?t:0,s=function(e,t){return t.rules.reduce((function(t,n,r){return te([t,Lc(e,n,r)])}),{})}(r,Ic(r)),c=0,f=un.Fire;for(var d of Z(s))s[d]>c&&(f=d,c=s[d]);var g=dc(r),h=function(e){return Mt(cc,e,1,fc)}(r),m=hc(r),y=function(e){return Mt(gc,e,1,mc())}(r);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:[$E.loadoutsContainer,{borderColor:i.colors.outlineVariant}],children:[(0,Ll.jsxs)(T.default,{style:[gs.flexRowAlignCenter],children:[(0,Ll.jsx)(T.default,{style:[gs.flex,gs.mr8],children:(0,Ll.jsx)(fs,{children:ae("Wizards remaining:")})}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{children:ae("{{remainingWizards}}/^{{totalWizards}}^<{{explainTotalWizards}}>",{remainingWizards:yc(r),totalWizards:m,explainTotalWizards:y})})})]}),(0,Ll.jsxs)(T.default,{style:[gs.flexRowAlignCenter],children:[(0,Ll.jsx)(T.default,{style:[gs.flex,gs.mr8],children:(0,Ll.jsx)(fs,{children:ae("Wizard Power production per Wizard:")})}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{children:ae("^{{amount}}^<{{explanation}}>:wizardpower:/sec",{amount:ue(g,{showDecimals:!0}),explanation:h})})})]}),(0,Ll.jsxs)(T.default,{style:[gs.flexRowAlignCenter],children:[(0,Ll.jsx)(T.default,{style:[gs.flex,gs.mr8],children:(0,Ll.jsx)(fs,{children:ae("Estimated Mana consumption:")})}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{style:u>l&&{color:i.colors.error},children:ae("{{amount}}:mana:/sec",{amount:ue(u,{showDecimals:!0})})})})]}),(0,Ll.jsxs)(T.default,{style:[gs.flexRowAlignCenter],children:[(0,Ll.jsx)(T.default,{style:[gs.flex,gs.mr8],children:(0,Ll.jsx)(fs,{children:ae("Estimated exp gain:")})}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{children:c>0?ae("{{amount}} {{mainElement}} + others / min",{amount:ue(60*c,{showDecimals:!0}),mainElement:ln(f)}):ae("-")})})]})]})}),[i,yc(r),m,y,g,h,u,l,c,f])}function ZE(e){var t=As(),n=(0,o.useRef)(t);n.current=t;var r=(0,D.useTheme)(),a=Ic(t),i=(0,o.useCallback)((function(e){n.current.apply((function(n){var r=Ic(n),a=function(e,t){return Ic(e).rules.findIndex((function(e){return e.id==t.id}))}(t,e);return r.rules[a]=e,n.run.autocast.rules[e.id]={currentPoints:0,wizardsAssigned:e.wizardsAssigned,disabled:e.disabled,hidden:!1},n}))}),[]),u=(0,o.useCallback)((function(e){n.current.apply((function(t){var n=Ic(t);return n.rules=n.rules.filter((function(t){return t.id!=e})),t}))}),[]),l=(0,o.useCallback)((function(e){n.current.apply((function(t){return Ec(t,Pc(t,e))}))}),[]),s=(0,o.useCallback)((function(e){n.current.apply((function(t){return wc(t,Pc(t,e),1)}))}),[]),c=(0,o.useCallback)((function(e){n.current.apply((function(t){return wc(t,Pc(t,e),-1)}))}),[]),f=(0,o.useCallback)((function(e){return(0,Ll.jsx)(XE,{params:e,saveRule:i,deleteRule:u,onPressMinus:c,onPressPlus:s,toggleDisabled:l})}),[i,u,c,s,l]),d=(0,o.useCallback)((function(e,t){return e.id}),[]),g=((0,o.useCallback)((function(){n.current.apply((function(e){var t=Ic(e);return t.rules.push({id:Math.random().toString(),disabled:!0,wizardsAssigned:0,spellId:WE.getId(),conditions:[]}),e.global.autocast.currentStrategy=t,e}))}),[]),Nw.isBonusActive(t)),h=(0,o.useMemo)((function(){var e={};for(var t of a.rules){var n=Ia.getById(t.spellId).getAutocastCategory();null==e[n]&&(e[n]=[]),e[n].push(t)}return e}),[JSON.stringify(a.rules)]),m=(0,o.useCallback)((function(){n.current.apply((function(e){return e.run.autocast.autocastPaused=!e.run.autocast.autocastPaused,e}))}),[]),y=t.run.autocast.autocastPaused,p=(0,o.useMemo)((function(){return(0,Ll.jsxs)(Xy.NestableScrollContainer,{children:[(Z(h).length>0||g)&&(0,Ll.jsx)(T.default,{style:[gs.ph4,gs.mt8],children:(0,Ll.jsx)(fg,{title:(0,Ll.jsx)(T.default,{style:gs.flex,children:(0,Ll.jsx)(zl,{style:y&&{color:r.colors.error},children:ae("Pause all Wizards")})}),checked:y,onPress:m})}),g?(0,Ll.jsx)(T.default,{style:[gs.ph4,gs.mt8],children:(0,Ll.jsx)(JE,{})}):void 0,0==Z(h).length&&!g&&(0,Ll.jsx)(fs,{children:ae("*You have no rules currently set for your Wizards! You can tell them to cast spells for you from the Spell menu (by expanding a spell's details) or from the Transmute screen.*")}),Z(h).map((function(e){return(0,Ll.jsx)(Rg,{title:sc(e),containerStyle:gs.ph4,children:(0,Ll.jsx)(Xy.NestableDraggableFlatList,{style:$E.container,containerStyle:[gs.flex,$E.contentContainer],data:h[e],renderItem:f,keyExtractor:d,onDragEnd:function(e){n.current.apply((function(t){var n=Ic(t),r=[],a=e.data.map((function(e){return e.id}));for(var i in n.rules){var o=n.rules[i];a.includes(o.id)&&r.push(i)}for(var u in e.data){var l=e.data[u];n.rules[r[u]]=l}return t.global.autocast.currentStrategy=n,t}))}})},e)}))]})}),[f,d,g,h,r,y,m]);return p}function _E(e){var t,n,r=As(),i=(0,o.useRef)(r);i.current=r;var u=(0,o.useState)(null!=(t=null==(n=r.global.autocast.lastStrategyIndex)||null==n.toString?void 0:n.toString())?t:"0"),l=(0,a.default)(u,2),s=l[0],c=l[1],f=(0,o.useMemo)((function(){for(var e=[],t=0;t<8;t++)e.push({key:t.toString(),value:t.toString(),label:ae("Slot {{idx}}",{idx:t+1})});return(0,Ll.jsx)(ym,{onValueChange:c,selectedValue:s,disablePlaceholder:!0,data:e})}),[8,c,s]),d=r.global.autocast.savedStrategies,g=(0,o.useState)(""),h=(0,a.default)(g,2),m=h[0],y=h[1];(0,o.useEffect)((function(){var e,t;return y(null!=s&&null!=(e=null==d||null==(t=d[Number.parseInt(s)])?void 0:t.name)?e:"")}),[s]),(0,o.useEffect)((function(){var e,t;c(null!=(e=null==(t=r.global.autocast.lastStrategyIndex)||null==t.toString?void 0:t.toString())?e:"0")}),[r.global.autocast.lastStrategyIndex]);var p=Je(r,Ir.AssignedWizard),v=(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:gs.ph4,children:(0,Ll.jsx)(Rg,{title:ae("Strategies"),children:(0,Ll.jsxs)(T.default,{style:gs.mt8,children:[(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsxs)(T.default,{style:gs.flexRowAlignCenter,children:[(0,Ll.jsx)(T.default,{style:gs.flex,children:(0,Ll.jsx)(zl,{children:ae("Save:")})}),f]}),(0,Ll.jsxs)(T.default,{style:[gs.flexRowAlignCenter,gs.mt4],children:[(0,Ll.jsx)(gh.default,{label:ae("Strategy name"),value:m,onChangeText:function(e){return y(e)},mode:"outlined",dense:!0,style:gs.flex,maxLength:20},"strat"),(0,Ll.jsxs)(T.default,{style:[gs.ml8,gs.flexRowAlignCenter],children:[(0,Ll.jsx)(ql,{compact:!0,onPress:function(){i.current.apply((function(e){return function(e,t,n){return e.global.autocast.currentStrategy.name=t,e.global.autocast.savedStrategies[n]=X(e.global.autocast.currentStrategy),e.global.autocast.lastStrategyIndex=n,e}(e,m,Number.parseInt(s))}))},children:ae("Save")}),(0,Ll.jsx)(ql,{compact:!0,style:gs.ml4,onPress:function(){y(""),i.current.apply((function(e){return function(e,t){return delete e.global.autocast.savedStrategies[t],e}(e,Number.parseInt(s))}))},children:ae("Clear")})]})]},"strat")]},"strat"),(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(Bp,{})})]},"strat")})})}),[s,m,y,f]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:$E.campusContainer,children:[p&&v,(0,Ll.jsx)(ZE,{}),(0,Ll.jsx)(KE,{})]})}),[p,v])}var $E=R.default.create({container:{flex:1,width:"100%"},contentContainer:{paddingVertical:8,alignItems:"stretch",justifyContent:"flex-start"},hintContents:{marginLeft:16,marginTop:8,paddingRight:32},hintContentsText:{fontStyle:"italic"},hintProgress:{marginTop:4},loadoutsContainer:{borderTopWidth:1,paddingVertical:8,paddingHorizontal:4},categoryTitle:{marginLeft:8},categoryContainer:{paddingTop:4,marginBottom:8},campusContainer:{flex:1,alignItems:"stretch",justifyContent:"flex-start"},campusHintWarning:{marginTop:16},unfoldButton:{margin:0,width:20,height:20}}),eC=o.memo((function(e){var t=e.level,n=(0,Ll.jsx)(fs,{children:ae("The Sheer Power Boon increases the limit of how strong you can be. It increases level and item quality caps and maximum Storage, as well as boosting production slightly across the board. At some point, if you hope to defeat ever more difficult foes, this Boon will be necessary.")});if(0==t)return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(T.default,{children:n}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{children:ae("Your Sheer Power level will be 0. You will get no benefits.")})})]});var r=tE(t),a=nE(t),i=rE(t);return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(T.default,{children:n}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{children:ae("Your Sheer Power level will be {{level}}. You will get the following benefits:\n    \n* Your maximum Element level will become **{{maxElementLevel}}**;\n* Your maximum Familiar level will become **{{maxFamiliarLevel}}**;\n* The maximum item quality will become **+{{maxItemQuality}}**;\n* **{{storageMultiplier}}** bonus to all Storage maximums (except :mana: and :timepiece:);\n* **{{productionMultiplier}}** bonus to all Production",{level:ue(t),maxElementLevel:ue(cn+r),maxFamiliarLevel:ue(90+a),maxItemQuality:ue(Dh+i),storageMultiplier:le(aE(t)),productionMultiplier:le(iE(t))})})})]})})),tC=o.memo((function(e){var t=e.level,n=(0,Ll.jsx)(fs,{children:ae("The Storyline Oracle Boon lets you manifest bonuses from Storylines that might originally have happened in the future, immediately at the beginning - effectively having a large impact in the early game. Obtain powerful bonuses without the need to progress throughout most of the game to unlock them!")});if(0==t)return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(T.default,{children:n}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{children:ae("Your Storyline Oracle level will be 0. You will get no benefits.")})})]});if(10==t)return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(T.default,{children:n}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{children:ae("Your Storyline Oracle level will be 10. This means **you will start with all Storylines, except endings and Challenges, already completed!**")})})]});for(var r=[],a=1;a<=t;a++){var i=hE(a).map((function(e){return e.getName()})).join(ae(", "));r.push(ae("* Storyline Oracle level {{i}}: **{{storylineText}}**",{i:ue(a),storylineText:i}))}var o=r.join(ae("\n"));return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(T.default,{children:n}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{children:ae("Your Storyline Oracle level will be {{level}}. This means you will begin the new World with the following Storylines already completed and their bonus active:\n      \n{{storylineBonusesText}}",{level:ue(t),storylineBonusesText:o})})})]})})),nC=o.memo((function(e){var t=e.level,n=(0,Ll.jsx)(fs,{children:ae("The Blazing Speed Boon generally increases how fast you can make progress throughout the game. It affects exp and loot gain, as well as Channeling efficiency and item sale prices. This Boon can help make progress through a World significantly shorter.")});return 0==t?(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(T.default,{children:n}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{children:ae("Your Blazing Speed level will be 0. You will get no benefits.")})})]}):(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(T.default,{children:n}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{children:ae("Your Blazing Speed level will be {{level}}. You will get the following benefits:\n    \n* **{{expMultiplier}}** bonus to Element and Familiar exp gain;\n* **{{channelingMultiplier}}** bonus to Channeling efficiency and item sale prices;\n* **{{lootMultiplier}}** bonus to :coins: and :monstium: obtained from enemies, as well as to the chance of looting items.",{level:ue(t),expMultiplier:le(uE(t)),channelingMultiplier:le(oE(t)),lootMultiplier:le(lE(t))})})})]})})),rC=o.memo((function(e){var t=As(),n=e.level;return 0==n?(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{children:ae("Your World Difficulty level will be 0. It will be exactly the same as the first time you played through the game.")})}):(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{children:ae('Your World Difficulty level will be {{level}}.{{ultimateChallengeText}} Enemies will have the following bonuses:\n    \n* **{{hpMultiplier}}** bonus to Max:hp:;\n* **{{attackMultiplier}}** bonus to :attack: and :defense:;\n* **{{attackDelayMultiplier}}** bonus to :attackDelay:;\n* **{{accuracyMultiplier}}** bonus to :accuracy: and :dodge:.\n\nHowever, if you manage to clear the World, you will get a **{{boonPointMultiplier}}** bonus to the amount of Boon Points you will earn. This means you will get **{{boonPoints}}** Boon Points if you reach the ending "To Save a Life", and **{{doubleBoonPoints}}** Boon Points if you complete the Universal Challenge and reach the ending "Transcend Humanity".{{penUltimateChallengeRewardText}}',{level:ue(n),hpMultiplier:le(sE(n)),attackMultiplier:le(dE(n)),attackDelayMultiplier:le(cE(n)),accuracyMultiplier:le(fE(n)),boonPointMultiplier:le(gE(n)),boonPoints:ue(gE(n)*Qw),doubleBoonPoints:ue(gE(n)*Qw*2),ultimateChallengeText:n>10?ae(" **This is the maximum World Difficulty!**"):"",penUltimateChallengeRewardText:10==n&&10==Yw(t)?ae(" **And if you clear the World, you may unlock something special...**"):""})})})}));function aC(e){return(0,Ll.jsxs)(T.default,{style:gs.flexRowAlignCenter,children:[(0,Ll.jsxs)(T.default,{style:gs.flex,children:[(0,Ll.jsx)(zl,{style:gs.bold,children:e.title}),(0,Ll.jsx)(zl,{children:e.level>=Hw?ae("Next level: -"):ae("Next level: {{points}} pts",{points:ue(qw(e.level+1))})})]}),(0,Ll.jsxs)(T.default,{style:gs.flexRowAlignCenter,children:[(0,Ll.jsx)(zl,{children:ae("Lv{{level}} ({{points}} pts)",{level:ue(e.level),points:ue(Xw(e.level))})}),(0,Ll.jsx)(T.default,{style:gs.ml16,children:(0,Ll.jsx)(pg,{disableMinus:!e.decreasingPossible,disablePlus:!e.increasingPossible,onPressMinus:e.onPressMinus,onPressPlus:e.onPressPlus})})]})]})}function iC(e,t,n){var r=e>0,a=e<Hw&&t>=qw(e+1),i=(0,o.useCallback)((function(){r&&n(e-1)}),[e,n,r]),u=(0,o.useCallback)((function(){a&&n(e+1)}),[e,n,a]);return{decreasingPossible:r,increasingPossible:a,onPressMinus:i,onPressPlus:u}}function oC(){var e=As(),t=(0,D.useTheme)(),n=Vw(e),r=Ww(e),i=Yw(e),u=(0,o.useState)(Zw(e)),l=(0,a.default)(u,2),s=l[0],c=l[1],f=(0,o.useState)(_w(e)),g=(0,a.default)(f,2),h=g[0],m=g[1],y=(0,o.useState)($w(e)),p=(0,a.default)(y,2),A=p[0],b=p[1],k=(0,o.useState)(eE(e)),x=(0,a.default)(k,2),w=x[0],E=x[1],C=n-Kw(s,h,A),B=ae("You now possess the ability to travel to other Worlds! You feel like, perhaps, you'd like a do-over of your grand adventure, but this time, in another World, a slightly different one. All the possibilities are laid bare before you...\n  \nBy traveling a new world, **you will start over the game from the very beginning, and will forfeit everything:**\n\n* Unlocked elements and Storylines will generally **not** carry over;\n* Your MPL values, as well as your global element exp, production and loot multipliers, will **not** carry over.\n\nHowever, you will continue having access to the Worlds screen - you will not need to unlock it again."),S=(0,Ll.jsx)(zl,{style:[uC.error,{color:t.colors.error}],children:ae("Traveling to a different World does not unlock any new content! It is only meant as a way to experience the game again.")}),R=ae("Your prowess as a World traveler has granted you a total of **{{totalPointsAvailable}}** (**+{{newPointsAvailable}}**) Boon Points. You can use Boon Points to obtain powerful advantages across three different categories in the next World. Your Boon Points accumulate through Worlds, and you can reallocate them whenever traveling to a new World.",{totalPointsAvailable:ue(n),newPointsAvailable:ue(r)}),P=iC(s,C,c),j=iC(h,C,m),M=iC(A,C,b),O=(0,Ll.jsx)(fs,{children:ae("Perhaps the adventure was too easy? For your next adventure, you can search for a World that is more difficult. They say that the higher the challenge, naturally, the higher the reward...\n        \nThe maximum World Difficulty you can access is {{maxDifficulty}}.{{clearText}}",{maxDifficulty:Yw(e),clearText:Yw(e)<10?ae(' You can access higher difficulties by traveling to a new World and reaching the ending "To Save a Life".'):""})}),N=(0,o.useCallback)((function(){w>0&&E(w-1)}),[w,E]),U=(0,o.useCallback)((function(){w<=i&&E(w+1)}),[w,E,i]),F=(0,o.useRef)(e);F.current=e;var L=(0,o.useState)(!1),H=(0,a.default)(L,2),Y=H[0],Q=H[1],z=(0,o.useContext)(hs);(0,o.useEffect)((function(){z||Q(!1)}),[z]);var V=(0,o.useState)(null),G=(0,a.default)(V,2),J=G[0],q=G[1],X=(0,o.useCallback)((0,d.default)((function*(){var e=yield Fi(F.current);if((yield v.setStringAsync(e),"android"==I.default.OS||"ios"==I.default.OS)&&(yield v.getStringAsync())!=e)return void q(ae("Warning: save did not copy to clipboard correctly!"));Q(!0),q(null)})),[Q]),K=(0,o.useCallback)((0,d.default)((function*(){yield ry(F.current);Q(!0)})),[Q]),Z=(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(zl,{children:ae("Since traveling to a new World is irreversible, you will need to export your save data first before being able to use your ability.")})}),(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(ql,{onPress:X,children:ae("Copy savefile to clipboard")})}),$m&&(0,Ll.jsx)(T.default,{style:gs.mt4,children:(0,Ll.jsx)(ql,{onPress:K,children:ae("Save to File")})}),null!=J&&(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(zl,{style:{color:t.colors.error},children:J})})]})}),[X,$m,K,J,t]),_=(0,o.useCallback)((function(){F.current.apply((function(e){return Gw(e,s,h,A,w)}))}),[s,h,A,w]);return(0,Ll.jsxs)(T.default,{style:uC.container,children:[(0,Ll.jsx)(zl,{h1:!0,children:ae("Worlds")}),(0,Ll.jsxs)(T.default,{style:gs.mt16,children:[(0,Ll.jsx)(fs,{children:B}),S]}),(0,Ll.jsxs)(Vv,{style:gs.mt16,children:[(0,Ll.jsx)(Mm.default.Title,{title:ae("Boons")}),(0,Ll.jsxs)(Mm.default.Content,{children:[(0,Ll.jsx)(fs,{children:R}),(0,Ll.jsxs)(T.default,{style:[gs.mt16,gs.p8,{backgroundColor:W()(t.colors.primary).alpha(.1)}],children:[(0,Ll.jsx)(aC,{decreasingPossible:P.decreasingPossible,increasingPossible:P.increasingPossible,level:s,title:ae("Sheer Power"),onPressMinus:P.onPressMinus,onPressPlus:P.onPressPlus}),(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(eC,{level:s})})]}),(0,Ll.jsxs)(T.default,{style:gs.p8,children:[(0,Ll.jsx)(aC,{decreasingPossible:j.decreasingPossible,increasingPossible:j.increasingPossible,level:h,title:ae("Storyline Oracle"),onPressMinus:j.onPressMinus,onPressPlus:j.onPressPlus}),(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(tC,{level:h})})]}),(0,Ll.jsxs)(T.default,{style:[gs.p8,{backgroundColor:W()(t.colors.primary).alpha(.1)}],children:[(0,Ll.jsx)(aC,{decreasingPossible:M.decreasingPossible,increasingPossible:M.increasingPossible,level:A,title:ae("Blazing Speed"),onPressMinus:M.onPressMinus,onPressPlus:M.onPressPlus}),(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(nC,{level:A})})]})]})]}),(0,Ll.jsxs)(Vv,{style:gs.mt16,children:[(0,Ll.jsx)(Mm.default.Title,{title:ae("Difficulty")}),(0,Ll.jsxs)(Mm.default.Content,{children:[O,(0,Ll.jsxs)(T.default,{style:gs.mt16,children:[(0,Ll.jsxs)(T.default,{style:gs.flexRowAlignCenter,children:[(0,Ll.jsx)(T.default,{style:gs.flex,children:(0,Ll.jsx)(zl,{style:gs.bold,children:ae("World Difficulty")})}),(0,Ll.jsxs)(T.default,{style:gs.flexRowAlignCenter,children:[(0,Ll.jsx)(zl,{children:ae("Lv{{level}}",{level:ue(w)})}),(0,Ll.jsx)(T.default,{style:gs.ml16,children:(0,Ll.jsx)(pg,{disableMinus:w<=0,disablePlus:w>=i,onPressMinus:N,onPressPlus:U})})]})]}),(0,Ll.jsx)(T.default,{style:gs.mt8,children:(0,Ll.jsx)(rC,{level:w})})]})]})]}),(0,Ll.jsx)(T.default,{style:gs.mt16,children:Z}),(0,Ll.jsx)(T.default,{style:gs.mt16,children:(0,Ll.jsx)(ql,{buttonColor:t.colors.errorContainer,textColor:t.colors.onErrorContainer,onPress:_,disabled:!Y,children:ae("Travel to a new World")})})]})}var uC=R.default.create({container:{flex:1,alignItems:"stretch",justifyContent:"flex-start",width:"100%"},explanation:{marginTop:16},buttonContainer:{marginTop:16},warning:{marginTop:8},error:{fontWeight:"bold"}}),lC=n(23226),sC=n(35972);function cC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cC(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dC=X(Ie);var gC=o.memo((function(e){var t,n;if(!e.item.currentMessageId)return null;var r=gl(e.item.currentMessageId);if(!r)return null;var a=r.getTitle(null==(t=e.item)?void 0:t.params),i=As(),u=(0,o.useMemo)((function(){var t;return ly()(e.item.timestamp).format("h:mm A")+" - "+r.getDescription(dC,null==(t=e.item)?void 0:t.params)}),[e.item.timestamp]),l=(0,D.useTheme)(),s=Ul();return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(mE.default,{onPress:e.onPress,accessible:!0,accessibilityLabel:a,accessibilityRole:"button",title:a,description:u,descriptionNumberOfLines:1,style:s.compactLayout&&{paddingVertical:0},left:function(){var t;return r.isActionable(i,null==(t=e.item)?void 0:t.params)&&(0,Ll.jsx)(T.default,{style:[gs.ml16,gs.flexCenter],children:(0,Ll.jsx)(lC.default,{name:"exclamation",type:"evilicon",size:24,style:{height:24},color:l.colors.onBackground})})},right:function(){return(0,Ll.jsx)(yE.default,{icon:r.isTerminal()?"check":"chevron-right"})}}),(0,Ll.jsx)(Bg,{})]})}),[a,u,r.isTerminal(),r.isActionable(i,null==(n=e.item)?void 0:n.params),l,s.compactLayout])}),(function(e,t){return e.item.currentMessageId===t.item.currentMessageId}));function hC(e){var t=As(),n=(0,o.useRef)(t);n.current=t;var r=(0,o.useCallback)((function(e,t){return e.eventOccurrenceId}),[]),a=(0,o.useCallback)((function(e){return(0,Ll.jsx)(gC,fC(fC({},e),{},{onPress:function(){n.current.apply(function(e){return Al.bind(this,e)}(e.item.eventOccurrenceId))}}))}),[]),i=Object.values(t.run.eventOccurrences).sort((function(e,t){return t.timestamp-e.timestamp})),u=(0,o.useMemo)((function(){return JSON.stringify(t.run.eventOccurrences)}),[i]),l=(0,o.useMemo)((function(){return i.filter((function(e){return e.currentMessageId&&gl(e.currentMessageId).isTerminal()})).slice(0,20)}),[u]),s=(0,o.useMemo)((function(){return i.filter((function(e){return e.currentMessageId&&!gl(e.currentMessageId).isTerminal()}))}),[u]),c=(0,o.useMemo)((function(){var e=[];return s.length>0&&e.push({title:ae("Ongoing"),data:s}),l.length>0&&e.push({title:ae("Finished"),data:l}),e}),[s,l]),f=(0,o.useCallback)((function(e,t){return e.title}),[]),d=(0,o.useCallback)((function(e){return(0,Ll.jsx)(Rg,{titleStyle:mC.categoryTitle,title:e.item.title,children:(0,Ll.jsx)(sC.default,{keyExtractor:r,data:e.item.data,renderItem:a})})}),[r,a]),g=(0,D.useTheme)();return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:[{backgroundColor:g.colors.background},gs.flex,e.style],children:[(0,Ll.jsxs)(T.default,{accessible:!0,accessibilityLabel:ae("Events"),accessibilityRole:"header",style:mC.emptyTitleContainer,children:[(0,Ll.jsx)(m.default,{size:24,name:"notifications",style:mC.titleIcon,color:g.colors.onBackground}),(0,Ll.jsx)(zl,{h2:!0,children:ae("Events")})]}),(0,Ll.jsx)(sC.default,{keyExtractor:f,data:c,renderItem:d,style:gs.flex})]})}),[g,f,d,c])}var mC=R.default.create({categoryTitle:{marginLeft:8},emptyTitleContainer:{flexDirection:"row",justifyContent:"center",marginTop:8},titleIcon:{paddingRight:8,height:28},eventTitleContainer:{flexDirection:"row",alignItems:"center"},titleText:{flex:1},actionableIcon:{marginRight:4}});function yC(){var e,t,n=As(),r=(0,o.useContext)(pm),i=r.getUIState("picker_open"),u=null==(e=r.getUIState("active_sections"))?void 0:e.includes("Ending"),l=vm(r,"current_event_occurrence_id",void 0),s=(0,a.default)(l,2),c=s[0],f=s[1],d=(0,o.useCallback)((function(e){"closeEventOverlay"==e&&(f(void 0),A(""))}),[]),g=(0,o.useCallback)((function(e){var t=Hi(e);return t.forEach(d),e.run.uiCommands=t.filter((function(e){return"closeEventOverlay"!=e})),e}),[]);(0,o.useEffect)((function(){return ft("eventOverlayUiCommand",(function(e){if(Hi(e).filter((function(e){return"closeEventOverlay"===e})).length>0)return function(e){return g(e)}})),function(){return dt("eventOverlayUiCommand")}}),[]);var h=(0,o.useRef)(c);h.current=c;var y=(0,o.useState)(""),p=(0,a.default)(y,2),v=p[0],A=p[1];(0,o.useEffect)((function(){return ft("event_overlay",(function(e){if(!i&&!u&&e.run.eventQueue.length>0&&(!h.current||null==yl(e,h.current))){var t=null,n=[];do{if(null!=(t=e.run.eventQueue.pop())){n.push(t);var r,a,o=yl(e,t),l=null==o?void 0:o.currentMessageId;if(null!=o&&null!=l)(null!=(r=null==o?void 0:o.timestampSecondsPlayed)?r:0)<=.1&&null!=(a=gl(l))&&a.isTerminal()&&(t=null)}}while(e.run.eventQueue.length>0&&null==t);return t&&(f(t),A(""),h.current=t),function(e){return n.reduce((function(e,t){return function(e){return bl.bind(this,e)}(t)(e)}),e)}}})),function(){return dt("event_overlay")}}),[i,u]);var b=null,k=null,x=null,w=null,E=-1,C=0,I=-1;if(null!=c){var B,R,P,M,O,N,U,F;if(b=yl(n,c),(E=null!=(B=null==(R=b)||null==(P=R.messageHistory)?void 0:P.findIndex((function(e){return e===v})))?B:-1)<0)k=(null==(U=b)?void 0:U.currentMessageId)&&gl(b.currentMessageId);else k=gl(v);if(k)x=k.getAllowedOptions(n,null==(F=b)?void 0:F.params).map((function(e){return e.description+e.isEnabled}));if((C=null!=(M=null==(O=b)||null==(N=O.messageHistory)?void 0:N.length)?M:0)>0){I=C+1;var L=E>=0?E+1:I;L<I&&(w="("+L+"/"+I+")")}}var H=(0,j.default)(),Y=H.height,Q=H.width,z=(0,D.useTheme)(),V=function(e){return Id(e.dark?"dark":"light",e.colors.onSurfaceDisabled)}(z);return(0,o.useMemo)((function(){if(c&&k){var e,t,r,a=0===E||0===C,i=E<0||E>I-2;return(0,Ll.jsx)(yv.default,{visible:!0,dismissable:!1,contentContainerStyle:[pC.overlay,{maxWidth:Math.min(Q-16,640),maxHeight:Y-64,backgroundColor:z.colors.background}],children:(0,Ll.jsxs)(T.default,{style:pC.overlayContainer,children:[(0,Ll.jsx)(yg,{icon:function(){return(0,Ll.jsx)(m.default,{name:"close",size:24,color:z.colors.onPrimary})},accessibilityLabel:"Close",style:pC.overlayCloseButton,mode:"contained",containerColor:z.colors.primary,onPress:function(){f(void 0),A("")}}),(0,Ll.jsxs)(T.default,{style:pC.titleContainer,children:[(0,Ll.jsx)(T.default,{style:[pC.titleTextContainer,{maxWidth:C>0?Q-164:Q-68}],children:(0,Ll.jsxs)(zl,{h1:!0,children:[k.getTitle(null==(e=b)?void 0:e.params)," ",w," "]})}),C>0&&(0,Ll.jsxs)(T.default,{style:pC.historyContainer,children:[(0,Ll.jsx)(yg,{disabled:a,icon:function(){return(0,Ll.jsx)(m.default,{name:"arrow-back",size:24,color:a?z.colors.onSurfaceDisabled:z.colors.onPrimary})},accessibilityLabel:ae("Previous Message"),style:pC.historyButton,containerColor:a?z.colors.surfaceDisabled:z.colors.primary,onPress:function(){var e,t,n,r,a,i;return A(E>0?null!=(e=null==(t=b)||null==(n=t.messageHistory)?void 0:n[E-1])?e:"":null!=(r=null==(a=b)||null==(i=a.messageHistory)?void 0:i[I-2])?r:"")}}),(0,Ll.jsx)(yg,{disabled:i,accessibilityLabel:ae("Next Message"),containerColor:i?z.colors.surfaceDisabled:z.colors.primary,style:pC.historyButton,icon:function(){return(0,Ll.jsx)(m.default,{name:"arrow-forward",size:24,color:i?z.colors.onSurfaceDisabled:z.colors.onPrimary})},onPress:function(){var e,t,n;return A(E<I-2&&null!=(e=null==(t=b)||null==(n=t.messageHistory)?void 0:n[E+1])?e:"")}})]})]}),(0,Ll.jsx)(T.default,{style:{maxHeight:Y-150},children:(0,Ll.jsxs)(S.default,{style:pC.scrollView,children:[(0,Ll.jsx)(T.default,{style:pC.description,children:(0,Ll.jsx)(fs,{children:k.getDescription(n,null==(t=b)?void 0:t.params)})}),E<0&&(0,Ll.jsx)(T.default,{style:pC.optionRow,children:k.getAllowedOptions(n,null==(r=b)?void 0:r.params).map((function(e){return(0,Ll.jsx)(ql,{onPress:function(){if(!e.nextMessage&&!e.transform)return f(void 0),void A("");n.apply(function(e,t){return pl.bind(this,e,t)}(c,e))},style:[pC.optionButton,{maxWidth:Math.min(Q-70,586)}],TextComponent:T.default,disabled:!e.isEnabled,children:(0,Ll.jsx)(zl,{style:[{color:z.colors.onPrimary},!e.isEnabled&&{color:z.colors.onSurfaceDisabled}],children:e.description})},e.description)}))})]})})]})})}return null}),[JSON.stringify(b),null==(t=x)?void 0:t.join(","),E,v,Q,Y,z,V])}var pC=R.default.create({overlay:{alignSelf:"center",marginHorizontal:16,maxWidth:640},overlayContainer:{paddingVertical:16,paddingHorizontal:8},historyButton:{height:32,width:32,borderRadius:16,marginLeft:8},overlayCloseButton:{height:32,width:32,position:"absolute",right:-16,top:-16},overlayCloseButtonInner:{paddingHorizontal:0,paddingVertical:0,height:32},titleContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},titleTextContainer:{},historyContainer:{marginLeft:8,flexDirection:"row",width:80,marginRight:32},description:{marginBottom:8},scrollView:{flexGrow:0,marginTop:8},optionRow:{marginTop:8,flexDirection:"row",flexWrap:"wrap",gap:12,justifyContent:"space-around"},optionButton:{maxWidth:600}});function vC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var AC=o.createContext("Campus");function bC(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vC(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e),n=t.title,r=t.onPress,a=(0,D.useTheme)(),i=(0,o.useContext)(AC)==n;return(0,o.useMemo)((function(){return(0,Ll.jsx)(P.default,{onPress:r,accessible:!0,accessibilityLabel:n,accessibilityRole:"tab",children:(0,Ll.jsxs)(T.default,{style:[wC.itemContainerStyle,i?{backgroundColor:a.colors.secondaryContainer}:null],children:[(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(ts,{icon:n.toLowerCase()}),e.showBadge&&(0,Ll.jsx)(T.default,{style:wC.notificationBadge,children:(0,Ll.jsx)(L.default,{size:12})})]}),(0,Ll.jsx)(zl,{doNotScaleFonts:!0,style:[wC.itemStyle,i?{color:a.colors.onSecondaryContainer}:null],children:Dd(n).name})]})})}),[n,r,i,a,e.showBadge])}var kC=10;function xC(e){var t=As(),n=(t.options.sectionOrder.length>0?t.options.sectionOrder:jd).filter((function(e){var n,r,a;return!t.options.hiddenFromBottomMenu.includes(e)&&(null==(n=null==(r=(a=Dd(e)).isVisible)?void 0:r.call(a,t))||n)})),r=(0,o.useCallback)((function(t){e.onNavigationPress(t)}),[e.onNavigationPress]),i=(0,o.useMemo)((function(){return n}),[n.join()]),u=(0,o.useMemo)((function(){return i.map((function(e){return function(){return r(e)}}))}),[i,r]),l=i.filter((function(e){var n,r;return Ds(t,e).length>0||(null==(n=(r=Dd(e)).isBadged)?void 0:n.call(r,t))})),s=(0,o.useCallback)((function(e){return(0,Ll.jsxs)(T.default,{style:{flexDirection:"row"},children:[0===e.index&&(0,Ll.jsx)(Bg,{orientation:"vertical"}),(0,Ll.jsx)(bC,{title:e.item,showBadge:l.includes(e.item),onPress:u[e.index]}),(0,Ll.jsx)(Bg,{orientation:"vertical"})]})}),[u,r,l.join()]),c=(0,o.useCallback)((function(e){return e}),[]),f=(0,D.useTheme)(),d=(0,o.useState)(!1),g=(0,a.default)(d,2),h=g[0],y=g[1],p=(0,o.useState)(!0),v=(0,a.default)(p,2),A=v[0],b=v[1],k=(0,o.useCallback)((function(e){var t=e.nativeEvent.contentOffset.x,n=e.nativeEvent.contentSize.width,r=e.nativeEvent.layoutMeasurement.width,a=t<kC,i=n-r-t<kC;a!=A&&b(a),i!=h&&y(i)}),[h,A,y,b]),x=(0,o.useMemo)((function(){return[wC.scrollContentContainer,{backgroundColor:f.colors.background}]}),[f]),w="web"===I.default.OS?function(){var e=(0,o.useRef)();return(0,o.useEffect)((function(){if("web"===I.default.OS){var t=e.current;if(t){var n=function(e){if(0!==e.deltaY){var n=t.getScrollableNode();0===n.scrollLeft&&e.deltaY<0||n.scrollWidth-n.clientWidth-Math.round(n.scrollLeft)===0&&e.deltaY>0||(e.preventDefault(),e.stopPropagation()),n.scrollBy({left:e.deltaY,behavior:"smooth"})}};return t.getScrollableNode().addEventListener("wheel",n),function(){var e;return null==(e=t.getScrollableNode())||null==e.removeEventListener?void 0:e.removeEventListener("wheel",n)}}}}),[]),e}():(0,o.useRef)();return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:[wC.bottomMenuContainer,{backgroundColor:f.colors.background}],children:[e.leftHanded&&e.showCastSpellButton&&(0,Ll.jsx)(T.default,{style:wC.spellButtonPlaceholder}),(0,Ll.jsx)(T.default,{style:[wC.chevron,A&&{opacity:0}],children:(0,Ll.jsx)(m.default,{name:"chevron-left",size:24,color:f.colors.onBackground})}),(0,Ll.jsx)(AC.Provider,{value:e.selected,children:(0,Ll.jsx)(sC.default,{ref:w,data:i,renderItem:s,keyExtractor:c,horizontal:!0,snapToInterval:71,style:wC.scrollContainer,contentContainerStyle:x,scrollEventThrottle:100,onScroll:k,overScrollMode:"never",showsHorizontalScrollIndicator:!1,nestedScrollEnabled:!0})}),(0,Ll.jsx)(T.default,{style:[wC.chevron,h&&{opacity:0}],children:(0,Ll.jsx)(m.default,{name:"chevron-right",size:24,color:f.colors.onBackground})}),!e.leftHanded&&e.showCastSpellButton&&(0,Ll.jsx)(T.default,{style:wC.spellButtonPlaceholder})]})}),[i,s,f,A,h,x,k,e.selected,e.leftHanded,e.showCastSpellButton])}var wC=R.default.create({scrollContainer:{flex:1,height:48},scrollContentContainer:{paddingVertical:0,justifyContent:"center"},navigationBlock:{flexDirection:"row",alignItems:"stretch"},itemContainerStyle:{width:70,alignItems:"center",flex:1,justifyContent:"center"},itemStyle:{fontSize:10},gradient:{flex:1},spellButtonPlaceholder:{width:84,height:48},bottomMenuContainer:{flexDirection:"row",alignItems:"center"},spellMenuButtonPlaceholder:{height:48,justifyContent:"flex-end",alignItems:"flex-end",overflow:"visible"},chevron:{width:24,height:48,justifyContent:"center"},notificationBadge:{position:"absolute",top:4,right:4}}),EC=["apply"],CC=["apply"],IC=20;xt([[pt.GameSpeed]],"CombatPausedMagicTap",ae("Combat paused for accessibility"),At.Multiplier,(function(e){return Ve(e,"combat_paused_magic_tap")?0:1}));var BC=[pt.GameSpeed];function SC(e){var t=As(),n=(0,o.useRef)(t);n.current=t;var r=(0,o.useState)(null),i=(0,a.default)(r,2),u=i[0],l=i[1],s=(0,o.useState)(t.run.lastProcessedTime),c=(0,a.default)(s,2),f=c[0],g=c[1],h=(0,o.useState)(Math.random()),m=(0,a.default)(h,2),y=m[0],p=m[1],v=(0,o.useState)(!1),A=(0,a.default)(v,2),b=A[0],k=A[1];if(null!=u)throw u;var x=(0,o.useCallback)((0,d.default)((function*(){var t=Date.now(),r=f;if(!b){if(n.current.run.warpTimeSecs>0){var a=n.current,i=(a.apply,(0,Ol.default)(a,EC));k(!0),yield function(e,t,n,r){return pa.apply(this,arguments)}(i,(function(){return Date.now()}),e.onLoadingProgress,e.setPlayerState),t=Date.now(),k(!1),r=t}var o=(t-r)/1e3+n.current.run.skipAheadTime;if(n.current.run.skipAheadTime>0&&n.current.apply((function(e){return e.run.skipAheadTime=0,e})),o<=0)p(Math.random());else{if(o>600){var u=Math.floor(Math.min(172800,o)),l=n.current,s=(l.apply,(0,Ol.default)(l,CC));yield function(e,t,n,r){return ya.apply(this,arguments)}(s,u,t,e.setPlayerState)}else o>30?n.current.apply((function(e){return e.run.warpTimeSecs+=o,e.run.lastProcessedTime=t,e})):n.current.apply((function(e){var n=Date.now(),r=o,a=0,i=It(BC,e,1,{isWarp:!1});do{var u=Math.min(Math.max(.1/i,o/19.999),r);(e=ga(u,!1)(e)).run.lastProcessedTime=t,r-=u,a++}while(r>0);var l=Date.now();return e.global.debugLastUpdateTimestamps.push(l),e.global.debugLastUpdateBeginEndTimestamps.push({begin:n,end:l,ticksRun:a}),e.global.debugLastUpdateTimestamps=e.global.debugLastUpdateTimestamps.slice(-10),e.global.debugLastUpdateBeginEndTimestamps=e.global.debugLastUpdateBeginEndTimestamps.slice(-10),e}));g(t)}}})),[f,b,y]),w=(0,o.useCallback)((0,d.default)((function*(){n.current.apply(Lm)})),[]);return(0,o.useEffect)((function(){var e,n,r=setTimeout((0,d.default)((function*(){try{yield x(),yield sa()}catch(ON){l(ON)}})),1e3/(null!=(e=null==(n=t.options)?void 0:n.targetFps)?e:IC));return function(){return clearTimeout(r)}}),[x]),(0,o.useEffect)((function(){var e=setInterval((0,d.default)((function*(){try{yield w(),yield sa()}catch(ON){l(ON)}})),3e3);return function(){return clearTimeout(e)}}),[w]),null}function RC(){var e,t,n=Ul(),r=As(),a=zt(r,Dt.Mana),i=Qt(r,Dt.Mana),u=(0,Q.useSafeAreaInsets)(),l=Math.min(1,a/i),s=(0,o.useRef)(new w.default.Value(l)).current,c=(0,o.useRef)(new w.default.Value(l)).current,f=null!=(e=null==(t=di(r))?void 0:t.Mana)?e:0,d=Hc(r,Ic(r)),g=0!=f?" ("+(f>0?"+":"")+ue(f,{showDecimals:!0})+"/s"+(0!=d?"; -"+ue(d,{showDecimals:!0})+"/s":"")+")":"";(0,o.useEffect)((function(){r.options.doNotUseNativeDriver?w.default.timing(c,{toValue:Math.max(l,1e-5),duration:100,useNativeDriver:!1}).start():w.default.timing(s,{toValue:Math.max(l,1e-5),duration:100,useNativeDriver:!0}).start()}),[l]);var h=(0,o.useMemo)((function(){return[PC.filled,{transform:[{scaleX:r.options.doNotUseNativeDriver?c:s}]}]}),[r.options.doNotUseNativeDriver]),m=(0,o.useMemo)((function(){return(0,Ll.jsx)(w.default.View,{style:[h,u.bottom<10&&{backgroundColor:"#04c"}],children:u.bottom>=10&&(0,Ll.jsx)(Lg.LinearGradient,{colors:["#04c","#04c0"],style:[PC.gradient,{height:Math.max(48,(n.compactLayout?21:29)+u.bottom)}]})},r.options.doNotUseNativeDriver?"yes":"no")}),[r.options.doNotUseNativeDriver,h,u.bottom,n.compactLayout]),y=(0,o.useMemo)((function(){return(0,Ll.jsx)(zl,{style:PC.income,children:g})}),[g]),p=(0,o.useMemo)((function(){return(0,Ll.jsxs)(zl,{style:PC.textOverlay,children:[ue(a),"/",ue(i),y]})}),[a,i,y]),v=(0,o.useMemo)((function(){return"Mana: "+ue(a)+"/"+ue(i)+" "+g}),[a,i,g]);return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:[PC.container,{height:(n.compactLayout?21:29)+u.bottom}],children:[m,(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsxs)(T.default,{style:PC.row,accessible:!0,accessibilityRole:"web"!==I.default.OS?"header":void 0,accessibilityLabel:v,children:[(0,Ll.jsx)(ts,{icon:"mana",style:PC.icon}),p]}),(0,Ll.jsx)(T.default,{style:{height:u.bottom}})]})]})}),[m,v,p,u.bottom,n.compactLayout])}var PC=R.default.create({container:{alignItems:"center",flexDirection:"row",justifyContent:"center",width:"100%",backgroundColor:"#014",height:29},gradient:{width:"100%",position:"absolute",left:0,top:0},filled:{position:"absolute",left:"-100%",top:0,height:"100%",width:"200%",overflow:"hidden"},textOverlay:{color:"#fff",fontWeight:"bold"},income:{color:"#fff",fontWeight:"normal"},row:{flexDirection:"row",alignItems:"center"},icon:{height:16,width:16,marginRight:4},accessibilityHidden:{width:1,height:1,position:"absolute",left:0,top:0}}),TC=n(64227);function jC(e){return Ve(e,"time_piece_5x_speedup_enabled")?5:Ve(e,"time_piece_speedup_enabled")?2:1}function MC(e){return Ve(e,"time_piece_5x_speedup_enabled")?It([pt.TimePiecePerFasterSpeedup],e,4):Ve(e,"time_piece_speedup_enabled")?It([pt.TimePiecePerFastSpeedup],e,3):0}var DC=[pt.GameSpeed];function OC(e){var t=jC(e);if(t>1){var n=MC(e),r=function(e){return It(DC,e,1,{isWarp:!1})}(e);return(t-1)*n/r}return 0}function NC(e,t){return e.global.timePiecesConsumed+=t,e.world.timePiecesConsumed+=t,e.run.timePiecesConsumed+=t,e}var UC=o.memo((function(e){return(0,Ll.jsxs)(T.default,{style:LC.row,accessible:!0,children:[(0,Ll.jsx)(zl,{doNotScaleFonts:!0,style:e.isPrimary&&LC.primaryText,children:ae("{{name}}: Lv{{level}}",{name:e.name,level:e.level})}),(0,Ll.jsx)(zl,{doNotScaleFonts:!0,style:e.isPrimary&&LC.primaryText,children:ae("Exp {{currentExp}}/{{nextLevelExp}}",{currentExp:e.currentExp,nextLevelExp:e.toNextLevel})})]})}));function FC(e){var t=As(),n=Rn(t),r=(0,o.useMemo)((function(){return n.map((function(e){var n=xn(t,e),r=gn(t,e),a=bn(t,n+1,e);return(0,Ll.jsx)(UC,{name:e,level:n,isPrimary:Bn(t).includes(e),currentExp:ue(r),toNextLevel:ue(a)},e)}))}),[!1!==e.isVisible&&JSON.stringify(t.run.elementExperience),Bn(t).join()]);return(0,Ll.jsx)(T.default,{style:LC.container,children:r})}var LC=R.default.create({container:{justifyContent:"center",alignItems:"stretch"},row:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"},primaryText:{fontWeight:"bold"}});var HC=o.memo((function(e){var t=Ut(e.resource),n=e.current>=e.cap-1e-6,r=(0,D.useTheme)(),a=(0,o.useMemo)((function(){return e.hideIncome?null:""!=e.explanation?(0,Ll.jsx)(T.default,{style:QC.income,children:0!=e.income&&(0,Ll.jsx)($g,{title:e.explanation,children:(0,Ll.jsx)(zl,{style:[e.income<0&&{color:r.colors.error},gs.underlined],doNotScaleFonts:!0,children:ae("{{incomeSign}}{{income}}/s",{incomeSign:e.income>0?"+":"-",income:ue(Math.abs(e.income),{showDecimals:!0})})})})}):(0,Ll.jsx)(T.default,{style:QC.income,children:0!=e.income&&(0,Ll.jsx)(zl,{style:e.income<0&&{color:r.colors.error},doNotScaleFonts:!0,children:ae("{{incomeSign}}{{income}}/s",{incomeSign:e.income>0?"+":"-",income:ue(Math.abs(e.income),{showDecimals:!0})})})})}),[e.income,e.hideIncome,e.explanation,r]),i=(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:QC.inlineRow,children:[(0,Ll.jsx)(ts,{icon:t.icon,style:QC.icon,small:!0,accessibilityLabel:""}),(0,Ll.jsx)(zl,{doNotScaleFonts:!0,children:ae("{{resource}}: ",{resource:Ot(e.resource)})})]})}),[e.resource,t.icon]);return(0,Ll.jsxs)(T.default,{style:QC.row,accessible:!0,children:[i,(0,Ll.jsxs)(T.default,{style:QC.inlineRow,children:[(0,Ll.jsx)(zl,{style:n&&{color:r.colors.secondary},doNotScaleFonts:!0,children:ae("{{current}}/{{cap}}",{current:ue(e.current,{showDecimals:!0}),cap:ue(e.cap)})}),a]})]})}));function YC(e){var t=As(),n=Ft(t),r=di(t),a=gi(t),i=Object.keys(r).some((function(e){return 0!=r[e]})),u=(0,o.useMemo)((function(){return n.map((function(e){var n,o;return(0,Ll.jsx)(HC,{resource:e,current:zt(t,e),cap:Qt(t,e),income:null!=(n=null==r?void 0:r[e])?n:0,hideIncome:!i,explanation:null!=(o=null==a?void 0:a[e])?o:""},e)}))}),[!1!==e.isVisible&&t]);return(0,Ll.jsx)(T.default,{style:QC.container,children:u})}var QC=R.default.create({container:{justifyContent:"center",alignItems:"stretch"},row:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"},inlineRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},icon:{marginRight:2},income:{width:65,marginLeft:8}}),zC=["title","onPress","showBadge"];function VC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VC(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VC(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var GC=function(e,t,n){var r=e.toLowerCase().indexOf(t.toLowerCase()),a="",i="";return 0==r?i=e.substring(1):(a=e.substring(0,r),i=e.substring(r+1)),(0,Ll.jsxs)(zl,{children:[a,(0,Ll.jsx)(zl,{style:[XC.hotkeyText,{color:n.colors.tertiary}],children:0==r?t.toUpperCase():t.toLowerCase()}),i]})},JC=function(e){var t=e.title,n=e.onPress,r=e.showBadge,a=(0,Ol.default)(e,zC),i=(0,D.useTheme)(),u=(0,o.useContext)(hs),l=(0,o.useCallback)((function(t){u&&null!=e.hotkey&&(!t.shiftKey&&!t.ctrlKey||t.shiftKey&&t.ctrlKey)&&t.key.toLowerCase()==e.hotkey.toLowerCase()&&n()}),[u,n]),s=(0,o.useMemo)((function(){return(0,Ll.jsx)(P.default,{accessibilityLabel:e.favorited?ae("Unpin Section"):ae("Pin Section"),onPress:e.onPressFavorite,style:XC.favoriteButton,children:(0,Ll.jsx)(Fy.default,{name:e.favorited?"heart":"heart-outline",color:i.colors.onBackground,size:14})})}),[e.favorited,e.onPressFavorite,i]);return(0,Ll.jsxs)(T.default,{children:[(0,Ll.jsx)(fp,{callback:l}),(0,Ll.jsx)(P.default,WC(WC({onPress:n,Component:I.default.select({android:TC.default,default:P.default}),accessibilityLabel:t,accessibilityRole:"button",accessible:!0,focusable:!0},a),{},{style:[XC.menuComponentTouch,{borderColor:i.colors.outlineVariant},e.wide&&{width:96}],children:(0,Ll.jsxs)(T.default,{style:XC.menuComponentButton,children:[(0,Ll.jsx)(ts,{focusable:!1,accessibilityHidden:!0,icon:e.section.toLowerCase()}),r&&(0,Ll.jsx)(L.default,{style:XC.notificationBadge,size:8}),e.showFavoriteIcon&&s,(0,Ll.jsx)(T.default,{style:gs.mt2,children:"web"===I.default.OS&&e.hotkey?(0,Ll.jsx)(zl,{style:[XC.menuItemText,e.wide&&{fontSize:13}],numberOfLines:1,children:GC(t,e.hotkey,i)}):(0,Ll.jsx)(zl,{style:[XC.menuItemText,e.wide&&{fontSize:13}],numberOfLines:1,children:t})})]})}))]})};function qC(e){var t=As(),n=(0,o.useRef)(t),r=Nd(),a=e.pinnedSections.length>=r.activeContentTabs-1,i=(0,o.useCallback)((function(t,n,r){var i=Dd(t);return(0,Ll.jsx)(JC,WC({title:n,section:t,onPress:function(){return e.onNavigationPress(t)},onPressFavorite:function(){return e.onPressFavorite(t)},favorited:e.pinnedSections.includes(t),showFavoriteIcon:(e.pinnedSections.includes(t)||!a)&&!i.fullScreen,wide:e.wide},null!=r?r:{}),t)}),[e.onNavigationPress,e.onPressFavorite,e.wide,e.pinnedSections.join(),a]),u=Md(t),l=Td(),s=l.map((function(e){return null!=e.isBadged&&e.isBadged(t)?"y":"n"})).join(),c=(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:[XC.navigationBlock,e.wide&&{width:300}],children:u.map((function(e,n){var r,a,o;return i(e,null==(r=l.find((function(t){return t.id==e})))?void 0:r.name,{topDivider:0==n,showBadge:null==(a=l.find((function(t){return t.id==e})))||null==a.isBadged?void 0:a.isBadged(t),hotkey:null==(o=l.find((function(t){return t.id==e})))?void 0:o.hotkey})}))})}),[e.onNavigationPress,e.onPressFavorite,i,u.join(","),s]),f=Co(t).length>0,d=jC(t),g=zt(t,Dt.TimePiece)>0,h=MC(t),m=ae("{{timepiecePerSec}}:timepiece:/extra sec",{timepiecePerSec:ue(h)}),y=Wo(t),p=(0,D.useTheme)();return(0,o.useMemo)((function(){return(0,Ll.jsxs)(S.default,{style:[XC.scrollContainer,{backgroundColor:p.colors.background}],contentContainerStyle:XC.scrollContentContainer,children:[(0,Ll.jsx)(T.default,{style:XC.titleContainer,children:(0,Ll.jsx)(zl,{h1:!0,children:ae("Magic Research 2")})}),c,g&&(0,Ll.jsxs)(Rg,{title:ae("Speed up time"),children:[(0,Ll.jsxs)(T.default,{style:XC.timePieceButtonsContainer,children:[(0,Ll.jsx)(zl,{children:ae("Set game speed:")}),(0,Ll.jsx)(ql,{onPress:function(){return n.current.apply((function(e){return e=Ke("time_piece_5x_speedup_enabled")(e),e=Ke("time_piece_speedup_enabled")(e)}))},compact:!0,labelStyle:XC.timePieceButtonTitle,style:[XC.timePieceButtonContainer],children:ae("Normal")}),(0,Ll.jsx)(ql,{onPress:function(){return n.current.apply((function(e){return e=Ke("time_piece_5x_speedup_enabled")(e),e=qe("time_piece_speedup_enabled")(e)}))},compact:!0,labelStyle:XC.timePieceButtonTitle,style:[XC.timePieceButtonContainer],children:ae("2x")}),(0,Ll.jsx)(ql,{onPress:function(){return n.current.apply((function(e){return e=qe("time_piece_5x_speedup_enabled")(e),e=Ke("time_piece_speedup_enabled")(e)}))},compact:!0,labelStyle:XC.timePieceButtonTitle,style:[XC.timePieceButtonContainer],children:ae("5x")})]}),(0,Ll.jsxs)(T.default,{style:XC.timePieceTextRows,children:[(0,Ll.jsx)(zl,{children:ae("Current speed:")}),(0,Ll.jsx)(zl,{children:ae("{{speed}}x",{speed:d})})]}),d>1&&(0,Ll.jsxs)(T.default,{style:XC.timePieceTextRows,children:[(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(zl,{children:ae("Time Piece cost:")})}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsx)(fs,{children:m})})]})]}),(0,Ll.jsx)(Rg,{title:ae("Resources"),children:(0,Ll.jsx)(T.default,{style:XC.statViewer,children:(0,Ll.jsx)(YC,{isVisible:e.visible})})}),(0,Ll.jsx)(Rg,{title:ae("Elements"),children:(0,Ll.jsx)(T.default,{style:XC.statViewer,children:(0,Ll.jsx)(FC,{isVisible:e.visible})})}),y&&(0,Ll.jsx)(Rg,{title:"Combat",children:(0,Ll.jsx)(T.default,{style:XC.statViewer,children:(0,Ll.jsx)(rh,{isVisible:e.visible})})}),f&&(0,Ll.jsx)(Rg,{title:ae("Buffs"),children:(0,Ll.jsx)(yp,{isVisible:e.visible})})]})}),[c,f,g,d,e.visible,p])}var XC=R.default.create({container:{justifyContent:"flex-start",alignItems:"stretch",position:"absolute",height:"100%",width:300,left:0,top:0,zIndex:140},scrollContainer:{padding:8,flex:1},scrollContentContainer:{paddingBottom:16},titleContainer:{marginBottom:8},navigationBlock:{marginTop:16,width:261,flexWrap:"wrap",flexDirection:"row"},navigationRowTitle:{paddingVertical:0},timePieceButtonContainer:{marginLeft:4},timePieceButtonTitle:{fontSize:12},statViewer:{marginTop:4},timePieceButtonsContainer:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginTop:8},timePieceTextRows:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginTop:4},expandContainer:{width:32,alignSelf:"center",alignItems:"center",justifyContent:"center",cursor:"pointer"},favoriteButton:{position:"absolute",top:4,left:4},notificationBadge:{position:"absolute",top:4,right:24},notificationBadgeSize:{height:12,width:12},hotkeyText:{fontWeight:"bold"},menuComponentTouch:{height:56,width:83,margin:2,borderWidth:R.default.hairlineWidth},menuComponentButton:{alignItems:"center",justifyContent:"center",flex:1},menuItemText:{fontSize:11}});function KC(e){var t=(0,D.useTheme)(),n=As(),r=(0,o.useContext)(hs),a=n.options.enableBottomMenu,i=(0,j.default)(),u=i.height,l=i.width,s=u-(a&&l<640?48:0),c=Ta(n).length>0;return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:{flex:1,backgroundColor:t.colors.background},children:[(0,Ll.jsx)(S.default,{style:{flex:1},contentContainerStyle:_C.magicContainer,children:(0,Ll.jsx)(sp,{uiKey:"SpellMenuContainer",area:_t.SPELL_MENU,onlyBySchool:e.favoritesOnBottom,showWizards:!0,isVisible:r})}),e.favoritesOnBottom&&c&&(0,Ll.jsx)(T.default,{style:{height:Math.max(Math.min(s-472,270),180),borderTopColor:t.colors.outlineVariant,borderTopWidth:1},children:I.default.select({default:(0,Ll.jsx)(T.default,{style:[_C.favoritesContainer,gs.flex],children:(0,Ll.jsx)(ep,{})}),web:(0,Ll.jsx)(S.default,{contentContainerStyle:_C.favoritesContainer,children:(0,Ll.jsx)(ep,{})})})})]})}),[t,c,e.favoritesOnBottom,s,r])}function ZC(e){return(0,o.useMemo)((function(){return(0,Ll.jsx)(KC,{favoritesOnBottom:e.favoritesOnBottom})}),[e.favoritesOnBottom])}var _C=R.default.create({backdrop:{position:"absolute",height:"100%",width:"100%",backgroundColor:"#000",zIndex:80},backdropTouchable:{position:"absolute",height:"100%",width:"100%",zIndex:90},container:{justifyContent:"flex-start",alignItems:"stretch",position:"absolute",zIndex:100,height:"100%",width:300,right:0,top:0},magicContainer:{padding:8},favoritesContainer:{paddingHorizontal:8,paddingBottom:8}});function $C(e){var t=As();if(!t.global.debugShowUpdatesPerSec)return null;var n=t.global.debugLastUpdateTimestamps;if(n.length<2)return null;var r=t.global.debugLastUpdateBeginEndTimestamps;if(r.length<1)return null;var a=(n[n.length-1]-n[0])/(n.length-1);if(a<=0)return null;var i=r.map((function(e){return e.end-e.begin})).reduce((function(e,t){return e+t}),0)/r.length,u=r.map((function(e){return e.ticksRun})).reduce((function(e,t){return e+t}),0)/r.length,l=1e3/a,s=a-1e3/t.options.targetFps;return(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:eI.overlay,children:[(0,Ll.jsx)(T.default,{children:(0,Ll.jsxs)(zl,{children:["Actual UPS: ",ue(l,{showDecimals:!0})]})}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsxs)(zl,{children:["Time/update:"," ",ue(s,{showDecimals:!0}),"ms"]})}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsxs)(zl,{children:["Backend ms:"," ",ue(i,{showDecimals:!0}),"ms"]})}),(0,Ll.jsx)(T.default,{children:(0,Ll.jsxs)(zl,{children:["Ticks/update: ",ue(u,{showDecimals:!0})]})})]})}),[Math.floor(Date.now()/1e3)])}var eI=R.default.create({overlay:{position:"absolute",right:50,top:50,opacity:.8,zIndex:999999}});function tI(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var nI=function(e){(0,ws.default)(n,e);var t=tI(n);function n(e){var r;return(0,Le.default)(this,n),(r=t.call(this,e)).state={hasError:!1,error:null},r}return(0,He.default)(n,[{key:"componentDidCatch",value:function(e,t){}},{key:"render",value:function(){return this.state.hasError?this.props.errorFallback:this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,error:e}}}]),n}(o.Component);function rI(){if(!zi())return null;var e=(0,o.useCallback)((function(e){("F11"==e.key||"Enter"==e.key&&e.altKey)&&Vi().ipcRenderer.send("toggleFullscreen")}),[]);return(0,Ll.jsx)(fp,{callback:e})}var aI=n(80173);function iI(){return(0,aI.useKeepAwake)(),null}function oI(){if(!zi())return null;var e=As(),t=(0,o.useRef)(e);t.current=e;var n=(0,o.useCallback)((0,d.default)((function*(){Vi().ipcRenderer.send("saveFileBackup",yield Fi(t.current))})),[]);return(0,o.useEffect)((function(){var e=setInterval((0,d.default)((function*(){try{yield n()}catch(ON){throw ON}})),9e5);return function(){clearTimeout(e)}}),[n]),(0,o.useEffect)((function(){return window.addEventListener("beforeunload",n),function(){return window.removeEventListener("beforeunload",n)}}),[n]),null}function uI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uI(Object(n),!0).forEach((function(t){(0,g.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}C.default.allowRTL(!1);var sI=128,cI=40;function fI(){var e=(0,Q.useSafeAreaInsets)(),t=(0,D.useTheme)();return"ios"!=I.default.OS&&"android"!=I.default.OS?null:(0,Ll.jsx)(T.default,{style:{backgroundColor:t.colors.surface,height:e.bottom}})}function dI(){var e=(0,D.useTheme)(),t=(0,o.useMemo)((function(){return{borderBottomColor:e.colors.outlineVariant,borderBottomWidth:2}}),[e]),n=(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:vI.centerText,children:(0,Ll.jsx)(O.default,{accessibilityRole:"header",style:{color:e.colors.primary},children:ae("Magic Research 2")})})}),[e]);return(0,Ll.jsxs)(T.default,{style:vI.maxContainer,nativeID:e.dark?"dark":"light",children:[(0,Ll.jsx)(NA,{}),(0,Ll.jsxs)(T.default,{style:vI.safeAreaContainer,children:[(0,Ll.jsx)(N.default.Header,{style:t,children:n}),(0,Ll.jsx)(T.default,{style:[vI.biggerContainer,{backgroundColor:e.colors.background}],children:(0,Ll.jsxs)(T.default,{style:vI.introContainer,children:[(0,Ll.jsx)(S.default,{children:(0,Ll.jsx)(Gv,{})}),(0,Ll.jsx)(fI,{})]})})]})]})}function gI(e){var t,n=(0,j.default)(),r=n.height,i=n.width,l=Ul(),s=As(),c=(0,o.useRef)(s);c.current=s;var f=(0,o.useContext)(pm),d=(0,o.useState)(!1),g=(0,a.default)(d,2),p=g[0],v=g[1],A=(0,o.useState)("none"),b=(0,a.default)(A,2),k=b[0],x=b[1],C=Ud(s,0,i),B=Td(),R=Object.fromEntries(B.map((function(e){return[e.id,e]}))),H=(0,o.useState)("Home"),Y=(0,a.default)(H,2),z=Y[0],V=Y[1],W=(0,o.useState)([]),G=(0,a.default)(W,2),J=G[0],q=G[1],X=(0,o.useRef)(J);X.current=J;var K=[z].concat((0,h.default)(J.map((function(e){return e.section})))),_=vm(f,"active_sections",K),$=(0,a.default)(_,2),ee=($[0],$[1]);(0,o.useEffect)((function(){ee(K)}),[JSON.stringify(K)]),(0,o.useEffect)((function(){1==C.activeContentTabs&&q([]);var e=X.current.slice(0,C.activeContentTabs-1);q(function(e){for(var t in e)e[t].key=Number.parseInt(t)+1;return e}(e))}),[C.activeContentTabs]);var te=(0,o.useCallback)((function(e){if(X.current.find((function(t){return t.section==e})))q(X.current.filter((function(t){return t.section!=e})));else{for(var t=X.current.map((function(e){return e.key})),n=1;t.includes(n);)n++;var r=[].concat((0,h.default)(X.current),[{section:e,key:n}]);q(r.slice(0,C.activeContentTabs-1))}}),[q,JSON.stringify(C)]),ne=(0,D.useTheme)(),re=(0,o.useState)(null),ie=(0,a.default)(re,2),oe=ie[0],ue=ie[1],le=(0,o.useCallback)((function(e){"goToExploration"!=e||K.includes("Exploration")?"goToEnding"!=e||K.includes("Ending")?"goToDebug"==e?V("Debug"):"closeAllMenus"==e?(v(!1),x("none")):e.startsWith("endingHistoryOverride:")&&ue(e.split(":")[1]):(V("Ending"),q([])):V("Exploration")}),[V,K,q,ue]),se=(0,o.useCallback)((function(e){var t=Hi(e);return t.forEach(le),e.run.uiCommands=t.filter((function(e){return"goToExploration"!=e&&"goToEnding"!=e&&"closeAllMenus"!=e&&!e.startsWith("endingHistoryOverride:")&&"goToDebug"!=e})),e}),[le]);(0,o.useEffect)((function(){return ft("appUiCommand",(function(e){if(Hi(e).filter((function(e){return["goToExploration","goToEnding","closeAllMenus","goToDebug"].includes(e)||e.startsWith("endingHistoryOverride:")})).length>0)return function(e){return se(e)}})),function(){return dt("appUiCommand")}}),[se]);var ce=(0,o.useCallback)((function(){v(!p),x("none")}),[p]),fe=(0,o.useCallback)((function(){v(!0),x("none")}),[]),de=(0,o.useCallback)((function(){v(!1)}),[]),ge=(0,o.useCallback)((function(){x("event"!==k?"event":"none"),v(!1)}),[k]),he=(0,o.useCallback)((function(){v(!1),x("event")}),[]),me=(0,o.useCallback)((function(){v(!1),x("spell")}),[]),ye=(0,o.useCallback)((function(){v(!1),x("none")}),[]),pe=(0,o.useCallback)((function(){x("spell"!==k?"spell":"none"),v(!1)}),[k]),ve=(0,o.useCallback)((function(e){V(e),v(!1),x("none")}),[V]),Ae=Object.values(s.run.eventOccurrences).filter((function(e){return e.currentMessageId&&!gl(e.currentMessageId).isTerminal()&&gl(e.currentMessageId).isActionable(s,e.params)})).length;(0,o.useEffect)((function(){V("Home"),q([])}),[s.world.totalTimesResetted]);var be=!C.wideLayout&&!(null!=(t=R[K[0]])&&t.hideBottomResourceBar)&&!s.options.hideBottomResourceViewer&&Z(s.run.resources).length>1,ke=(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:vI.centerText,children:(0,Ll.jsx)(O.default,{accessibilityRole:"header",style:{color:ne.colors.primary},children:1==K.length?K[0]:ae("Magic Research 2")})})}),[K.join(),ne]),xe=Object.fromEntries(B.map((function(e){return[e.id,(0,o.useRef)()]})));xe.Main=(0,o.useRef)();var we=vm(f,"mainScrollPositions",{}),Ee=(0,a.default)(we,2),Ce=Ee[0],Ie=Ee[1],Be=(0,o.useMemo)((function(){return Object.fromEntries(B.map((function(e){return[e.id,function(t){var n=t.nativeEvent.contentOffset.y;Ce[e.id]=n,Ie(Ce)}]})))}),[]);(0,o.useEffect)((function(){for(var e of K){var t,n,r,a,i;if(null==(t=R[e])||!t.scrollable)return;if(!I.default.select({default:!0,web:!1}))return;if(R[e].scrollView)xe.Main.current.scrollTo({y:null!=(n=null==Ce?void 0:Ce[e])?n:0,animated:!1});else null==(r=xe[e])||null==(a=r.current)||null==a.scrollTo||a.scrollTo({y:null!=(i=null==Ce?void 0:Ce[e])?i:0,animated:!1})}}),[K.join(",")]);var Se=s.options.enableBottomMenu,Re=s.options.leftHandedMode,Pe=s.options.putCastSpellOnBottomMenu;function Te(e,t,n,r,a,i,o){var u=null;return u=r?(0,Ll.jsx)(T.default,{style:n!=t&&{display:"none"},children:(0,Ll.jsx)(Sg,{isVisible:n==t,children:e})},t):n!=t?(0,Ll.jsx)(T.default,{},t):(0,Ll.jsx)(T.default,{children:e},t),i?n==t?(0,Ll.jsx)(U.default,{children:(0,Ll.jsx)(T.default,{style:[vI.fullscreenContainer,{backgroundColor:o,paddingTop:null==a?void 0:a.top,paddingBottom:null==a?void 0:a.bottom}],children:(0,Ll.jsx)(S.default,{style:vI.fullscreenContainerInside,children:u})})},t):null:u}var je=(0,o.useCallback)((function(){null!=oe?(ue(null),V("Stats")):V("Home"),c.current.apply((function(e){for(var t of sl.getAll())e=t(e);return e}))}),[oe]),Me=(0,o.useMemo)((function(){for(var e=[],t=0;t<C.activeContentTabs;t++)e.push(t);return e}),[C.activeContentTabs]),De=(0,Q.useSafeAreaInsets)(),Oe=(0,o.useMemo)((function(){var e=1;return(0,Ll.jsx)(T.default,{accessibilityElementsHidden:p||"none"!=k,importantForAccessibility:p||"none"!=k?"no-hide-descendants":"auto",style:{flex:1,flexDirection:"row",alignItems:"stretch",justifyContent:"space-evenly"},children:Me.map((function(t){var n,r,a,i,o,u,l,c,f,d,g,h,y,p,v,A,b,k,x,w,E,I,B;if(1==C.activeContentTabs&&t>0)return null;var P=0==t?z:null!=(n=null==(r=J[t-1])?void 0:r.section)?n:"-",j=0==t?0:null==J||null==(a=J[t-1])?void 0:a.key;if(void 0===j){for(;J.find((function(t){return t.key==e}));)e++;j=e,e++}var M=J.length>0,D=(0,Ll.jsxs)(S.default,{ref:xe.Main,style:vI.mainContainer,onScroll:Be[P],contentContainerStyle:"Inventory"!=P&&"Transmute"!=P&&vI.container,children:[Te((0,Ll.jsx)(ME,{}),"Study",P,null==(i=R.Study)?void 0:i.keepInMemory,De),Te((0,Ll.jsx)(MA,{}),"Inventory",P,null==(o=R.Inventory)?void 0:o.keepInMemory,De),Te((0,Ll.jsx)(xm,{}),"Transmute",P,null==(u=R.Transmute)?void 0:u.keepInMemory,De),Te((0,Ll.jsx)(Ay,{}),"Enhance",P,null==(l=R.Enhance)?void 0:l.keepInMemory,De),Te((0,Ll.jsx)(Ng,{}),"Boosts",P,null==(c=R.Boosts)?void 0:c.keepInMemory,De),Te((0,Ll.jsx)(xv,{}),"Familiars",P,null==(f=R.Familiars)?void 0:f.keepInMemory,De),Te((0,Ll.jsx)(gb,{}),"Spellcraft",P,null==(d=R.Spellcraft)?void 0:d.keepInMemory,De),Te((0,Ll.jsx)(ab,{}),"Rituals",P,null==(g=R.Rituals)?void 0:g.keepInMemory,De),Te((0,Ll.jsx)(my,{close:je,overrideEnding:null!=oe?s.global.endingsHistory[oe]:void 0}),"Ending",P,null==(h=R.Ending)?void 0:h.keepInMemory,De,null==(y=R.Ending)?void 0:y.fullScreen,ne.colors.background),Te((0,Ll.jsx)(oC,{}),"Worlds",P,null==(p=R.Worlds)?void 0:p.keepInMemory,De),Te((0,Ll.jsx)(ZA,{}),"Retirement",P,null==(v=R.Retirement)?void 0:v.keepInMemory,De),Te((0,Ll.jsx)(Rm,{}),"Compendium",P,null==(A=R.Compendium)?void 0:A.keepInMemory,De),Te((0,Ll.jsx)(RE,{}),"Stats",P,null==(b=R.Stats)?void 0:b.keepInMemory,De),Te((0,Ll.jsx)(XA,{}),"Options",P,null==(k=R.Options)?void 0:k.keepInMemory,De),Te((0,Ll.jsx)(Mv,{}),"Help",P,null==(x=R.Help)?void 0:x.keepInMemory,De),Te((0,Ll.jsx)(bs,{}),"About",P,null==(w=R.About)?void 0:w.keepInMemory,De),"Debug"===P&&(0,Ll.jsx)(iy,{})]}),O=(0,Ll.jsx)(T.default,{style:vI.mainContainer,children:(0,Ll.jsx)(Sg,{isVisible:"Exploration"==P,children:(0,Ll.jsx)(Kp,{})})}),N=(0,Ll.jsx)(T.default,{style:vI.mainContainer,children:(0,Ll.jsx)(Sg,{isVisible:"Synchro"==P,children:(0,Ll.jsx)(HE,{})})});return(0,Ll.jsx)(hs.Provider,{value:t<C.activeContentTabs,children:(0,Ll.jsxs)(T.default,{style:[M&&{marginHorizontal:4,borderLeftWidth:1,borderRightWidth:1,borderColor:ne.colors.outlineVariant},{flex:1,display:"-"==P?"none":void 0}],children:[M&&(0,Ll.jsxs)(T.default,{style:[{height:56,paddingVertical:8,paddingHorizontal:16,flexDirection:"row",alignItems:"center",borderBottomWidth:1,borderBottomColor:ne.colors.outlineVariant}],children:[(0,Ll.jsx)(T.default,{style:{flex:1},children:(0,Ll.jsx)(zl,{h2:!0,children:P})}),t>0&&(0,Ll.jsx)(T.default,{style:{flexDirection:"row",alignItems:"center"},children:(0,Ll.jsx)(m.default,{name:"close",size:20,color:ne.colors.onBackground,onPress:function(){return te(P)},style:{marginLeft:8},accessibilityRole:"button",accessibilityLabel:"Close Section"})})]}),(0,Ll.jsx)(T.default,{style:[{flex:1},!(null!=(B=R[P])&&B.scrollView)&&{display:"none"}],children:D}),(0,Ll.jsx)(T.default,{style:[vI.mainContainer,"Home"!==P&&{display:"none"}],children:(0,Ll.jsx)(Sg,{isVisible:"Home"==P,children:(0,Ll.jsx)(Fv,{onScroll:Be.Home,scrollRef:xe.Home})})}),(0,Ll.jsx)(T.default,{style:[vI.mainContainer,"Wizards"!==P&&{display:"none"}],children:(0,Ll.jsx)(Sg,{isVisible:"Wizards"==P,children:(0,Ll.jsx)(_E,{})})}),(0,Ll.jsx)(T.default,{style:[vI.mainContainer,"Exploration"!==P&&{display:"none"}],children:O}),(0,Ll.jsx)(T.default,{style:[vI.mainContainer,"Synchro"!==P&&{display:"none"}],children:N})]},null!=(I=j)?I:t)},null!=(E=j)?E:t)}))})}),[ne,p,k,J,Me,z,te,oe,De]),Ne=(0,o.useCallback)((function(){return p?(v(!1),!0):"none"!=k&&(x("none"),!0)}),[p,k,v,x]);(0,o.useEffect)((function(){var e=E.default.addEventListener("hardwareBackPress",Ne);return function(){return e.remove()}}),[Ne]);var Ue=(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:[vI.biggerContainer,{backgroundColor:ne.colors.background}],onAccessibilityEscape:p||"none"!=k?Ne:void 0,children:[(0,Ll.jsx)(T.default,{style:vI.horizontalContainer,children:(0,Ll.jsx)(M.Drawer,{drawerPosition:"right",drawerType:C.showEventsMenu?"permanent":"front",open:"event"==k,onOpen:he,onClose:ye,swipeEnabled:"event"==k,swipeEdgeWidth:sI,renderDrawerContent:function(){return(0,Ll.jsx)(Sg,{isVisible:C.showEventsMenu||"event"===k,children:(0,Ll.jsx)(hC,{})})},children:(0,Ll.jsx)(M.Drawer,{drawerPosition:"right",drawerType:C.showSpellMenu?"permanent":"front",open:"spell"==k,onOpen:me,onClose:ye,swipeEdgeWidth:sI,renderDrawerContent:function(){return(0,Ll.jsx)(Sg,{isVisible:C.showSpellMenu||"spell"===k,children:(0,Ll.jsx)(ZC,{favoritesOnBottom:!1})})},children:(0,Ll.jsx)(M.Drawer,{open:!0,drawerType:"permanent",onOpen:fe,onClose:de,renderDrawerContent:function(){return(0,Ll.jsx)(qC,{visible:!0,wide:!0,pinnedSections:J.map((function(e){return e.section})),onPressFavorite:te,onNavigationPress:ve})},children:Oe})})})}),(0,Ll.jsx)(RC,{})]})}),[ne,JSON.stringify(C),r,k,Oe,JSON.stringify(J),Ne]),Fe=(0,o.useMemo)((function(){return(0,Ll.jsxs)(T.default,{style:[vI.biggerContainer,{backgroundColor:ne.colors.background}],onAccessibilityEscape:p||"none"!=k?Ne:void 0,children:[(0,Ll.jsx)(M.Drawer,{open:p,onOpen:fe,onClose:de,swipeEdgeWidth:Se?cI:sI,renderDrawerContent:function(){return(0,Ll.jsx)(Sg,{isVisible:p,children:(0,Ll.jsx)(qC,{visible:p,wide:!1,pinnedSections:J.map((function(e){return e.section})),onPressFavorite:te,onNavigationPress:ve})})},children:(0,Ll.jsxs)(T.default,{style:[gs.flex,vI.mainContainerPhone],children:[(0,Ll.jsx)(M.Drawer,{drawerPosition:"right",open:"event"==k,onOpen:he,onClose:ye,swipeEdgeWidth:sI,swipeEnabled:"event"==k,renderDrawerContent:function(){return(0,Ll.jsx)(Sg,{isVisible:"event"===k,children:(0,Ll.jsx)(hC,{})})},children:(0,Ll.jsx)(M.Drawer,{drawerPosition:"right",open:"spell"==k,onOpen:me,onClose:ye,swipeEdgeWidth:sI,renderDrawerContent:function(){return(0,Ll.jsx)(Sg,{isVisible:"spell"===k,children:(0,Ll.jsx)(ZC,{favoritesOnBottom:Pe})})},children:(0,Ll.jsx)(T.default,{style:gs.flex,children:Oe})})}),be&&(0,Ll.jsxs)(w.default.View,{style:[{borderTopWidth:2,borderTopColor:ne.colors.outlineVariant}],children:[(0,Ll.jsx)(T.default,{style:vI.accessibilityHidden,accessible:!0,accessibilityLabel:"Resources",accessibilityRole:"header",accessibilityElementsHidden:!1}),(0,Ll.jsx)(Vp,{})]}),Se&&(0,Ll.jsxs)(Ll.Fragment,{children:[Re&&Pe&&(0,Ll.jsx)(T.default,{style:{left:-142,bottom:-122,position:"absolute",zIndex:120},children:(0,Ll.jsx)(F.default,{accessibilityLabel:ae("Cast Spell"),hitSlop:{top:50,left:50,bottom:20,right:20},onPressIn:pe,onPress:function(){},mode:"contained",containerColor:ne.colors.primary,style:{borderRadius:0,borderTopRightRadius:100,width:240,height:168},icon:function(){return(0,Ll.jsx)(y.default,{style:{position:"relative",left:50,bottom:52,width:24,height:24,overflow:"visible"},name:"magic-wand",color:ne.colors.primaryContainer,size:24})}})}),(0,Ll.jsx)(T.default,{style:{borderTopWidth:2,borderTopColor:ne.colors.outlineVariant},children:(0,Ll.jsx)(xC,{onNavigationPress:ve,onSpellMenuPress:pe,selected:K[0],leftHanded:Re,showCastSpellButton:Pe})}),!Re&&Pe&&(0,Ll.jsx)(T.default,{style:{right:-142,bottom:-122,position:"absolute",zIndex:120},children:(0,Ll.jsx)(F.default,{accessibilityLabel:ae("Cast Spell"),hitSlop:{top:50,left:50,bottom:20,right:20},onPressIn:pe,onPress:function(){},mode:"contained",containerColor:ne.colors.primary,style:{borderRadius:0,borderTopLeftRadius:100,width:240,height:168},icon:function(){return(0,Ll.jsx)(y.default,{style:{position:"relative",right:50,bottom:52,width:24,height:24,overflow:"visible"},name:"magic-wand",color:ne.colors.primaryContainer,size:24})}})})]})]})}),(0,Ll.jsx)(RC,{})]})}),[ne,p,Oe,ce,ve,pe,r,Se,Pe,Re,Ne,JSON.stringify(J),be]),Le=(0,o.useMemo)((function(){return{borderBottomColor:ne.colors.outlineVariant,borderBottomWidth:2,height:l.compactLayout?40:48}}),[l.compactLayout,ne]),He=(0,o.useMemo)((function(){return(0,Ll.jsx)(P.default,{accessibilityLabel:"Menu",accessibilityRole:"button",onPressIn:ce,hitSlop:{top:20,left:20,bottom:20,right:20},children:(0,Ll.jsx)(m.default,{name:"menu",size:24,color:"#fff"})})}),[ce]),Ye=(0,o.useContext)(Cy),Qe=(0,o.useCallback)((function(){if(K.includes("Exploration")){var e=Ve(c.current,"combat_paused_magic_tap");c.current.apply((function(t){return e?Ke("combat_paused_magic_tap")(t):qe("combat_paused_magic_tap")(t)})),Ye.announceForAccessibility(ae(e?"Resuming Exploration":"Pausing Exploration"))}}),[Ye,K.join()]);return(0,o.useMemo)((function(){return C.wideLayout?(0,Ll.jsxs)(u.GestureHandlerRootView,{style:[vI.maxContainer,{backgroundColor:ne.colors.background}],onMagicTap:Qe,children:[(0,Ll.jsx)(SC,{setPlayerState:e.setPlayerState,onLoadingProgress:e.onLoadingProgress}),(0,Ll.jsxs)(N.default.Header,{style:Le,children:[ke,!C.showSpellMenu&&(0,Ll.jsx)(N.default.Action,{icon:function(){return(0,Ll.jsx)(y.default,{name:"magic-wand",size:24,color:ne.colors.primary})},onPress:pe},"spellMenu"),!C.showEventsMenu&&(0,Ll.jsx)(N.default.Action,{icon:function(){return(0,Ll.jsxs)(Ll.Fragment,{children:[(0,Ll.jsx)(m.default,{name:"notifications",size:24,color:ne.colors.primary}),Ae>0&&(0,Ll.jsx)(L.default,{style:vI.notificationsBadge,children:Ae})]})},onPress:ge},"eventsMenu")]}),Ue,(0,Ll.jsx)(yC,{})]}):(0,Ll.jsxs)(u.GestureHandlerRootView,{style:[vI.maxContainer,{backgroundColor:ne.colors.background}],onMagicTap:Qe,children:[(0,Ll.jsx)(SC,{setPlayerState:e.setPlayerState,onLoadingProgress:e.onLoadingProgress}),(0,Ll.jsxs)(N.default.Header,{style:Le,children:[!C.showMenu&&(0,Ll.jsx)(N.default.Action,{icon:function(){return(0,Ll.jsx)(m.default,{name:"menu",size:24,color:ne.colors.primary})},onPress:ce},"menu"),ke,!C.showSpellMenu&&!(Se&&Pe)&&(0,Ll.jsx)(N.default.Action,{icon:function(){return(0,Ll.jsx)(y.default,{name:"magic-wand",size:24,color:ne.colors.primary})},onPress:pe},"spellMenu"),!C.showEventsMenu&&(0,Ll.jsx)(N.default.Action,{icon:function(){return(0,Ll.jsxs)(Ll.Fragment,{children:[(0,Ll.jsx)(m.default,{name:"notifications",size:24,color:ne.colors.primary}),Ae>0&&(0,Ll.jsx)(L.default,{style:vI.notificationsBadge,children:Ae})]})},onPress:ge},"eventsMenu")]}),Fe,(0,Ll.jsx)(yC,{})]})}),[e.setPlayerState,e.onLoadingProgress,ce,pe,ge,Oe,Ae,p,k,ve,JSON.stringify(C),r,ne,Fe,Ue,Le,He,Qe,Se,Pe])}function hI(e){var t=(0,D.useTheme)();return(0,Ll.jsxs)(T.default,{style:[vI.offlineProgressContainer,{backgroundColor:t.colors.background}],children:[(0,Ll.jsx)(x.default,{size:"large"}),(0,Ll.jsx)(O.default,{children:ae("Warping through time... {{current}} / {{total}}",{current:ue(e.currentTicks,{showDecimals:!1}),total:ue(e.totalTicks,{showDecimals:!1})})})]})}function mI(){var e,t,n,r=(0,o.useState)((function(){var e=X(Ie);return e.temp=Be(),e})),i=(0,a.default)(r,2),u=i[0],l=i[1],s=(0,o.useState)({}),c=(0,a.default)(s,2),f=c[0],g=c[1],h=(0,o.useState)(!1),m=(0,a.default)(h,2),y=m[0],x=m[1],w=(0,o.useState)(0),E=(0,a.default)(w,2),C=E[0],S=E[1],R=(0,o.useState)(0),P=(0,a.default)(R,2),M=P[0],D=P[1];(0,o.useEffect)((function(){"android"==I.default.OS&&(A.setPositionAsync("absolute"),A.setBackgroundColorAsync("#ffffff00"),A.setBehaviorAsync("overlay-swipe"))}),[]);var N=(0,o.useCallback)((function(e,t){D(e),S(t),x(e!=t)}),[]),U=(0,o.useMemo)((function(){return{getUIState:function(e){return null==f?void 0:f[e]},setUIState:function(e,t){f[e]=t,g(f)}}}),[f,g]),F=(0,o.useState)({}),L=(0,a.default)(F,2),Q=L[0],V=L[1],W=(0,o.useRef)(Q);W.current=Q;var G=(0,o.useCallback)((function(e,t,n,r){var a=Object.assign({},W.current);a[e]||(a[e]={content:t,position:n,postMeasurementId:1,measurementId:0,mouseEnterTimestamp:0,mouseLeaveTimestamp:0}),a[e].content=t,a[e].position=n,null!=r&&(a[e].postMeasurementId=r),W.current=a,V(a)}),[V]),J=(0,o.useCallback)((function(e){var t=Object.assign({},W.current);null!=t[e]&&(t[e].content=null,W.current=t,V(t))}),[V]),q=(0,o.useCallback)((function(e){var t=W.current;null!=t[e]&&(delete t[e],delete W.current[e],V(Object.assign({},t)))}),[V]),K=(0,o.useCallback)((function(e){var t;if(null!=(t=W.current)&&t[e]){var n=Object.assign({},W.current);n[e].mouseLeaveTimestamp=Date.now(),W.current=n,V(n)}}),[V]),Z=(0,o.useCallback)((function(e,t){var n=Object.assign({},W.current);n[e]||(n[e]={content:null,position:{containerWidth:1},postMeasurementId:1,measurementId:0,mouseEnterTimestamp:0,mouseLeaveTimestamp:0}),n[e].measurementId=t,n[e].mouseEnterTimestamp=Date.now(),W.current=n,V(n)}),[V]),_=null;for(var $ in Q)if(Q[$].mouseEnterTimestamp>Q[$].mouseLeaveTimestamp&&Q[$].measurementId===Q[$].postMeasurementId&&null!=Q[$].content){_=Q[$];break}var ee=(0,o.useMemo)((function(){var e,t,n;return{tooltip:null==(e=_)?void 0:e.content,position:null!=(t=null==(n=_)?void 0:n.position)?t:{containerWidth:1}}}),[null==(e=_)?void 0:e.content,null==(t=_)?void 0:t.position]),te=(0,o.useMemo)((function(){return{setTooltip:G,clearTooltip:J,onMouseLeave:K,onMouseEnter:Z,onUnmountTooltip:q}}),[G,J,K,Z,q]),ne=(0,o.useState)(!0),re=(0,a.default)(ne,2),ie=re[0],oe=re[1],ue=(0,o.useState)(!1),le=(0,a.default)(ue,2),se=le[0],ce=le[1],fe=(0,o.useState)(!1),he=(0,a.default)(fe,2),me=he[0],ye=he[1],pe=(0,o.useRef)(u);pe.current=u;var ve=(0,o.useCallback)((function(e){var t,n=yt(pe.current,e);n.global.appVersionTimestamp=de()||0,n.global.appVersionString=null!=(t=ge())?t:"0.0.0",n.global.isFullVersionSave=!0,l(n)}),[pe,l]),Ae=(0,o.useCallback)((function(e){var t=e(pe.current);t=Ne(t),l(t)}),[pe,l]),be=(0,o.useMemo)((function(){return lI(lI({},u),{},{apply:ve,overwrite:Ae})}),[u,ve,Ae]);(0,o.useEffect)((function(){var e;vs=e=be,ps.forEach((function(t){return t.fn(e)}))}),[be]),(0,o.useEffect)((function(){var e=function(){var e=(0,d.default)((function*(){try{var e=yield function(){return Ti.apply(this,arguments)}();e=Ne(e),l(e),yield sa(),oe(!1)}catch(t){console.error("Error loading data"),ce(!0)}}));return function(){return e.apply(this,arguments)}}();e()}),[]);var ke=(0,o.useState)(0),xe=(0,a.default)(ke,2),we=xe[0],Ee=xe[1];(0,o.useEffect)((function(){var e=function(){var e=(0,d.default)((function*(){if(!me&&!se)try{yield function(e){return ji.apply(this,arguments)}(u),we>0&&Ee(0)}catch(e){console.error("Error saving data",e),we>0&&we<Math.floor(Aa(u)/5)-10?ye(!0):we<=0&&Ee(Math.floor(Aa(u)/5))}}));return function(){return e.apply(this,arguments)}}();ie||y||e()}),[Math.floor(Aa(u)/5),ie,y,we,Ee,me,se]);var Ce=(0,o.useTransition)(),Se=(0,a.default)(Ce,2),Re=(Se[0],Se[1]),Pe=ir("no"!=be.options.overrideElementDisplay?be.options.overrideElementDisplay:be.run.primaryElement,"dark"===be.options.themeMode),Te=(0,o.useMemo)((function(){return{compactLayout:be.options.compactUI}}),[be.options.compactUI]),je=void 0==be.run.primaryElement,Me=(0,o.useState)(je),De=(0,a.default)(Me,2),Oe=De[0],Ue=De[1];(0,o.useEffect)((function(){Oe!=je&&setTimeout((function(){return Ue(je)}),0)}),[Oe,je,Re,Ue]);var Fe=(0,j.default)(),Le=(Fe.height,Fe.width),He=(0,o.useCallback)((0,d.default)((function*(){var e=yield Fi(pe.current);yield v.setStringAsync(e)})),[]),Ye=(0,o.useCallback)((0,d.default)((function*(){yield ry(pe.current)})),[]),Qe=(0,o.useCallback)((0,d.default)((function*(){var e=yield p.default.getItem("GameState");yield v.setStringAsync(null!=e?e:"null")})),[]),ze=(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:vI.errorContainer,children:(0,Ll.jsxs)(T.default,{style:vI.errorWrapper,children:[(0,Ll.jsx)(T.default,{style:vI.errorHeader,children:(0,Ll.jsx)(O.default,{variant:"headlineMedium",children:ae("Something went very wrong!")})}),(0,Ll.jsx)(O.default,{children:ae("It looks like an unexpected error happened while loading the game.\nPlease try closing the app and opening it again. If the error\npersists, please contact magic.research.game@gmail.com and send your\ndebug saved data for further support.")}),(0,Ll.jsx)(H.default,{onPress:Qe,style:vI.saveButton,children:ae("Copy debug save data to clipboard")})]})})}),[Qe]),Ve=(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:vI.errorContainer,children:(0,Ll.jsxs)(T.default,{style:vI.errorWrapper,children:[(0,Ll.jsx)(T.default,{style:vI.errorHeader,children:(0,Ll.jsx)(O.default,{variant:"headlineMedium",children:ae("Something went wrong!")})}),(0,Ll.jsx)(O.default,{children:ae("It looks like an unexpected error happened. Please try closing the\napp and opening it again. If the error persists, please contact\nmagic.research.game@gmail.com and send your saved data for further\nsupport.")}),(0,Ll.jsx)(H.default,{onPress:He,style:vI.saveButton,children:ae("Copy savefile to clipboard")}),$m&&(0,Ll.jsx)(H.default,{onPress:Ye,style:vI.saveButton,children:ae("Save to file")})]})})}),[He,Ye]),We=(0,o.useState)([]),Ge=(0,a.default)(We,2),Je=Ge[0],qe=Ge[1],Xe=(0,o.useMemo)((function(){return be.options.wakeLock?(0,Ll.jsx)(iI,{}):null}),[be.options.wakeLock]),Ke=(0,o.useRef)(Je);Ke.current=Je;var Ze=(0,o.useMemo)((function(){return I.default.select({default:{announceForAccessibility:function(e){return k.default.announceForAccessibilityWithOptions(e,{queue:!1})}},web:{announceForAccessibility:function(e){var t,n={text:e,key:Math.random().toString()},r=null==(t=Ke.current)?void 0:t[0];(null==r?void 0:r.text)==n.text?(qe([]),setTimeout((function(){return qe([n])}),100)):qe([n])}}})}),[]),_e=(0,o.useState)("visible"),$e=(0,a.default)(_e,2),et=$e[0],tt=$e[1];(0,o.useEffect)((function(){if("web"==I.default.OS){var e=function(){tt(document.visibilityState)};return document.addEventListener("visibilitychange",e),function(){return document.removeEventListener("visibilitychange",e)}}}),[]),(0,o.useEffect)((function(){"web"==I.default.OS&&"visible"==et&&JSON.stringify(Ud(be,0,Le))==JSON.stringify(Ud(be,0,Le+1))&&(window.resizeBy(1,0),window.resizeBy(-1,0))}),[et]);var nt=(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:[{flex:1},!y&&{display:"none"}],children:(0,Ll.jsx)(B.default,{style:[vI.safeAreaContainer,vI.centerAligned],children:(0,Ll.jsx)(hI,{currentTicks:M,totalTicks:C})})})}),[M,C,y]),rt=(0,o.useMemo)((function(){return"web"===I.default.OS&&"visible"==et&&(0,Ll.jsx)("div",{style:vI.accessibilityView,"aria-live":"polite",role:"status",children:Je.map((function(e){return(0,Ll.jsx)("div",{role:"none",children:(0,Ll.jsx)(zl,{children:e.text},e.key)},e.key)}))})}),[Je.map((function(e){return e.key})).join(),et]),at=(0,o.useMemo)((function(){return(0,Ll.jsx)(T.default,{style:[{flex:1},y&&{display:"none"}],nativeID:Pe.dark?"dark":"light",children:(0,Ll.jsx)(Sg,{isVisible:!Oe&&!y,children:(0,Ll.jsx)(gI,{setPlayerState:l,onLoadingProgress:N})})})}),[y,Pe.dark,Oe,l,N]),it=(0,o.useMemo)((function(){return(0,Ll.jsx)(Y.default,{theme:Pe,children:(0,Ll.jsx)(nI,{errorFallback:Ve,children:(0,Ll.jsx)(Cy.Provider,{value:Ze,children:(0,Ll.jsx)(Yd.Provider,{value:te,children:(0,Ll.jsxs)(Nl.Provider,{value:Te,children:[(0,Ll.jsxs)(Ld.Provider,{value:Hd,children:[(0,Ll.jsx)(HA,{}),(0,Ll.jsx)(b.default,{style:Pe.dark?"light":"dark"}),(0,Ll.jsx)(rI,{}),(0,Ll.jsx)(oI,{}),(0,Ll.jsx)(NA,{}),(0,Ll.jsx)($C,{}),Xe,rt,nt,at]}),!be.options.hideTooltips&&(0,Ll.jsx)(Qd,{})]})})})})})}),[Pe,Ve,Ze,te,Xe,rt,nt,at,Te,null==be||null==(n=be.options)?void 0:n.hideTooltips]),ot=(0,o.useMemo)((function(){return(0,Ll.jsx)(pm.Provider,{value:U,children:(0,Ll.jsx)(Ld.Provider,{value:ee,children:it})})}),[z.initialWindowMetrics,ee,U,it]);return se?ze:me?Ve:ie||je!=Oe?(0,Ll.jsx)(Y.default,{theme:Pe,children:(0,Ll.jsx)(nI,{errorFallback:Ve,children:(0,Ll.jsx)(Cy.Provider,{value:Ze,children:(0,Ll.jsx)(UA,{})})})}):Oe?(0,Ll.jsx)(Ld.Provider,{value:ee,children:(0,Ll.jsx)(Y.default,{theme:Pe,children:(0,Ll.jsx)(nI,{errorFallback:Ve,children:(0,Ll.jsx)(Cy.Provider,{value:Ze,children:(0,Ll.jsx)(Yd.Provider,{value:te,children:(0,Ll.jsx)(Nl.Provider,{value:Te,children:(0,Ll.jsxs)(pm.Provider,{value:U,children:[(0,Ll.jsx)(HA,{}),(0,Ll.jsx)(b.default,{style:Pe.dark?"light":"dark"}),(0,Ll.jsx)(rI,{}),Xe,(0,Ll.jsx)(dI,{}),!be.options.hideTooltips&&(0,Ll.jsx)(Qd,{})]})})})})})})}):ot}function yI(){var e=(0,j.default)().height,t=(0,o.useMemo)((function(){return"web"===I.default.OS&&{height:e,flex:"auto"}}),[e]);return(0,Ll.jsx)(Q.SafeAreaProvider,{initialMetrics:z.initialWindowMetrics,style:t,children:(0,Ll.jsx)(mI,{})})}var pI="android"===I.default.OS?16:"web"===I.default.OS?8:0,vI=R.default.create({headerContainer:{paddingTop:pI},rightHeaderContainer:{flexDirection:"row"},rightHeaderIcon:{marginLeft:20},gestureRecognizer:{flex:1},safeAreaContainer:{flex:1,justifyContent:"center"},centerAligned:{alignItems:"center"},maxContainer:{flex:1,height:"100%"},biggerContainer:{flex:1,backgroundColor:"#fff"},mainContainerPhone:{overflow:"hidden"},introContainer:{flex:1,alignItems:"center"},horizontalContainer:{flexDirection:"row",alignItems:"stretch",overflow:"hidden",flex:1},mainContainer:{flex:1},webMenuContainer:{width:284,paddingRight:8},webRightMenuContainer:{width:300,paddingLeft:8},notificationsBadge:{position:"absolute",top:-4,right:-4,fontWeight:"bold"},menuContainer:{position:"absolute"},container:{padding:8},centerText:{flex:1,justifyContent:"center",alignItems:"center"},offlineProgressContainer:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},saveButton:{marginTop:8},errorContainer:{width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},errorWrapper:{maxWidth:600,marginHorizontal:16},errorHeader:{marginBottom:8},accessibilityView:{height:0,width:0,overflow:"hidden",position:"absolute",left:100,top:100},accessibilityHidden:{width:1,height:1,position:"absolute",left:0,top:0},closeButtonInner:{paddingHorizontal:0,paddingVertical:0,height:32,width:32,borderRadius:16},pinButtonInner:{paddingHorizontal:0,paddingVertical:0,height:32,width:32},fullscreenContainer:{alignItems:"center",flex:1},fullscreenContainerInside:{marginHorizontal:16,marginVertical:16,maxWidth:600}});function AI(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var bI=function(e){(0,ws.default)(n,e);var t=AI(n);function n(){var e;return(0,Le.default)(this,n),(e=t.call(this)).landCapTags=[pt.Land,pt.Cap],e.costScaleTags=[].concat((0,h.default)(e.getTags()),[pt.CostScale]),e}return(0,He.default)(n,[{key:"isVisible",value:function(e){var t;return Ve(e,Ir.LandPurchaseUnlocked)&&!(null!=(t=nl.getByIdNullable("blessedLand"))&&null!=t.isBonusActive&&t.isBonusActive(e))}},{key:"getId",value:function(){return"expandHome"}},{key:"getAreas",value:function(){return{HOME:[$t.ACTIONS]}}},{key:"getDisplayName",value:function(e){var t=e.run.landPurchaseCount;return 0==t?ae("Expand Home"):ae("Expand Home ({{amount}})",{amount:ue(t)})}},{key:"getDisplayDescription",value:function(){return ae("Get a new parcel of land for your home so you can have more space for furniture.")}},{key:"getDisplayEffect",value:function(e){return ae("+{{amount}}:land:",{amount:ue(Ct(this.landCapTags,e,20))})}},{key:"getTags",value:function(){return[].concat((0,h.default)((0,xs.default)((0,Cs.default)(n.prototype),"getTags",this).call(this)),[pt.Land])}},{key:"getCost",value:function(e){var t=It(this.costScaleTags,e,.666667);return{resources:{Coins:1250*Math.pow(1+t,e.run.landPurchaseCount)},items:{}}}},{key:"doAction",value:function(e,t){var n;return this.canAfford(t)?((t=Wt(Dt.Coins,-(null!=(n=this.getCost(t).resources.Coins)?n:0))(t)).run.landPurchaseCount+=1,t.world.maxLandsPurchased=Math.max(t.run.landPurchaseCount,t.world.maxLandsPurchased),t=Yt(t=eg(t))):t}},{key:"canAutoPurchaseMax",value:function(){return!0}}]),n}(Is),kI=new bI;xt([[pt.Land,pt.Cap]],kI.getId(),ae("Purchased Land"),At.Addition,(function(e,t){return 20*e.run.landPurchaseCount}));const xI=kI;function wI(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const EI=new(function(e){(0,ws.default)(n,e);var t=wI(n);function n(){return(0,Le.default)(this,n),t.call(this)}return(0,He.default)(n,[{key:"getId",value:function(){return"gatherMana"}},{key:"getAreas",value:function(){return{HOME:[$t.ACTIONS]}}},{key:"getDisplayName",value:function(e){return ae("Gather Mana")}},{key:"isVisible",value:function(){return!0}},{key:"isEnabled",value:function(e){return zt(e,Dt.Mana)<Qt(e,Dt.Mana)}},{key:"getTags",value:function(){return[].concat((0,h.default)((0,xs.default)((0,Cs.default)(n.prototype),"getTags",this).call(this)),[pt.ManualGathering,pt.Production,Dt.Mana])}},{key:"getDisplayDescription",value:function(){return ae("Focus your thoughts and gather mana. *Tip: You can press and hold buttons to auto-press them!*")}},{key:"getBaseActionEffects",value:function(){return{mana:{value:1}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e);return ae("+{{amount}}:mana:",{amount:ue(t.mana,{showDecimals:!0})})}},{key:"getCost",value:function(e){return{resources:{},items:{}}}},{key:"doAction",value:function(e,t){return Wt(Dt.Mana,this.getActionEffects(t).mana)(t)}}]),n}(Is));function CI(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const II=new(function(e){(0,ws.default)(n,e);var t=CI(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"useTimePiecesEvent"}},{key:"getDisplayName",value:function(e){return ae("Use Time Pieces (Event)")}},{key:"isVisible",value:function(e){return zt(e,Dt.TimePiece)>0&&Je(e,Ir.ExplorationUnlocked)}},{key:"getAreas",value:function(){return{HOME:[$t.TIME_PIECES]}}},{key:"getDisplayDescription",value:function(){return"Use your time pieces to immediately trigger a random occurrence."}},{key:"getBaseActionEffects",value:function(){return{}}},{key:"getDisplayEffect",value:function(e){return ae("Instantly trigger the next random event")}},{key:"canAfford",value:function(e){return(0,xs.default)((0,Cs.default)(n.prototype),"canAfford",this).call(this,e)&&zt(e,Dt.TimePiece)>=1800}},{key:"getCost",value:function(e){return{resources:{TimePiece:1800},items:{}}}},{key:"doAction",value:function(e,t){var n,r;return this.canAfford(t)?Xm(t=NC(t=Wt(Dt.TimePiece,-(null!=(n=this.getCost(t).resources[Dt.TimePiece])?n:0))(t),null!=(r=this.getCost(t).resources[Dt.TimePiece])?r:0)):t}}]),n}(Is));function BI(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const SI=new(function(e){(0,ws.default)(n,e);var t=BI(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"useTimePiecesStudy"}},{key:"getDisplayName",value:function(e){return ae("Use Time Pieces (Study)")}},{key:"isVisible",value:function(e){return zt(e,Dt.TimePiece)>0&&Ve(e,Ir.StudyUnlocked)}},{key:"getAreas",value:function(){return{HOME:[$t.TIME_PIECES],STUDY:[$t.TIME_PIECES]}}},{key:"getDisplayDescription",value:function(){return"Use your time pieces to fast-forward Studying."}},{key:"getBaseActionEffects",value:function(){return{timePiecesPerResearchSecond:{value:2,tags:[pt.TimePiecePerStudy]}}}},{key:"getDisplayEffect",value:function(e){var t=3e3/this.getActionEffects(e).timePiecesPerResearchSecond,n=se(t,{shortForm:!0,showDecimals:!0}),r=$a(e),a=It([pt.GameSpeed],e,t,{isWarp:!0});return ae("Instantly obtain {{timeString}} (Real World time) of Study ({{exp}} exp per researcher)",{timeString:n,exp:ue(r*a)})}},{key:"canAfford",value:function(e){return(0,xs.default)((0,Cs.default)(n.prototype),"canAfford",this).call(this,e)&&zt(e,Dt.TimePiece)>=3e3}},{key:"getCost",value:function(e){return{resources:{TimePiece:3e3},items:{}}}},{key:"isEnabled",value:function(e){return(0,xs.default)((0,Cs.default)(n.prototype),"isEnabled",this).call(this,e)&&Z(e.run.studyAllocation).some((function(t){var n;return(null!=(n=e.run.studyAllocation[t])?n:0)>0}))}},{key:"doAction",value:function(e,t){var n;if(!this.canAfford(t))return t;var r=this.getActionEffects(t).timePiecesPerResearchSecond,a=null!=(n=this.getCost(t).resources[Dt.TimePiece])?n:0,i=a/r,o=It([pt.GameSpeed],t,i,{isWarp:!0});return Z((t=NC(t=Wt(Dt.TimePiece,-a)(t),a)).run.studyAllocation).forEach((function(e){var n,r=null!=(n=t.run.studyAllocation[e])?n:0;if(r>0){var a=It([e,pt.Study,pt.ExpGain],t,qa,{isWarp:!0,fromResearch:!0});t=En(e,r*a*o)(t)}})),t}}]),n}(Is));function RI(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const PI=new(function(e){(0,ws.default)(n,e);var t=RI(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"useTimePiecesWarp"}},{key:"isVisible",value:function(e){return zt(e,Dt.TimePiece)>0}},{key:"getDisplayName",value:function(){return ae("Use Time Pieces (Warp)")}},{key:"getAreas",value:function(){return{HOME:[$t.TIME_PIECES]}}},{key:"getDisplayDescription",value:function(){return"Use your time pieces to warp time, affecting every aspect of the game."}},{key:"getBaseActionEffects",value:function(){return{timePiecePerWarpedSec:{value:5,tags:[pt.TimePiecePerWarpedSec]}}}},{key:"getDisplayEffect",value:function(e){var t,n=(null!=(t=this.getCost(e).resources[Dt.TimePiece])?t:1)/this.getActionEffects(e).timePiecePerWarpedSec;return ae("Warp time forward by {{formattedTime}} (Real World)",{formattedTime:se(n,{shortForm:!1,showDecimals:!1})})}},{key:"canAfford",value:function(e){return(0,xs.default)((0,Cs.default)(n.prototype),"canAfford",this).call(this,e)&&zt(e,Dt.TimePiece)>=3e3}},{key:"getCost",value:function(e){return{resources:{TimePiece:3e3},items:{}}}},{key:"doAction",value:function(e,t){var n;if(!this.canAfford(t))return t;var r=null!=(n=this.getCost(t).resources.TimePiece)?n:1,a=r/this.getActionEffects(t).timePiecePerWarpedSec;return(t=NC(t=Wt(Dt.TimePiece,-r)(t),r)).run.warpTimeSecs=a,t}},{key:"canSpam",value:function(){return!1}}]),n}(Is));function TI(){ca("actionAutoPurchaseMax",(function(e,t,n){var r=Aa(e);return Math.floor(e.temp.lastAutoPurchaseRun)!=Math.floor(r)&&(Ca().forEach((function(t){var n;return null!=(n=e.run.autoPurchaseActions[t.getId()])&&n&&t.isEnabled(e)&&(e=t.doAction({isAutomatic:!0},e)),e})),e.temp.lastAutoPurchaseRun=r),e})),wa(EI),wa(xI),wa(PI),wa(SI),wa(II)}function jI(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var MI=new(function(e){(0,ws.default)(r,e);var t=jI(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"monstiumPaper"}},{key:"getTags",value:function(){return[yh.Material]}},{key:"getPicture",value:function(){return n(37357)}},{key:"getElement",value:function(){return un.Mind}},{key:"getBaseName",value:function(e){return ae("Monstium Paper")}},{key:"getDescription",value:function(e,t){return ae("Monstium Paper. Used for stronger Enhancements.")}},{key:"getEffect",value:function(e,t){}},{key:"getBaseSalePrice",value:function(e,t){return 2e3}}]),r}(Nh)),DI=new(function(e){(0,ws.default)(n,e);var t=jI(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return MI}},{key:"getCraftingElementLevelRequirements",value:function(){return{Mind:1}}},{key:"canCraft",value:function(e){return Ve(e,Ir.DeepCavernsUnlocked)&&(0,xs.default)((0,Cs.default)(n.prototype),"canCraft",this).call(this,e)}},{key:"isVisible",value:function(e){return Ve(e,Ir.DeepCavernsUnlocked)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:800,Monstium:4e3,MindEssence:25e3},items:{paper:1}}}},{key:"getElement",value:function(){return un.Mind}}]),n}(sf)),OI=new Qe;function NI(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var UI=function(e){(0,ws.default)(n,e);var t=NI(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getAreas",value:function(){return{ENHANCEMENT:[this.getSubcategory()]}}},{key:"getDisplayName",value:function(e){return this.getBaseName()}},{key:"isVisible",value:function(e){return!this.isPurchased(e)&&this.getRequiredEnhancements().every((function(t){return t.isPurchased(e)}))}},{key:"getRequiredEnhancements",value:function(){return[]}},{key:"getCost",value:function(e){return{resources:this.getBaseResourceCost(),items:this.getItemCost()}}},{key:"isCapEnough",value:function(e){return(0,xs.default)((0,Cs.default)(n.prototype),"isCapEnough",this).call(this,e)&&(!Z(this.getItemCost()).includes(MI.getId())||DI.isVisible(e))}},{key:"isPurchased",value:function(e){return Ve(e,"enhancement-"+this.getId())}},{key:"hasEverBeenPurchased",value:function(e){return Je(e,"enhancement-"+this.getId())}},{key:"setPurchased",value:function(e){var t=this;return e=qe("enhancement-"+this.getId())(e),OI.getAll().forEach((function(n){e=n(e,t)})),e}},{key:"doAction",value:function(e,t){return this.canAfford(t)?(t=this.payCost(t),this.setPurchased(t)):t}}]),n}(Is);function FI(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var LI=new(function(e){(0,ws.default)(n,e);var t=FI(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"monstiumCollection"}},{key:"getBaseName",value:function(){return ae("Monstium Collection")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_EXPLORATION}},{key:"getBaseResourceCost",value:function(){return{Monstium:400}}},{key:"getItemCost",value:function(){return{paper:4}}},{key:"getDisplayDescription",value:function(e){return ae("Enhance your ability to collect loot from defeated enemies.")}},{key:"getDisplayEffect",value:function(e){return ae("+40%:monstium: obtained from Exploration")}}]),n}(UI));function HI(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[pt.Loot,pt.FromExploration,Dt.Monstium]],LI.getId(),LI.getBaseName(),At.Multiplier,(function(e){return LI.isPurchased(e)?1.4:1}));var YI=new(function(e){(0,ws.default)(n,e);var t=HI(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"superheatedCatalysts"}},{key:"getBaseName",value:function(){return ae("Superheated Catalysts")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_CATALYSTS}},{key:"getBaseResourceCost",value:function(){return{Monstium:400}}},{key:"getItemCost",value:function(){return{paper:3}}},{key:"getDisplayDescription",value:function(e){return ae("Apply a special technique to Essence Catalysts to increase their effectivity.")}},{key:"getDisplayEffect",value:function(e){return ae("+15% effectivity of Essence Catalysts")}}]),n}(UI));function QI(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[Ab.getId(),pt.CatalystEffectivity]],YI.getId(),YI.getBaseName(),At.Multiplier,(function(e){return YI.isPurchased(e)?1.15:1}));var zI=new(function(e){(0,ws.default)(n,e);var t=QI(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"monstiumCatalysts"}},{key:"getBaseName",value:function(){return ae("Monstium Catalysts")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_CATALYSTS}},{key:"getBaseResourceCost",value:function(){return{Monstium:2e3}}},{key:"getItemCost",value:function(){return{paper:12}}},{key:"getRequiredEnhancements",value:function(){return[LI,YI]}},{key:"isVisible",value:function(e){return(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)&&Rn(e).includes(un.Poison)}},{key:"getDisplayDescription",value:function(e){return ae("Discover a new type of furniture, which is able to increase the amount of Monstium obtained from enemies.")}},{key:"getDisplayEffect",value:function(e){return ae('Unlock furniture "Monstium Catalyst"')}}]),n}(UI));function VI(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var WI=function(e){(0,ws.default)(n,e);var t=VI(n);function n(){var e;(0,Le.default)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).catalystEffectivityTags=[pt.CatalystEffectivity,e.getId()],e.catalystEffectivityParams={valueType:vt.Percent},e}return(0,He.default)(n,[{key:"getId",value:function(){return"monstiumCatalyst"}},{key:"getName",value:function(){return ae("Monstium Catalyst")}},{key:"getPerCatalystBonusMultiplier",value:function(e){return 1+Rt(this.catalystEffectivityTags,e,.12)}},{key:"getPerCatalystBonusMultiplierExplanation",value:function(e){return Mt(this.catalystEffectivityTags,e,.12,this.catalystEffectivityParams)}},{key:"getDisplayDescription",value:function(e){return ae("A catalyst that drastically improves Monstium gain.")}},{key:"getDisplayEffect",value:function(e){var t=100*(this.getPerCatalystBonusMultiplier(e)-1);return ae("^+{{effectPct}}%^<{{explanation}}>:monstium: obtained from enemies",{effectPct:ue(t),explanation:this.getPerCatalystBonusMultiplierExplanation(e)})}},{key:"getBaseLandRequired",value:function(){return 10}},{key:"canTurnOff",value:function(){return!1}}]),n}(lg),GI=new WI,JI=new(function(e){(0,ws.default)(n,e);var t=VI(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getAreas",value:function(){return{HOME:[$t.CATALYSTS]}}},{key:"getBuilding",value:function(){return GI}},{key:"getBaseResourceCost",value:function(){return{PoisonEssence:4e3,FireEssence:2e3}}},{key:"getBaseResourceScale",value:function(){return{PoisonEssence:1.8,FireEssence:1.8}}},{key:"isVisible",value:function(e){return zI.isPurchased(e)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"getLevelRequirements",value:function(){return{}}},{key:"getElement",value:function(){return un.Poison}}]),n}(sg));function qI(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var XI=new(function(e){(0,ws.default)(n,e);var t=qI(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"manaSteamers"}},{key:"getBaseName",value:function(){return ae("Mana Steamers")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_OTHER}},{key:"getBaseResourceCost",value:function(){return{Monstium:250}}},{key:"getItemCost",value:function(){return{paper:2}}},{key:"getDisplayDescription",value:function(e){return ae("Discover a new type of furniture, that uses :wateressence: and :fireessence: to generate :mana:.")}},{key:"getDisplayEffect",value:function(e){return ae('Unlock furniture "Mana Steamer"')}}]),n}(UI));function KI(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}OI.register((function(e,t){return t==XI?on(e):e}),XI.getId());var ZI=[pt.Production,Dt.Mana,"manaSteamer"];function _I(e){return It(ZI,e,6)}var $I=(0,q.default)((function(){return{unit:ae(":mana:/sec")}}));function eB(e){return Mt(ZI,e,6,$I())}var tB=[pt.Consumption,Dt.FireEssence,"manaSteamer"];function nB(e){return It(tB,e,3)}var rB=(0,q.default)((function(){return{unit:ae(":fireessence:/sec")}}));function aB(e){return Mt(tB,e,3,rB())}var iB=[pt.Consumption,Dt.WaterEssence,"manaSteamer"];function oB(e){return It(iB,e,3)}var uB=(0,q.default)((function(){return{unit:ae(":wateressence:/sec")}}));function lB(e){return Mt(iB,e,3,uB())}var sB=new(function(e){(0,ws.default)(n,e);var t=KI(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"manaSteamer"}},{key:"getName",value:function(){return ae("Mana Steamer")}},{key:"getDisplayDescription",value:function(e){return ae("A device that is able to use Water and Fire to produce Mana.")}},{key:"getDisplayEffect",value:function(e){return ae("^+{{manaRegenPerSec}}^<{{manaRegenExplanation}}>:mana:/sec; ^-{{waterConsumptionPerSec}}^<{{waterConsumptionExplanation}}>:wateressence:/sec; ^-{{fireConsumptionPerSec}}^<{{fireConsumptionExplanation}}>:fireessence:/sec",{manaRegenPerSec:ue(_I(e),{showDecimals:!0}),waterConsumptionPerSec:ue(oB(e),{showDecimals:!0}),fireConsumptionPerSec:ue(nB(e),{showDecimals:!0}),manaRegenExplanation:eB(e),waterConsumptionExplanation:lB(e),fireConsumptionExplanation:aB(e)})}},{key:"getBaseLandRequired",value:function(){return 4}},{key:"canTurnOff",value:function(){return!0}}]),n}(lg)),cB=new(function(e){(0,ws.default)(n,e);var t=KI(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getAreas",value:function(){return{HOME:[$t.MANA]}}},{key:"getBuilding",value:function(){return sB}},{key:"getBaseResourceCost",value:function(){return{WaterEssence:3e3,FireEssence:3e3}}},{key:"getBaseResourceScale",value:function(){return{WaterEssence:1.25,FireEssence:1.25}}},{key:"isVisible",value:function(e){return XI.isPurchased(e)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"getLevelRequirements",value:function(){return{}}},{key:"getElement",value:function(){return un.Fire}}]),n}(sg));function fB(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}ui.register(new oi(sB.getId(),sB.getName(),(function(e){return{Mana:_I(e)*ag(e,sB),FireEssence:-1*nB(e)*ag(e,sB),WaterEssence:-1*oB(e)*ag(e,sB)}}))),og.register((function(e,t){return t==sB&&(e=si(e)),e}));var dB=new(function(e){(0,ws.default)(n,e);var t=fB(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"sewageSystemEnhancement"}},{key:"getBaseName",value:function(){return ae("Sewage System")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_PRODUCTION}},{key:"getBaseResourceCost",value:function(){return{Monstium:600}}},{key:"getItemCost",value:function(){return{paper:10}}},{key:"getRequiredEnhancements",value:function(){return[XI]}},{key:"isVisible",value:function(e){return(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)&&Rn(e).includes(un.Poison)}},{key:"getDisplayDescription",value:function(e){return ae("Discover a new type of furniture, which converts :poisonessence: automatically into large amounts of :fireessence:, :earthessence:, :wateressence: and :airessence:.")}},{key:"getDisplayEffect",value:function(e){return ae('Unlock furniture "Sewage System"')}}]),n}(UI));function gB(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var hB=(0,q.default)((function(e){return[pt.Production,e,"sewageSystem"]})),mB=(0,q.default)((function(e){return{unit:ae("{{resourceIcon}}/sec",{resourceIcon:":"+e.toLowerCase()+":"})}})),yB=100;function pB(e,t){return It(hB(t),e,yB)}function vB(e,t){return Mt(hB(t),e,yB,mB(t))}var AB=[pt.Consumption,Dt.PoisonEssence,"sewageSystem"],bB=10;function kB(e){return It(AB,e,bB)}var xB=(0,q.default)((function(){return{unit:ae(":poisonessence:/sec")}}));function wB(e){return Mt(AB,e,bB,xB())}function EB(e){var t=[Dt.FireEssence,Dt.EarthEssence,Dt.WaterEssence,Dt.AirEssence];return Ve(e,Ir.SewageSystemMakesAll)&&(t=Rn(e).filter((function(e){return e!=un.Poison})).map((function(e){return Ss[e]}))),Ve(e,"enhancement-sewageParadox")&&t.push(Dt.PoisonEssence),t}var CB=function(e){(0,ws.default)(n,e);var t=gB(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"sewageSystem"}},{key:"getName",value:function(){return ae("Sewage System")}},{key:"getDisplayDescription",value:function(e){return ae("A nifty piece of furniture that converts Poison Essence into other elemental essences automatically.")}},{key:"getDisplayEffect",value:function(e){var t=EB(e),n=[];for(var r of t)n.push(ae("^+{{income}}^<{{explanation}}>:{{icon}}:/sec",{income:ue(pB(e,r),{showDecimals:!0}),explanation:vB(e,r),icon:r.toLowerCase()}));var a=n.join(ae(", "));return Ve(e,"enhancement-sewageParadox")?a:ae("{{productionString}}; ^-{{consumption}}^<{{consumptionExplanation}}>:poisonessence:/sec",{productionString:a,consumption:ue(kB(e),{showDecimals:!0}),consumptionExplanation:wB(e)})}},{key:"getBaseLandRequired",value:function(){return 6}},{key:"canTurnOff",value:function(){return!0}}]),n}(lg),IB=new CB,BB=new(function(e){(0,ws.default)(n,e);var t=gB(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getAreas",value:function(){return{HOME:[$t.OTHER]}}},{key:"getBuilding",value:function(){return IB}},{key:"getBaseResourceCost",value:function(){return{PoisonEssence:6e3,WaterEssence:5e3,AirEssence:5e3}}},{key:"getBaseResourceScale",value:function(){return{PoisonEssence:1.25,WaterEssence:1.25,AirEssence:1.25}}},{key:"isVisible",value:function(e){return dB.isPurchased(e)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"getLevelRequirements",value:function(){return{}}},{key:"getElement",value:function(){return un.Poison}}]),n}(sg));function SB(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var RB=new(function(e){(0,ws.default)(n,e);var t=SB(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"researcherDesk"}},{key:"getName",value:function(){return ae("Researcher Desk")}},{key:"getDisplayDescription",value:function(e){return ae("A flat surface, perfect for the focused study of Magic. The spot for a hired Researcher!")}},{key:"getDisplayEffect",value:function(e){return ae("+1 Researcher")}},{key:"getBaseLandRequired",value:function(){return 4}},{key:"canTurnOff",value:function(){return!1}}]),n}(lg)),PB=new(function(e){(0,ws.default)(n,e);var t=SB(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getAreas",value:function(){return{HOME:[$t.OTHER]}}},{key:"getBuilding",value:function(){return RB}},{key:"getBaseResourceCost",value:function(){return{Coins:500,WaterEssence:500,FireEssence:150}}},{key:"getBaseResourceScale",value:function(){return{Coins:1.5,WaterEssence:1.35,FireEssence:1.35}}},{key:"isVisible",value:function(e){return Ve(e,Ir.ResearchersUnlocked)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"getLevelRequirements",value:function(){return{}}},{key:"getElement",value:function(){return un.Air}}]),n}(sg));function TB(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[pt.ResearcherAmount]],"researcherDesks",ae("Researcher Desks"),At.Addition,(function(e,t){return rg(e,RB)}));var jB=function(e){(0,ws.default)(n,e);var t=TB(n);function n(){var e;(0,Le.default)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).perBuildingCapTags=[pt.PerBuildingCap,Dt.Monstium,e.getId()],e.explanationParams=(0,q.default)((function(){return{resource:Dt.Monstium,unit:ae(" Max:monstium:")}})),e}return(0,He.default)(n,[{key:"getId",value:function(){return"monstruarium"}},{key:"getName",value:function(){return ae("Monstruarium")}},{key:"getPerStorageBonusCap",value:function(e){return It(this.perBuildingCapTags,e,3e3,{resource:Dt.Monstium})}},{key:"getPerStorageBonusCapExplanation",value:function(e){return Mt(this.perBuildingCapTags,e,3e3,this.explanationParams())}},{key:"getDisplayDescription",value:function(e){return ae("A special kind of storage, built specifically for :monstium:.")}},{key:"getDisplayEffect",value:function(e){return ae("^+{{amount}}^<{{explanation}}> Max:monstium:",{amount:ue(this.getPerStorageBonusCap(e)),explanation:this.getPerStorageBonusCapExplanation(e)})}},{key:"getBaseLandRequired",value:function(){return 3}},{key:"canTurnOff",value:function(){return!1}}]),n}(lg),MB=new jB,DB=new(function(e){(0,ws.default)(n,e);var t=TB(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getAreas",value:function(){return{HOME:[$t.STORAGE]}}},{key:"getBuilding",value:function(){return MB}},{key:"shouldNeverHaveDemolishBlockers",value:function(){return!1}},{key:"getBaseResourceCost",value:function(){return{PoisonEssence:6e3,WaterEssence:4e3,EarthEssence:4e3}}},{key:"getBaseResourceScale",value:function(){return{PoisonEssence:1.4,WaterEssence:1.4,EarthEssence:1.4}}},{key:"isVisible",value:function(e){return Ve(e,Ir.MonstruariumsUnlocked)}},{key:"getLevelRequirements",value:function(){return{}}},{key:"getElement",value:function(){return un.Poison}}]),n}(sg));function OB(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var NB=new(function(e){(0,ws.default)(n,e);var t=OB(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"treasureChests"}},{key:"getBaseName",value:function(){return ae("Safes")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_STORAGE}},{key:"getBaseResourceCost",value:function(){return{Monstium:400}}},{key:"getItemCost",value:function(){return{paper:1}}},{key:"getDisplayDescription",value:function(e){return ae("Discover a new type of furniture, that allows safeguarding of a large amount of :coins:.")}},{key:"getDisplayEffect",value:function(e){return ae('Unlock furniture "Safe"')}}]),n}(UI));function UB(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var FB=function(e){(0,ws.default)(n,e);var t=UB(n);function n(){var e;(0,Le.default)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).perBuildingCapTags=[pt.PerBuildingCap,Dt.Coins,e.getId()],e.perBuildingCapParams=(0,q.default)((function(){return{resource:Dt.Coins,unit:ae(" Max:coins:")}})),e}return(0,He.default)(n,[{key:"getId",value:function(){return"treasureChest"}},{key:"getName",value:function(){return ae("Safe")}},{key:"getPerStorageBonusCap",value:function(e){return It(this.perBuildingCapTags,e,7e4,{resource:Dt.Coins})}},{key:"getPerStorageBonusCapExplanation",value:function(e){return Mt(this.perBuildingCapTags,e,7e4,this.perBuildingCapParams())}},{key:"getDisplayDescription",value:function(e){return ae("A large safe. Allows you to store large amounts of :coins:.")}},{key:"getDisplayEffect",value:function(e){return ae("^+{{amount}}^<{{explanation}}> Max:coins:",{amount:ue(this.getPerStorageBonusCap(e)),explanation:this.getPerStorageBonusCapExplanation(e)})}},{key:"getBaseLandRequired",value:function(){return 4}},{key:"canTurnOff",value:function(){return!1}}]),n}(lg),LB=new FB,HB=new(function(e){(0,ws.default)(n,e);var t=UB(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getAreas",value:function(){return{HOME:[$t.STORAGE]}}},{key:"getBuilding",value:function(){return LB}},{key:"shouldNeverHaveDemolishBlockers",value:function(){return!1}},{key:"getBaseResourceCost",value:function(){return{EarthEssence:4e3,FireEssence:2e3}}},{key:"getBaseResourceScale",value:function(){return{EarthEssence:1.4,FireEssence:1.4}}},{key:"isVisible",value:function(e){return NB.isPurchased(e)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"getLevelRequirements",value:function(){return{}}},{key:"getElement",value:function(){return un.Earth}}]),n}(sg));function YB(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var QB=new(function(e){(0,ws.default)(n,e);var t=YB(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"wizardChamber"}},{key:"getName",value:function(){return ae("Wizard Chamber")}},{key:"getDisplayDescription",value:function(e){return ae("A specially prepared area of your home that serves as a workstation for a hired Wizard.")}},{key:"getDisplayEffect",value:function(e){return ae("+1 Wizard")}},{key:"getBaseLandRequired",value:function(){return 3}},{key:"canTurnOff",value:function(){return!1}}]),n}(lg)),zB=new(function(e){(0,ws.default)(n,e);var t=YB(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getAreas",value:function(){return{HOME:[$t.OTHER]}}},{key:"getBuilding",value:function(){return QB}},{key:"getBaseResourceCost",value:function(){return{Coins:200,AirEssence:120,FireEssence:100}}},{key:"getBaseResourceScale",value:function(){return{Coins:1.25,AirEssence:1.25,FireEssence:1.25}}},{key:"isVisible",value:function(e){return Dc(e)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"getLevelRequirements",value:function(){return{}}},{key:"getElement",value:function(){return un.Air}}]),n}(sg));function VB(){Kd.register(Ib),Ba(Bb),Kd.register(Ub),Ba(Fb),function(){Kd.register(Pb),Ba(Tb);var e=function(e){xt([[pt.Cap,Ss[e]]],"essenceStorage"+e,ae("Essence Storage"),At.Addition,(function(t,n){return rg(t,Pb)*Pb.getPerStorageBonusCap(t,Ss[e])}))};for(var t of _(un))e(t);og.register((function(e,t){return t==Pb&&(e=Yt(e)),e}),Pb.getId())}(),Kd.register(Ab),Ba(bb),xt([[pt.ChannelingEfficiency]],"essenceCatalyst",ae("Essence Catalyst"),At.Multiplier,(function(e,t){var n=Kd.getById("essenceCatalyst");return Math.pow(n.getPerCatalystBonusMultiplier(e),rg(e,n))})),Kd.register(QB),Ba(zB),Kd.register(iA),Ba(dA),Kd.register(RB),Ba(PB),Kd.register(LB),Ba(HB),xt([[pt.Cap,Dt.Coins]],"treasureChestCoins",ae("Safe"),At.Addition,(function(e,t){return rg(e,LB)*LB.getPerStorageBonusCap(e)})),og.register((function(e,t){return t==LB&&(e=Yt(e)),e}),LB.getId()),Kd.register(sB),Ba(cB),Kd.register(MB),Ba(DB),xt([[pt.Cap,Dt.Monstium]],"monstruariumMonstium",ae("Monstruarium"),At.Addition,(function(e,t){return rg(e,MB)*MB.getPerStorageBonusCap(e)})),og.register((function(e,t){return t==MB&&(e=Yt(e)),e}),MB.getId()),Kd.register(IB),Ba(BB),ui.register(new oi(IB.getId(),IB.getName(),(function(e){var t=ee(EB(e).map((function(t){return[t,pB(e,t)*ag(e,IB)]})));return Ve(e,"enhancement-sewageParadox")||(t.PoisonEssence=-1*kB(e)*ag(e,IB)),t}))),og.register((function(e,t){return t==IB&&(e=si(e)),e})),Kd.register(GI),Ba(JI),xt([[pt.Loot,Dt.Monstium]],"monstiumCatalyst",ae("Monstium Catalyst"),At.Multiplier,(function(e,t){var n=GI;return Math.pow(n.getPerCatalystBonusMultiplier(e),rg(e,n))}))}function WB(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[pt.WizardAmount]],"wizardChambers",ae("Wizard Chambers"),At.Addition,(function(e,t){return rg(e,QB)}));var GB=new(function(e){(0,ws.default)(n,e);var t=WB(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"battlemage"}},{key:"getDisplayName",value:function(){return ae("Battlemage")}},{key:"getBaseClassEffects",value:function(){return{attackAndDefense:{value:.1,valueType:vt.Percent}}}},{key:"getDisplayDescription",value:function(e){return ae("Particularly strong physically, a Battlemage has undergone special training to make their body adept at combat, much like a knight - but while still being able to use potent magic.")}},{key:"getDisplayEffect",value:function(e){var t=this.getClassEffects(e),n=this.getClassEffectExplanations(e);return ae("^{{attackMultiplier}}^<{{attackExplanation}}>:attack:, ^{{attackMultiplier}}^<{{attackExplanation}}>:defense:",{attackMultiplier:le(1+t.attackAndDefense),attackExplanation:n.attackAndDefense})}}]),n}(_u));function JB(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[Qr.Player,Vr.Attack],[Qr.Player,Vr.Defense]],GB.getId(),GB.getDisplayName(),At.Multiplier,(function(e){return GB.isActive(e)?1+GB.getClassEffects(e).attackAndDefense:1}));var qB=new(function(e){(0,ws.default)(n,e);var t=JB(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"builder"}},{key:"getDisplayName",value:function(){return ae("Builder")}},{key:"getBaseClassEffects",value:function(){return{land:{value:.12,valueType:vt.Percent},buildingCost:{value:1.5,valueType:vt.Divisor}}}},{key:"getDisplayDescription",value:function(e){return ae("A wizard that recognizes furniture is the cornerstone to success, and is able to maximize space in their home - to have even more furniture.")}},{key:"getDisplayEffect",value:function(e){var t,n=this.getClassEffects(e),r=this.getClassEffectExplanations(e);return null!=(t=nl.getByIdNullable("blessedLand"))&&null!=t.isBonusActive&&t.isBonusActive(e)?ae("^{{buildingCostMultiplier}}^<{{buildingCostExplanation}}> cost of all furniture",{buildingCostMultiplier:le(1/(1+n.buildingCost)),buildingCostExplanation:r.buildingCost}):ae("^{{landMultiplier}}^<{{landExplanation}}>:land:",{landMultiplier:le(1+n.land),landExplanation:r.land})}}]),n}(_u));function XB(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[pt.Land,pt.Cap]],qB.getId(),qB.getDisplayName(),At.Multiplier,(function(e){return qB.isActive(e)?1+qB.getClassEffects(e).land:1})),xt([[pt.Cost,pt.Building]],qB.getId()+"buildingCost",qB.getDisplayName(),At.Multiplier,(function(e){var t;return qB.isActive(e)&&null!=(t=nl.getByIdNullable("blessedLand"))&&null!=t.isBonusActive&&t.isBonusActive(e)?1/(1+qB.getClassEffects(e).buildingCost):1}));var KB=new(function(e){(0,ws.default)(n,e);var t=XB(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"spellslinger"}},{key:"getDisplayName",value:function(){return ae("Spellslinger")}},{key:"getBaseClassEffects",value:function(){return{mana:{value:.3,valueType:vt.Percent}}}},{key:"getDisplayDescription",value:function(e){return ae("A wizard that simply loves to cast spells. Spells require Mana - a Spellslinger has mastered the ability to produce it.")}},{key:"getDisplayEffect",value:function(e){var t=this.getClassEffects(e),n=this.getClassEffectExplanations(e);return ae("^{{mana}}^<{{manaExplanation}}> :mana: production",{mana:le(1+t.mana),manaExplanation:n.mana})}}]),n}(_u));function ZB(){$u.register(GB),$u.register(KB),$u.register(qB),function(){nl.register(Zu);var e=Tl("typesOfWizards",ae("(Storyline) Types of Wizards"),[fl.STORYLINE]).setStorylineIds(Zu.getId());e.message(ae('You exit the Tower of Training, eager to get back home to apply what you have just learned, but you are stopped in your tracks as soon as you step out of the door. "I\'m sorry - there is one last thing." The familiar voice of the Head Instructor Giselle comes from behind. In her hand is a book. The title: *"Classes"*\n    \n"This was always meant to be the reward for finishing the training. It is a book on various wizard specializations. It almost slipped my mind, because I got carried away with the explanation about Enhancements."')).option(ae("Continue"),{transform:function(e){return e=Zu.complete(e),Zu.activateBonus(e)}},"end"),e.message(ae('You accept the book, and you quickly skim through it. There are a few pictures: a Wizard wielding a large sword and a shield, another shooting a Fireball, yet another one building home furniture. And big, long pages of explanation for each of them, it appears.\n      \nYou are not sure if you will have time to actually look at this or learn much out of it. But you think of keeping the book in your library anyhow...\n\n**You have completed the "Types of Wizards" Storyline and permanently unlocked the ability to select a Class after retiring! Your choice of Class at the beginning of the game gives you a powerful bonus for the duration of that retirement; you can choose a new Class by retiring again.**')).tag("end");var t=e.build();We.register((function(e,n){return n!=Ir.EnhancementsUnlocked||t.hasTriggered(e)||Zu.isCompleted(e)||(e=xl(t)(e)),e}))}()}function _B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[Dt.Mana,pt.Production]],KB.getId(),KB.getDisplayName(),At.Multiplier,(function(e){return KB.isActive(e)?1+KB.getClassEffects(e).mana:1}));var $B=new(function(e){(0,ws.default)(n,e);var t=_B(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"efficientExploration"}},{key:"getBaseName",value:function(){return ae("Efficient Exploration")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_EXPLORATION}},{key:"getBaseResourceCost",value:function(){return{Monstium:200}}},{key:"getItemCost",value:function(){return{paper:1}}},{key:"getDisplayDescription",value:function(e){return ae("Refine your scanning techniques in order to explore faster.")}},{key:"getDisplayEffect",value:function(e){return ae("-25% Exploration delay")}}]),n}(UI));function eS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[pt.ExplorationDelay]],$B.getId(),$B.getBaseName(),At.Multiplier,(function(e){return $B.isPurchased(e)?.75:1}));var tS=new(function(e){(0,ws.default)(n,e);var t=eS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"compass"}},{key:"getBaseName",value:function(){return ae("Compass")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_EXPLORATION}},{key:"getBaseResourceCost",value:function(){return{Monstium:4500}}},{key:"getItemCost",value:function(){return{paper:5}}},{key:"getRequiredEnhancements",value:function(){return[$B]}},{key:"getDisplayDescription",value:function(e){return ae("A compass while exploring means you will find your way much quicker and get lost much less.")}},{key:"getDisplayEffect",value:function(e){return ae("-30% Exploration delay")}}]),n}(UI));function nS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[pt.ExplorationDelay]],tS.getId(),tS.getBaseName(),At.Multiplier,(function(e){return tS.isPurchased(e)?.7:1}));var rS=new(function(e){(0,ws.default)(n,e);var t=nS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"healthBoost"}},{key:"getBaseName",value:function(){return ae("Health Boost")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_EXPLORATION}},{key:"getBaseResourceCost",value:function(){return{Monstium:250}}},{key:"getItemCost",value:function(){return{paper:2}}},{key:"getDisplayDescription",value:function(e){return ae("Enhance your body, so you can resist more blows.")}},{key:"getDisplayEffect",value:function(e){return ae("+20 Max:hp:")}}]),n}(UI));function aS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[Vr.MaxHP,Qr.Player]],rS.getId(),rS.getBaseName(),At.Addition,(function(e){return rS.isPurchased(e)?20:0})),OI.register((function(e,t){return t==rS&&(e=ra(e,Qr.Player)),e}),rS.getId());var iS=new(function(e){(0,ws.default)(n,e);var t=aS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"doubleHealthBoost"}},{key:"getBaseName",value:function(){return ae("Double Health Boost")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_EXPLORATION}},{key:"getBaseResourceCost",value:function(){return{Monstium:2500}}},{key:"getItemCost",value:function(){return{paper:8}}},{key:"getRequiredEnhancements",value:function(){return[rS]}},{key:"getDisplayDescription",value:function(e){return ae("Enhance your body a second time, so you can resist even more blows.")}},{key:"getDisplayEffect",value:function(e){return ae("+40 Max:hp:")}}]),n}(UI));function oS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[Vr.MaxHP,Qr.Player]],iS.getId(),iS.getBaseName(),At.Addition,(function(e){return iS.isPurchased(e)?40:0})),OI.register((function(e,t){return t==iS&&(e=ra(e,Qr.Player)),e}),iS.getId());var uS=new(function(e){(0,ws.default)(n,e);var t=oS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"enlargedPouch"}},{key:"getBaseName",value:function(){return ae("Enlarged Pouch")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_EXPLORATION}},{key:"getBaseResourceCost",value:function(){return{Monstium:600}}},{key:"getItemCost",value:function(){return{paper:6}}},{key:"getRequiredEnhancements",value:function(){return[rS]}},{key:"getDisplayDescription",value:function(e){return ae("Upgrade the size of your pouch, so you can use more items in battle.")}},{key:"getDisplayEffect",value:function(e){return ae("+1 Pouch size")}}]),n}(UI));function lS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[pt.PouchSize]],uS.getId(),uS.getBaseName(),At.Addition,(function(e){return uS.isPurchased(e)?1:0}));var sS=new(function(e){(0,ws.default)(n,e);var t=lS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"firstAid"}},{key:"getBaseName",value:function(){return ae("First Aid")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_EXPLORATION}},{key:"getBaseResourceCost",value:function(){return{Monstium:450}}},{key:"getItemCost",value:function(){return{paper:5}}},{key:"getRequiredEnhancements",value:function(){return[rS]}},{key:"getDisplayDescription",value:function(e){return ae("Develop first aid techniques which allow you to heal wounds much faster when not fighting.")}},{key:"getDisplayEffect",value:function(e){return ae("+50% :hp: recovery speed when outside of battle")}}]),n}(UI));function cS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[Vr.HPRegen,Qr.Player]],sS.getId(),sS.getBaseName(),At.Multiplier,(function(e){return sS.isPurchased(e)&&Zi(e)!=me.Combat?1.5:1})),OI.register((function(e,t){return t==sS&&(e=ra(e,Qr.Player)),e}),sS.getId());var fS=new(function(e){(0,ws.default)(n,e);var t=cS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"professionalPouch"}},{key:"getBaseName",value:function(){return ae("Professional Pouch")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_EXPLORATION}},{key:"getBaseResourceCost",value:function(){return{Monstium:3e3}}},{key:"getItemCost",value:function(){return{paper:12}}},{key:"getRequiredEnhancements",value:function(){return[uS]}},{key:"getDisplayDescription",value:function(e){return ae("Fancy yourself a professional wizard? You heard they needed a pouch to match...")}},{key:"getDisplayEffect",value:function(e){return ae("+1 Pouch size")}}]),n}(UI));function dS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[pt.PouchSize]],fS.getId(),fS.getBaseName(),At.Addition,(function(e){return fS.isPurchased(e)?1:0}));var gS=new(function(e){(0,ws.default)(n,e);var t=dS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"giantPouch"}},{key:"getBaseName",value:function(){return ae("Giant Pouch")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_EXPLORATION}},{key:"getBaseResourceCost",value:function(){return{Monstium:25e3}}},{key:"getItemCost",value:function(){return{paper:30}}},{key:"getRequiredEnhancements",value:function(){return[fS]}},{key:"getDisplayDescription",value:function(e){return ae("Enhance your pouch even further, to hold yet another extra item.")}},{key:"getDisplayEffect",value:function(e){return ae("+1 Pouch size")}}]),n}(UI));function hS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[pt.PouchSize]],gS.getId(),gS.getBaseName(),At.Addition,(function(e){return gS.isPurchased(e)?1:0}));var mS=new(function(e){(0,ws.default)(n,e);var t=hS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"healthPotionEffectivity"}},{key:"getBaseName",value:function(){return ae("Health Potion Effectivity")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_EXPLORATION}},{key:"getBaseResourceCost",value:function(){return{Monstium:2e3}}},{key:"getItemCost",value:function(){return{paper:10}}},{key:"getRequiredEnhancements",value:function(){return[rS]}},{key:"getDisplayDescription",value:function(e){return ae("Enhance how you gain effects from Health Potions, to increase their effectivity.")}},{key:"getDisplayEffect",value:function(e){return ae("Health Potions can be used 1 extra time per combat")}}]),n}(UI));function yS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[fx.getId(),pt.PouchItemUses]],mS.getId(),mS.getBaseName(),At.Addition,(function(e){return mS.isPurchased(e)?1:0}));var pS=new(function(e){(0,ws.default)(n,e);var t=yS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"tripleHealthBoost"}},{key:"getBaseName",value:function(){return ae("Triple Health Boost")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_EXPLORATION}},{key:"getBaseResourceCost",value:function(){return{Monstium:21e3}}},{key:"getItemCost",value:function(){return{paper:18}}},{key:"getRequiredEnhancements",value:function(){return[iS]}},{key:"getDisplayDescription",value:function(e){return ae("Enhance your body a third time. Your survivability has come a long way.")}},{key:"getDisplayEffect",value:function(e){return ae("+70 Max:hp:")}}]),n}(UI));function vS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[Vr.MaxHP,Qr.Player]],pS.getId(),pS.getBaseName(),At.Addition,(function(e){return pS.isPurchased(e)?70:0})),OI.register((function(e,t){return t==pS&&(e=ra(e,Qr.Player)),e}),pS.getId());var AS=new(function(e){(0,ws.default)(n,e);var t=vS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"furnitureOrganization"}},{key:"getBaseName",value:function(){return ae("Furniture Organization")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_LAND}},{key:"getBaseResourceCost",value:function(){return{Monstium:500}}},{key:"getItemCost",value:function(){return{paper:3}}},{key:"getDisplayDescription",value:function(e){return ae("Sort furniture in a neater way at your home to improve the amount of space available.")}},{key:"getDisplayEffect",value:function(e){return ae("+10% (+{{absoluteAmount}}):land:",{absoluteAmount:ue(.1*$d(e))})}},{key:"isVisible",value:function(e){var t;return!(null!=(t=nl.getByIdNullable("blessedLand"))&&null!=t.isBonusActive&&t.isBonusActive(e))&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}}]),n}(UI));function bS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[pt.Land,pt.Cap]],AS.getId(),AS.getBaseName(),At.Multiplier,(function(e){return AS.isPurchased(e)?1.1:1})),OI.register((function(e,t){return t==AS&&(e=eg(e=Yt(e))),e}),AS.getId());var kS=new(function(e){(0,ws.default)(n,e);var t=bS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"landTreaty"}},{key:"getBaseName",value:function(){return ae("Land Treaty")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_LAND}},{key:"getBaseResourceCost",value:function(){return{Monstium:900}}},{key:"getItemCost",value:function(){return{paper:7}}},{key:"getDisplayDescription",value:function(e){return ae("Make a deal with the town to be able to purchase land for cheaper.")}},{key:"getDisplayEffect",value:function(e){return ae("Reduces the cost to expand your home")}},{key:"isVisible",value:function(e){var t;return!(null!=(t=nl.getByIdNullable("blessedLand"))&&null!=t.isBonusActive&&t.isBonusActive(e))&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}}]),n}(UI));function xS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[xI.getId(),pt.CostScale]],kS.getId(),kS.getBaseName(),At.Multiplier,(function(e){return kS.isPurchased(e)?.7:1}));var wS=new(function(e){(0,ws.default)(n,e);var t=xS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"houseExpansionContract"}},{key:"getBaseName",value:function(){return ae("House Expansion Contract")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_LAND}},{key:"getBaseResourceCost",value:function(){return{Monstium:4e3}}},{key:"getItemCost",value:function(){return{paper:15}}},{key:"getRequiredEnhancements",value:function(){return[kS]}},{key:"getDisplayDescription",value:function(e){return ae("Negotiate a detailed contract to reduce barriers when enlargening your residence.")}},{key:"getDisplayEffect",value:function(e){return ae("Further reduces the cost to expand your home")}},{key:"isVisible",value:function(e){var t;return!(null!=(t=nl.getByIdNullable("blessedLand"))&&null!=t.isBonusActive&&t.isBonusActive(e))&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}}]),n}(UI));function ES(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[xI.getId(),pt.CostScale]],wS.getId(),wS.getBaseName(),At.Multiplier,(function(e){return wS.isPurchased(e)?.75:1}));var CS=new(function(e){(0,ws.default)(n,e);var t=ES(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"understandingOfMagic"}},{key:"getBaseName",value:function(){return ae("Understanding of Magic")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_OTHER}},{key:"getBaseResourceCost",value:function(){return{Monstium:200}}},{key:"getItemCost",value:function(){return{paper:4}}},{key:"getDisplayDescription",value:function(e){return ae("Study how magic works in order to better be able to understand how to use it.")}},{key:"getDisplayEffect",value:function(e){return ae("+100% Element exp earned from Studying")}}]),n}(UI));function IS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[pt.ExpGain,pt.Study]],CS.getId(),CS.getBaseName(),At.Multiplier,(function(e){return CS.isPurchased(e)?2:1})),OI.register((function(e,t){return t==CS&&(e=Za(e)),e}),CS.getId());var BS=new(function(e){(0,ws.default)(n,e);var t=IS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"deeperUnderstandingOfMagic"}},{key:"getBaseName",value:function(){return ae("Deeper Understanding of Magic")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_OTHER}},{key:"getBaseResourceCost",value:function(){return{Monstium:3e3}}},{key:"getItemCost",value:function(){return{paper:8}}},{key:"getRequiredEnhancements",value:function(){return[CS]}},{key:"getDisplayDescription",value:function(e){return ae("Study how magic works even deeper, to be able to discover new applications more efficiently.")}},{key:"getDisplayEffect",value:function(e){return ae("+60% Element exp earned from Studying")}}]),n}(UI));function SS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[pt.ExpGain,pt.Study]],BS.getId(),BS.getBaseName(),At.Multiplier,(function(e){return BS.isPurchased(e)?1.6:1})),OI.register((function(e,t){return t==BS&&(e=Za(e)),e}),BS.getId());var RS=new(function(e){(0,ws.default)(n,e);var t=SS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"glitteringStalls"}},{key:"getBaseName",value:function(){return ae("Glittering Stalls")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_OTHER}},{key:"getBaseResourceCost",value:function(){return{Monstium:300}}},{key:"getItemCost",value:function(){return{paper:2}}},{key:"getDisplayDescription",value:function(e){return ae("Enhance your Market Stalls so that the goods sold appear to be of higher quality than usual.")}},{key:"getDisplayEffect",value:function(e){return ae("+100%:coins: obtained from items sold from Market Stalls")}}]),n}(UI));function PS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[pt.SaleStallRevenue]],RS.getId(),RS.getBaseName(),At.Multiplier,(function(e){return RS.isPurchased(e)?2:1}));var TS=new(function(e){(0,ws.default)(n,e);var t=PS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"hiringSpree"}},{key:"getBaseName",value:function(){return ae("Hiring Spree")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_OTHER}},{key:"getBaseResourceCost",value:function(){return{Monstium:1500}}},{key:"getItemCost",value:function(){return{paper:12}}},{key:"getRequiredEnhancements",value:function(){return[CS]}},{key:"getDisplayDescription",value:function(e){return ae("Publish information about how you are recruiting researchers to the town board. You are hiring!")}},{key:"getDisplayEffect",value:function(e){return ae("Reduces the cost needed to build Researcher Desks")}}]),n}(UI));function jS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[PB.getId(),pt.CostScale]],TS.getId(),TS.getBaseName(),At.Multiplier,(function(e){return TS.isPurchased(e)?.75:1}));var MS=new(function(e){(0,ws.default)(n,e);var t=jS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"scalableChambers"}},{key:"getBaseName",value:function(){return ae("Scalable Chambers")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_OTHER}},{key:"getBaseResourceCost",value:function(){return{Monstium:400}}},{key:"getItemCost",value:function(){return{paper:5}}},{key:"getDisplayDescription",value:function(e){return ae("Tweak the way you build Wizard Chambers, to make them more affordable.")}},{key:"getDisplayEffect",value:function(e){return ae("Reduces the cost to build Wizard Chambers")}}]),n}(UI));function DS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[zB.getId(),pt.CostScale]],MS.getId(),MS.getBaseName(),At.Multiplier,(function(e){return MS.isPurchased(e)?.7:1}));var OS=new(function(e){(0,ws.default)(n,e);var t=DS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"shardDiligence"}},{key:"getBaseName",value:function(){return ae("Shard Diligence")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_OTHER}},{key:"getBaseResourceCost",value:function(){return{Monstium:400}}},{key:"getItemCost",value:function(){return{paper:4}}},{key:"getDisplayDescription",value:function(e){return ae("Make your hired wizards (and yourself) more diligent and effective when transmuting elemental Shards.")}},{key:"getDisplayEffect",value:function(e){return ae("Elemental Shard Transmutation spells require -75%:mana: and -90%:wizardpower:")}}]),n}(UI));function NS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt((0,h.default)(_(un).map((function(e){return[pt.ItemCost,Dt.Mana,"transmute-elementalShard"+e]}))),OS.getId(),OS.getBaseName(),At.Multiplier,(function(e){return OS.isPurchased(e)?.25:1})),xt((0,h.default)(_(un).map((function(e){return[pt.AutocastPointsConsumption,"transmute-elementalShard"+e]}))),OS.getId()+"autocast",OS.getBaseName(),At.Multiplier,(function(e){return OS.isPurchased(e)?.1:1})),OI.register((function(e,t){return t==OS&&(e=Fa(e=Ua(e))),e}),OS.getId());var US=new(function(e){(0,ws.default)(n,e);var t=NS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"improvedPurification"}},{key:"getBaseName",value:function(){return ae("Improved Purification")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_PRODUCTION}},{key:"getBaseResourceCost",value:function(){return{Monstium:15e3}}},{key:"getItemCost",value:function(){return{paper:20}}},{key:"getRequiredEnhancements",value:function(){return[dB]}},{key:"getDisplayDescription",value:function(e){return ae("Rearrange the Sewage System workings, so that they can produce much more Essence, although at a much lower effectivity.")}},{key:"getDisplayEffect",value:function(e){return ae("2.5x essence production; 5x :poisonessence: consumption of Sewage System")}}]),n}(UI));function FS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[IB.getId(),pt.Production]],US.getId(),US.getBaseName(),At.Multiplier,(function(e){return US.isPurchased(e)?2.5:1})),xt([[IB.getId(),pt.Consumption]],US.getId()+"consumption",US.getBaseName(),At.Multiplier,(function(e){return US.isPurchased(e)?5:1})),OI.register((function(e,t){return t==US&&(e=si(e)),e}));var LS=new(function(e){(0,ws.default)(n,e);var t=FS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"superheatedSteamers"}},{key:"getBaseName",value:function(){return ae("Superheated Steamers")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_PRODUCTION}},{key:"getBaseResourceCost",value:function(){return{Monstium:2e4}}},{key:"getItemCost",value:function(){return{paper:30}}},{key:"getRequiredEnhancements",value:function(){return[XI]}},{key:"getDisplayDescription",value:function(e){return ae("Enhance your Mana Steamers so they produce and consume much faster than before.")}},{key:"getDisplayEffect",value:function(e){return ae("+50% :mana: production; 4x :fireessence: and :wateressence: consumption of Mana Steamers")}}]),n}(UI));function HS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[sB.getId(),pt.Production]],LS.getId(),LS.getBaseName(),At.Multiplier,(function(e){return LS.isPurchased(e)?1.5:1})),xt([[sB.getId(),pt.Consumption]],LS.getId()+"consumption",LS.getBaseName(),At.Multiplier,(function(e){return LS.isPurchased(e)?4:1})),OI.register((function(e,t){return t==LS&&(e=si(e)),e}));var YS=new(function(e){(0,ws.default)(n,e);var t=HS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"compressedEssence"}},{key:"getBaseName",value:function(){return ae("Compressed Essence")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_STORAGE}},{key:"getBaseResourceCost",value:function(){return{Monstium:300}}},{key:"getItemCost",value:function(){return{paper:1}}},{key:"getDisplayDescription",value:function(e){return ae("Improve the way you store Essence in your Essence Storages so that you can store more with less.")}},{key:"getDisplayEffect",value:function(e){return ae("4x maximum Essence from Essence Storages")}}]),n}(UI));function QS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt(_(Ss).map((function(e){return[e,pt.PerBuildingCap,Pb.getId()]})),YS.getId(),YS.getBaseName(),At.Multiplier,(function(e){return YS.isPurchased(e)?4:1})),OI.register((function(e,t){return t==YS&&(e=Yt(e)),e}),YS.getId());var zS=new(function(e){(0,ws.default)(n,e);var t=QS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"primaryStorage"}},{key:"getBaseName",value:function(){return ae("Primary Storage")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_STORAGE}},{key:"getBaseResourceCost",value:function(){return{Monstium:2e3}}},{key:"getItemCost",value:function(){return{paper:8}}},{key:"getRequiredEnhancements",value:function(){return[YS]}},{key:"getDisplayDescription",value:function(e){return ae("Use the knowledge about your primary Element to become able to store extra of that Essence in particular.")}},{key:"getDisplayEffect",value:function(e){return ae("2x maximum {{essenceIcon}}{{essenceIconExtra}} from Essence Storages",{essenceIcon:":"+Ss[e.run.primaryElement].toLowerCase()+":",essenceIconExtra:null!=e.run.secondaryElement?ae(" and {{secondaryEssenceIcon}}",{secondaryEssenceIcon:":"+Ss[e.run.secondaryElement].toLowerCase()+":"}):""})}}]),n}(UI));function VS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt(_(Ss).map((function(e){return[e,pt.PerBuildingCap,Pb.getId()]})),zS.getId(),zS.getBaseName(),At.Multiplier,(function(e,t){return zS.isPurchased(e)&&Bn(e).map((function(e){return Ss[e]})).includes(t.resource)?2:1})),OI.register((function(e,t){return t==zS&&(e=Yt(e)),e}),zS.getId());var WS=new(function(e){(0,ws.default)(n,e);var t=VS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"wideStorage"}},{key:"getBaseName",value:function(){return ae("Wide Storage")}},{key:"getSubcategory",value:function(){return $t.ENHANCE_STORAGE}},{key:"getBaseResourceCost",value:function(){return{Monstium:6e3}}},{key:"getItemCost",value:function(){return{paper:6}}},{key:"getRequiredEnhancements",value:function(){return[YS]}},{key:"getDisplayDescription",value:function(e){return ae("Improve your Essence Storages so that they have even more room to store Essence.")}},{key:"getDisplayEffect",value:function(e){return ae("3x maximum Essence from Essence Storages")}}]),n}(UI));function GS(e,t,n,r){var a=Tl(e,"Found a chest",[fl.INCONSEQUENTIAL_RANDOM_EVENT,fl.DO_NOT_AUTO_TRIGGER_IF_ONGOING]);a.message(ae("While exploring, you find a suspicious chest in the middle of your path. What do you do?")).option(ae("Open the chest"),{transform:function(e){for(var t of r){var n=Br.getById(t.itemOccurrence.itemId);e=Or({itemId:n.getId(),params:n.getDefaultParams()},t.amount,e)}return e}},"open").option(ae("Do not open"),"notOpen").option(ae("Decide later")).end(),a.message(ae("You open the chest. There's something inside! You pick it up and take it.\n    \n  **You obtained the following item(s): {{items}}!**",{items:r.map((function(e){var t=Br.getById(e.itemOccurrence.itemId);return ae("{{amount}}{{itemIcon}}{{itemName}}",{amount:e.amount>1?ae("{{amount}} ",{amount:ue(e.amount)}):"",itemIcon:":"+t.getId()+":",itemName:t.getName(e.itemOccurrence.params)})})).join(ae(", "))})).tag("open").end(),a.message(ae("You decide not to open the chest. You think it might be a trap. Best to be careful...")).tag("notOpen").end();var i=a.build();return Ym(i,n,(function(e){var n;return Zi(e)!=me.None&&t.includes(null==(n=Zo(e))?void 0:n.getId())})),i}function JS(e,t,n,r,a){var i=Tl(e,"Found a chest",[fl.INCONSEQUENTIAL_RANDOM_EVENT,fl.DO_NOT_AUTO_TRIGGER_IF_ONGOING]);i.message(ae("While exploring, you find a suspicious chest in the middle of your path. What do you do?")).option(ae("Open the chest"),{transform:r},"open").option(ae("Do not open"),"notOpen").option(ae("Decide later")).end(),i.message(n).tag("open").end(),i.message(ae("You decide not to open the chest. You think it might be a trap. Best to be careful...")).tag("notOpen").end();var o=i.build();return Ym(o,t,(function(e){var t;return Zi(e)!=me.None&&(null==a||a.includes(null==(t=Zo(e))?void 0:t.getId()))})),o}function qS(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt(_(Ss).map((function(e){return[e,pt.PerBuildingCap,Pb.getId()]})),WS.getId(),WS.getBaseName(),At.Multiplier,(function(e){return WS.isPurchased(e)?3:1})),OI.register((function(e,t){return t==WS&&(e=Yt(e)),e}),WS.getId());var XS=function(e){(0,ws.default)(n,e);var t=qS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"poolOfMana"}},{key:"getDisplayName",value:function(){return ae("Pool of Mana")}},{key:"getDisplayDescription",value:function(e,t){return ae("+100%:mana:/sec from Mana Spouts")}}]),n}(yf),KS=function(e){(0,ws.default)(n,e);var t=qS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"essenceCatalystResonance"}},{key:"getDisplayName",value:function(){return ae("Essence Catalyst Resonance")}},{key:"getDisplayDescription",value:function(e,t){return ae("+25% Essence Catalyst effect")}}]),n}(yf),ZS=function(e){(0,ws.default)(n,e);var t=qS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"saleRush"}},{key:"getDisplayName",value:function(){return ae("Sale Rush!")}},{key:"getDisplayDescription",value:function(e,t){return ae("Market Stalls work twice as fast and sell for +50% more :coins:")}}]),n}(yf),_S=function(e){(0,ws.default)(n,e);var t=qS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"elementalGathering"}},{key:"getDisplayName",value:function(){return ae("Elemental Gathering")}},{key:"getDisplayDescription",value:function(e,t){var n=t.params.resource,r=t.params.amountPerSec;return ae("+{{amount}}:{{resourceIcon}}:/sec",{amount:ue(r),resourceIcon:Ut(n).icon})}}]),n}(yf),$S=function(e){(0,ws.default)(n,e);var t=qS(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"monstiumCatalystResonance"}},{key:"getDisplayName",value:function(){return ae("Monstium Catalyst Resonance")}},{key:"getDisplayDescription",value:function(e,t){return ae("+25% Monstium Catalyst effect")}}]),n}(yf),eR=new XS,tR=new KS,nR=new ZS,rR=new _S,aR=new $S;function iR(){po.register(eR),xt([[pt.Production,Dt.Mana,Ib.getId()]],eR.getId(),eR.getDisplayName(),At.Multiplier,(function(e){return xo(e,eR.getId())?2:1})),Do(eR.getId(),(function(e,t){return t.id==eR.getId()&&(e=si(e)),t}),!0);var e=Tl("manaSpoutEvent",ae("Pool of Mana"),[fl.INCONSEQUENTIAL_RANDOM_EVENT]).setOnTrigger(Ro(eR.getId(),300,{target:Qr.Player}));e.message(ae("You hear a sound coming from one of your Mana Spouts. When you investigate, you notice it is overflowing with Mana! It appears you've gotten lucky - they've found a pool of it!\n  \n**Your Mana Spouts will produce double the :mana: for the next 5 minutes!**")),Ym(e.build(),100,(function(e){return rg(e,Ib)>0})),po.register(tR),xt([[pt.CatalystEffectivity,Ab.getId()]],tR.getId(),tR.getDisplayName(),At.Multiplier,(function(e){return xo(e,tR.getId())?1.25:1}));var t=Tl("essenceCatalystEvent",ae("Essence Catalyst Resonance"),[fl.INCONSEQUENTIAL_RANDOM_EVENT]).setOnTrigger(Ro(tR.getId(),300,{target:Qr.Player}));t.message(ae("Oddly, your Essence Catalysts begin to glow. Something is happening! They appear to be resonating with each other and becoming stronger. You wonder how long this will last...\n  \n**Your Essence Catalysts will be 25% more effective for the next 5 minutes!**")),Ym(t.build(),100,(function(e){return rg(e,Ab)>0})),po.register(nR),xt([[pt.SaleStallRevenue]],nR.getId()+"1",nR.getDisplayName(),At.Multiplier,(function(e){return xo(e,nR.getId())?1.5:1})),xt([[pt.TimePerAutoSalePerStall]],nR.getId()+"2",nR.getDisplayName(),At.Multiplier,(function(e){return xo(e,nR.getId())?.5:1}));var n=Tl("saleRushEvent",ae("Sale Rush!"),[fl.INCONSEQUENTIAL_RANDOM_EVENT]).setOnTrigger(Ro(nR.getId(),300,{target:Qr.Player}));n.message(ae("The number of people coming to your home to buy items has suddenly become very high. It's a Sale Rush event! You decide to leverage this and make as much money as you can - while it lasts!\n  \n**Your Market Stalls will sell items twice as fast and earn 50% more :coins: per sale for the next 5 minutes!**")),Ym(n.build(),100,(function(e){return rg(e,iA)>0})),po.register(rR),ui.register(new oi("elementalGathering",ae("Elemental Gathering"),(function(e){if(!xo(e,rR.getId()))return{};var t={},n=Eo(e,rR.getId());return t[n.params.resource]=n.params.amountPerSec,t})));var r=Tl("elementalGatheringEvent",ae("Elemental Gathering"),[fl.INCONSEQUENTIAL_RANDOM_EVENT]).setOnTrigger((function(e,t){return e=Ro(rR.getId(),300,{target:Qr.Player,params:{resource:t.resource,amountPerSec:t.amountPerSec}})(e)}));r.message(ae("You stumble upon an incredible cache of :/essenceIcon/:. It'll take a little time, but there is so much of it that it'll fill your storages!\n  \n**You will obtain /essenceString/ for the next 5 minutes!**")),Ym(r.build(),100,(function(e){return Ve(e,Ir.TransmutationUnlocked)}),(function(e){var t=K(Rn(e)),n=Ss[t],r=Qt(e,n)/10;return{resource:n,amountPerSec:r,essenceIcon:Ut(n).icon,essenceString:ae("+{{amount}}:{{essenceIcon}}:/sec",{amount:ue(r),essenceIcon:Ut(n).icon})}})),Do(rR.getId(),(function(e,t){return t.id==rR.getId()&&(e=si(e)),t}),!0),po.register(aR),xt([[pt.CatalystEffectivity,GI.getId()]],aR.getId(),aR.getDisplayName(),At.Multiplier,(function(e){return xo(e,aR.getId())?1.25:1}));var a=Tl("monstiumCatalystEvent",ae("Monstium Catalyst Resonance"),[fl.INCONSEQUENTIAL_RANDOM_EVENT]).setOnTrigger(Ro(aR.getId(),300,{target:Qr.Player}));a.message(ae("Oddly, your Monstium Catalysts begin to glow purple. Are they resonating with each other? It might be a great time to Explore!\n  \n**Your Monstium Catalysts will be 25% more effective for the next 5 minutes!**")),Ym(a.build(),100,(function(e){return rg(e,GI)>0}));var i=Tl("pileOfCoinsEvent",ae("Pile of Coins"),[fl.INCONSEQUENTIAL_RANDOM_EVENT]).setOnTrigger((function(e,t){return Wt(Dt.Coins,t.amount)(e)}));i.message(ae("It's your lucky day! You stumble upon a large pile of :coins:Coins on the ground. You take them - they'll certainly come in handy!\n    \n**You have obtained /amountText/:coins:!**")),Ym(i.build(),100,(function(e){return dA.isVisible(e)&&Qt(e,Dt.Coins)<1e6}),(function(e){var t=(.5*Math.random()+.3)*Qt(e,Dt.Coins);return{amount:t,amountText:ue(t)}}));var o=Tl("elementBookEvent",ae("An Offer of /elementText/"),[fl.INCONSEQUENTIAL_RANDOM_EVENT]);o.message(ae('You stumble upon a traveling merchant who demands your attention!\n\n"Hello there! You look like a wizard of some renown. I have a deal for you! I have this "Book of /elementText/" that I\'ve come across, and it seems like it could be *perfect* for you! You\'re certain to get a nice proficiency boost with it - it\'s worth every coin! What do you say? Interested?"\n    \nYou ponder whether the steep price might be worthwhile...')).option(ae("Buy the Book (/coinAmountText/ Coins)"),{transform:function(e,t){return e=Wt(Dt.Coins,-t.coinAmount)(e),e=En(t.element,t.exp)(e)},isEnabled:function(e,t){return zt(e,Dt.Coins)>=t.coinAmount}},"purchased").option(ae("Decline"),"declined").option(ae("Maybe later")).end(),o.message(ae('You decide to buy the book. The merchant smiles while taking your :coins:. "Nice doing business with you," he says, then hands over the book. He walks away soon afterward.\n  \nYou flip through the book. It has information about /elementText/ that you had no idea of! You feel like you might have made a good purchase.\n\n**You have obtained /expText/ /elementText/ exp!**')).tag("purchased").end(),o.message(ae('You decide not to buy the book. The merchant nods. "I understand. See you next time!" Casually waving at you, he walks away.')).tag("declined").end(),Ym(o.build(),100,(function(e){return ii(e)}),(function(e){var t=K(Rn(e)),n=Math.sqrt(ti(e))*function(e){var t={};for(var n of Rn(e)){var r=It(Xa[n],e,qa,{fromResearch:!0});t[n]=r}return t}(e)[t]*60*30,r=Qt(e,Dt.Coins)*(.45*Math.random()+.5);return{element:t,exp:n,coinAmount:r,elementText:ln(t),expText:ue(n),coinAmountText:ue(r)}})),JS("badChestEvent",15,"You open the chest. All of a sudden, you feel *pain* and fall to your knees! When you finally look at yourself, you notice a slight wound - as if something had pierced your leg. The chest must have been a trap! Thankfully the wound doesn't look too serious, but you'll need to wait and recover before you can continue to explore...\n      \n**You lose all your :hp:!**",(function(e){return lu(e,-1/0,"Chest")})),JS("emptyChestEvent",20,"You open the chest. You look inside, but... there's nothing that you can see. You try to feel around to see if you missed anything, but still, there is nothing. What a letdown...",(function(e){return e}))}var oR=function(){function e(t){(0,Le.default)(this,e),this.events=[],this.id=t}return(0,He.default)(e,[{key:"getId",value:function(){return this.id}},{key:"addEvent",value:function(e){return this.events.push(e),this}},{key:"getSelectedEvent",value:function(e){var t;return ml(null==(t=e.run.variables)?void 0:t["dungeonEventGroup_"+this.id])}},{key:"hasFinishedSelecting",value:function(e){return null!=e.run.variables["dungeonEventGroup_"+this.id]}},{key:"hasFinishedTriggeringThisRun",value:function(e){var t=this.getSelectedEvent(e);return null==t||t.hasTriggered(e)}},{key:"selectEvent",value:function(e){if(this.hasFinishedSelecting(e))return e;var t=this.events.reduce((function(t,n){return t+n.getWeight(e)}),0);if(t<=0)return e.run.variables["dungeonEventGroup_"+this.id]="dungeonEventGroup_allCompleted",e;var n=Math.random()*t;for(var r of this.events)if((n-=r.getWeight(e))<0)return e.run.variables["dungeonEventGroup_"+this.id]=r.event.getId(),e;return e}}]),e}(),uR=new Qe;function lR(e){var t=uR.getByIdNullable(e);return null==t&&(t=new oR(e),uR.register(t)),t}var sR=function(e){return e.HEAD_INSTRUCTOR_GISELLE="headInstructorGiselle",e.HEADMASTER="headmaster",e.LYTHA_DOOM_SORCERESS="lythaDoomSorceress",e.TO_SAVE_A_LIFE="toSaveALife",e.A_TERRIBLE_MISTAKE="aTerribleMistake",e.REDEMPTION="redemption",e.TRANSCEND_HUMANITY="transcendHumanity",e.CREATORS_LAST_WORD="creatorsLastWord",e.ZOOM_THROUGH_TRAINING="zoomThroughTraining",e.TIC_TAC_TOE="ticTacToe",e.A_FANCY_PAPERWEIGHT="aFancyPaperweight",e.WIZARDS_BEST_FRIEND="wizardsBestFriend",e.SCHEMATICS="schematics",e.ARTISAN_OF_MAGIC="artisanOfMagic",e.RITUALISTS_SECRET="ritualistsSecret",e.THE_BIG_PURCHASE="theBigPurchase",e.BLESSED_LAND="blessedLand",e.EMINENCE="eminence",e.TOME_OF_TOXIC_KNOWLEDGE="tomeOfToxicKnowledge",e.TOME_OF_MENTAL_KNOWLEDGE="tomeOfMentalKnowledge",e.TOME_OF_LIVING_KNOWLEDGE="tomeOfLivingKnowledge",e.TOME_OF_ELECTRICAL_KNOWLEDGE="tomeOfElectricalKnowledge",e.TOME_OF_DEATHLY_KNOWLEDGE="tomeOfDeathlyKnowledge",e.TOME_OF_DIVINE_KNOWLEDGE="tomeOfDivineKnowledge",e.MYSTERIOUS_BOX="mysteriousBox",e.STARRY_NIGHT="starryNight",e.POUCHLESS_CHALLENGE="pouchlessChallenge",e.TIMED_CHALLENGE="timedChallenge",e.DANGER_CHALLENGE="dangerChallenge",e.UNSKILLED_CHALLENGE="unskilledChallenge",e.PRIMARY_CHALLENGE="primaryChallenge",e.EXPLORATION="exploration",e.RETIREMENT="retirement",e.MAGIC_RESEARCH_2="magicResearch2",e}({});function cR(){var e=Tl("channelingUnlocker",ae("The Power of Magic"),[fl.MAIN_QUEST]).setOnTrigger((function(e){return e=on(e=qe(Ir.ChannelingUnlocked)(e))}));e.message(ae("It hasn't been very long since you completed your magical studies, but you still feel like you barely learned anything. But even among the little things you did learn, you remember: after gathering Mana, you are supposed to use it to channel it into elemental Essences...\n    \n  **You have gained the ability to Channel elemental Essences! You can do so from the Home screen or from the Spell menu.**"));var t=e.build();ft("channelingUnlocker",(function(e){if(!t.hasTriggered(e)&&!Ve(e,Ir.ChannelingUnlocked)&&zt(e,Dt.Mana)>=10)return xl(t)}));var n=Tl("manaSpoutUnlocker",ae("Mana Spouts"),[fl.MAIN_QUEST]).setOnTrigger(qe(Ir.ManaSpoutsUnlocked));n.message(ae("You are already pretty tired of gathering Mana on your own. Luckily, you remember something else from your studies: neat little objects that automatically generate it. And you also recall how to make them...\n    \n**You can now build Mana Spouts!**"));var r=n.build();ft("manaSpoutUnlocker",(function(e){if(!r.hasTriggered(e)&&!Ve(e,Ir.ManaSpoutsUnlocked)&&zt(e,Dt.AirEssence)>0&&zt(e,Dt.WaterEssence)>0)return xl(r)}));var a=Tl("manaShardUnlocker",ae("Mana Capacity"),[fl.MAIN_QUEST]).setOnTrigger(qe(Ir.ManaShardsUnlocked));a.message(ae("With a more stable Mana income, you feel a little relieved - it is one less problem off your hands. However, your reserves are still not very large. It would be great if you could cast more powerful spells, but that requires more Mana...\n\nYou remember your basic lessons, that spoke of earthern shards that could increase this capacity, which can also be easily built. You will need to try that...\n    \n**You can now build Mana Shards!**"));var i=a.build();ft("manaShardUnlocker",(function(e){if(!i.hasTriggered(e)&&!Ve(e,Ir.ManaShardsUnlocked)&&Ve(e,Ir.ManaSpoutsUnlocked)&&zt(e,Dt.EarthEssence)>=30)return xl(i)}));var o=Tl("storagesUnlocker",ae("Full of Essence"),[fl.MAIN_QUEST]).setOnTrigger(qe(Ir.StoragesUnlocked));o.message(ae("With more Mana reserves, you have managed to stockpile some elemental Essence. You think of saving some room in your home for magical storage furniture, so you can stockpile even more.\n\nYou briefly ask yourself: why would you even want more? But you rid yourself of that thought - with this much Essence, the magical power you have is still very limited... you will surely need to accumulate more.\n    \n**You can now build Essence Storages, which allow you to hold more elemental Essence at once!**"));var u=o.build();ft("storagesUnlocker",(function(e){if(!u.hasTriggered(e)&&!Ve(e,Ir.StoragesUnlocked)&&Ve(e,Ir.ManaShardsUnlocked)&&Qt(e,Dt.Mana)>=200&&_(Ss).some((function(t){return zt(e,t)>=100})))return xl(u)}));var l=Tl("catalystUnlocker",ae("Channeling Catalysts"),[fl.MAIN_QUEST]).setOnTrigger(qe(Ir.CatalystsUnlocked));l.message(ae('You are slowly feeling like you are beginning to master Channeling, but something bothers you. You get so little Essence for your efforts.\n\nOnce more, you recall the words of your teachers at your school. *"A strong, capable wizard has an elaborate home full of magical furniture."* You remember one more such piece of furniture: *Essence Catalysts*, which use Fire to improve Channeling efficiency.\n\nYou contemplate giving that a try...\n    \n**You can now build Essence Catalysts!**'));var s=l.build();ft("catalystUnlocker",(function(e){if(!s.hasTriggered(e)&&!Ve(e,Ir.CatalystsUnlocked)&&Ve(e,Ir.StoragesUnlocked)&&zt(e,Dt.FireEssence)>=110)return xl(s)}));var c=Tl("studyUnlocker",ae("Must Keep Learning"),[fl.MAIN_QUEST]).setOnTrigger(qe(Ir.StudyUnlocked));c.message(ae("The Essence Catalyst is up and running! You feel a little proud of it - you notice right away that your channeling spells have become stronger.\n\nNow that you are starting to put what you were meant to have learned from the school into practice, you realize that there is just so much you don't know. You wish you had paid more attention. But at the very least, now that you are starting to see its application, you feel like it would be worthwhile to spend some effort studying it...\n\nYou never liked studying - but you finally understand! You even feel like calling yourself a Magic Researcher. You laugh a little at your own thoughts. Why not?\n    \n**You can now Study the various Elements! Studying earns you experience in the Elements, which eventually increases their level, unlocking new spells. You can Study from the Study screen!**"));var f=c.build();ft("studyUnlocker",(function(e){if(!f.hasTriggered(e)&&!Ve(e,Ir.StudyUnlocked)&&Ve(e,Ir.CatalystsUnlocked)&&rg(e,Ab)>0)return xl(f)}));var d=Tl("transmuteUnlocker",ae("Transmutation"),[fl.MAIN_QUEST]).setOnTrigger(qe(Ir.TransmutationUnlocked));d.message(ae("As you hone your skills, you recall another way to use elemental Essences. By using magic, you can reshape them into solid objects of great power. It was called *Transmutation* magic. That was it! It has to be how you would make the Philosopher's Stone, isn't it? You avidly pull your notes from the school.\n\nHowever, your excitement vanishes when you realize most of them are still unintelligible. You turn back to the beginning page. There's a diagram here - but this one feels like it might be simple enough. You remember not understanding heads nor tails of the explanation at the time, but it feels like now that you have finally put some things into practice, your understanding has grown...\n    \n**You can now cast Transmutation spells! Transmutation spells allow you to convert elemental Essences and other materials into various items. You can do so from the Transmutation screen!**"));var g=d.build();ft("transmuteUnlocker",(function(e){if(null!=e.run.primaryElement&&!g.hasTriggered(e)&&!Ve(e,Ir.TransmutationUnlocked)&&Ve(e,Ir.StudyUnlocked)&&Sn(e)>=2)return xl(g)}));var h=Tl("wizardsUnlocker",ae("A Strange Visitor"),[fl.MAIN_QUEST]);h.message(ae('*Knock, knock.* Someone is at the door of your home. You decide to open it, and meet face to face with a woman. From her attire, she appears to be a wizard. But something feels a little off about her. Her robes are somewhat worn down, and she is oddly carrying a leather bag strapped to her shoulder.\n    \n*"Wizard for hire from the Wizards\' Guild"*, she exclaims, while giving you a paper. You skim through it very quickly. It appears to be a resume listing her skills. It looks impressive indeed, almost too good to be true. You look back at her. She continues: "You only need to tell me what to do, and I will do it for you!"\n\nShe must have followed you from the short trip you just did to sell your items...')),h.message(ae('"As a special offer, I will join you entirely *for free*!" As she says this, she decides to come inside your home. You are shocked - you didn\'t agree to anything yet! You are ready to kick her out. But before you reply, you pause and think about it some more. Having someone else helping you cast all those spells would certainly be a big help. Even more so if for free.\n    \nYou ask her to channel some Water, and then you notice her struggling. Beads of sweat start forming on her forehead as she tries to focus to show you her supposed skills. Eventually, she comes through, although she appears to be pretty exhausted. She surprisingly appears to be even less skilled than you are... *no wonder* the offer was actually free.')).option(ae("Continue"),{transform:qe(Ir.WizardsUnlocked)},"end"),h.message(ae("Nevertheless, you help her get set up on a corner of your home. She appears quite excited and thanks you. You know that paper was a complete lie, but the idea still stands: if you are going to create or find the Philosopher's Stone, more helping hands - of any kind - could end up being key to getting there.\n    \nAnd maybe it is even worthwhile to have more than one extra pair...\n\n**You have unlocked the ability to direct a team of Wizards to help you cast spells of various kinds! You can do so from the Wizards screen. In addition, you can now build Wizard Chambers, which allow you to hire more Wizards from the Guild!**")).tag("end").end();var m=h.build();ft("wizardsUnlocker",(function(e){if(!m.hasTriggered(e)&&!Ve(e,Ir.WizardsUnlocked)&&Ve(e,Ir.TransmutationUnlocked)&&zt(e,Dt.Coins)>=500)return xl(m)}));var y=Tl("marketUnlocker",ae("Start of a Business"),[fl.MAIN_QUEST]).setOnTrigger(qe(Ir.SaleStallsUnlocked));y.message(ae('You have already gone to the town so many times to sell your items. It is a bit of a trip. It would be much more convenient if instead of you having to go there, customers could simply *come* instead and buy your items...\n    \nYou decide to ask the town hall about this. The town officer tells you that you are, in fact, allowed to do so if you wish - and they will even spread the word so that people know about it! She quickly corrects herself - they will spread the word *a little*, at least until your "store" becomes more famous... You decide to give it a try and see if it leads anywhere - having a solid source of income means you can devote your attention to your ultimate goal.\n\n**You can now build Market Stalls to automatically sell items - and as a bonus, they will sell them for higher than their normal sale price!**'));var p=y.build();ft("marketUnlocker",(function(e){if(!p.hasTriggered(e)&&!Ve(e,Ir.SaleStallsUnlocked)&&Ve(e,Ir.WizardsUnlocked)&&zt(e,Dt.Coins)>=1e3)return xl(p)}));var v=Tl("researchersUnlocker",ae("A Helping Hand"),[fl.MAIN_QUEST]).setOnTrigger(qe(Ir.ResearchersUnlocked));v.message(ae('The new member of your house grabs your attention. "Hey! I\'ve noticed you have been attempting to study very hard. But studying stinks, doesn\'t it?" She wrinkles her nose in a funny way. "Nowadays, you\'re meant to get others to do the studying for you! ...Although I think it might cost some :coins:."\n    \nGetting others to do the studying? You are not very surprised *she* is saying this. But - you recognize that with the growing amount of things to do, it might be a good idea. Perhaps with a specially built furniture and some money, you might just be able to find people who can help...\n\n**You can now build Researcher Desks! Having Researcher Desks will grant you extra Researchers, which can Study the various elements and let you get experience faster!**'));var A=v.build();ft("researchersUnlocker",(function(e){if(!A.hasTriggered(e)&&!Ve(e,Ir.ResearchersUnlocked)&&Ve(e,Ir.SaleStallsUnlocked)&&zt(e,Dt.Coins)>=1500)return xl(A)}));var b=Tl("expandHomeUnlocker",ae("A Bigger House?"),[fl.MAIN_QUEST]).setOnTrigger(qe(Ir.LandPurchaseUnlocked));b.message(ae("Your home is getting full of furniture. You start wondering if there is a way for you to expand it.\n    \nPromptly, you go to the town hall again, where the clerk you are informed that you are in luck - there are actually many possibilities for enlargening your :land:Land, and they are quite cheap! But she quickly corrects herself - only *a few of them* are cheap. You thank her for the information regardless. It might be time to start saving up...\n\n**You can now purchase additional land to expand your Home!**"));var k=b.build();ft("expandHomeUnlocker",(function(e){if(!k.hasTriggered(e)&&!Ve(e,Ir.LandPurchaseUnlocked)&&Ve(e,Ir.ResearchersUnlocked)&&tg(e)>=120)return xl(k)}));var x=Tl("explorationUnlocker",ae("Training"),[fl.MAIN_QUEST]);x.message(ae('You receive a familiar letter on your mail today. You sit down and begin to read it. It appears to be from your magic school. It reads:\n    \n*"Esteemed Student: We would like to extend you an extra free training course on combat. If you are interested, please report to the Tower of /element/ Training. We expect you soon.*"')),x.message(ae('You are then surprised by a short squeal behind you. It came straight from the first wizard you "hired" - the one that decided to work completely for free. She was standing behind you the entire time, *peeking at the letter* over your shoulder! Angry, you are about to reprimand her, but she exclaims:\n    \n"*Combat* training? That sounds really exciting! You should definitely participate!" You remind her that your goal is to find or create the Philosopher\'s Stone and not to get into fights, but she overrides you: "If you are looking for an immensely powerful magical object, don\'t you think it\'s going to be hidden and guarded behind enemies that are just as powerful, or worse?"\n\nShe might be right...')).option(ae("Continue"),{transform:function(e){return e=on(e=qe(Ir.ExplorationUnlocked)(e))}},"end"),x.message(ae('She continues, excited: "So, when are we leaving?" You notice her picking up her robe as if ready to go. You tell her to wait a little. You\'ve made up your mind about this training, but you feel you should at least prepare yourself and get some combat equipment in order first before attending...\n    \n**You have unlocked Exploration! Venture into various different areas and fight powerful foes. What will you find?**\n\n**You can explore a new dungeon: "Tower of /element/ Training"!**\n\n**You can also now Transmute equipment, including Hand and Body equipment!**')).tag("end").end();var w=x.build();ft("explorationUnlocker",(function(e){if(null!=e.run.primaryElement&&!w.hasTriggered(e)&&!Ve(e,Ir.ExplorationUnlocked)&&Ve(e,Ir.LandPurchaseUnlocked)&&[un.Fire,un.Earth,un.Water,un.Air].includes(e.run.primaryElement)&&xn(e,ne(e.run.primaryElement))>=6)return xl(w,{element:ln(ne(e.run.primaryElement))})})),function(){var e=Tl("explorationUnlockerOtherElement",ae("Training"),[fl.MAIN_QUEST]);e.message(ae('You receive a familiar letter on your mail today. You sit down and begin to read it. It appears to be from your magic school. It reads:\n    \n*"Esteemed Student: We would like to extend you an extra free training course on combat. If you are interested, please report to the Towers of Training. We expect you soon.*"')),e.message(ae('You are then surprised by a short squeal behind you. It came straight from the first wizard you "hired" - the one that decided to work completely for free. She was standing behind you the entire time, *peeking at the letter* over your shoulder! Angry, you are about to reprimand her, but she exclaims:\n    \n"*Combat* training? That sounds really exciting! You should definitely participate!" You remind her that your goal is to find or create the Philosopher\'s Stone and not to get into fights, but she overrides you: "If you are looking for an immensely powerful magical object, don\'t you think it\'s going to be hidden and guarded behind enemies that are just as powerful, or worse?"\n\nShe might be right...')).option(ae("Continue"),{transform:qe(Ir.ExplorationUnlocked)},"end"),e.message(ae('She continues, excited: "So, when are we leaving?" You notice her picking up her robe as if ready to go. You tell her to wait a little. You\'ve made up your mind about this training, but you feel you should at least prepare yourself and get some combat equipment in order first before attending...\n    \n**You have unlocked Exploration! Venture into various different areas and fight powerful foes. What will you find?**\n\n**You can explore four new dungeons: "Tower of Fire Training", "Tower of Earth Training", "Tower of Water Training" and "Tower of Air Training"!**\n\n**You can also now Transmute equipment, including Hand and Body equipment!**')).tag("end").end();var t=e.build();ft("explorationUnlockerOtherElement",(function(e){if(null!=e.run.primaryElement&&!t.hasTriggered(e)&&!Ve(e,Ir.ExplorationUnlocked)&&Ve(e,Ir.LandPurchaseUnlocked)&&![un.Fire,un.Earth,un.Water,un.Air].includes(e.run.primaryElement)&&xn(e,ne(e.run.primaryElement))>=5)return xl(t,{element:ln(ne(e.run.primaryElement))})})),Xu(Ir.ExplorationUnlocked,sR.EXPLORATION)}()}function fR(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var dR=function(e){(0,ws.default)(r,e);var t=fR(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"animatedSnowman"}},{key:"getName",value:function(){return ae("Animated Snowman")}},{key:"getBaseStats",value:function(){return{maxHP:1500,attack:20,defense:0,attackDelay:3,accuracy:100,dodge:100,crit:0}}},{key:"getPicture",value:function(e){return n(66737)}},{key:"getLevel",value:function(){return 4}},{key:"getCoinsAwardedBase",value:function(e){return 40}},{key:"getMonstiumAwardedBase",value:function(e){return 6}},{key:"getNextAction",value:function(e){var t=this;return Math.random()<.1?{name:ae("Splash"),delay:1.2*this.getAttackDelay(e),transform:function(e){return e=vu(e,1.1*t.getAttack(e),{tags:[un.Water],cause:ae("Splash"),onHit:function(e,t){return t.isHit&&(e=Ro(ik.getId(),15,{target:t.target})(e)),e}})}}:Math.random()<.5?{name:ae("Droplet of Healing"),delay:1*this.getAttackDelay(e),transform:function(e){var n=t.getMaxHP(e)*(.02+.005*Math.random());return e=Lo(e=cu(e,n),{id:Math.random().toString(),damage:-n,isCrit:!1,isHit:!0,time:Aa(e),source:Qr.Enemy,target:Qr.Enemy,tags:[]})}}:{name:ae("Attack"),delay:this.getAttackDelay(e),transform:function(e){return vu(e,t.getAttack(e))}}}},{key:"isBoss",value:function(){return!0}},{key:"getItemsAwardedBase",value:function(e){return[{itemId:tv.getId(),amount:2,chance:1}]}},{key:"onDeath",value:function(e,t,n){return e=vr(e=(0,xs.default)((0,Cs.default)(r.prototype),"onDeath",this).call(this,e,t,n),"trainingTowerAir")}},{key:"getTips",value:function(){return ae("Wow! The guardian of the Tower of Air Training looks like a snowman that is able to move on its own through some sort of magic. It has a lot of health, and is able to heal itself. That is annoying! On the other hand, attacks deal quite a bit of damage, even weak ones. Using Air Blast or other attack spells, a weak but speedy weapon, and having some way to heal like a few potions should do the trick!")}}]),r}(Wu);const gR=new dR;function hR(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var mR=function(e){(0,ws.default)(r,e);var t=hR(r);function r(){var e;(0,Le.default)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).hpHealTags=[],e}return(0,He.default)(r,[{key:"getId",value:function(){return"cherry"}},{key:"getPicture",value:function(){return n(55170)}},{key:"getBaseName",value:function(e){return ae("Cherry")}},{key:"getDescription",value:function(e,t){return ae("They say a cherry a day keeps the doctor away... wait, something is off. Restores a little :hp:.")}},{key:"getBaseExtraItemEffects",value:function(e){return{hpHeal:{value:10,tags:this.hpHealTags,unit:":hp:"}}}},{key:"getHPHealAmount",value:function(e,t){return this.getItemEffects(e,t,"hpHeal").hpHeal}},{key:"getEffect",value:function(e,t){return ae("^+{{amount}}^<{{explanation}}>:hp:",{amount:ue(this.getHPHealAmount(e,t)),explanation:this.getItemEffectExplanations(e,t,"hpHeal").hpHeal})}},{key:"getBaseSalePrice",value:function(e,t){return 30}},{key:"doPouchItemEffect",value:function(e,t){var n=this.getHPHealAmount(e,t);return e=Lo(e=lu(e,n,this.getBaseName(t)),{id:Math.random().toString(),damage:-n,isCrit:!1,isHit:!0,time:Aa(e),source:Qr.Player,target:Qr.Player,tags:this.getTags()})}},{key:"shouldAutoUse",value:function(e,t){var n=Gr(e),r=eu(e);return(n-r>this.getHPHealAmount(e,t)||r/n<.3)&&ix(e,Qr.Player)}},{key:"getUsesPerCombatBase",value:function(e){return 3}}]),r}(Jh),yR=new mR;function pR(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var vR=function(e){(0,ws.default)(r,e);var t=pR(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"goat"}},{key:"getName",value:function(){return ae("Goat")}},{key:"getBaseStats",value:function(){return{maxHP:180,attack:18,defense:0,attackDelay:2.8,accuracy:100,dodge:100,crit:0}}},{key:"getPicture",value:function(e){return n(439)}},{key:"getLevel",value:function(){return 2}},{key:"getCoinsAwardedBase",value:function(e){return 14}},{key:"getMonstiumAwardedBase",value:function(e){return 3}},{key:"getNextAction",value:function(e){var t=this;return Math.random()<.1?{name:ae("Baa!"),delay:this.getAttackDelay(e),transform:function(e){return e}}:Math.random()<.25?{name:ae("Strong Attack"),delay:2*this.getAttackDelay(e),transform:function(e){return e=vu(e,2*t.getAttack(e))}}:{name:ae("Attack"),delay:this.getAttackDelay(e),transform:function(e){return vu(e,t.getAttack(e))}}}},{key:"getItemsAwardedBase",value:function(e){return[{itemId:tv.getId(),amount:3,chance:.15},{itemId:yR.getId(),amount:1,chance:.005}]}}]),r}(Wu);const AR=new vR;function bR(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var kR=[{weight:100,transforms:Px(rv)},{weight:150,transforms:Px(AR)}];const xR=new(function(e){(0,ws.default)(n,e);var t=bR(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"trainingTowerAir"}},{key:"getFloorName",value:function(){return ae("Tower of Air Training")}},{key:"getBoss",value:function(e){return gR}},{key:"getBreedingLevel",value:function(){return 1}},{key:"isMainStoryDungeonFloor",value:function(){return!0}},{key:"getExplorationRequiredTimeSecBase",value:function(){return 4}},{key:"_getExplorationSuccessesForBossBase",value:function(){return 30}},{key:"getBaseExplorationPossibilities",value:function(e){return kR}},{key:"isUnlocked",value:function(e){return![un.Earth,un.Fire,un.Water].includes(e.run.primaryElement)||Ve(e,Ir.RestOfTrainingUnlocked)}}]),n}(jx));function wR(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var ER=function(e){(0,ws.default)(r,e);var t=wR(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"breezyRabbit"}},{key:"getName",value:function(){return ae("Breezy Rabbit")}},{key:"getBaseStats",value:function(){return{maxHP:65,attack:13,defense:3,attackDelay:1,accuracy:100,dodge:100,crit:0}}},{key:"getPicture",value:function(e){return n(8823)}},{key:"getLevel",value:function(){return 2}},{key:"getCoinsAwardedBase",value:function(e){return 20}},{key:"getMonstiumAwardedBase",value:function(e){return 3}},{key:"getNextAction",value:function(e){var t=this;return Math.random()<.1?{name:ae("Jump adorably"),delay:this.getAttackDelay(e),transform:function(e){return e}}:Math.random()<.2?{name:ae("Double Attack"),delay:1.3*this.getAttackDelay(e),transform:function(e){return e=vu(e,.8*t.getAttack(e)),e=vu(e,.8*t.getAttack(e))}}:{name:ae("Attack"),delay:this.getAttackDelay(e),transform:function(e){return vu(e,t.getAttack(e))}}}},{key:"getItemsAwardedBase",value:function(e){return[{itemId:yR.getId(),amount:1,chance:.05}]}}]),r}(Wu);const CR=new ER;function IR(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var BR=function(e){(0,ws.default)(r,e);var t=IR(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"windglider"}},{key:"getName",value:function(){return ae("Windglider")}},{key:"getBaseStats",value:function(){return{maxHP:700,attack:16,defense:5,attackDelay:1,accuracy:100,dodge:100,crit:0}}},{key:"getPicture",value:function(e){return n(24294)}},{key:"getLevel",value:function(){return 4}},{key:"getCoinsAwardedBase",value:function(e){return 60}},{key:"getMonstiumAwardedBase",value:function(e){return 4}},{key:"getNextAction",value:function(e){var t=this;return!xo(e,ew.getId(),Qr.Enemy)&&ru(e)<.5?{name:ae("Haste"),delay:1*this.getAttackDelay(e),transform:Ro(ew.getId(),15,{target:Qr.Enemy,params:{commonBuff:{AttackDelayMultiplier:.85}}})}:Math.random()<.3?{name:ae("Air Blast"),delay:1.3*this.getAttackDelay(e),transform:function(e){return vu(e,1.3*t.getAttack(e),{tags:[un.Air],cause:ae("Air Blast")})}}:{name:ae("Attack"),delay:this.getAttackDelay(e),transform:function(e){return vu(e,t.getAttack(e))}}}},{key:"getItemsAwardedBase",value:function(e){return[{itemId:tv.getId(),amount:2,chance:1}]}},{key:"isBoss",value:function(){return!0}},{key:"onDeath",value:function(e,t,n){return e=vr(e=(0,xs.default)((0,Cs.default)(r.prototype),"onDeath",this).call(this,e,t,n),"trainingTowerEarth")}},{key:"getTips",value:function(){return ae("The guardian of the Tower of Earth Training is an avian embodying Air. How does that make any sense?! Well... it attacks very fast, and will attack even faster after it uses Haste. You will need high :defense: for this one! Make sure to also have at least one way to heal! It is not too resilient, so just try to take down its health.")}}]),r}(Wu);const SR=new BR;function RR(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var PR=[{weight:100,transforms:Px(rv)},{weight:150,transforms:Px(CR)}];const TR=new(function(e){(0,ws.default)(n,e);var t=RR(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"trainingTowerEarth"}},{key:"getFloorName",value:function(){return ae("Tower of Earth Training")}},{key:"getBoss",value:function(e){return SR}},{key:"getBreedingLevel",value:function(){return 1}},{key:"isMainStoryDungeonFloor",value:function(){return!0}},{key:"getExplorationRequiredTimeSecBase",value:function(){return 4}},{key:"_getExplorationSuccessesForBossBase",value:function(){return 30}},{key:"getBaseExplorationPossibilities",value:function(e){return PR}},{key:"isUnlocked",value:function(e){return![un.Air,un.Fire,un.Water].includes(e.run.primaryElement)||Ve(e,Ir.RestOfTrainingUnlocked)}}]),n}(jx));function jR(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var MR=function(e){(0,ws.default)(r,e);var t=jR(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"flyingRock"}},{key:"getName",value:function(){return ae("Flying Rock")}},{key:"getBaseStats",value:function(){return{maxHP:45,attack:16,defense:50,attackDelay:3.6,accuracy:100,dodge:100,crit:0}}},{key:"getPicture",value:function(e){return n(66777)}},{key:"getLevel",value:function(){return 2}},{key:"getCoinsAwardedBase",value:function(e){return 16}},{key:"getMonstiumAwardedBase",value:function(e){return 3}},{key:"getNextAction",value:function(e){var t=this;return Math.random()<.2?{name:ae("Stone Strike"),delay:1.3*this.getAttackDelay(e),transform:function(e){return vu(e,1.5*t.getAttack(e),{tags:[un.Earth],cause:ae("Stone Strike")})}}:{name:ae("Attack"),delay:this.getAttackDelay(e),transform:function(e){return vu(e,t.getAttack(e))}}}},{key:"getItemsAwardedBase",value:function(e){return[{itemId:tv.getId(),amount:1,chance:.4},{itemId:yR.getId(),amount:1,chance:.01}]}}]),r}(Wu);const DR=new MR;function OR(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var NR=new(function(e){(0,ws.default)(r,e);var t=OR(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"stoneskin"}},{key:"getDisplayName",value:function(){return ae("Stoneskin")}},{key:"getIcon",value:function(){return n(60239)}},{key:"isCommonBuffEnabled",value:function(){return[{stat:Vr.Defense,type:At.Addition},{stat:Vr.Defense,type:At.Multiplier}]}},{key:"getDisplayDescription",value:function(e,t){var n=t.params.commonBuff.Defense;if(!n){var r=t.params.commonBuff.DefenseMultiplier;return ae("{{ratio}}:defense:",{ratio:le(r)})}return ae("+{{amount}}:defense:",{amount:ue(n)})}}]),r}(yf));po.register(NR);var UR=new(function(e){(0,ws.default)(n,e);var t=OR(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"stoneskin"}},{key:"getSpellName",value:function(){return ae("Stoneskin")}},{key:"getElement",value:function(){return un.Earth}},{key:"getAutocastCategory",value:function(){return lc.COMBAT_BUFF}},{key:"getBaseManaCost",value:function(e){return 400}},{key:"canUseOutsideOfCombat",value:function(){return!0}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:9,tags:[pt.TemporaryEffectMagnitude],unit:":defense:"},duration:{value:60,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"doSpellAction",value:function(e,t){var n=this.getActionEffects(e);return Ro(NR.getId(),n.duration,{params:{commonBuff:{Defense:n.magnitude}}})(e)}},{key:"getDisplayDescription",value:function(e){return ae("Harden your skin, to protect yourself against blows.")}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e);return ae("^+{{amount}}^<{{amountExplanation}}>:defense: for ^{{duration}}^<{{durationExplanation}}> sec",{amount:ue(t.magnitude),amountExplanation:n.magnitude,duration:ue(t.duration),durationExplanation:n.duration})}},{key:"getLevelRequirements",value:function(){return{Earth:4}}},{key:"isEmpowerable",value:function(){return!0}},{key:"getEmpoweringLevelRequirements",value:function(){return{Earth:54}}}]),n}(_x));function FR(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}Qa(UR,[pt.Cost,Dt.Mana],40),Qa(UR,[pt.TemporaryEffectMagnitude],7);var LR=function(e){(0,ws.default)(r,e);var t=FR(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"rockGolem"}},{key:"getName",value:function(){return ae("Rock Golem")}},{key:"getBaseStats",value:function(){return{maxHP:300,attack:21,defense:65,attackDelay:3.5,accuracy:100,dodge:100,crit:0}}},{key:"getPicture",value:function(e){return n(77628)}},{key:"getLevel",value:function(){return 4}},{key:"getCoinsAwardedBase",value:function(e){return 40}},{key:"getMonstiumAwardedBase",value:function(e){return 8}},{key:"getNextAction",value:function(e){var t=this;return!xo(e,NR.getId(),Qr.Enemy)&&ru(e)<.5&&Math.random()<.5?{name:ae("Stoneskin"),delay:1*this.getAttackDelay(e),transform:Ro(NR.getId(),20,{target:Qr.Enemy,params:{commonBuff:{DefenseMultiplier:1.3}}})}:Math.random()<.3?{name:ae("Stone Strike"),delay:1.3*this.getAttackDelay(e),transform:function(e){return vu(e,1.5*t.getAttack(e))}}:{name:ae("Attack"),delay:this.getAttackDelay(e),transform:function(e){return vu(e,t.getAttack(e))}}}},{key:"isBoss",value:function(){return!0}},{key:"getItemsAwardedBase",value:function(e){return[{itemId:tv.getId(),amount:2,chance:1}]}},{key:"onDeath",value:function(e,t,n){return e=vr(e=(0,xs.default)((0,Cs.default)(r.prototype),"onDeath",this).call(this,e,t,n),"trainingTowerFire")}},{key:"getTips",value:function(){return ae("This moving Rock Golem is the guardian of the Tower of Fire Training. It has quite low maximum :hp:, but its :defense: is extremely high, and it can get it even higher! You will need weapons and spells that have a lot of :attack: to pierce through, such as axes or Fireball.")}}]),r}(Wu);const HR=new LR;function YR(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var QR=[{weight:100,transforms:Px(rv)},{weight:150,transforms:Px(DR)}];const zR=new(function(e){(0,ws.default)(n,e);var t=YR(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"trainingTowerFire"}},{key:"getFloorName",value:function(){return ae("Tower of Fire Training")}},{key:"getBoss",value:function(e){return HR}},{key:"getBreedingLevel",value:function(){return 1}},{key:"isMainStoryDungeonFloor",value:function(){return!0}},{key:"getExplorationRequiredTimeSecBase",value:function(){return 4}},{key:"_getExplorationSuccessesForBossBase",value:function(){return 30}},{key:"getBaseExplorationPossibilities",value:function(e){return QR}},{key:"isUnlocked",value:function(e){return![un.Air,un.Earth,un.Water].includes(e.run.primaryElement)||Ve(e,Ir.RestOfTrainingUnlocked)}}]),n}(jx));var VR=function(){function e(){(0,Le.default)(this,e),this.explorationEvents=[]}return(0,He.default)(e,[{key:"getHintMessage",value:function(e){return this.isDoneForThisRun(e)?this.getHintMessageWhenNotPossible(e):this.getHintMessageWhenPossible(e)}},{key:"maxTriggersPerRun",value:function(){}},{key:"isDoneForThisRun",value:function(e){var t,n,r=this.maxTriggersPerRun();return void 0!==r&&(null!=(t=null==(n=e.run.explorationTriggers[this.getId()])?void 0:n.timesTriggered)?t:0)>=r}},{key:"addExplorationEvent",value:function(e){this.explorationEvents.push(e)}},{key:"getExplorationAmountNeeded",value:function(e){return void 0==e.run.explorationTriggers[this.getId()]&&(e.run.explorationTriggers[this.getId()]={timesTriggered:0,next:this.getExplorationSuccessesBase()*(1+.5*(.5-Math.random()))}),e.run.explorationTriggers[this.getId()].next}},{key:"getTotalExplorationSuccesses",value:function(e){return this.getDungeonFloors().reduce((function(t,n){return t+xu(e,n.getId())}),0)}},{key:"checkAndTrigger",value:function(e){var t=this.getTotalExplorationSuccesses(e);if(Zi(e)!=me.None&&this.getDungeonFloors().includes(Zo(e))&&t>=this.getExplorationAmountNeeded(e)){var n=this.explorationEvents.reduce((function(t,n){return t+n.getWeight(e)}),0);if(n<=0)return e;var r=Math.random()*n;for(var a of this.explorationEvents)if((r-=a.getWeight(e))<0){var i,o=e.run.explorationTriggers[this.getId()].timesTriggered+1;return e.run.explorationTriggers[this.getId()].timesTriggered=o,e.run.explorationTriggers[this.getId()].next=t+Math.pow(o+1,1.9)*this.getExplorationSuccessesBase()*(1+.3*(.5-Math.random())),e=xl(a.event,null!=(i=null==a||null==a.getParams?void 0:a.getParams(e))?i:{})(e)}}return e}}]),e}(),WR=new Qe;function GR(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}ju("explorationTriggerGroups",(function(e){return WR.getAll().forEach((function(t){e=t.checkAndTrigger(e)})),e}));var JR=new(function(e){(0,ws.default)(r,e);var t=GR(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"featheredHat"}},{key:"getSlot",value:function(){return hi.Accessory}},{key:"getPicture",value:function(){return n(96008)}},{key:"getBaseName",value:function(e){return ae("Feathered Hat")}},{key:"getDescription",value:function(e,t){return ae("A hat decorated with a feather. Not too strong, but it makes you feel light.")}},{key:"getBaseSalePrice",value:function(e,t){return 400}},{key:"getDefenseBonusBase",value:function(e){return 2}},{key:"getAttackDelayBonusRatioBase",value:function(e){return-.05}}]),r}(Qh)),qR=new(function(e){(0,ws.default)(n,e);var t=GR(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return JR}},{key:"getCraftingElementLevelRequirements",value:function(){return{Air:4}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:200,AirEssence:2e3},items:{elementalShardAir:4}}}},{key:"getElement",value:function(){return un.Air}}]),n}(lx));function XR(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var KR=new(function(e){(0,ws.default)(r,e);var t=XR(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"stoneMail"}},{key:"getSlot",value:function(){return hi.Body}},{key:"getPicture",value:function(){return n(31314)}},{key:"getBaseName",value:function(e){return ae("Stone Mail")}},{key:"getDescription",value:function(e,t){return ae("Armor that is particularly protective, but with a drawback to mobility.")}},{key:"getBaseSalePrice",value:function(e,t){return 700}},{key:"getDefenseBonusBase",value:function(e){return 28}},{key:"getAttackDelayBonusRatioBase",value:function(e){return.2}}]),r}(Qh)),ZR=new(function(e){(0,ws.default)(n,e);var t=XR(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return KR}},{key:"getCraftingElementLevelRequirements",value:function(){return{Earth:5}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:200,EarthEssence:3e3},items:{elementalShardEarth:15}}}},{key:"getElement",value:function(){return un.Earth}}]),n}(lx));function _R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var $R=new(function(e){(0,ws.default)(r,e);var t=_R(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"wizardsRobe"}},{key:"getSlot",value:function(){return hi.Body}},{key:"getPicture",value:function(){return n(69629)}},{key:"getBaseName",value:function(e){return ae("Wizard's Robe")}},{key:"getDescription",value:function(e,t){return ae("Basic clothing for a wizard. Enhances spellcasting ability.")}},{key:"getBaseSalePrice",value:function(e,t){return 500}},{key:"getDefenseBonusBase",value:function(e){return 10}},{key:"getManaRegenBonusBase",value:function(e){return 6}},{key:"getMaxManaBonusBase",value:function(e){return 500}}]),r}(Qh)),eP=new(function(e){(0,ws.default)(n,e);var t=_R(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return $R}},{key:"getCraftingElementLevelRequirements",value:function(){return{Water:5}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:200,WaterEssence:2500},items:{elementalShardWater:10}}}},{key:"getElement",value:function(){return un.Water}}]),n}(lx));function tP(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var nP=new(function(e){(0,ws.default)(r,e);var t=tP(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"glaive"}},{key:"getSlot",value:function(){return hi.Hand}},{key:"getPicture",value:function(){return n(7744)}},{key:"getBaseName",value:function(e){return ae("Glaive")}},{key:"getDescription",value:function(e,t){return ae("A fairly speedy weapon. It can attack from some distance.")}},{key:"getBaseSalePrice",value:function(e,t){return 1300}},{key:"getAttackBonusBase",value:function(e){return 45}},{key:"getAttackDelayBonusRatioBase",value:function(e){return-.2}}]),r}(Qh)),rP=new(function(e){(0,ws.default)(n,e);var t=tP(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return nP}},{key:"getCraftingElementLevelRequirements",value:function(){return{Air:12}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:300,AirEssence:4200,WaterEssence:3500},items:{elementalShardAir:35}}}},{key:"getElement",value:function(){return un.Air}}]),n}(lx));function aP(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var iP=new(function(e){(0,ws.default)(r,e);var t=aP(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"bastardSword"}},{key:"getSlot",value:function(){return hi.Hand}},{key:"getPicture",value:function(){return n(56096)}},{key:"getBaseName",value:function(e){return ae("Bastard Sword")}},{key:"getDescription",value:function(e,t){return ae("A sword that is much like a longsword, but slightly more elaborate.")}},{key:"getBaseSalePrice",value:function(e,t){return 900}},{key:"getAttackBonusBase",value:function(e){return 50}}]),r}(Qh)),oP=new(function(e){(0,ws.default)(n,e);var t=aP(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return iP}},{key:"getCraftingElementLevelRequirements",value:function(){return{Earth:10}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:300,EarthEssence:4e3},items:{elementalShardEarth:25,elementalShardFire:4}}}},{key:"getElement",value:function(){return un.Earth}}]),n}(lx));function uP(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var lP=new(function(e){(0,ws.default)(r,e);var t=uP(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"battleAxe"}},{key:"getSlot",value:function(){return hi.Hand}},{key:"getExtraSlots",value:function(){return[hi.Accessory]}},{key:"getPicture",value:function(){return n(87632)}},{key:"getBaseName",value:function(e){return ae("Battle Axe")}},{key:"getDescription",value:function(e,t){return ae("A large axe. Very strong, but difficult to swing.")}},{key:"getEffectExtra",value:function(e,t){return ae("Extra large")}},{key:"getBaseSalePrice",value:function(e,t){return 900}},{key:"getAttackBonusBase",value:function(e){return 95}},{key:"getAttackDelayBonusRatioBase",value:function(e){return.6}}]),r}(Qh)),sP=new(function(e){(0,ws.default)(n,e);var t=uP(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return lP}},{key:"getCraftingElementLevelRequirements",value:function(){return{Fire:11}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:300,FireEssence:4e3},items:{elementalShardFire:20}}}},{key:"getElement",value:function(){return un.Fire}}]),n}(lx));function cP(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var fP=new(function(e){(0,ws.default)(r,e);var t=cP(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"handAxe"}},{key:"getSlot",value:function(){return hi.Hand}},{key:"getPicture",value:function(){return n(45457)}},{key:"getBaseName",value:function(e){return ae("Hand Axe")}},{key:"getDescription",value:function(e,t){return ae("A small axe, meant to be carried in one hand. Heavy and slow, but damaging.")}},{key:"getBaseSalePrice",value:function(e,t){return 500}},{key:"getAttackBonusBase",value:function(e){return 50}},{key:"getAttackDelayBonusRatioBase",value:function(e){return.5}}]),r}(Qh)),dP=new(function(e){(0,ws.default)(n,e);var t=cP(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return fP}},{key:"getCraftingElementLevelRequirements",value:function(){return{Fire:5}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:200,FireEssence:1800},items:{elementalShardFire:6,elementalShardEarth:2}}}},{key:"getElement",value:function(){return un.Fire}}]),n}(lx));function gP(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var hP=new(function(e){(0,ws.default)(r,e);var t=gP(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"wandOfWater"}},{key:"getSlot",value:function(){return hi.Hand}},{key:"getPicture",value:function(){return n(50982)}},{key:"getBaseName",value:function(e){return ae("Wand of Water")}},{key:"getDescription",value:function(e,t){return ae("A magical wand with a special affinity for Water. Increases power of Water spells.")}},{key:"getBaseSalePrice",value:function(e,t){return 1800}},{key:"getAttackBonusBase",value:function(e){return 27}},{key:"getManaRegenBonusBase",value:function(e){return 16}},{key:"getMaxManaBonusBase",value:function(e){return 700}},{key:"getBaseExtraItemEffects",value:function(e){return{magnitude:{value:.15,valueType:vt.Percent}}}},{key:"getEffectExtra",value:function(e,t){var n=this.getItemEffects(e,t),r=this.getItemEffectExplanations(e,t);return ae("^{{magnitude}}^<{{explanation}}> power of Water elemental spells",{magnitude:le(1+n.magnitude),explanation:r.magnitude})}}]),r}(Qh));xt([[pt.ActionEffect,pt.ActionMagnitude,un.Water],[pt.ActionEffect,pt.TemporaryEffectMagnitude,un.Water]],hP.getId(),hP.getName(hP.getDefaultParams()),At.Multiplier,(function(e){var t;return(null==(t=xi(e,hi.Hand))?void 0:t.itemId)==hP.getId()?hP.getEquippedItemEffect(e,"magnitude").magnitude+1:1}));var mP=new(function(e){(0,ws.default)(n,e);var t=gP(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return hP}},{key:"getCraftingElementLevelRequirements",value:function(){return{Water:14}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:400,WaterEssence:5e3},items:{elementalShardWater:65}}}},{key:"getElement",value:function(){return un.Water}}]),n}(lx)),yP=function(){function e(){(0,Le.default)(this,e)}return(0,He.default)(e,[{key:"getDungeonEventGroup",value:function(){return lR(this.getId())}},{key:"hasTriggeredEvent",value:function(e){return this.getDungeonEventGroup().hasFinishedTriggeringThisRun(e)}}]),e}();function pP(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var vP=new(function(e){(0,ws.default)(r,e);var t=pP(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"strength"}},{key:"getDisplayName",value:function(){return ae("Strength")}},{key:"getIcon",value:function(){return n(37084)}},{key:"isCommonBuffEnabled",value:function(){return[{stat:Vr.Attack,type:At.Addition},{stat:Vr.Attack,type:At.Multiplier}]}},{key:"getDisplayDescription",value:function(e,t){var n=t.params.commonBuff.Attack;if(!n){var r=t.params.commonBuff.AttackMultiplier;return ae("{{ratio}}:attack:",{ratio:le(r)})}return ae("+{{amount}}:attack:",{amount:ue(n)})}}]),r}(yf));po.register(vP);var AP=new(function(e){(0,ws.default)(n,e);var t=pP(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"strength"}},{key:"getSpellName",value:function(){return ae("Strength")}},{key:"getElement",value:function(){return un.Fire}},{key:"getAutocastCategory",value:function(){return lc.COMBAT_BUFF}},{key:"getBaseManaCost",value:function(e){return 650}},{key:"canUseOutsideOfCombat",value:function(){return!0}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:8,tags:[pt.TemporaryEffectMagnitude],unit:":attack:"},duration:{value:60,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"doSpellAction",value:function(e,t){var n=this.getActionEffects(e);return Ro(vP.getId(),n.duration,{params:{commonBuff:{Attack:n.magnitude}}})(e)}},{key:"getDisplayDescription",value:function(e){return ae("Increase your physical strength through a temporary enchantment.")}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e);return ae("^+{{amount}}^<{{amountExplanation}}>:attack: for ^{{duration}}^<{{durationExplanation}}> sec",{amount:ue(t.magnitude),amountExplanation:n.magnitude,duration:ue(t.duration),durationExplanation:n.duration})}},{key:"getLevelRequirements",value:function(){return{Fire:8}}},{key:"isEmpowerable",value:function(){return!0}},{key:"getEmpoweringLevelRequirements",value:function(){return{Fire:52}}}]),n}(_x));function bP(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}Qa(AP,[pt.Cost,Dt.Mana],20),Qa(AP,[pt.TemporaryEffectMagnitude],4);var kP=function(e){(0,ws.default)(r,e);var t=bP(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"blazingTurtle"}},{key:"getName",value:function(){return ae("Blazing Turtle")}},{key:"getBaseStats",value:function(){return{maxHP:700,attack:40,defense:32,attackDelay:6,accuracy:100,dodge:100,crit:0}}},{key:"getPicture",value:function(e){return n(86379)}},{key:"getLevel",value:function(){return 4}},{key:"getCoinsAwardedBase",value:function(e){return 55}},{key:"getMonstiumAwardedBase",value:function(e){return 5}},{key:"getNextAction",value:function(e){var t=this;return ru(e)<.5&&!it(e,"hasUsedFireball")?{name:ae("Fireball"),delay:3*this.getAttackDelay(e),transform:function(e){return e=vu(e,2*t.getAttack(e),{tags:[un.Fire]}),e=rt("hasUsedFireball",!0)(e)}}:Math.random()<.2&&!xo(e,vP.getId(),Qr.Enemy)?{name:ae("Strength"),delay:1.2*this.getAttackDelay(e),transform:function(e){return Ro(vP.getId(),30,{target:Qr.Enemy,params:{commonBuff:{AttackMultiplier:1.25}}})(e)}}:{name:ae("Attack"),delay:this.getAttackDelay(e),transform:function(e){return vu(e,t.getAttack(e))}}}},{key:"isBoss",value:function(){return!0}},{key:"getItemsAwardedBase",value:function(e){return[{itemId:tv.getId(),amount:2,chance:1}]}},{key:"onDeath",value:function(e,t,n){return e=vr(e=(0,xs.default)((0,Cs.default)(r.prototype),"onDeath",this).call(this,e,t,n),"trainingTowerWater")}},{key:"getTips",value:function(){return ae("This guardian... It is literally a turtle in flames! Its attacks are extremely strong and easily pierce through any amount of defense, but they are very slow. It also has a fair amount of defense. Using effects that increase your maximum :hp: might be the best way to survive Fireball. But you will also need to have a good source of healing that you can repeat, because it does a lot of damage! A weapon with high :attack: might also be effective.")}}]),r}(Wu);const xP=new kP;function wP(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var EP=function(e){(0,ws.default)(r,e);var t=wP(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"fireBat"}},{key:"getName",value:function(){return ae("Fire Bat")}},{key:"getBaseStats",value:function(){return{maxHP:60,attack:27,defense:8,attackDelay:4.5,accuracy:100,dodge:100,crit:0}}},{key:"getPicture",value:function(e){return n(54852)}},{key:"getLevel",value:function(){return 2}},{key:"getCoinsAwardedBase",value:function(e){return 17}},{key:"getMonstiumAwardedBase",value:function(e){return 3}},{key:"getNextAction",value:function(e){var t=this;return Math.random()<.25?{name:ae("Burning Bite"),delay:2*this.getAttackDelay(e),transform:function(e){return e=vu(e,1.5*t.getAttack(e))}}:{name:ae("Attack"),delay:this.getAttackDelay(e),transform:function(e){return vu(e,t.getAttack(e))}}}},{key:"getItemsAwardedBase",value:function(e){return[{itemId:tv.getId(),amount:1,chance:.2},{itemId:yR.getId(),amount:1,chance:.02}]}}]),r}(Wu);const CP=new EP;function IP(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var BP=[{weight:100,transforms:Px(rv)},{weight:150,transforms:Px(CP)}],SP=function(e){(0,ws.default)(n,e);var t=IP(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"trainingTowerWater"}},{key:"getFloorName",value:function(){return ae("Tower of Water Training")}},{key:"getBoss",value:function(e){return xP}},{key:"getBreedingLevel",value:function(){return 1}},{key:"isMainStoryDungeonFloor",value:function(){return!0}},{key:"getExplorationRequiredTimeSecBase",value:function(){return 4}},{key:"_getExplorationSuccessesForBossBase",value:function(){return 30}},{key:"getBaseExplorationPossibilities",value:function(e){return BP}},{key:"isUnlocked",value:function(e){return![un.Earth,un.Fire,un.Air].includes(e.run.primaryElement)||Ve(e,Ir.RestOfTrainingUnlocked)}}]),n}(jx);const RP=new SP;function PP(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var TP=function(e){(0,ws.default)(n,e);var t=PP(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"trainingTowers"}},{key:"getName",value:function(){return ae("Training Towers")}},{key:"getDungeonFloors",value:function(){return[zR,TR,RP,xR]}},{key:"isUnlocked",value:function(e){return!0}}]),n}(yP),jP={Fire:zR,Earth:TR,Water:RP,Air:xR},MP=new TP,DP=new(function(e){(0,ws.default)(n,e);var t=PP(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getHintMessageWhenPossible",value:function(){return ae("Explore the Training Towers")}},{key:"getHintMessageWhenNotPossible",value:function(){return ae("This Storyline can be found by exploring the Training Towers, but you cannot get it this run")}},{key:"maxTriggersPerRun",value:function(){return 2}},{key:"getId",value:function(){return"trainingTowers"}},{key:"getExplorationSuccessesBase",value:function(){return 110}},{key:"getDungeonFloors",value:function(){return MP.getDungeonFloors()}}]),n}(VR));function OP(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var NP,UP,FP=function(e){(0,ws.default)(r,e);var t=OP(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"headInstructor"}},{key:"getName",value:function(){return ae("Head Instructor Giselle")}},{key:"getBaseStats",value:function(){return{maxHP:1800,attack:30,defense:25,attackDelay:2.5,accuracy:100,dodge:100,crit:0}}},{key:"getPicture",value:function(e){return n(63991)}},{key:"getLevel",value:function(){return 10}},{key:"getCoinsAwardedBase",value:function(e){return 150}},{key:"getMonstiumAwardedBase",value:function(e){return 50}},{key:"getNextAction2",value:function(e){var t=this;return Math.random()<.2?{name:ae("Fireball"),delay:1.8*this.getAttackDelay(e),transform:function(e){return e=vu(e,2.1*t.getAttack(e),{tags:[un.Fire]})}}:Math.random()<.5?{name:ae("Air Blast"),delay:.35*this.getAttackDelay(e),transform:function(e){return e=vu(e,.5*t.getAttack(e),{tags:[un.Air]})}}:{name:ae("Attack"),delay:this.getAttackDelay(e),transform:function(e){return vu(e,t.getAttack(e))}}}},{key:"getNextAction",value:function(e){var t=this;return ru(e)<.5?this.getNextAction2(e):Math.random()<.2&&bo(e,ik.getId(),Qr.Player)-Aa(e)>5?{name:ae("Frost"),delay:1.4*this.getAttackDelay(e),transform:function(e){return e=vu(e,1.4*t.getAttack(e),{tags:[un.Water],onHit:function(e,t){return t.isHit&&(e=Ro(uk.getId(),15,{target:t.target})(e)),e}})}}:Math.random()<.2?{name:ae("Splash"),delay:1.2*this.getAttackDelay(e),transform:function(e){return e=vu(e,1.1*t.getAttack(e),{tags:[un.Water],onHit:function(e,t){return t.isHit&&(e=Ro(ik.getId(),15,{target:t.target})(e)),e}})}}:Math.random()<.3&&ru(e)<.9?{name:ae("Droplet of Healing"),delay:1*this.getAttackDelay(e),transform:function(e){var n=t.getMaxHP(e)*(.02+.005*Math.random());return e=Lo(e=cu(e,n),{id:Math.random().toString(),damage:-n,isCrit:!1,isHit:!0,time:Aa(e),source:Qr.Enemy,target:Qr.Enemy,tags:[]})}}:{name:ae("Attack"),delay:this.getAttackDelay(e),transform:function(e){return vu(e,t.getAttack(e))}}}},{key:"isBoss",value:function(){return!0}},{key:"getBackdropColor",value:function(){return"#fd7"}},{key:"getItemsAwardedBase",value:function(e){return[{itemId:"paper",amount:3,chance:1}]}},{key:"onDeath",value:function(e,t,n){return e=vl(e=(0,xs.default)((0,Cs.default)(r.prototype),"onDeath",this).call(this,e,t,n),"finalTraining","afterFight"),e=qe(Ir.HeadInstructorDefeated)(e)}},{key:"getTips",value:function(){return ae("Ah, the Head Instructor of Combat! She is proficient in Water, Air and Fire spells, making her quite the force to be reckoned with. She will begin with Water spells only, and follow through with Fire and Air spells. Let's make sure to have solid buffs, such as from potions or spells, before the battle. Don't forget to ask me - well, us, your hired Wizards - to keep up your buffs for you, so you can focus on fighting!")}}]),r}(Wu),LP=new FP;NP=LP,UP=sR.HEAD_INSTRUCTOR_GISELLE,Wi&&(ju(UP+"-achievementUnlocker",(function(e,t){return t==NP&&Ju(UP),e})),qu.register((function(e){Hu(e,NP.getId())>0&&Ju(UP)}),UP+"-syncUnlocker"));const HP=LP;function YP(){cR(),function(){var e=Tl("firstBossUnlocker",ae("One More Test"),[fl.MAIN_QUEST]);e.message(ae('You have made a lot of progress fighting enemies left and right in this combat training. You feel quite strong!\n    \nYou encounter a door, more ornately decorated than the rest. It appears you are at the top of the tower. A sign reads to the side: *"/enemyName/"*. You sense this is probably some sort of final test for the tower, and ready up for a tough battle...\n\n**You can now fight the boss of /dungeonFloorName/! You can do so by pressing the "Fight Boss" button in the Exploration screen.**"'));var t=e.build();ju(t.getId()+"Triggerer",(function(e){if(!e.run.primaryElement)return e;var n=jP[e.run.primaryElement];return t.hasTriggered(e)||null==n||null==n.canFightBoss||!n.canFightBoss(e)||yr(e,n)?e:xl(t,{dungeonFloorName:n.getFloorName(),enemyName:n.getBoss(e).getName()})(e)}));var n=Tl("restOfTrainingTowersUnlocker",ae("Training is Not Over"),[fl.MAIN_QUEST]).setOnTrigger(qe(Ir.RestOfTrainingUnlocked));n.message(ae("You fell the enemy after what felt like a longer battle than the others. It felt slightly challenging. More than that, however, you feel excited and exhilarated - you seem to enjoy combat much more than you thought you would!\n  \nIt appears that is not enough. You find a paper in this last room, which mentions that there are other training towers, meant for those who specialize in the other elements - but a true Wizard should be able to triumph over all of them, it says. You decide to take it up to the challenge - you could use some more difficult combat...\n\n**You have unlocked three more Training Towers in Exploration!**"));var r=n.build();ju(r.getId()+"Triggerer",(function(e){var t=jP[e.run.primaryElement];return null==t||r.hasTriggered(e)||Ve(e,Ir.RestOfTrainingUnlocked)||!yr(e,t)?e:xl(r)(e)}));var a=Tl("finalTraining",ae("Final Exam"),[fl.MAIN_QUEST]);a.message(ae("As you defeat the strongest enemy of the last Training Tower, you hear clapping from behind you. You turn around, and you see a stylish woman, dressed in white robes and holding a staff with her arm against her body. She appears to be a capable wizard. She is the one clapping at you.")),a.message(ae('"Congratulations on your victory", she exclaims. "You\'ve certainly come a long way, haven\'t you?"\n    \n"Let me introduce myself", she continues. "I am the head instructor of combat - my name is Giselle. I am the one who extended you the invitation for this extra training course at these four Towers of Training. I don\'t think you have noticed me, but I saw you at the top of each of the Towers - and noticed your fights against the four guardians at the top. You did an excellent job." You thank her for the kind words.')),a.message(ae('"You have yet one more challenge to go through before you can complete the training, however", she says. "Each of those Towers tested your ability and affinity with a different Element. But, in actual combat against real adversaries, a Wizard will need to know the strengths and the weakness of each element, and combine them in order to craft the right strategy. It is a very important lesson."\n    \nThen she tells you more: "Because of that reason, I will see how you do in battle by myself, in a duel. If you are able to hold your own against me, I will deem you worthy of having finished the training."')),a.message(ae("You shudder a little. She looks quite strong, a lot stronger than anything you've fought so far.\n    \nRegardless, it really does seem like this is the final test in this special course. You ready yourself for combat against the powerful foe.")).option(ae("Fight the Head Instructor"),{transform:function(e){return e=Yi(e,"goToExploration"),e=Yi(e,"closeAllMenus"),e=Yi(e,"closeEventOverlay"),$o(HP)(e)}}).option(ae("Maybe later")).end(),a.message(ae('Another Fireball? You strike at the Head Instructor before she has the chance to finish her spell. She flinches! She asks you to stop. Then she looks at you - she looks quite visibly tired - and nods.\n      \n"*You pass*", she exclaims. "Impressive performance. You have definitely understood how to combine all the elements together and become a strong all-around combatant." You thank her.')).tag("afterFight"),a.message(ae('"With what you\'ve learned in this special training, you should now be ready for some of the challenges in the wide world outside", she says. "I am hoping the experience you got has increased your confidence." She is right. You feel a lot stronger.\n        \n"I will leave you with one last thing, however - have you ever wondered what to do with the :monstium:Monstium that you have been finding from all those enemies?"\n\nThe question stumps you. You have, indeed, wondered what was the purpose, and you have been keeping much of it...')),a.message(ae('"Monstium is a key material used for *Enhancements*, medium-to-long-term all-encompassing magical effects that radically affect so many different things", she explains. "For example, there are Enhancements for greatly increasing your Essence storage, giving you extra combat power, enabling you to build new types of furniture, and many more."\n     \nShe also tells you about Paper, another important requirement for Enhancements. Thankfully, Paper can apparently be transmuted quite easily - she also tells you how to do so.\n\nShe tells you about a few Enhancements and what you need in order to activate them. You listen intently, while realizing how deeply transformative those Enhancements could be. You want to take notes, but you did not bring such material with you - but you think you can remember, at least this time.')).option(ae("Continue"),{transform:qe(Ir.EnhancementsUnlocked)},"end").end(),a.message(ae("The instructor finally finishes her narration. You thank her - you are certain this will come in useful for the future. And then, finally, you head back home - you can't wait to apply those Enhancements, and head beyond the boundaries of your house, to see what you can learn... You are not sure if this gets you any closer, but you feel renewed enthusiasm about your quest to obtain the Philosopher's Stone.\n    \n**You have unlocked the ability to transmute Paper!**\n\n**You have unlocked Enhancements! Enhancements use :monstium:Monstium, as well as other items, to improve many aspects of the game. The effects do *not* persist through Retirement. You can find these on the Enhance screen!**")).tag("end");var i=a.build();ju(i.getId()+"Triggerer",(function(e){return Ve(e,Ir.EnhancementsUnlocked)||i.hasTriggered(e)||![zR,TR,RP,xR].every((function(t){return yr(e,t)}))?e:xl(i)(e)}));var o=Tl("potionFirstCrafted",ae("Pouch Items"),[]);o.message(ae("After gathering many materials, you finally managed to follow the recipe to Transmute your first :healthPotion:Health Potion!\n    \nYou quickly check out the reference on it, searching through your notes. How were you meant to use it...?")),o.message(ae('Ah, you finally found the right page! There\'s *two* large messages. You read the first one: *"Potions are Pouch Items. **Pouch Items are not consumable, and they will not disappear when used.** They are considered pieces of equipment."*\n      \nThat sounds... convenient. So you can drink it *and it will never run out*? You continue reading the second one: *"Pouch items can **only be used during combat**, and each one will have **a certain amount of uses per combat**. For example, :healthPotion:Health Potions have 3 uses per combat. **Entering a new combat will refresh the pouch items and restore their uses.**"*\n\nYou think about what you\'ve just read... These potions sound extremely useful. You\'re eager to equip it - right away.\n\n*Tip: You can review this information or read more about Pouch Items in the :help:Help screen!*'));var u=o.build();$c.register((function(e,t){return t!=dx||u.hasEverTriggered(e)||(e=xl(u)(e)),e}))}(),function(){var e=Tl("sewersUnlock",ae("A Stinky Adventure"),[fl.MAIN_QUEST]);e.message(ae('With your combat abilities, you now feel ready to begin your actual search for the Philosopher\'s Stone. You start thinking about what should be the next area you should be heading to, when you hear a knock on your door.\n  \nWhen you check, there is no one... Oddly, you open the door, and you notice a pamphlet on the ground. "*Wanted: Mad Alchemist*", it says, with a crude drawing of a deformed person. You take it, and show it to your hired wizard.')),e.message(ae('"A wanted poster? We get several of those, fairly often, at the guild", she mentions. "It looks like this one references a nefarious alchemist that seems to be running experiments somewhere in the town sewers. It appears the wells in some places in town have become poisoned, and the town suspects this alchemist."\n  \nThen something she says catches your attention: "It says here that the experiments have something to do with creating a Philosopher\'s Stone..." *Your blood freezes.* You ask her to repeat and confirm the fact. She is not lying to you: that is what it says on the paper.')).option(ae("Continue"),{transform:qe(Ir.SewersUnlocked)},"end"),e.message(ae("It surely can't be... out of all the places in the world where you could be starting your search, the *sewers* are your first lead?\n  \nYour hired wizard seems to have noticed your reaction, and makes a face of disgust. \"You can't possibly be thinking of *going in there*, can you?\"\n\nBut you are... you certainly are. Or so you tell yourself, conflicted, as you try to convince yourself that your loved one's illness was much worse than *just a stench*...\n\n**You can now explore the Sewers!**")).tag("end");var t=e.build();We.register((function(e,n){return!(n==Ir.EnhancementsUnlocked&&Zu.isCompleted(e)||n==Zu.getCompletedFlag())||Ve(e,Ir.SewersUnlocked)||t.hasTriggered(e)?e:xl(t)(e)}),"sewersUnlockEventTriggerer");var n=Tl("sewersEntranceBossUnlock",ae("A Challenger from the Deep?"),[fl.MAIN_QUEST]);n.message(ae('While exploring, you find a large circular room filled with shallow water and a tunnel entrance on the other side. Your hired wizard comments: "I think all paths end up coming here".\n  \nAs you begin crossing, you are stopped on your tracks. There is something in the water. It looks a little like a Sewer Fish, but it is green and deformed - and very aggressive, moving faster than what you are used to. You ready for combat.\n\n**You have unlocked the boss of Sewer Entrance!**'));var r=n.build();ju(r.getId()+"Triggerer",(function(e){return!r.hasTriggered(e)&&Mw.canFightBoss(e)?xl(r)(e):e}));var a=Tl("sewersEntranceBossDefeatedMain",ae("Mimicking the Poison"),[fl.MAIN_QUEST]).setOnTrigger((function(e){return On(un.Poison)(e)}));a.message(ae('You defeat the Mutated Fish! Your hired wizard yells from the thrill. You check the floating corpse one last time to make sure it is truly dead. Although you can move on, you are noticing that the sewer enemies seem to be able to use a different type of magic entirely. A different *element*, perhaps? You are not sure about it, but you want to try and mimic it.\n\n**You have discovered the "Poison" element! It is only *partially unlocked*, so it will not persist through retirement, and you will have a very hard time using it.**\n\n**You can now also access a new Exploration area: "Hazardous Sector"!**'));var i=a.build(),o=Tl("sewersEntranceBossDefeatedAlt",ae("Hazardous Sector"),[fl.MAIN_QUEST]);o.message(ae('You defeat the Mutated Fish! Your hired wizard yells from the thrill. You check the floating corpse one last time to make sure it is truly dead, and after doing so, move on past it to the next area of the Sewers.\n\n**You can now also access a new Exploration area: "Hazardous Sector"!**'));var u=o.build();ju(i.getId()+"Triggerer",(function(e){return u.hasTriggered(e)||i.hasTriggered(e)||!yr(e,Mw)?e:Rn(e).includes(un.Poison)?xl(u)(e):xl(i)(e)}));var l=Tl("hazardousSectorBossDefeatedMain",ae("Hoarding Monstium"),[fl.MAIN_QUEST]).setOnTrigger(qe(Ir.MonstruariumsUnlocked));l.message(ae('The Sludge Mass is finally no more! You still feel somewhat sick; you try and catch your breath in the corner of the room, waiting until it gets better. You notice it left behind a big pile of :monstium:, and wonder - it would be great if you could store more of this resource. You then realize that perhaps there could be a way to have a storage, similarly to how this enemy did it - leveraging Poison (or :poisonessence:) to hold it together...\n\n**You can now build Monstruariums, a new furniture that allows you to store more :monstium:!**\n\n**You can now also access a new Exploration area: "The Hideout"!**'));var s=l.build();ju(s.getId()+"Triggerer",(function(e){return Ve(e,Ir.MonstruariumsUnlocked)||s.hasTriggered(e)||!yr(e,Pw)?e:xl(s)(e)}));var c=Tl("sewersHideoutBossUnlock",ae("Carnivorous Guardian"),[fl.MAIN_QUEST]);c.message(ae("The Sewers have gotten deeper and deeper, and more dangerous. You are certain that by now, you must have explored almost every corner, but you haven't found the wanted alchemist just yet.\n    \nIn what you feel is the last tunnel, you see a door. It appears to have been used recently, and you spot a light from the other side. But something is right in front of the door. There is a pile of... waste, and a giant Man-Eating Plant growing right on top of it. It takes notice of you and makes an awful sound - and it looks extremely dangerous. You are afraid, but you know you're going to have to get past it to get to that door. You get ready for a very tough battle...\n\n**You have unlocked the boss of The Hideout!**"));var f=c.build();ju(f.getId()+"Triggerer",(function(e){return!f.hasTriggered(e)&&Bw.canFightBoss(e)?xl(f)(e):e}));var d=Tl("sewersCompleted",ae("The Mad Alchemist"),[fl.MAIN_QUEST]);d.message(ae('Frantically moving left and right to try and avoid the multiple incoming attacks from each of the three heads, you deal one more blow in the tough fight. The plant gets pushed back and stops moving. Tricked twice already, you brace yourself, low in supplies, for a fourth head to pop up - but this time, it doesn\'t appear. You must have succeeded!\n    \nYour hired wizard jumps cheerfully and high-fives you. You are glad the fight is over - it was very difficult!\n\nWith the Man-Eating Plant out of the way, the door is now reachable. Inside must be the person you have been looking for all this time: the wanted "Mad Alchemist".')),d.message(ae('"Is someone there?" The coarse voice comes from inside. "Come in."\n    \nYour hired wizard and you hesitantly enter. On the other side of the door is a room that is fancied like a study, or a lab perhaps - shelves full of potions and substances of various colors, several books, and a large desk in the center with flasks and other glass containers. On the other side of the desk is the so-called "Mad Alchemist": a man in their later years, with grey curly hair, a furrowed brow, and a peculiar scent.')),d.message(ae('Your hired wizard begins talking: "Are you the one who has been poisoning..." You interrupt her. The reason you are here is not to apprehend the wanted man, even though it is possible that he has been running potentially harmful experiments in these sewers. Instead, you ask him about what has been in your mind all this time: the *Philosopher\'s Stone*.\n    \n"The Philosopher\'s Stone..." He begins to talk, and closes his eyes. "Do you really think I would be living here, in seclusion, away from people, if I had such an object?"\n\n"The answer is obvious, but... no, I don\'t have a Philosopher\'s Stone."')),d.message(ae('He continues to talk. "The Philosopher\'s Stone is the ultimate aspiration of any alchemist. It is only spoken of in legends, and as far as I know, nobody has been able to create such an item. But, what they say in the city is true: I have been trying, for many years, to create one, and yet - have not had any success."\n      \nYou ask him for more details. He readily gives out an answer, but it is not exactly what you are looking for: "The Ancient Legends speak of a Philosopher\'s Stone that was given to the leader of Zeth, an ancient kingdom that used to be somewhere in the Vast Desert. Shortly after, the kingdom fell to unknown ruin. Nobody really knows what happened."')),d.message(ae('He continues: "I have also considered exploring the Vast Desert, but... I am old, as you see, and quite frail now... not ready for the physical toughness and combat prowess that are needed there." He lets out a small sigh.\n    \nYou symphatize with him. You do not know his motivation for the Philosopher\'s Stone, but you can tell he does not have many more years left to live.')),d.message(ae("You close your eyes for a while. The Vast Desert... The place is actually quite close. You've heard it is quite dangerous, and have always been discouraged to step in there. The desert extends as far out as the eye can see, and there is no clear path. It is easy to get lost, and the conditions can be fairly extreme to endure.\n    \nYou feel a renewed urge to search it. If the legends are true, you are bound to find clues about the Philosopher's Stone there. Or maybe even find the object itself...?\n\nYou tell the Alchemist this much, and he offers you a map of the Desert. But with one condition: to not turn him in to the authorities for what he has done. Without thinking, you accept, getting a stern look from your hired wizard, and take the map.")).option(ae("Continue"),{transform:qe(Ir.VastDesertUnlocked)},"end").end(),d.message(ae('As you receive the map, you thank the old man - though, you do ask him to try to be careful with the city\'s water supply.\n    \nAnd finally, you turn back and head out. You are ready to trip through the Vast Desert. You ask the hired wizard to follow you, and she replies enthusiastically: "Of course!" But she quickly adds to it, wrinkling her nose: "But only after taking a bath..."\n\n**You can now explore the Vast Desert!**')).tag("end");var g=d.build();ju(g.getId()+"Triggerer",(function(e){return!g.hasTriggered(e)&&yr(e,Bw)?xl(g)(e):e}))}()}var QP=new Er("advertisingManual",ae("Advertising Manual"),20,10,ae("Sell a total of 1000 items or more"),ae("+50%:coins: from selling items"),(function(e){return!0}));var zP=new Er("bookOfMonsters",ae("Compendium"),30,10,ae("Defeat at least 5 different enemies"),ae('Permanently unlock "Compendium"'),(function(e){return!0}));var VP=new Er("simultaneousChanneling",ae("Simultaneous Channeling"),10,10,ae("Reach Lv8 on your primary Element"),ae('Unlock spell "Channel Four"'),(function(e){return!0}));var WP=new Er("posterity",ae("Posterity"),1,10,ae("Reach Lv7 on your primary element"),ae('Permanently unlock "Retirement"'),(function(e){return!0}));function GP(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var JP=function(e){(0,ws.default)(r,e);var t=GP(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"goblinChief"}},{key:"getName",value:function(){return ae("Goblin Chief")}},{key:"getBaseStats",value:function(){return{maxHP:5e3,attack:55,defense:50,attackDelay:2.7,accuracy:100,dodge:100,crit:0}}},{key:"getPicture",value:function(e){return n(42492)}},{key:"isBoss",value:function(){return!0}},{key:"getLevel",value:function(){return 18}},{key:"getCoinsAwardedBase",value:function(e){return 1e4}},{key:"getMonstiumAwardedBase",value:function(e){return 100}},{key:"getNextAction",value:function(e){var t=this;hu(e);if(ru(e)<.5){if(!xo(e,NR.getId(),Qr.Enemy))return{name:ae("Goblin Stoneskin"),delay:this.getAttackDelay(e),transform:Ro(NR.getId(),180,{target:Qr.Enemy,params:{commonBuff:{DefenseMultiplier:1.25}}})};if(!xo(e,vP.getId(),Qr.Enemy))return{name:ae("Goblin Strength"),delay:this.getAttackDelay(e),transform:Ro(vP.getId(),180,{target:Qr.Enemy,params:{commonBuff:{AttackMultiplier:1.2}}})}}return zt(e,Dt.Coins)>=1e4&&Math.random()<.2?{name:ae("Steal Lots of Coins!"),delay:this.getAttackDelay(e),transform:function(e){return Wt(Dt.Coins,-(1e3+4e3*Math.random()))(e)}}:Math.random()<.4?{name:ae("Strong Attack"),delay:2*this.getAttackDelay(e),transform:function(e){return vu(e,2*t.getAttack(e))}}:(0,xs.default)((0,Cs.default)(r.prototype),"getNextAction",this).call(this,e)}},{key:"getItemsAwardedBase",value:function(e){return[]}},{key:"onDeath",value:function(e,t,n){return e=vl(e=(0,xs.default)((0,Cs.default)(r.prototype),"onDeath",this).call(this,e,t,n),"goblinDen","afterFight")}},{key:"getTips",value:function(){return ae("This Goblin is much larger than the others we have gotten used to fighting. It is really quite strong, with high :attack: and :defense:, and it will become even stronger once it is wounded enough. What's worse is, it will steal a ton of :coins: from us - by the thousands! We should probably not fight it if we are not ready to lose our stockpile. On the other hand, if it just ends up stealing our :coins:, that is one less attack we need to endure... right?")}}]),r}(Wu);const qP=new JP;var XP=new Er("goblinDen",ae("Goblin Den"),240,20,ae("Defeat at least 80 Goblins of any kind in the Sewers this retirement"),ae("+40:land:"),(function(e){return!0}));function KP(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var ZP=new(function(e){(0,ws.default)(r,e);var t=KP(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"paper"}},{key:"getTags",value:function(){return[yh.Material]}},{key:"getPicture",value:function(){return n(43343)}},{key:"getElement",value:function(){return un.Earth}},{key:"getBaseName",value:function(e){return ae("Paper")}},{key:"getDescription",value:function(e,t){return ae("Paper. Used for Enhancements, but also for many more things.")}},{key:"getEffect",value:function(e,t){}},{key:"getBaseSalePrice",value:function(e,t){return 200}}]),r}(Nh)),_P=new(function(e){(0,ws.default)(n,e);var t=KP(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return ZP}},{key:"getCraftingElementLevelRequirements",value:function(){return{Earth:1}}},{key:"canCraft",value:function(e){return Ve(e,Ir.EnhancementsUnlocked)&&(0,xs.default)((0,Cs.default)(n.prototype),"canCraft",this).call(this,e)}},{key:"isVisible",value:function(e){return Ve(e,Ir.EnhancementsUnlocked)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:300,EarthEssence:2e3},items:{}}}},{key:"getElement",value:function(){return un.Earth}}]),n}(sf)),$P=new Er("locationEncyclopedia",ae("Location Encyclopedia"),220,20,ae("Defeat at least 15 enemies in the Hazardous Sector of the Sewers"),ae("Subsequent retirements will need 35% less Exploration to unlock the boss of areas you have unlocked the boss of, to a minimum of 1"),(function(e){return!0}));function eT(){nl.register($P);var e=Tl("locationEncyclopedia",ae("(Storyline) Location Encyclopedia"),[fl.STORYLINE]).setStorylineIds($P.getId());e.message(ae("Exploring the Sewers is proving to be quite annoying. Having to deal with countless enemies and extreme disappointment every time you reach a dead end is... not good.\n    \nYou wish you had a map - so you'd be able to take the correct path, without so much wasted time.")),e.message(ae("Except, you don't know where you could get one.\n      \nInstead, you think about building a map yourself. It shouldn't save you effort, but maybe you could sell it to others. Or, even better - maybe someone else might find a better use for it?\n\nYou think about what you would need to make such a map - or rather, an *encyclopedia* of those places. You'll certainly need Paper, and some Shards for gluing. But you know how to make that by now...")).option(ae("Craft a map (20 Paper, 10 Poison Shards)"),{transform:function(e){return e=Lr(ZP,20,e),e=Lr(Br.getById("elementalShardPoison"),10,e),e=function(e){if($P.isCompleted(e)){void 0==e.temp.locationEncyclopediaCache&&(e.temp.locationEncyclopediaCache=[].concat(hr.getAll()));for(var t=e.temp.locationEncyclopediaCache,n=[],r=[],a=0;a<t.length;a++){var i=t[a],o=Ve(e,"locationEncyclopediaTally-"+i.getIdForTallyingClears());o?r.push(i):!o&&i.isUnlocked(e)&&i.canFightBoss(e)&&n.push(i)}if(r.length>0&&(e.temp.locationEncyclopediaCache=t.filter((function(e){return!r.includes(e)}))),n.length>0)for(var u of n)e=Gi(e,"clearedTally-"+u.getIdForTallyingClears(),1),e=qe("locationEncyclopediaTally-"+u.getIdForTallyingClears())(e)}return e}(e=$P.complete(e))},isEnabled:function(e){return Fr(ZP,e)>=20&&Fr(Br.getById("elementalShardPoison"),e)>=10}},"end").option(ae("Maybe later")).end(),e.message(ae('You put together all the pages and proceed to carefully glue them. You wrap it with a makeshift book cover, and write a grand name: "Location Encyclopedia". You chuckle - it is just a blank book!\n    \nBut it won\'t be blank for long. You start scribbling information that you still remember about the areas you have already visited. You are very hopeful this will be useful in the future!\n\n**You have completed the "Location Encyclopedia" Storyline! Unlocking the boss of a location will reduce the amount of required Exploration on that area by 35% after retiring. This will stack every retirement you clear the location, to a minimum of 1 exploration required!**')).tag("end").end();var t=e.build();ft("locationEncyclopediaListener",(function(e){if(!t.hasTriggered(e)&&!$P.isCompleted(e)&&xu(e,"sewerHazardousSector")>=5)return xl(t)})),ju(t.getId(),(function(e,t){if($P.isCompleted(e)){var n=Zo(e);!Ve(e,"locationEncyclopediaTally-"+n.getIdForTallyingClears())&&n.isUnlocked(e)&&n.canFightBoss(e)&&(e=Gi(e,"clearedTally-"+n.getIdForTallyingClears(),1),e=qe("locationEncyclopediaTally-"+n.getIdForTallyingClears())(e))}return e})),xt([[pt.ExplorationBossRequirement]],"locationEncyclopedia",$P.getName(),At.Multiplier,(function(e,t){if($P.isBonusActive(e)){var n=function(e,t){var n,r;return null!=(n=null==(r=e.world.variables)?void 0:r[t])?n:0}(e,"clearedTally-"+t.floor.getIdForTallyingClears());return Math.pow(.65,n)}return 1}))}var tT=new Er("outessenced",ae("Outessenced"),290,25,(function(e){return ae("Build at least 10 Essence Catalysts")}),(function(e){return ae("Obtain a bonus to channeling of half the effect of an Essence Catalyst for each Essence Catalyst you have less than the maximum you have ever had across any retirement ({{max}})",{max:ue(e.world.maxFurnitureNumbers[Ab.getId()])})}),(function(e){return QP.isCompleted(e)}));function nT(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var rT=new(function(e){(0,ws.default)(r,e);var t=nT(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"copperGauntlet"}},{key:"getSlot",value:function(){return hi.Hand}},{key:"getPicture",value:function(){return n(89755)}},{key:"getBaseName",value:function(e){return ae("Copper Gauntlet")}},{key:"getDescription",value:function(e,t){return ae("A gauntlet made from reinforced copper. An upgrade from basic knuckles, easily fits into your hand.")}},{key:"getBaseSalePrice",value:function(e,t){return 2600}},{key:"getAttackBonusBase",value:function(e){return 50}},{key:"getAttackDelayBonusRatioBase",value:function(e){return-.4}}]),r}(Qh)),aT=new(function(e){(0,ws.default)(n,e);var t=nT(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return rT}},{key:"getCraftingElementLevelRequirements",value:function(){return{Air:17}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:400,AirEssence:12e3},items:{elementalShardAir:40,copperIngot:7}}}},{key:"getElement",value:function(){return un.Air}}]),n}(lx));function iT(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var oT=new(function(e){(0,ws.default)(r,e);var t=iT(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"copperRapier"}},{key:"getSlot",value:function(){return hi.Hand}},{key:"getPicture",value:function(){return n(66164)}},{key:"getBaseName",value:function(e){return ae("Copper Rapier")}},{key:"getDescription",value:function(e,t){return ae("A stabbing sword made from reinforced copper.")}},{key:"getBaseSalePrice",value:function(e,t){return 1700}},{key:"getAttackBonusBase",value:function(e){return 66}},{key:"getAttackDelayBonusRatioBase",value:function(e){return-.05}}]),r}(Qh)),uT=new(function(e){(0,ws.default)(n,e);var t=iT(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return oT}},{key:"getCraftingElementLevelRequirements",value:function(){return{Earth:15}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:400,EarthEssence:1e4},items:{elementalShardEarth:30,copperIngot:5}}}},{key:"getElement",value:function(){return un.Earth}}]),n}(lx));function lT(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var sT=new(function(e){(0,ws.default)(r,e);var t=lT(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"copperTomahawk"}},{key:"getSlot",value:function(){return hi.Hand}},{key:"getPicture",value:function(){return n(13997)}},{key:"getBaseName",value:function(e){return ae("Copper Tomahawk")}},{key:"getDescription",value:function(e,t){return ae("An axe, made from reinforced copper. Strong, but not overly heavy.")}},{key:"getBaseSalePrice",value:function(e,t){return 2200}},{key:"getAttackBonusBase",value:function(e){return 105}},{key:"getAttackDelayBonusRatioBase",value:function(e){return.4}}]),r}(Qh)),cT=new(function(e){(0,ws.default)(n,e);var t=lT(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return sT}},{key:"getCraftingElementLevelRequirements",value:function(){return{Fire:14}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:400,FireEssence:5e3},items:{elementalShardFire:25,copperIngot:3}}}},{key:"getElement",value:function(){return un.Fire}}]),n}(lx));function fT(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var dT=new(function(e){(0,ws.default)(n,e);var t=fT(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"sewers"}},{key:"getName",value:function(){return ae("Sewers")}},{key:"getDungeonFloors",value:function(){return[Mw,Pw,Bw]}},{key:"isUnlocked",value:function(e){return Ve(e,Ir.SewersUnlocked)}}]),n}(yP)),gT=new(function(e){(0,ws.default)(n,e);var t=fT(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getHintMessageWhenPossible",value:function(){return ae("Explore the Sewers")}},{key:"getHintMessageWhenNotPossible",value:function(){return ae("This Storyline can be found by exploring the Sewers, but you cannot get it this run")}},{key:"maxTriggersPerRun",value:function(){return 1}},{key:"getId",value:function(){return"sewers"}},{key:"getExplorationSuccessesBase",value:function(){return 150}},{key:"getDungeonFloors",value:function(){return dT.getDungeonFloors()}}]),n}(VR));var hT=new Er("passageOfStench",ae("Passage of Stench"),260,20,(function(e){return ae("Explore the Sewers")}),ae("+100% effectivity of Essence Storages"),(function(e){return!0}));var mT=new Er("shardStockpile",ae("Stockpile of Shards"),280,20,ae("Obtain 150:mana:/sec after retiring at least 2 times"),ae("Begin subsequent retirements with 30 shards of every unlocked Element"),(function(e){return!0}));function yT(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var pT=new(function(e){(0,ws.default)(r,e);var t=yT(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"wizardsHat"}},{key:"getSlot",value:function(){return hi.Accessory}},{key:"getPicture",value:function(){return n(22071)}},{key:"getBaseName",value:function(e){return ae("Wizard's Hat")}},{key:"getDescription",value:function(e,t){return ae("A traditional hat, popular with wizards of all kinds. Boosts spellcasting.")}},{key:"getBaseSalePrice",value:function(e,t){return 2e3}},{key:"getDefenseBonusBase",value:function(e){return 3}},{key:"getManaRegenBonusBase",value:function(e){return 10}},{key:"getMaxManaBonusBase",value:function(e){return 300}}]),r}(Qh)),vT=new(function(e){(0,ws.default)(n,e);var t=yT(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return pT}},{key:"getCraftingElementLevelRequirements",value:function(){return{Water:18}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:400},items:{elementalShardWater:20,cotton:5}}}},{key:"getElement",value:function(){return un.Water}}]),n}(lx)),AT=new Er("someonesTrashBook",ae("Somebody's Trash (Book)"),250,20,(function(e){return ml("someonesTrash").hasTriggered(e)&&(bT.isCompletedThisRun(e)||kT.isCompletedThisRun(e))?ae("Explore the Sewers, but you cannot get it this run"):ae("Explore the Sewers")}),(function(e){return ae("+25% Exp gain from Studying")}),(function(e){return!0})),bT=new Er("someonesTrashHat",ae("Somebody's Trash (Hat)"),251,20,(function(e){return ml("someonesTrash").hasTriggered(e)&&(AT.isCompletedThisRun(e)||kT.isCompletedThisRun(e))?ae("Explore the Sewers, but you cannot get it this run"):ae("Explore the Sewers")}),ae("Start runs with a Wizard's Hat accessory"),(function(e){return!0})),kT=new Er("someonesTrashTreasure",ae("Somebody's Trash (Treasure Chest)"),252,20,(function(e){return ml("someonesTrash").hasTriggered(e)&&(AT.isCompletedThisRun(e)||bT.isCompletedThisRun(e))?ae("Explore the Sewers, but you cannot get it this run"):ae("Explore the Sewers")}),ae("Start with your :coins: storage filled up"),(function(e){return!0}));var xT=new Er("advancedManaSpouts",ae("Advanced Mana Spouts"),130,10,(function(e){return ae("Explore the Training Towers")}),ae("+30% effectivity and -30% cost scaling of Mana Spouts"),(function(e){return!0}));var wT=new Er("alchemyClass",ae("Alchemy Class"),110,10,(function(e){return ae("Explore the Training Towers")}),ae("Item {{item}} restores an extra +15:hp:",{item:fx.getBaseName(fx.getDefaultParams())}),(function(e){return!0}));function ET(e){return new Er("essenceArtifact"+e,ae("Essence Artifact ({{element}})",{element:ln(e)}),100+CT.indexOf(e),10,(function(t){var n;return(null==(n=lR("trainingTowers").getSelectedEvent(t))?void 0:n.getId())=="essenceArtifact"+e?ae("Explore the Tower of {{element}} Training at least 60 times",{element:ln(e)}):ae("This Storyline can be found in the Training Towers, but you cannot get it this run")}),ae("+100{{essenceIcon}}/sec",{essenceIcon:":"+Ss[e].toLowerCase()+":"}),(function(e){return!0}))}var CT=[un.Fire,un.Earth,un.Water,un.Air],IT=Object.fromEntries(CT.map((function(e){return[e,ET(e)]})));function BT(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var ST=function(e){(0,ws.default)(r,e);var t=BT(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"knightInShiningArmor"}},{key:"getName",value:function(){return ae("Knight in Shining Armor")}},{key:"getBaseStats",value:function(){return{maxHP:1e3,attack:25,defense:20,attackDelay:3.3,accuracy:100,dodge:100,crit:0}}},{key:"getPicture",value:function(e){return n(68499)}},{key:"getLevel",value:function(){return 5}},{key:"getCoinsAwardedBase",value:function(e){return 100}},{key:"getMonstiumAwardedBase",value:function(e){return 1}},{key:"getNextAction",value:function(e){var t=this;return!xo(e,NR.getId(),Qr.Enemy)&&ru(e)>.5&&Math.random()<.5?{name:ae("Stoneskin"),delay:1.2*this.getAttackDelay(e),transform:Ro(NR.getId(),30,{target:Qr.Enemy,params:{commonBuff:{DefenseMultiplier:1.75}}})}:Math.random()<.5&&ru(e)<.5&&!xo(e,vP.getId(),Qr.Enemy)?{name:ae("Strength"),delay:1.2*this.getAttackDelay(e),transform:function(e){return Ro(vP.getId(),30,{target:Qr.Enemy,params:{commonBuff:{AttackMultiplier:1.25}}})(e)}}:Math.random()<.2&&ru(e)<.3?{name:ae("Triple Attack"),delay:1.2*this.getAttackDelay(e),transform:function(e){return e=vu(e,.7*t.getAttack(e)),e=vu(e,.7*t.getAttack(e)),e=vu(e,.7*t.getAttack(e))}}:Math.random()<.3?{name:ae("Double Attack"),delay:1.1*this.getAttackDelay(e),transform:function(e){return e=vu(e,.8*t.getAttack(e)),e=vu(e,.8*t.getAttack(e))}}:{name:ae("Attack"),delay:this.getAttackDelay(e),transform:function(e){return vu(e,t.getAttack(e))}}}},{key:"isBoss",value:function(){return!0}},{key:"getItemsAwardedBase",value:function(e){return[]}},{key:"onDeath",value:function(e,t,n){return e=vl(e=(0,xs.default)((0,Cs.default)(r.prototype),"onDeath",this).call(this,e,t,n),"howToFight","afterFight")}},{key:"getTips",value:function(){return ae("Wow... so gallant! I wish he had come for me instead! In any case... he likes to attack multiple times in a row, but the attacks are weaker than a normal attack. High :defense: armor is pretty effective, but make sure you also have a way to heal, like with Health Potions - you might need Water Lv6 for that. It's obvious he is going easy on you!")}}]),r}(Wu);const RT=new ST;var PT=new Er("howToFightHP",ae("How to Fight (HP)"),140,10,(function(e){return ml("howToFight").hasTriggered(e)?ae("Lose in battle at least 20 times; however, you cannot trigger it again this run"):ae("Lose in battle at least 20 times")}),ae("+30 Max:hp:"),(function(e){return!0})),TT=new Er("howToFightAttack",ae("How to Fight (Attack)"),141,10,(function(e){return ml("howToFight").hasTriggered(e)?ae("Lose in battle at least 20 times; however, you cannot trigger it again this run"):ae("Lose in battle at least 20 times")}),ae("+10:attack:"),(function(e){return!0})),jT=new Er("howToFightDefense",ae("How to Fight (Defense)"),142,10,(function(e){return ml("howToFight").hasTriggered(e)?ae("Lose in battle at least 20 times; however, you cannot trigger it again this run"):ae("Lose in battle at least 20 times")}),ae("+10:defense:"),(function(e){return!0})),MT=new Er("howToFightAttackDelay",ae("How to Fight (Speed)"),143,10,(function(e){return ml("howToFight").hasTriggered(e)?ae("Lose in battle at least 20 times; however, you cannot trigger it again this run"):ae("Lose in battle at least 20 times")}),ae("-5%:attackDelay:"),(function(e){return!0}));function DT(e){return[un.Fire,un.Earth,un.Water,un.Air].includes(e.run.primaryElement)?e.run.primaryElement:un.Fire}var OT=new Er("studentContest",ae("The Student Contest"),120,10,(function(e){return ae("Explore the Tower of {{element}} Training",{element:ln(DT(e))})}),ae("+5 extra Wizards"),(function(e){return!0}));var NT=new Er("zoomThroughTraining",ae("Zoom Through Training"),160,10,ae("Defeat the Head Instructor within 5 in-game minutes after starting a run"),ae("Start new retirements with all game progress until the end of the Training Towers completed; +14.9K Max of all Essences; +9K Max:monstium:; +15K Max:coins:; +20:land:; Begin new retirements with 100 :paper:Paper, full :monstium: and storage of all Essences, and 3 :healthPotion:Health Potion"),(function(e){return!0}));function UT(){qt("StorylineBonusActivator",(function(e,t){return nl.getAll().forEach((function(t){t.isCompleted(e)&&!t.isBonusActive(e)&&(e=t.activateBonus(e))})),e})),Zf.register(il,"storylineHintUnlocker"),function(){nl.register(WP);var e=Tl("posterity",ae("(Storyline) Posterity"),[fl.STORYLINE]).setStorylineIds(WP.getId());e.message(ae("As you continue casting various different kinds of spells, your knowledge becomes more advanced and you start realizing that you are actually learning, unlike when you were at school. You are learning not just about the elements and about their magic, but you are also learning about *how to learn* - how to become more proficient in the process itself.\n  \nYou pull out your diary and intend to write about it, but as you begin to flip through the pages, you notice one where your writing was particularly sloppy. You stop, and the blood freezes in your veins: it is your entry from the day your close relative succumbed to illness.")),e.message(ae("You read a slight bit. It has already been several years since then, but you still remember how devastated you were. That specific day, too, was the day when you decided that no one else should go through the horrors they did - the day when you vowed to yourself to find or create the *Philosopher's Stone*. You had then enrolled into magic school, hoping to be able to deduce how to make it, but... it was merely a pipe dream, wasn't it?\n  \nYou take a deep breath and jump over to the last page, and you begin writing about what you have learned so far. You suddenly become quite tired. It feels like such a difficult task - and you don't know how long it would even take. You feel tears welling in your eyes - and soon after, you tell yourself you want to *give up*.")).option(ae("Continue"),{transform:function(e){return e=WP.complete(e),WP.activateBonus(e)}},"end"),e.message(ae('However, you stop yourself. Not yet... no, you can\'t give up. You have barely started, you tell yourself. But, you recognize the immensity of the task you laid upon yourself, and realize that you are not sure if you\'ll be able to get to the end like this.\n  \nBecause of that reason, you make one more promise to yourself - you are going to write about everything that you have learnt in this same diary. If you ever decide to give up, someone can then pick up this book, and hopefully that will give them a head start and set them up for success. With renewed energy, you quickly finish what you were writing and continue practicing magic.\n\n**You have permanently unlocked the "Retirement" feature! At any point, you can decide to retire - starting the game over again from the beginning, but obtaining powerful bonuses. You can do so from the "Retirement" screen!**')).tag("end").end();var t=e.build();Zf.register((function(e,n){return e.run.primaryElement&&!t.hasTriggered(e)&&!WP.isCompleted(e)&&Sn(e)>=7?xl(t)(e):e}),t.getId())}(),function(){nl.register(zP);var e=Tl("bookOfMonsters",ae("(Storyline) Compendium"),[fl.STORYLINE]).setStorylineIds(zP.getId());e.message(ae('You fell one more enemy as you explore. You look behind you and you notice a familiar figure - it is your hired wizard! What is she doing all the way here?\n    \n"That was *so cool*", she exclaims loudly, after you notice her. "You are strong! How do you do it?"\n\nYou are quite startled and surprised by her presence, and are not quite sure how to respond, but she continues before you are able to...')),e.message(ae('"I\'ve been actually watching you since you started exploring, and - I\'ve noticed the various kinds of enemies you have been fighting and items you have been finding. And I\'ve been *recording information* about them!" She shows you a book, titled *"Compendium"*.\n      \nYou admit you are a little intrigued. You walk up to her and open the book. It is barely filled in, but the few pages that have writing in them have quite a lot of information - including even *drawings* of each of the enemies you have defeated!')).option(ae("Continue"),{transform:function(e){return e=zP.complete(e),zP.activateBonus(e)}},"end"),e.message(ae('You are pretty impressed. Some of the enemy entries even have observations from her on how to combat them effectively!\n      \nSomething like this might justify her accompanying you. You hesitate to tell her immediately - you sense she will get extremely excited. For a brief moment you even think about her motivations. You tell yourself it\'s not the time right now, though. Resolved to let her know that she should come with you on your explorations *after* you go back home, you thank her for starting the book - you are sure it\'ll be useful.\n\n**You have completed the "Compendium" Storyline! You have permanently unlocked the "Compendium" screen, which records information about items you have found, and about enemies you have defeated or battled before. This will persist even after retirement!**')).tag("end").end();var t=e.build();ft("bestiaryUnlockListener",(function(e){if(!t.hasTriggered(e)&&!zP.isCompleted(e)&&Qu(e).length>=5)return xl(t)}))}(),function(){nl.register(QP);var e=Tl("advertisingManual",ae("(Storyline) Advertising Manual"),[fl.STORYLINE]).setStorylineIds(QP.getId());e.message(ae('After finishing a recent transaction, you\'re delighted - you managed to get a fair amount of :coins: for a simple item!\n  \nYou walk back home, but you are interrupted in your tracks by a man with a huge backpack. "Excuse me," he says, "may I have a few moments of your attention?"')),e.message(ae('He introduces himself: "I am a traveling merchant. I buy and sell things for a living." Then he continues: "I couldn\'t help but note how... *simple*... that last sale was. You just went right up to your buyer, and... handed over your good for the posted price."\n  \nIt feels like a reprimand: "That\'s definitely not how you should do things. When you are selling a product, any price you see posted is just *the bare minimum* you could manage to sell it for. You have gone through quite some effort just acquiring your item, and they are giving you *a misery* for it!"\n\nYou haven\'t had much experience as a merchant, and really didn\'t think much about it...')),e.message(ae('"I have something just for you. This *book*," he exclaims, while taking something out from his backpack and showing it to you. It is, indeed, a book: the cover reads "The Basics of Advertising".\n  \n"With this book, you\'ll be able to get much more value out of the things that you decide to sell - if you do a lot of this, it will *definitely* come in handy!"\n\nIt sounds like a good idea, until he says: "I\'d be happy to sell it to you for *10K:coins:*. Which I\'m sure you\'ll be able to make back in no time!" That price feels very *steep*. You really feel like this merchant is using that very technique on you. You\'re not sure of whether you should buy it or not...')).option(ae("Buy the book (10K Coins)"),{transform:function(e,t){return Wt(Dt.Coins,-1e4)(e)},isEnabled:function(e,t){return zt(e,Dt.Coins)>=1e4}},"purchased").option("Maybe later").end(),e.message(ae('You decide to give over the money. It was difficult to accumulate that much, but you are convinced this book could really be valuable. The merchant smiles while taking your :coins:. "Nice doing business with you," he says, then hands over the book. "Best of luck on your future sales!" He waves at you and walks away.\n  \nYou decide to head home...')).tag("purchased").option(ae("Continue"),{transform:function(e,t){return QP.complete(e)}}),e.message(ae('From the comfort of your home, you finally decide to take out the book and read it so you can apply it right away. Then you feel heartbroken. It does indeed describe techniques about how to advertise, but... they seem *so complex and difficult to understand*! You begin to regret your purchase. Will you ever be able to master this?\n  \nFor now, you decide to put it away. You don\'t feel like this is going to help you very much right now. But you think that perhaps someone in the future might be able to use it...\n\n**You have completed the "Advertising Manual" Storyline! In future runs, you will gain +50%:coins: when selling items!**'));var t=e.build();ft("advertisingManualTriggerer",(function(e){if(!QP.isCompleted(e)&&!t.hasTriggered(e)&&Ji(e,"itemsSold")>=1e3)return xl(t)})),xt([[pt.ItemSalePrice]],QP.getId(),QP.getName(),At.Multiplier,(function(e){return QP.isBonusActive(e)?1.5:1}))}(),function(){nl.register(VP);var e=Tl("simultaneousChanneling",ae("(Storyline) Simultaneous Channeling"),[fl.STORYLINE]).setStorylineIds(VP.getId());e.message(ae("Your expertise with magic continues to increase. Once more, you think about Channeling - getting essences of your primary element is proving fruitful, but you begin to think that it is actually a lot of work to have to think about many elements at once...\n    \nYou wonder if perhaps there could be a spell that could channel many elements at once... You think you will probably need even more expertise to figure this out.")).option(ae("Research a new spell (Requires Fire Lv7, Earth Lv7, Water Lv7, Air Lv7)"),{transform:function(e){return VP.complete(e)},isEnabled:function(e){return xn(e,un.Fire)>=7&&xn(e,un.Earth)>=7&&xn(e,un.Water)>=7&&xn(e,un.Air)>=7}},"end").option(ae("Maybe later")).end(),e.message(ae('You come up with a new idea! You prepare yourself and get ready to cast the spell, and then you do so... and you are startled as a sudden explosion happens in front of you! You hear giggles from behind you - your hired wizard has definitely taken notice of your failure.\n    \nIt appears that isn\'t going to be enough. You are convinced it has something to do with your skills, but you make sure to write down your ideas in your diary, so that if anyone else sees it in the future they would be able to try it...\n\n**You have completed the "Simultaneous Channeling" Storyline! In future runs, you will have a new spell available, to channel Fire, Earth, Water and Air at once: "Channel Four"!**')).tag("end");var t=e.build();Zf.register((function(e,n){return e.run.primaryElement&&!VP.isCompleted(e)&&!t.hasTriggered(e)&&Sn(e)>=8&&Dc(e)?xl(t)(e):e}),t.getId())}(),function(){nl.register(PT),nl.register(TT),nl.register(jT),nl.register(MT);var e=Tl("howToFight",ae("(Storyline) How to Fight"),[fl.STORYLINE]).setStorylineIds([PT.getId(),TT.getId(),jT.getId(),MT.getId()]);e.message(ae('*Ouch*. You have had to run away from combat so many times. As you nurse your wounds yet again at home, you hear a knock on the door. Your hired wizard checks it out, but she exclaims in a dreamy voice: "It is a *knight in shining armor*!"\n    \nYou feel she is probably just pulling your leg, so you decide to head up to the door and open it. But she was not. She was speaking the truth. You come face to face with what you can just describe as... a knight in shining armor.')),e.message(ae('"Salutations," he says, removing his helmet. "I am a combat trainer, and I have observed your recent battle." He continues: "I know some more advanced ways to fight, which can definitely help level the playfield. I can teach some of them to you, if you\'d like."\n      \nYou agree that would be a good idea. You ask him about prices, but he shakes his head: "I don\'t take pleasure in benefiting from those in need." You don\'t really understand this person. But their armor and movements appear very skilled, so you\'re inclined to believe him.\n\nYour hired wizard watches you, from a distance, but she seems more enthralled with the knight than anything else.')),e.message(ae('"However", he says, "you will first need to show me that you can at least handle some basic combat. Let\'s have a short duel - *don\'t worry, I will not use my full strength* - and if you are able to win, I\'ll teach you some advanced combat techniques."\n    \nYou are now wary of him. He looks very strong. Is this really going to be possible?\n\n"I will heal you before we begin, but otherwise, make sure you are ready for combat before we duel", he finishes saying, before putting his helmet back on. You heed his words, and ready up for combat.')).option(ae("Fight the Knight in Shining Armor"),{transform:function(e){return e=Yi(e,"goToExploration"),e=Yi(e,"closeAllMenus"),e=lu(e=Yi(e,"closeEventOverlay"),1/0,ae("Healing from the Knight in Shining Armor")),$o(RT)(e)}}).option(ae("Maybe later")).end(),e.message(ae('The fighting feels intense. You hear your hired wizard rooting for the knight, but you are too focused on the fight to argue with her.\n    \nYou wipe your sweat from your face and ready to strike again at the knight, but he tells you to stop. "That\'s enough," he shouts. You back off, and take a deep breath, putting down your weapon just as he does.')).tag("afterFight"),e.message(ae('The knight removes his helmet once again, and tells you: "That was a pretty good job. I\'d be happy to teach you now." You feel like you need to continue releasing the tension from the fight. You are not sure how he can be so unfazed.\n    \nHe continues: "Please tell me what kind of combat techniques you would like to learn."')).option(ae("More vitality (Max HP)"),{transform:function(e){return e=PT.complete(e),ra(e=PT.activateBonus(e),Qr.Player)},isVisible:function(e){return!PT.isCompleted(e)}},"maxHP").option(ae("More power (Attack)"),{transform:function(e){return e=TT.complete(e),ra(e=TT.activateBonus(e),Qr.Player)},isVisible:function(e){return!TT.isCompleted(e)}},"attack").option(ae("More resilience (Defense)"),{transform:function(e){return e=jT.complete(e),ra(e=jT.activateBonus(e),Qr.Player)},isVisible:function(e){return!jT.isCompleted(e)}},"defense").option(ae("More speed (Attack Delay)"),{transform:function(e){return e=MT.complete(e),ra(e=MT.activateBonus(e),Qr.Player)},isVisible:function(e){return!MT.isCompleted(e)}},"attackDelay").end(),e.message(ae('You tell the trainer you would like to be more healthy throughout and outside of battle. With a nod, he proceeds to tell you how to better take care of your body to endure more wounds and be able to heal quicker. You listen intently and take notes.\n    \nAfter the exchange, you thank him for his services. With those tips, you are sure you will be much more healthy in the future.\n\n**You have completed the "How to Fight (HP)" Storyline! You will permanently gain +30 Max:hp:. This will persist even after retirement!**')).tag("maxHP").end(),e.message(ae('You tell the trainer you would like to be more powerful and able to deal more damage to enemies with your attacks. With a nod, he proceeds to tell you how to better swing your weapon and position yourself in order to apply more power to your movement. You listen intently and take notes.\n    \nAfter the exchange, you thank him for his services. With those tips, you are sure you will be able to gain an upper hand over enemies in the future.\n\n**You have completed the "How to Fight (Attack)" Storyline! You will permanently gain +10:attack:. This will persist even after retirement!**')).tag("attack").end(),e.message(ae('You tell the trainer you would like to be more resilient against enemy attacks. With a nod, he proceeds to tell you how to strengthen your muscles and harden your body to become more impervious to damage. You listen intently and take notes.\n    \nAfter the exchange, you thank him for his services. With those tips, you are sure you will be able to endure onslaughts much more effectively.\n\n**You have completed the "How to Fight (Defense)" Storyline! You will permanently gain +10:defense:. This will persist even after retirement!**')).tag("defense").end(),e.message(ae('You tell the trainer you would like to be speedier in your movements in combat. With a nod, he proceeds to tell you how to gracefully switch positions from one to the next and how to make your attacks flow into the next one effortlessly. You listen intently and take notes.\n    \nAfter the exchange, you thank him for his services. With those tips, you are sure you will be able to approach combat with increased agility.\n\n**You have completed the "How to Fight (Speed)" Storyline! You will permanently gain -5%:attackDelay:. This will persist even after retirement!**')).tag("attackDelay").end();var t=e.build();ft("howToFightEventTriggerer",(function(e){if(!Ve(e,"howToFightIsDone"))return[PT,TT,jT,MT].every((function(t){return t.isCompleted(e)}))?qe("howToFightIsDone"):!t.hasTriggered(e)&&Ji(e,"deathCount")>=20&&[PT,TT,jT,MT].some((function(t){return!t.isCompleted(e)}))?(e=qe("howToFightIsDone")(e),xl(t)):void 0})),xt([[Qr.Player,Vr.MaxHP]],"howToFightHP",PT.getName(),At.Addition,(function(e){return PT.isBonusActive(e)?30:0})),xt([[Qr.Player,Vr.Attack]],"howToFightAttack",TT.getName(),At.Addition,(function(e){return TT.isBonusActive(e)?10:0})),xt([[Qr.Player,Vr.Defense]],"howToFightDefense",jT.getName(),At.Addition,(function(e){return jT.isBonusActive(e)?10:0})),xt([[Qr.Player,Vr.AttackDelay]],"howToFightAttackDelay",MT.getName(),At.Multiplier,(function(e){return MT.isBonusActive(e)?.95:1}))}(),function(){nl.register(NT);var e=Tl("zoomThroughTraining",ae("(Storyline) Zoom Through Training"),[fl.STORYLINE]).setStorylineIds(NT.getId());e.message(ae("Your victory in combat against the Head Instructor marks the end of your combat training, but you really feel like you have no need for it anymore. Everything so far felt like a complete breeze.")).option(ae("Continue"),{transform:function(e){return NT.complete(e)}}),e.message(ae("You write a few more notes in your diary. Everything you found in that house once you moved in has helped you so much - and with this last bit of information, if anyone else comes after you, they'll be able to get going... *very* quickly.\n\n**You have completed the \"Zoom Through Training\" Storyline! In future retirements, you will begin with all the unlocks you have obtained up to this point already unlocked. This means you will not need to explore the Training Towers and will be able to start directly from the next area! But you will also obtain many more bonuses: a flat +14.9K bonus to all your Essence storing capacity, +15K Max:coins: and +9000 Max:monstium:, as well as an extra +20:land:! You will also begin with 100 :paper:Paper in your inventory, and 3 :healthPotion:Health Potion so you don't need to look for their materials. And to top it all off, your Essence and Monstium storage will start full!**"));var t=e.build();ju(t.getId()+"Triggerer",(function(e){return!t.hasTriggered(e)&&!NT.isCompleted(e)&&Aa(e)<=300&&Ve(e,Ir.HeadInstructorDefeated)?xl(t)(e):e})),Xt("zoomThroughTraining",(function(e){if(NT.isBonusActive(e)){var t=[Ir.ChannelingUnlocked,Ir.ManaSpoutsUnlocked,Ir.ManaShardsUnlocked,Ir.StoragesUnlocked,Ir.CatalystsUnlocked,Ir.StudyUnlocked,Ir.TransmutationUnlocked,Ir.WizardsUnlocked,Ir.SaleStallsUnlocked,Ir.ResearchersUnlocked,Ir.LandPurchaseUnlocked,Ir.ExplorationUnlocked,Ir.RestOfTrainingUnlocked,Ir.EnhancementsUnlocked,Ir.SewersUnlocked];for(var n of t)e=qe(n)(e);var r=[xR,TR,zR,RP];for(var a of r)e=vr(e,a.getId());var i=Rn(e=Wt(Dt.Monstium,1/0)(e));for(var o of i)e=Wt(Ss[o],1/0)(e);e=Or({itemId:ZP.getId(),params:{}},100,e),e=Or({itemId:fx.getId(),params:{}},3,e)}return e})),xt((0,h.default)(Object.values(Ss).map((function(e){return[e,pt.Cap]}))),"zoomThroughTrainingStorage",NT.getName(),At.Addition,(function(e,t){return NT.isBonusActive(e)?14900:0})),xt([[Dt.Coins,pt.Cap]],"zoomThroughTrainingCoins",NT.getName(),At.Addition,(function(e,t){return NT.isBonusActive(e)?15e3:0})),xt([[Dt.Monstium,pt.Cap]],"zoomThroughTrainingMonstium",NT.getName(),At.Addition,(function(e,t){return NT.isBonusActive(e)?9e3:0})),xt([[pt.Land,pt.Cap]],"zoomThroughTrainingLand",NT.getName(),At.Addition,(function(e,t){return NT.isBonusActive(e)?20:0})),Ku(NT,sR.ZOOM_THROUGH_TRAINING)}(),function(){var e=lR("trainingTowers"),t=function(t){nl.register(IT[t]);var n=Tl("essenceArtifact"+t,ae("(Storyline) Essence Artifact ({{element}})",{element:ln(t)}),[fl.STORYLINE]).setStorylineIds(IT[t].getId());n.message(ae("Exploring the Tower of {{element}} Training, you find a strange small cauldron-like object. You find it odd, and haven't seen it before. You decide to bring it home to study it further.",{element:ln(t)})),n.message(ae("At home, you examine the object some more. It looks like an artifact of some sort. It is decorated with what you learned as the traditional symbols of {{element}}.\n    \nYou notice a small drawer / opening on the bottom. It appears like there are countless slots for... *something*. It seems like they are about the same size of an elemental shard. Perhaps you should try filling it up...?",{element:ln(t)})).option(ae("Insert elemental shards (100 {{element}} Shard)",{element:ln(t)}),{transform:function(e){return Lr(Br.getById("elementalShard"+t),100,e)},isEnabled:function(e){return Fr(Br.getById("elementalShard"+t),e)>=100}},"end").option(ae("Maybe later")).end(),n.message(ae('You insert all the shards into the compartment, and align them one by one diligently. You then close the compartment, and wait. But nothing happens. Did you do something wrong?\n        \nYou turn around the object, and notice an inscription on the back side. How did you miss this? It says: *"{{element}} Essence Materializer"*. It sounds exciting. But then you notice more: *"Charge Time: 30 Years"*...',{element:ln(t)})).option("Continue",{transform:function(e){return IT[t].complete(e)}},"final").tag("end").end(),n.message(ae("*What?* You will need to wait *30 years* for this to work? Changing your mind, you open the compartment to retrieve your shards. Or at least you *try* to - it appears to be locked! Even pulling strongly on it doesn't open it. It's as if it was fully sealed.\n          \nYou sigh deeply. Perhaps you shouldn't be taking random artifacts from places and playing with them. You quickly perish the thought - what if any of those were hints on how to obtain the Philosopher's Stone? Regardless, you put away the artifact, resigned that you won't be able to do anything with it...\n\n**You have completed the \"Essence Artifact ({{element}})\" Storyline! In future runs, you will gain a permanent +100{{essenceIcon}}/sec!**",{element:ln(t),essenceIcon:":"+Ss[t].toLowerCase()+":"})).tag("final");var r=n.build(),a=jP[t];ju(r.getId()+"Triggerer",(function(n){return e.getSelectedEvent(n)==r&&!IT[t].isCompleted(n)&&!r.hasTriggered(n)&&xu(n,a.getId())>=60?xl(r)(n):n})),ui.register(new oi("incomeOverTime"+t,IT[t].getName(),(function(e){var n={};return IT[t].isBonusActive(e)&&(n[Ss[t]]=100),n}))),e.addEvent({event:r,getWeight:function(e){return IT[t].isCompleted(e)?0:100}})};for(var n of CT)t(n)}(),function(){nl.register(wT);var e=Tl("alchemyClass",ae("(Storyline) Alchemy Class"),[fl.STORYLINE]).setStorylineIds(wT.getId());e.message(ae('In the Tower of Training, you find a room that looks exactly like a classroom. You are not surprised to find such rooms - after all, this place is connected to your old magic school. You peek inside. The classroom appears to be empty, so you decide to go in.\n    \nYou look around the room. It is definitely something related to Alchemy, as evidenced by the giant cauldron in the front. It appears this place has been used recently.\n\nThen you hear a faint voice from behind you: *"Is someone there?"*')),e.message(ae('You turn around and find a lady of advanced age. She is dressed in the same way your teachers at your school were, but you never met her. You introduce yourself and tell her that you are doing the special combat training at this tower.\n        \n"Admirable," she says. "Do you know how to defeat difficult adversaries? Perhaps the most important items in that situation are potions. Even if you cannot tell others to help you drink them, you do not need Mana to do so, so you can stay focused on using powerful spells. At the same time, among those, Health Potions are *particularly* important - they let you stay alive and heal your wounds."\n\nYou intently listen to her lecture.')),e.message(ae('"It just so happens that these potions are my specialty. I know how to make them particularly strong, but if you\'d like me to teach you, you\'ll first have to show me that you have enough experience to understand my explanation."\n  \nShe then asks you: "Show me that you can do this. Bring me 6 Health Potions, and I will consider telling you about it."\n\nShe starts turning back on you, but right before she does so, she interrupts herself to say one last thing: "Oh, and - in case you didn\'t know - you can transmute Health Potions by having Water Lv6 or higher."')).option(ae("Hand over the potions (6 Health Potion)"),{transform:function(e){return Lr(fx,6,e)},isEnabled:function(e){return Fr(fx,e)>=6}},"end").option(ae("Maybe later")).end(),e.message(ae('You hand over the potions to the teacher. She is delighted: "Wonderful! You must have really learned Alchemy well at school." You are tempted to tell her that you only just learned how to make these potions recently, after finishing the school, but you keep it to yourself.\n        \n"I will now tell you the secret technique to making Health Potions," she says. You begin taking notes in a frenzy as she goes through detailed explanations of how and when to combine the ingredients of the potion, as well as how to pre-treat the Wildgrass.\n\nWhen she is finally done, you thank her for the lesson and head back out.')).option("Continue",{transform:function(e){return wT.complete(e)}},"final").tag("end").end(),e.message(ae('When you get home again, you are ready to put it into practice. Except when you look at your notes again, they don\'t make too much sense. Your hired Wizard looks at you with interest and glances over your notes, before exclaiming: "I can\'t make heads or tails of what you wrote!".\n\nYou have a small argument with her over the rude comment, but she is admittedly right - you feel disappointed in yourself. Perhaps in the future someone else can understand these? You get back to doing what you were doing before.\n\n**You have completed the "Alchemy Class" Storyline! In future runs, Health Potions will heal an extra 15:hp:!**')).tag("final");var t=e.build();xt([[pt.ItemEffect,fx.getId()]],"alchemyClass",wT.getName(),At.Addition,(function(e){return wT.isBonusActive(e)?15:0})),Ym(t,40,(function(e){return!wT.isCompleted(e)&&!t.hasTriggered(e)&&Zi(e)!=me.None&&MP.getDungeonFloors().includes(Zo(e))}))}(),function(){nl.register(OT);var e=Tl("studentContest",ae("(Storyline) Student Contest"),[fl.STORYLINE]).setStorylineIds(OT.getId());e.message(ae('Climbing the tower, as you climb yet another flight of stairs, you notice this floor is different. It is a large, flat floor, with no individual walls. But most interestingly, it is full of *students* - all gathered around a figure who is elevated, on a sort of stage. You hear the figure exclaim:\n    \n"Show me that you can *really* handle /element/ for a big prize!" From the voice, it sounds like an enthusiastic young man. Is he also a student as well?')),e.message(ae("You head closer, and you start noticing that the students seem to be trying quite hard to cast /element/ spells - and yet you can't help but notice how much they are struggling.\n      \nYou feel like showing them how to really do it. You prepare your energy and ready yourself up for a spell.")).option(ae("Cast a spell (1200 Mana, Requires /element/ Lv11)"),{transform:function(e){return Wt(Dt.Mana,-1200)(e)},isEnabled:function(e){return zt(e,Dt.Mana)>=1200&&xn(e,DT(e))>=11}},"step1").option(ae("Maybe later")).end(),e.message(ae('You cast your spell! The crowd goes silent and glances at your direction. You appear to have gotten the attention of the young man at the stage.\n  \nHe exclaims, loudly: "Quite impressive!" But then challenges you again: "However... can you do *even better* than that?"\n\nIt looks like you are going to have to work harder...')).tag("step1").option(ae("Cast a stronger spell (1500 Mana, Requires /element/ Lv14)"),{transform:function(e){return Wt(Dt.Mana,-1500)(e)},isEnabled:function(e){return zt(e,Dt.Mana)>=1500&&xn(e,DT(e))>=14}},"step2").option(ae("Maybe later")).end(),e.message(ae('With more concentration than last time, you unleash a new spell. It is much stronger this time. You hear the students wowing at you, amazed at your spell. Then the young man speaks again:\n  \n"We have a *winner*! Please come forward to the stage for your prize," he shouts. It looks like that did the trick!\n\nYou climb the stage. The man pulls out a small gold medal and wraps it around your neck. "Congratulations! Thank you for showing everyone how to truly use /element/!"')).tag("step2").option("Continue",{transform:function(e){return OT.complete(e)}},"final").end(),e.message(ae('Back at home, you show the medal to your hired wizard. She squeals and appears very excited. "That is *amazing*! You are so talented. I feel so honored to be working for you! And I\'m sure others will too."\n  \nYou put the gold medal in a case and decide to display it. You are a little proud. You don\'t think it is really going to help you in the short term. But reputation builds up over time - you believe this achievement will benefit whoever might be next to take over this house.\n\n**You have completed the "Student Contest" Storyline! In future runs, you will get an extra 5 Wizards available - without the need to build Wizard Chambers for them - as soon as you meet your first Wizard!**')).tag("final");var t=e.build();xt([[pt.WizardAmount]],"studentContest",OT.getName(),At.Addition,(function(e){return OT.isBonusActive(e)?5:0})),Ym(t,65,(function(e){return!OT.isCompleted(e)&&!t.hasTriggered(e)&&Zi(e)!=me.None&&Zo(e)==jP[DT(e)]}),(function(e){return{element:ln(DT(e))}}))}(),function(){nl.register(xT);var e=Tl("advancedManaSpouts",ae("(Storyline) Advanced Mana Spouts"),[fl.STORYLINE]).setStorylineIds(xT.getId());e.message(ae("Continuing to climb the Tower of Training and fend enemies left and right, you happen across someone else. It is your old teacher from Wizardry Furniture! His large figure always stood out, easily towering over everyone else in the class. You greet him, and he waves at you.\n    \nYou hold some conversation. He appears interested in how you are setting up your furniture at home. You tell him about your Mana Spouts and how you build them. But then he makes a sour face. Did you say something wrong?")),e.message(ae("He explains that you're doing well with your home, but he realized that you are using very basic construction techniques for the Mana Spouts. You've just been basing these off what you could deduce from your own notes, which you know were quite bad, so you are not too surprised.\n      \nHe agrees to teach you how to improve on it, but before that - he mentions that you are no longer a student at the school, and that you will have to both show him that you have the skill to understand the lesson, as well as pay him for the efforts.\n\nYou decide to think about it...")).option(ae("Take the lesson (8000 Coins, Requires Lv10 Water and Lv10 Air)"),{transform:function(e){return Wt(Dt.Coins,-8e3)(e)},isEnabled:function(e){return zt(e,Dt.Coins)>=8e3&&xn(e,un.Water)>=10&&xn(e,un.Air)>=10}},"end").option(ae("Maybe later")).end(),e.message(ae('You decide to take the lesson, and hand over the Coins he asked for. He appears satisfied, and guides you to a small room in the Tower that looks like a library. The shelves are lined up with books about furniture. He pulls out a single one, titled: "Mana Spout Construction".\n        \nSitting down at a table with you, he shows you some diagrams in the book and explains how the construction method differs. You are definitely able to understand this explanation - everything makes sense. This is how you should have built the Mana Spouts to begin with.')).option("Continue",{transform:function(e){return xT.complete(e)}},"final").tag("end").end(),e.message(ae('After the lesson, you head back home. Your teacher said it was ok for you to take the book, so you store it in your bookshelf. It felt like a worthwhile lesson.\n\nYou are not sure if you are going to apply it - after all, it is quite a bit of trouble to implement. It is probably something that had to be done from the beginning. Regardless, if the chance ever comes up at some point, now you have a more effective way of doing it.\n\n**You have completed the "Advanced Mana Spouts" Storyline! In future runs, Mana Spouts will produce 30% more Mana and their cost will scale 30% slower!**')).tag("final");var t=e.build();xt([[pt.Production,Ib.getId()]],"advancedManaSpoutsProduction",xT.getName(),At.Multiplier,(function(e){return xT.isBonusActive(e)?1.3:1})),xt([[pt.CostScale,Ib.getId()]],"advancedManaSpoutsCostScale",xT.getName(),At.Multiplier,(function(e){return xT.isBonusActive(e)?.7:1})),Ym(t,40,(function(e){return!xT.isCompleted(e)&&!t.hasTriggered(e)&&Zi(e)!=me.None&&MP.getDungeonFloors().includes(Zo(e))}))}(),Ow(),eT(),function(){nl.register(Uw);var e=Tl("ticTacToe",ae("(Storyline) Tic-Tac-Toe"),[fl.STORYLINE]).setStorylineIds(Uw.getId());e.message(ae("Before moving on, you notice an odd object on the floor. You take it in your hands. It is a grid-like wooden board, with 9 compartments on the top, set in a 3x3 grid. It is somewhat dirty, but the construction is sturdy and meticulous.\n      \nIt's... a tic-tac-toe board, isn't it? For some reason, you get an urge to play. You decide to restore it to its proper usable state...")).option(ae("Restore it (10 Cotton, 20K Water Essence)"),{transform:function(e){return e=Wt(Dt.WaterEssence,-2e4)(e),Lr(hx,10,e)},isEnabled:function(e){return zt(e,Dt.WaterEssence)>=2e4&&Fr(hx,e)>=10}},"restored").option(ae("Maybe later")).end(),e.message(ae("You moisten the Cotton and rub it vigorously against the board. The dirty spots disappear! The board is ready to be used! You call the hired wizard. You get ready to start a game of tic-tac-toe with her, but you're struck with a big dilemma...")).tag("restored").option(ae('Choose to be "O"'),"O").option(ae('Choose to be "X"'),"X").end(),e.message(ae('Of course! *O* is always for the winners. You get ready to write an O in the corner...\n\n"What? *Tic-tac-toe*?" Your hired wizard looks at you, then at the board, and then furrows her brow. "...What are you doing with *that*? That\'s not a toy! That\'s a *Synchro Board*!"\n\nYou look at her, confused. *You\'ve never heard of that in your life.*')).tag("O").option(ae("Continue"),{transform:function(e){return e=Uw.complete(e),e=Uw.activateBonus(e),qe(Ir.SynchroUnlocked)(e)}},"end").end(),e.message(ae('Of course! *X* is always the superior side. You get ready to write an X in the corner...\n\n"What? *Tic-tac-toe*?" Your hired wizard looks at you, then at the board, and then furrows her brow. "...What are you doing with *that*? That\'s not a toy! That\'s a *Synchro Board*!"\n\nYou look at her, confused. *You\'ve never heard of that in your life.*')).tag("X").option(ae("Continue"),{transform:function(e){return e=Uw.complete(e),e=Uw.activateBonus(e),qe(Ir.SynchroUnlocked)(e)}},"end").end(),e.message(ae('"You\'re meant to put *Elements* in the grid! Then, depending on what Elements and what position you put them on, you get different *bonuses*. These boards are *rare*!" She sounds pretty upset...\n      \nIt takes you a few minutes to get over your desire to play, but once you do, you realize this could become another great tool for your journey... And maybe finding a good Element combination will scratch that same itch?\n\n...Three Fire-in-a-row?\n\n**You have completed the "Tic-Tac-Toe" Storyline! You have permanently unlocked the "Synchro" feature, where you can arrange Elements in a grid to get various bonuses. Find the best pattern and become more powerful!**')).tag("end").end();var t=e.build();ju(t.getId()+"Triggerer",(function(e){return t.hasTriggered(e)||Uw.isCompleted(e)||!(xu(e,"sewerHideout")>=6||Bw.canFightBoss(e))?e:xl(t)(e)})),Xt("synchroUnlocker",(function(e,t){return Uw.isBonusActive(e)?qe(Ir.SynchroUnlocked)(e):e})),Ku(Uw,sR.TIC_TAC_TOE)}(),function(){nl.register(mT);var e=Tl("shardStockpile",ae("(Storyline) Stockpile of Shards"),[fl.STORYLINE]).setStorylineIds(mT.getId());e.message(ae("You have come pretty far, but you still remember how difficult it was to start out. Slow :mana: generation, few or no wizards helping you out, manually crafting all these Shards... Your own inexperience didn't help you, either.\n    \nYou wouldn't wish it on anyone. Now that you feel you are standing on more solid ground, you decide to create a stockpile of shards so this never happens again.\n\nYou are going to need a lot of shards...")).option(ae("Create the stockpile (200 of each of Fire Shard, Earth Shard, Water Shard, Air Shard)"),{transform:function(e){return e=Lr(Br.getById("elementalShardFire"),200,e),e=Lr(Br.getById("elementalShardEarth"),200,e),e=Lr(Br.getById("elementalShardWater"),200,e),e=Lr(Br.getById("elementalShardAir"),200,e),mT.complete(e)},isEnabled:function(e){return Fr(Br.getById("elementalShardFire"),e)>=200&&Fr(Br.getById("elementalShardEarth"),e)>=200&&Fr(Br.getById("elementalShardWater"),e)>=200&&Fr(Br.getById("elementalShardAir"),e)>=200}},"end").option(ae("Maybe later")).end(),e.message(ae('You put all the shards in a box, neatly divided and sorted. You cover the box, and you safeguard it in a corner of the house. You vow not to open it again - and hope it might help someone. Perhaps your children, if you ever decide to have any...?\n      \n**You have completed the "Stockpile of Shards" Storyline! In future runs, you will begin with 30 shards of all of your unlocked Elements in your inventory!**')).tag("end").end();var t=e.build();ft("shardStockpileListener",(function(e){var n,r;if(!t.hasTriggered(e)&&!mT.isCompleted(e)&&e.world.totalTimesResetted>=2&&(null!=(n=null==(r=di(e))?void 0:r.Mana)?n:0)>=150)return xl(t)})),ft("shardStockpile",(function(e){if(mT.isBonusActive(e)&&!Ve(e,"shardStockpileHasGivenShards")&&null!=e.run.primaryElement)return function(e){if(null!=e.run.primaryElement){var t=Rn(e);for(var n of t)e=Or({itemId:"elementalShard"+n,params:{}},30,e);e=qe("shardStockpileHasGivenShards")(e)}return e}}))}(),function(){nl.register(Fw);var e=Tl("tomeOfToxicKnowledge",ae("(Storyline) Tome of Toxic Knowledge"),[fl.STORYLINE]).setStorylineIds(Fw.getId());e.message(ae('On the desk of the Mad Alchemist, you notice a book with a purple cover. It immediately catches your attention, as it says: *"Tome of Toxic Knowledge"* - and it depicts *a Man-Eating Plant* on the cover. You are thinking this Tome might be just what you are looking for - you have been having such a hard time with Poison all this time!\n    \nThe Mad Alchemist is facing away. You look at your hired wizard, who seems to understand what you\'re about to do and quietly steps away. Then you tiptoe and pick up the book, store it, and head out of the room... and then slightly after, out of sight, you *run*, to make sure he cannot catch you!')),e.message(ae('Back at home, your hired wizard looks at it with you. She exclaims: "It is so detailed - it is like a basic but thorough explanation of Poison as an element!"\n\nAs you skim it with her, you realize she speaks the truth. You read an excerpt from the introduction: *"The Poison element is essential not only for the creation of potent substances that can weaken, but also for a wide variety of magical substances. Proper management of Poison is also critical for obtaining, storing, and working with, the important wizardry resource, Monstium."* \n      \nYou also notice there is not only basic knowledge about the element written down here, but also many details about advanced applications - things you would have never been able to even dream of! Even now, you still can\'t understand most of it, but this Tome feels like a very valuable reference material.')).option(ae("Continue"),{transform:function(e){if(Nn(e=Fw.complete(e),un.Poison)){var t=xn(e=Fw.activateBonus(e),un.Poison);(e=Mn(un.Poison)(e)).run.elementExperience[un.Poison]=0,delete e.run.elementExponents[un.Poison],e=En(un.Poison,bn(e,t,un.Poison))(e)}return Za(e=Yt(e))}},"end"),e.message(ae("You take the Tome and store it in a special bookshelf. You are saving this bookshelf only for those volumes that are *particularly* useful. And this one certainly is. Although, you hope you will be able to have the time to read it...\n\n/lastLine/")).tag("end").end();var t=e.build();We.register((function(e,n){return e.run.primaryElement?n!=Ir.VastDesertUnlocked||t.hasTriggered(e)||Fw.isCompleted(e)?e:xl(t,{lastLine:Nn(e,un.Poison)?ae('**You have completed the "Tome of Toxic Knowledge" Storyline and have fully unlocked the Poison element! There will be no more penalties to Poison or :poisonessence:. Also, in future retirements, Poison will be available from the start, with no penalties, and it will be possible to select it as a primary element! And as a bonus, you will begin new runs with Monstruariums and Monstium Catalysts already unlocked!**'):ae('**You have completed the "Tome of Toxic Knowledge" Storyline! There will be no more penalties to :poisonessence:. Also, in future retirements, Poison will be fully unlocked! This means that it will be available from the start, with no penalties, and it will be possible to select it as a primary element! And as a bonus, you will begin new runs with Monstruariums and Monstium Catalysts already unlocked!**')})(e):e}),t.getId()),qt("poisonUnlockRetirementListener",(function(e,t){return Fw.isCompleted(e)&&!Pn(e).includes(un.Poison)&&(e=Mn(un.Poison)(e)),e})),Xt("poisonUnlockPostRetirementListener",(function(e){return Pn(e).includes(un.Poison)&&(e=qe(Ir.MonstruariumsUnlocked)(e),e=zI.setPurchased(e)),e})),xt([[Dt.PoisonEssence,pt.Cap]],"afterPoisonUnlockCap",Fw.getName(),At.Multiplier,(function(e){return Fw.isCompleted(e)&&!Pn(e).includes(un.Poison)?1/Hf:1})),xt([[un.Poison,pt.ChannelingEfficiency],[un.Poison,pt.ExpGain]],"afterPoisonUnlockChanneling",Fw.getName(),At.Multiplier,(function(e){return Fw.isCompleted(e)&&!Pn(e).includes(un.Poison)?1/Yf:1})),Ku(Fw,sR.TOME_OF_TOXIC_KNOWLEDGE)}(),function(){nl.register(tT);var e=Tl("outessenced",ae("(Storyline) Outessenced"),[fl.STORYLINE]).setStorylineIds(tT.getId());e.message(ae('You finish putting together that last Essence Catalyst. They are so incredibly useful - each one of them has saved you so much work channeling Essence, you feel you cannot live without them!\n    \n"Excuse me," you hear from outside your door. "May I have a few moments of your attention?"\n\nYou take a peek, and you spot someone that seems... familiar: a man with a huge backpack. They\'re a traveling merchant! You get the feeling you might have seen him before.')),e.message(ae('"I happened to be walking through, and I heard something about some Essence Catalyst," he explains. "I\'m well aware just how important these are to wizards of all skill levels."\n      \n"But wasn\'t it *difficult* to build them? Wasn\'t it slow, channeling all that :fireessence:? Well... *I have a solution!*"\n\nThe merchant pulls out a book from his bag. It reads: *"Outessenced"*. There is a drawing of an Essence Catalyst on the cover, but next to it, there appear to be many, many other Essence Catalysts drawn, except these are only outlined. The book catches your interest. What could this possibly be about?')),e.message(ae("\"Ah, I see it's caught your eye,\" exclaims the merchant. \"This was written by a celebrity professor of a school of magic. It describes a way to *record* Essence Catalysts somehow, so that they can be used even when they are no longer there... how is that even possible, I wouldn't know, I'm not a wizard,\" he says.\n      \nYou are intrigued. That could be so useful - how much easier would it have been to set up your home if that was possible?! Until he says: \"Very useful, isn't it? It can be yours for *500K:coins:*. And not a single one less!\"\n\nThat's... a lot of :coins:, and you did already set up your Essence Catalysts, after all. You think again about whether it's worth buying the book...")).option(ae("Buy the book (500K Coins)"),{transform:function(e,t){return Wt(Dt.Coins,-5e5)(e)},isEnabled:function(e,t){return zt(e,Dt.Coins)>=5e5}},"purchased").option("Maybe later").end(),e.message(ae('You decide to purchase the book, after all that hard work building up your :coins:. You have a hunch this book could be valuable... as long as it does what the merchant said it did.\n      \nThe merchant smiles while taking your :coins:. "Nice doing business with you," he says, then hands over the book. "Best of luck on your future furnishing!" He waves at you and walks away.\n\nThe book feels very light...')).tag("purchased").option(ae("Continue"),{transform:function(e){return e=tT.complete(e),tT.activateBonus(e)}},"end").end(),e.message(ae('You skim through it. But you realize the book is actually light because it describes a simple concept. A *really* simple concept - that you weren\'t aware of at all!\n      \nYou figure out you got scammed. There is no way this book was worth 500K:coins:. But on the other hand... you can tell right away that the idea works. And you can apply it right away!\n\n**You have completed the "Outessenced" Storyline! From now on, you will gain a bonus to channeling of half the effect of an Essence Catalyst, for each Essence Catalyst you have less than the maximum you have ever had across all retirements! This will allow you to channel Essence a lot more effectively at the beginning of a run!**')).tag("end");var t=e.build();ft(t.getId(),(function(e){if(!t.hasTriggered(e)&&!tT.isCompleted(e)&&QP.isCompleted(e)&&rg(e,Ab)>=10)return xl(t)})),xt([[pt.ChannelingEfficiency]],tT.getId(),tT.getName(),At.Multiplier,(function(e){var t;if(!tT.isBonusActive(e))return 1;var n=rg(e,Ab),r=null!=(t=e.world.maxFurnitureNumbers[Ab.getId()])?t:0;if(n<r){var a=(Ab.getPerCatalystBonusMultiplier(e)-1)/2+1;return Math.max(1,Math.pow(a,r-n))}return 1}))}(),function(){nl.register(Nw);var e=Tl("permaCast",ae("(Storyline) Perma-Cast"),[fl.STORYLINE]).setStorylineIds(Nw.getId());e.message(ae('One more spell to be cast by Wizards! You watch as your :mana: reserves empty with each spell cast, only to quickly recover and go down again.\n    \nYour set of instructions is growing more and more complicated, and yet, you are starting to realize that many of them are simply: "cast this spell as often as necessary or possible".')).option(ae("Continue"),{transform:function(e){return e=Nw.complete(e),e=Nw.activateBonus(e),qe(Ir.PermaCastUnlocked)(e)}},"end"),e.message(ae('Those are much simpler instructions. You realize it should be a lot easier to give these instructions and quickly come up with a method. And you\'re just about ready to try it out...\n\n**You have completed the "Perma-Cast" Storyline! You have permanently unlocked a feature to "Perma-Cast" many spells, including things like buffs, or anything with a cooldown. You may set spells to "Perma-Cast" by expanding the spell\'s details in the Spell menu, and otherwise manage these spells in the Wizards screen!**')).tag("end");var t=e.build();ft(t.getId(),(function(e){if(!t.hasTriggered(e)&&!Nw.isCompleted(e)&&Ic(e).rules.filter((function(t){var n;return(null==(n=Sc(e,t))?void 0:n.wizardsAssigned)>0})).length>=15)return xl(t)})),Xt(Nw.getId(),(function(e,t){return Nw.isBonusActive(e)&&(e=qe(Ir.PermaCastUnlocked)(e)),e}))}(),function(){nl.register(XP);var e=Tl("goblinDen",ae("(Storyline) Goblin Den"),[fl.STORYLINE]).setStorylineIds([XP.getId()]);e.message(ae('"There are a lot of Goblins down here!"\n    \nYou hear that from your hired wizard, who has been accompanying you through the disgusting traversal of the Sewers. You agree. You have seen - and felled - quite a few; you wonder if they might be nesting in this place.\n\nWhile you think about this, you spot a room to the side of the tunnel you are walking through. It is half open, and light is seeping out of the door. You decide to peek inside... and you end up finding something very interesting.')),e.message(ae('The room looks like a makeshift camp. There are a few crude tents laid on the ground, and there is an active bonfire in the center, which illuminates the room. You spot a large figure towards the back - it is a Goblin, but it is larger than the others. It appears to be quite dangerous.\n      \nYou show the room to your hired wizard, and then she asks you in whispers: "Should we eliminate it and inspect the room?"\n\nThe prospect of loot tempts you, though it\'s going to be a tough fight... you want to make sure you are ready first.')).option(ae("Fight the Goblin Chief"),{transform:function(e){return e=Yi(e,"goToExploration"),e=Yi(e,"closeAllMenus"),e=Yi(e,"closeEventOverlay"),$o(qP)(e)}}).option(ae("Maybe later")).end(),e.message(ae("The Goblin Chief falls to the ground, unconscious, as you manage to succeed and overpower it. You somehow feel bad for the other Goblins - you decide to refrain from killing it.\n      \nBut you *are* going to get a helping out of the loot of this room.")).tag("afterFight"),e.message(ae("You search everywhere - inside the tents, around the room, even the Goblin Chief itself. Very disappointingly, though, you find nothing of value. The hired wizard also looks disappointed.\n      \nBut you did find something. It's a ladder on the back side of the room, which goes up towards the ceiling. And on the ceiling, there is a trap door with a safety lock. You decide to check it out - you carefully climb the ladder, undo the safety lock, and push the trap door upwards. Then you carefully peek through the hole.\n\nWhat you see, however, *really* surprises you. *It is your own home's basement!*")),e.message(ae("Without believing your eyes, you go back up and scream at the hired wizard to follow you. She does so - and after seeing the other side, she becomes just as dumbfounded as you.\n      \nThen your mind begins to race. *You had a Goblin Den right below your basement, this entire time.* You were not able to see it because it was locked from the other side - but it meant those goblins could have *come in*!\n\nYou can't let that happen. You race back down, push the Goblin Chief out of the door of the room, and then lock it - from the inside. You check one more time for any other Goblins, but there are none - and you breathe a sigh of relief.")).option(ae("Continue"),{transform:function(e){return XP.complete(e)}},"end"),e.message(ae('Then you start thinking about what this also means. This means your basement is actually connected to an *extra room*. But - as you look around - the room is entirely unusable right now. It will take a lot of time to clean this room up, get rid of all of the things the Goblins set in this room, and more cleanly separate it from the rest of the Sewers.\n  \nYou don\'t have time to do that, not right now. But at some point, you tell yourself, you should - you jot down some notes in your diary, hoping you (or at least someone else!) will remember about it...\n\n**You have completed the "Goblin Den" Storyline! In future runs, the extra room will give you +40:land:!**')).tag("end").end();var t=e.build();ju(t.getId()+"Triggerer",(function(e){return!t.hasTriggered(e)&&!XP.isCompleted(e)&&Ji(e,"goblinKills")>=80?xl(t)(e):e})),xt([[pt.Land,pt.Cap]],"goblinDen",XP.getName(),At.Addition,(function(e){return XP.isBonusActive(e)?40:0}))}(),function(){nl.register(AT),nl.register(bT),nl.register(kT);var e=Tl("someonesTrash",ae("(Storyline) Somebody's Trash"),[fl.STORYLINE]).setStorylineIds([AT.getId(),bT.getId(),kT.getId()]);e.message(ae('On your exploration of the Sewers, you notice your hired wizard falling back, staring at the canal on the tunnel you are traversing. You call to her to come, but she instead tells *you* to do so instead.\n    \n"Look", she exclaims. "There are a lot of magical items here!"\n\nYou are roughly able to see something at the bottom. Except, it looks like a pile of trash, stuck side-by-side on the canal.')),e.message(ae("You tell her that it looks worthless, but she shakes her head. \"No, you are mistaken\", she says. \"There's so many valuable things here. Look at that book, for example - it is a Magical Encyclopedia. I can't tell exactly what the contents are, though. Or that hat - it's actually a traditional Wizard's Hat, a powerful, handy way to generate more :mana:. Or even that treasure chest - I don't think it'd have anything in there, but I can sense it's enchanted. This must have been some Wizard's trash.\"\n      \nA Wizard's trash? Hmm... If the Wizard trashed them, isn't there a good reason why? But why would all of them be together *here*? Perhaps something happened to the Wizard...?")),e.message(ae("Your hired wizard continues: \"They look terrible now, but I'm sure I can restore those items! It could be useful!\"\n\nAnd you also remember something you had heard before: *\"Somebody's trash is somebody else's treasure\".* But you don't feel very good about that...\n      \nTelling yourself that it's for her sake, you decide to humor her - to grab those items. But in order to do that, you need a way to go down to the canal safely - and back up, of course.")).option(ae("Build a ladder (Requires Lv16 Earth, 25K Earth Essence, 3000 Mana)"),{transform:function(e){return e=Wt(Dt.EarthEssence,-25e3)(e),Wt(Dt.Mana,-3e3)(e)},isEnabled:function(e){return zt(e,Dt.EarthEssence)>=25e3&&zt(e,Dt.Mana)>=3e3&&xn(e,un.Earth)>=16}},"boughtLadder").option(ae("Maybe later")).end(),e.message(ae("You carefully lay down the ladder on the side of the canal, and climb down, beginning to wade through the dirty waters.\n  \nYou reach for the pile of stuck items, and think of which you should take first...")).tag("boughtLadder").option(ae("Take the Book"),{transform:function(e){return AT.complete(e)},isVisible:function(e){return!AT.isCompleted(e)}},"book").option(ae("Take the Hat"),{transform:function(e){return bT.complete(e)},isVisible:function(e){return!bT.isCompleted(e)}},"hat").option(ae("Take the Treasure Chest"),{transform:function(e){return kT.complete(e)},isVisible:function(e){return!kT.isCompleted(e)}},"treasure").option(ae("Decide later")).end(),e.message(ae('You try to pull off the book from the pile. It appears to be stuck! You pull harder, but then it finally comes out - and it breaks the rest of the pile of trash, which is no longer stuck and starts floating downstream at a pretty dangerous rate! Your hired wizard yells at you and you run for the ladder. You climb with great speed and manage to make it up before the ladder, too, is swept from the current.\n      \nYou hand over the book to your hired wizard. It is in a terrible condition. "Ugh", she says with disgust, "I should be able to restore this, but it will take me a long time. I\'m sorry." You obviously understand, but that felt very dangerous. You should be more careful in the future.\n\n**You have completed the "Somebody\'s Trash (Book)" Storyline! In future runs, the book will have been restored and will make you earn +25% Exp from Studying!**')).tag("book").end(),e.message(ae('You try to pull off the hat from the pile. It appears to be stuck! You pull harder, but then it finally comes out - and it breaks the rest of the pile of trash, which is no longer stuck and starts floating downstream at a pretty dangerous rate! Your hired wizard yells at you and you run for the ladder. You climb with great speed and manage to make it up before the ladder, too, is swept from the current.\n      \nYou hand over the hat to your hired wizard. It is in a terrible condition. "Ugh", she says with disgust, "I should be able to restore this, but it will take me a long time. I\'m sorry." You obviously understand, but that felt very dangerous. You should be more careful in the future.\n\n**You have completed the "Somebody\'s Trash (Hat)" Storyline! In future runs, you will start with a Wizard\'s Hat!**')).tag("hat").end(),e.message(ae('You try to pull off the treasure chest from the pile. It appears to be stuck! You pull harder, but then it finally comes out - and it breaks the rest of the pile of trash, which is no longer stuck and starts floating downstream at a pretty dangerous rate! Your hired wizard yells at you and you run for the ladder. You climb with great speed and manage to make it up before the ladder, too, is swept from the current.\n      \nYou hand over the treasure chest to your hired wizard. It is in a terrible condition. "Ugh", she says with disgust, "I should be able to restore this, but it will take me a long time. I\'m sorry." You obviously understand, but that felt very dangerous. You should be more careful in the future.\n\n**You have completed the "Somebody\'s Trash (Treasure)" Storyline! In future runs, the enchanted treasure chest will make you start with your Coins storage completely full!**')).tag("treasure").end();var t=e.build();xt([[pt.ExpGain,pt.Study]],"someonesTrashBook",AT.getName(),At.Multiplier,(function(e){return AT.isBonusActive(e)?1.25:1})),Xt("someonesTrashHat",(function(e){return bT.isBonusActive(e)&&(e=Or({itemId:pT.getId(),params:{}},1,e)),e})),ft("someonesTrashTreasure",(function(e){if(kT.isBonusActive(e)&&!Ve(e,Ir.SomeonesTrashTreasureGranted))return function(e){return e=qe(Ir.SomeonesTrashTreasureGranted)(e),Wt(Dt.Coins,1/0)(e)}})),Ym(t,40,(function(e){return!t.hasTriggered(e)&&[AT,bT,kT].some((function(t){return!t.isCompleted(e)}))&&Zi(e)!=me.None&&dT.getDungeonFloors().includes(Zo(e))}))}(),function(){nl.register(hT);var e=Tl("passageOfStench",ae("(Storyline) Passage of Stench"),[fl.STORYLINE]).setStorylineIds([hT.getId()]);e.message(ae('A sharp, terrible odor pierces your nostrils. You stop, feeling quite weakened by it. Your hired wizard also feels similarly.\n    \n"Agh... should we turn around? Why are we even doing this...? Is this Philosopher\'s Stone really that important...?" she asks, while complaining.\n\nThis time, you agree with her. This stench feels dangerously strong. You will have to turn around...')),e.message(ae("Unless... maybe there is a way? You remind yourself you are a Wizard, after all... shouldn't you be able to use magic to solve something like this?")).option(ae("Transmute two protective masks (Requires Lv15 Earth, Lv15 Water, 16 Cotton, 2400 Mana)"),{transform:function(e){return e=Lr(hx,16,e),Wt(Dt.Mana,-2400)(e)},isEnabled:function(e){return zt(e,Dt.Mana)>=2400&&Fr(hx,e)>=16&&xn(e,un.Earth)>=15&&xn(e,un.Water)>=15}},"masks").option(ae("Dispel the stench with wind (Requires Lv18 Air, 3200 Mana)"),{transform:function(e){return Wt(Dt.Mana,-3200)(e)},isEnabled:function(e){return zt(e,Dt.Mana)>=3200&&xn(e,un.Air)>=18}},"wind").option(ae("Maybe later")).end(),e.message(ae("You transmute a pair of face masks, and give one to your hired wizard. Putting them on is a relief. You still don't feel fully well, but you get some of your strength back, and feel strong enough to press on.")).tag("masks").option(ae("Continue"),"past").end(),e.message(ae("You gather Mana and cast a strong Air spell. A strong breeze comes from behind you. Your hired wizard almost loses her hat, but manages to catch it at the last minute. She is about to complain, but she notices the same that you have - the air around you is more breathable.\n    \nAlthough not exactly pleasant, it feels like it isn't overpowering enough to stop you from advancing in this direction now...")).tag("wind"),e.message(ae("You continue walking through the passage and eventually find the source of the foul smell: a big, big pile of what looks like rotten Goblin flesh. Your hired wizard is very disgusted by the sight and decides to wait for you outside. But you decide to scan the place.\n      \nAlthough you don't find much, one thing catches your attention: a book in the center that seems wildly unrelated to the room, *\"Essence Storage Construction\"*. You decide to take it with you - it is in good condition, and whoever put all those... Goblins... in here, for some reason, also decided to keep this book as well? You can't make much sense of it.")).tag("past").option(ae("Continue"),{transform:function(e){return hT.complete(e)}},"end"),e.message(ae('In the comfort of your home, you open the book and decide to take a look at it. You discover two different things. The first one are guides on how to better build Essence Storages, but they seem somewhat difficult to understand. The second one are crude diagrams written by someone else about the best way to pile Goblin corpses... which you find odd. It appears someone has just used this valuable book as a writing material for another purpose!\n      \nYou are somewhat disgusted, but you decide to store the book anyway. You think the knowledge about how to better build Essence Storages might be able to benefit someone else at some point...\n\n**You have completed the "Passage of Stench" Storyline! In future runs, the knowledge from the book will double the effect of Essence Storages!**')).tag("end").end();var t=e.build();xt([[pt.PerBuildingCap,Pb.getId()]],"passageOfStench",hT.getName(),At.Multiplier,(function(e){return hT.isBonusActive(e)?2:1})),Ym(t,25,(function(e){return!t.hasTriggered(e)&&!hT.isCompleted(e)&&Zi(e)!=me.None&&dT.getDungeonFloors().includes(Zo(e))}))}(),function(){nl.register(yb);var e=Tl("convenience",ae("(Storyline) Convenience"),[fl.STORYLINE]).setStorylineIds(yb.getId());e.message(ae("Your home has come a long way since you started working towards obtaining the Philosopher's Stone. It is now much, much bigger than it initially was - you think it is at least five times larger!\n    \nAnd yet, even with all the furniture you have, it feels almost as if you could never have enough...")),e.message(ae("The process of building furniture and expanding your home has left you frankly quite tired. If only there was a way to make it at least a little easier...\n    \n...even if just a little...\n\n...*wait*, you think there *might* be a way!")).option(ae("Continue"),{transform:function(e){return e=yb.complete(e),e=yb.activateBonus(e),qe(Ir.AutoPurchaseUnlocked)(e)}},"end"),e.message(ae("Of course. Magic spells are difficult, but... you could definitely make building furniture and expanding your home *happen automatically*! Why didn't you think of this before?\n      \nYou write down the idea in your diary. You can't wait to apply it... right away.\n\n**You have completed the \"Convenience\" Storyline! You have permanently unlocked a feature to automatically build furniture, expand your home or purchase Enhancements (and a few other things) once you can afford to. You can toggle this feature for each individual furniture in the Home screen, by expanding its details. Tip: this is especially useful for Catalysts!**")).tag("end");var t=e.build();ft(t.getId(),(function(e){if(!t.hasTriggered(e)&&!yb.isCompleted(e)&&e.run.landPurchaseCount>=20)return xl(t)})),Xt(yb.getId(),(function(e,t){return yb.isBonusActive(e)&&(e=qe(Ir.AutoPurchaseUnlocked)(e)),e}))}()}function FT(){ft("dungeonEventGroupTriggerer",(function(e){uR.getAll().filter((function(t){return!t.hasFinishedSelecting(e)})).forEach((function(t){return t.selectEvent(e)}))})),Zm(),YP(),_f(),UT(),iR(),function(){var e=Tl("demoEnd",ae("End of the Demo"),[]);e.message(ae("Congratulations! You have defeated the Man-Eating Plant. This is the end of the Demo Version of Magic Research 2. **Thank you for playing!**\n  \nIn the full game, you can expect much more content: more places to explore, more spells and items, and plenty more secrets to discover! Your progress in the Demo can be easily transferred to the full game.\n\n*Will you be able to successfully heal the deadly disease with the Philosopher's Stone?*\n\n{{fullGameLink}}",{fullGameLink:Ml()}));var t=e.build();Fe()&&We.register((function(e,n){return n!=Ir.VastDesertUnlocked||t.hasTriggered(e)||(e=xl(t)(e)),e}))}()}function LT(){hr.register(zR),hr.register(TR),hr.register(RP),hr.register(xR),gr.register(MP),WR.register(DP),GS("trainingTowersChestCommon1",[zR.getId(),TR.getId(),RP.getId(),xR.getId()],40,[{itemOccurrence:{itemId:tv.getId(),params:{}},amount:10}]),GS("trainingTowersChestUncommon2",[zR.getId(),TR.getId(),RP.getId(),xR.getId()],10,[{itemOccurrence:{itemId:fx.getId(),params:{}},amount:1}]),GS("fireTrainingTowersChestUncommon",[zR.getId()],18,[{itemOccurrence:{itemId:fP.getId(),params:{}},amount:1}]),GS("fireTrainingTowersChestRare",[zR.getId()],9,[{itemOccurrence:{itemId:lP.getId(),params:{}},amount:1}]),GS("earthTrainingTowersChestUncommon",[TR.getId()],18,[{itemOccurrence:{itemId:KR.getId(),params:{}},amount:1}]),GS("earthTrainingTowersChestRare",[TR.getId()],10,[{itemOccurrence:{itemId:iP.getId(),params:{}},amount:1}]),GS("waterTrainingTowersChestUncommon",[RP.getId()],15,[{itemOccurrence:{itemId:$R.getId(),params:{}},amount:1}]),GS("waterTrainingTowersChestRare",[RP.getId()],5,[{itemOccurrence:{itemId:hP.getId(),params:{}},amount:1}]),GS("airTrainingTowersChestUncommon",[xR.getId()],12,[{itemOccurrence:{itemId:JR.getId(),params:{}},amount:1}]),GS("airTrainingTowersChestRare",[xR.getId()],6,[{itemOccurrence:{itemId:nP.getId(),params:{}},amount:1}]),hr.register(Mw),hr.register(Pw),hr.register(Bw),gr.register(dT),WR.register(gT),GS("sewerChestCommon1",[Mw.getId(),Pw.getId(),Bw.getId()],70,[{itemOccurrence:{itemId:Hb.getId(),params:{}},amount:8}]),GS("sewerChestCommon2",[Mw.getId(),Pw.getId(),Bw.getId()],50,[{itemOccurrence:{itemId:hx.getId(),params:{}},amount:3}]),GS("sewerChestRare0",[Mw.getId(),Pw.getId(),Bw.getId()],4,[{itemOccurrence:{itemId:Ox.getId(),params:{}},amount:1}]),GS("sewerChestRare1",[Mw.getId(),Pw.getId(),Bw.getId()],4,[{itemOccurrence:{itemId:sT.getId(),params:{}},amount:1}]),GS("sewerChestRare2",[Mw.getId(),Pw.getId(),Bw.getId()],4,[{itemOccurrence:{itemId:rT.getId(),params:{}},amount:1}]),GS("sewerChestRare3",[Mw.getId(),Pw.getId(),Bw.getId()],4,[{itemOccurrence:{itemId:oT.getId(),params:{}},amount:1}])}function HT(){qi.register(rv),qi.register(DR),qi.register(HR),qi.register(CR),qi.register(SR),qi.register(CP),qi.register(xP),qi.register(AR),qi.register(gR),qi.register(RT),qi.register(HP),qi.register(Xb),qi.register(Ix),qi.register(Rx),qi.register(vx),qi.register(kx),qi.register(Wx),qi.register(Qx),qi.register(Lx),qi.register(qx),qi.register(qP),qi.register(Ew),qi.register(lw),qi.register(iw),po.register(dw),po.register(gw),qi.register(mw)}function YT(){Iv.reset(),Iv.register({id:"welcome",category:Ev.Introduction,title:ae("Welcome to Magic Research 2!"),order:0,description:ae('**Welcome to Magic Research 2!**\n      \nIn Magic Research 2, you are a rookie wizard with a single ambition: to find or create the Philosopher\'s Stone, a legendary magical item that is said to be able to cure any illness. As you do so, you will learn more than you ever imagined about Magic and about the world around you.\n\nIn the top left corner, you will find **the menu button** which shows you a breakdown of your current resources and let you access various areas of the game.\n\nIn the top right corner, you will find **the notification bell button** while takes you to the list of events that have happened recently and allows you to see more information about them or interact with them.\n\nThe other important button is usually in the bottom right corner: **the magic wand button**. This will take you to the magic menu, where you can cast any spell you may have learned.\n\nDepending on screen size, some of those buttons can be in different positions on the screen, or the menus they open will be visible at all times. If your screen is wide enough, the menu on the left may also have heart-shaped icons - these will allow you to open screens side-by-side.\n\n**Note: at the bottom of the Home screen, there will be a "Current Goal" section. You can progress through the game by following what it says.**')}),Iv.register({id:"homeScreen",category:Ev.ScreensOverview,title:ae("Home"),order:1e3,description:ae('The :home:**Home** screen is where you can do activities related to your own home - your "base of operations" as a wizard.\n    \nIn the Home screen, you will be able to manually gather :mana:Mana at a slow rate, as well as use it on Channeling spells to obtain Essences, the basic resources of the game.\n\nEssences have many uses, but within the Home screen, you can utilize them to create *Furniture*. Furniture are objects that decorate or otherwise fill in your Home and have various effects.\n\nYour Home has a limited amount of :land:Land available for Furniture. You can expand the amount of :land: available by purchasing more from the same screen, but it is expensive and requires :coins:Coins. The choice of what furniture you decide to have in your home and in what amounts is one of the biggest challenges of the game.')}),Iv.register({id:"studyScreen",category:Ev.ScreensOverview,title:ae("Study"),order:1010,isVisible:function(e){return function(e){return Je(e,Ir.StudyUnlocked)}(e)},description:ae('The :study:**Study** screen allows you to further your knowledge about the Elements, which is key to advancing in the game! Studying allows you to get Element exp over time, which eventually will let you level up your Elements to unlock new spells and get other bonuses.\n      \nIn this screen, you are able to decide how to distribute your researchers between the Elements. You start with a single researcher (yourself) but you will find a way to get more later in the game. Note that your Primary Element will earn Element exp twice as fast.\n\nIf you decide to let the game auto-assign your researchers, there are a few options. "Spread evenly" will try to keep the same amount of researchers on every Element. "Most researchers" will assign all the researchers to the Element that already has the most researchers assigned to it. "Spread, then most researchers" will make sure there is at least one researcher assigned to every Element, then it will assign the rest to the Element that has the most Researchers. If more than one Element fits the definition, it will prioritize the Primary Element over non-Primary Elements.')}),Iv.register({id:"inventoryScreen",category:Ev.ScreensOverview,title:ae("Inventory"),order:1020,isVisible:function(e){return function(e){return Je(e,Ir.TransmutationUnlocked)}(e)},description:ae("The :inventory:**Inventory** screen will show you a list of items, which you may have obtained in your journey via Transmutation or other means!\n\n*There is no limit to the amount of items you may have.*\n\nThe screen is divided into two parts:\n\nAt the top is a list of equipped items, which can be individually unequipped.\n\nAt the bottom is the actual list of items shown as a grid. You may filter items by type - this feature may be useful later in the game. Pressing an item in the grid will show its details and often allow to use, equip, or sell the item to obtain :coins:.")}),Iv.register({id:"transmutationScreen",category:Ev.ScreensOverview,title:ae("Transmutation"),order:1030,isVisible:function(e){return function(e){return Je(e,Ir.TransmutationUnlocked)}(e)},description:ae("In the :transmute:**Transmute** screen, you will be able to Transmute items! Transmutation lets you transform items, elemental essences and other resources into new items.\n\nThe screen shows your possible Transmutations as a grid. You may select one item to see its details, cost, and Transmute it. You can unlock more Transmutations by raising your Element levels.\n\nOnce you have Transmuted an item, it will go straight to your :inventory:Inventory and you should be able to see it in that screen.")}),Iv.register({id:"wizardsScreen",category:Ev.ScreensOverview,title:ae("Wizards"),order:1040,isVisible:function(e){return Oc(e)},description:ae("The :wizards:**Wizards** screen lets you give instructions to your hired Wizards, who will cast spells as you ask - effectively letting you automate a large part of the game!\n      \nThis screen, and its feature, is quite complex. You can learn more about this screen in other Help items in the Wizards category.")}),Iv.register({id:"explorationScreen",category:Ev.ScreensOverview,title:ae("Exploration"),order:1050,isVisible:function(e){return Go(e)},description:ae("In the :exploration:**Exploration** screen, you can delve through various areas as you further your quest for the Philosopher's Stone!\n      \nThis screen and feature is quite complex. You can learn more about this screen in other Help items in the Exploration category.")}),Iv.register({id:"enhancementScreen",category:Ev.ScreensOverview,title:ae("Enhance"),order:1060,isVisible:function(e){return function(e){return Je(e,Ir.EnhancementsUnlocked)}(e)},description:ae("In the :enhance:**Enhance** screen, you can spend your hard-earned :monstium:Monstium, together with :paper:Paper, to obtain powerful semi-permanent bonuses and greatly improve your capabilities!\n      \nEnhancements will last for the rest of the run, but they do not persist through Retirement.\n\nYou can obtain :monstium:Monstium from defeating enemies in Exploration. On the other hand, :paper:Paper can be Transmuted, and you will need lots of it - if you are able to, consider automating their production with Wizards!")}),Iv.register({id:"synchroScreen",category:Ev.ScreensOverview,title:ae("Synchro"),order:1065,isVisible:function(e){return pd(e)},description:ae('In the :synchro:**Synchro** screen, you can arrange your fully unlocked Elements in a 3x3 grid. Adjacent Elements in the grid will give you various bonuses, depending on the Elements themselves. You can reassign Elements to the grid anytime.\n      \nYou can place each Element up to 2 times in the grid, and because of the size and shape of the grid, the maximum amount of bonuses you can have is 12. Bonuses are multiplicative with each other.\n\nSome bonus effects may show up as "???". If that is the case, it\'s because you haven\'t yet unlocked what the effect does. For example, if an effect would give +10% Droplet of Healing spell power, but you hadn\'t unlocked the spell Droplet of Healing, it would appear as "???". In addition, sometimes, a pair of Elements may not provide a bonus, or it might give a bonus with negative effects. Optimize your grid so that you avoid these negative effects!\n\nYou have the ability to set up 8 grids in total. However, only the active grid will provide its bonuses at any time. You can swap between grids quickly either from the Synchro screen, or from the Exploration screen, under the Strategy tab.\n\nSome grid ideas:\n\n* You can easily obtain 4 times of a single boost by creating a 2x2 square within the grid where the top-left and bottom-right are the same Element, and the top-right and bottom-left are another Element.\n* Fire+Earth is a good combination for melee builds. Water+Air is a good combination for offensive spellcasters.\n\nWhen fully unlocking Elements, they will become usable in the Synchro grid. Revisit your set-up occasionally to see what new combinations you may find!')}),Iv.register({id:"retirement",category:Ev.ScreensOverview,title:ae("Retirement"),order:1200,isVisible:function(e){return Kt(e)},description:ae(":retirement:**Retirement** is one of the most powerful features in the game. In essence, retiring allows you to restart the game from the beginning, including choosing a new primary Element. However, there are strong benefits to retirement which are detailed below.\n    \nWhen you retire, the level your primary Element is currently at is permanently recorded. This level is called the **Maximum Primary Level**, or **MPL**. The MPL for an Element can never go down - if you re-select an Element as your primary and then retire again without reaching your previous MPL, you will keep the previous value.\n\nAfter you retire, you will get a **Global Experience Multiplier**. This multiplier is very important, as it can vastly improve the effectiveness of studying, letting you unlock stronger spells much, much quicker.\n\nIn addition, there is a similar **Global Production Multiplier** which will affect all resource production you have from Channeling, furniture and other features in the game. This includes Mana, which means after retirement it should be much easier to cast stronger spells or cast spells more often. This also affects loot.\n\nBoth of the multipliers above are determined based on two factors. The first is the maximum MPL you have ever achieved, regardless of Element. This is the main factor impacting the two multipliers. The second is the sum of all the MPLs you have across all the Elements. This is a secondary factor and it will impact the multipliers, but not as much. Because of this, it's recommended to **pick a new Primary Element when retiring** if possible, to maximize the bonuses.\n\nOne last benefit from retirement is related to Storylines. Any **benefits acquired from Storylines will persist through retirements**, meaning progress will become faster. In addition, some Storylines only provide their benefit after you retire once - retiring is encouraged in order to get the full benefit in those cases.\n\nDeciding when to retire is very important. One suggestion is to retire if progress has gotten slower or achieving the next Goal (see: **Home** help section) appears impossible. Another is to retire if the research and production multipliers will substantially increase, or if you complete a Storyline with powerful effects that only appear after retirement. For the first retirement *only*, it is usually a good idea to retire if your new Global Experience Multiplier will be above 2.5x (i.e. do not retire right away after unlocking Retirement).")}),Iv.register({id:"compendium",category:Ev.ScreensOverview,title:ae("Compendium"),order:1210,isVisible:function(e){return zP.isCompleted(e)},description:ae("The :compendium:**Compendium** is a resource that you can use to aid your quest. It contains two separate areas: *Items* and *Bestiary*. **Items** is essentially a list of all the items you have ever acquired, together with their basic effect and a small breakdown of where you could acquire them from. **Bestiary**, on the other hand, is a list of all the enemies you have fought throughout your journey. You can find information such as their stats, loot, or encounter rate. In order to see all the information, you may need to defeat an enemy many times, up to 50. The information on the Compendium persists through Retirement.\n      \n**Tip: If you lose more than twice to a boss, their entry in the Bestiary will include special combat tips from your hired wizard!** If you are stuck on a boss, this information can help you overcome it.")}),Iv.register({id:"channeling",category:Ev.GameFeatures,title:ae("Channeling"),order:2e3,isVisible:function(e){return!0},description:ae("**Channeling** spells are the most basic spell for each Element, and allow you to generate Essences of each Element. Essences are the most basic resources in the game and the building blocks for almost everything else.\n      \nThe amount of Essences you get from Channeling is calculated based on the amount of :mana: spent on the Channeling spell. Channeling spells, unlike other spells, do not have a fixed :mana: cost. Instead, their cost scales with your Max:mana:, and the Essences you get are proportional to this as well. Because of this scaling, you will be using the same Channeling spells throughout the game.")}),Iv.register({id:"timePieces",category:Ev.GameFeatures,title:ae("Time Pieces"),order:2005,isVisible:function(e){return tt(e,"has_seen_offline_progress")},description:ae("If you close the game or are away from it for longer than 10 minutes, you will gain a new resource: **:timepiece:Time Pieces**.\n      \nTime Pieces let you regain some of the lost time from being away from the game. You can use them in several different ways:\n\n* You can use them to speed up the game by going to the left-side menu and changing the game speed.\n* You can use them to instantly warp ahead in time. It is faster than speeding up the game, but uses up more :timepiece:. You can do this at the bottom of the Home screen.\n* You can use them to instantly obtain Element exp equivalent to some real world time. You can use this option to (usually) get more exp than warping for the same amount of :timepiece:. You can do this at the bottom of the Study screen.\n* If you have unlocked a certain feature, you can also use them to immediately trigger the next random event. This can be useful in some occasions, as it is cheaper than warping. You can do this at the bottom of the Home screen.\n\nYou will get exactly 1:timepiece: for each second you spend offline, and you can store up to 100K:timepiece:. They can be a very effective way to speed up progress, so don't hesitate to use them!")}),Iv.register({id:"primaryElement",category:Ev.GameFeatures,title:ae("Primary Element"),order:2010,isVisible:function(e){return Kt(e)},description:ae("When you begin a new run, you must select a **Primary Element**. Primary Elements:\n      \n* Get double experience from spellcasting and Studying,\n* Require much less experience to level up,\n* Require half the :mana: to cast their spells,\n* Are the only elements that matter when calculating your Retirement bonus,\n* May have other hidden bonuses later in the game.\n\nOverall, your Primary Element will most likely be the highest level out of all your Elements, which - together with the lower :mana: cost - means that your playstyle will be influenced by your choice of Primary Element.\n\nYou can choose a new Primary Element by *retiring* and starting a new run.")}),Iv.register({id:"classes",category:Ev.GameFeatures,title:ae("Classes"),order:2020,isVisible:function(e){return Zu.isCompleted(e)},description:ae("After you begin a new run through Retirement, you will be able to select a **Class**. Classes provide significant bonuses to various aspects of the game that are specific to the run.\n      \nWhen you begin, you will have access to three classes:\n\n* The *Battlemage* class gets a bonus to :attack: and :defense:. It makes Exploration and Combat much easier.\n* The *Spellslinger* class gets a significant bonus to :mana: production, letting you cast more spells.\n* The *Builder* class gets a bonus to :land: obtained, letting you have more furniture at once in your Home.\n\nYou suspect there might be other classes out there... but you're not sure how to find them.")}),Iv.register({id:"turningOffFurniture",category:Ev.GameFeatures,title:ae("Turning off Furniture"),order:2025,isVisible:function(e){return XI.hasEverBeenPurchased(e)},description:ae("Some Furniture, like Mana Steamers, will consume resources or have some other detrimental effect in order to provide their benefit. To avoid demolishing your Furniture if you have built too many, or if you are facing a temporary situation, you can **turn off** some of them at will.\n      \nTo turn off Furniture, you can do so from the Home screen. If it can be turned off, expanding the Furniture will let you turn it off and on. If a Furniture can be turned off, it will display its count as *(3/5)* or so, where 3 is the amount that are turned on, and 5 is the total amount that are built.\n\n*Note that turning off Furniture does not prevent it from using up your :land:Land.* If you are keeping your Furniture off for a long time, consider demolishing it so that you can build something else instead.")}),Iv.register({id:"partiallyUnlocked",category:Ev.GameFeatures,title:ae("Partially Unlocked Elements"),order:2030,isVisible:function(e){return pr(e,Mw)},description:ae("Sometimes, from observation of the world around you, you will figure out that **entirely unknown Elements** exist! However, your intuitive, basic knowledge, without any reference material, makes it much more difficult to use their spells or level them up.\n      \nPartially unlocked Elements:\n\n* Will be much harder (although possible) to Channel,\n* Will require a lot more Exp to level up,\n* Will not persist through Retirement.\n\nIf you find an Element and partially unlock it, it is usually suggested to get some levels on it, even if it's difficult. It might help you gain an edge and get further in progression...")}),Iv.register({id:"wizardsOverview",category:Ev.Wizards,title:ae("Overview"),order:4e3,isVisible:function(e){return Oc(e)},description:ae("The :wizards:**Wizards** feature lets you give instructions to your hired Wizards, who will cast spells as you ask - effectively letting you automate a large part of the game!\n\nIn order to automate the casting of a spell, you will need to assign at least one Wizard to it. The Wizards you assign to the spell will generate :wizardpower:Wizard Power, filling a gauge on the spell's rule - and when it's completely full, the spell will automatically cast!\n\nYou can assign Wizards to a spell by opening its details in the Spell menu. When a Spell has Wizards assigned to it, it will have a (A) next to its name, signaling that it's being Automated. You can also have Wizards assigned to Transmutation spells from the Transmute screen.\n\nWhen unlocking the feature, you begin with a single Wizard. However, you can get more by building *Wizard Chambers*, a type of furniture in your :home:Home.")}),Iv.register({id:"wizardsLayout",category:Ev.Wizards,title:ae("Screen Layout"),order:4010,isVisible:function(e){return Oc(e)},description:ae('The Wizards screen is divided into three areas.\n\nThe main area in the center shows a list of rules: they are the instructions that you are giving to your Wizards. Each rule represents a spell, which could be either a normal or a Transmutation spell. You can assign or remove Wizards from the rules here, and you can reorder them for readability if desired. You can also pause the execution of certain rules temporarily.\n\nThe area at the top lets you control Wizard Strategies (also called "Loadouts"), which allows you to save a strategy and reuse it later. This is useful especially if your :mana: or :wizardpower: is limited and you would like to create set-ups that focus on different areas of the game.\n\nFinally, the area at the bottom shows summary statistics about your current instructions.')}),Iv.register({id:"wizardsCaveats",category:Ev.Wizards,title:ae("Caveats"),order:4020,isVisible:function(e){return Oc(e)},description:ae('Your Wizards will only cast a spell when the :wizardpower: for a rule is full. However, there will be times where even if it is full, wizards will not cast spells:\n      \nIf you are unable to cast the spell yourself for any reason (for example, if your :mana: is not enough) the Wizards will not cast the spell.\n\nHowever, **there is an extra hidden condition** - for many spells, your Wizards will only cast the spell when they deem it "worthwhile", often saving you :mana:. For example, Channeling spells will not be cast if your storage for that elemental essence is full. Or spells that grant a buff may not be cast until the buff\'s remaining time is less than two seconds. Other spells may have other caveats.')}),Iv.register({id:"wizardsPermaCast",category:Ev.Wizards,title:ae("Perma-Cast"),order:4030,isVisible:function(e){return Nw.isBonusActive(e)},description:ae("The Perma-Cast Storyline reward allows your wizards to *Perma-Cast* a spell. Perma-Casting a spell essentially makes your Wizards cast the spell again, indefinitely, as fast as possible or as soon as it's estimated to be needed again. Instead of draining your :mana: all at once at the time the spell is cast, your :mana: will instead be drained over time.\n      \nYou can set a spell to Perma-Cast from each individual spell's details. Not every spell is available for Perma-Cast: usually, they need to either have a cooldown or grant a buff or a debuff to be Perma-Cast eligible.\n\nPerma-Cast's ease of setup is one of its biggest advantages, and is especially good for buffs that you always want to have on, such as Enchant Mana Spouts. When a buff or debuff is caused by a spell you have on Perma-Cast, it will be displayed with a (P) on any lists of buffs or debuffs, and it will show towards the bottom of the list so that you don't need to worry about its presence.\n\nAnother, more subtle advantage of Perma-Cast is that Wizards assigned to Perma-Cast spells will pool together their :wizardpower:, so you will likely need less Wizards than if you had individual rules for all of them.\n\nThe Perma-Cast rule will group together all spells you have decided to Perma-Cast, and it will always display at the top in the Wizards screen. Wizard Strategies will also include any spells you may have under your Perma-Cast rule.\n\nIf your :mana: or :wizardpower: generation is not large enough to sustain all your Perma-Cast spells, your Wizards will prioritize those that are \"cheaper\". However, despite this, it can still cause problems if it isn't resolved. If this is happening, your Wizards menu icon will change, letting you know that there is an unsolved issue.")}),Iv.register({id:"explorationOverview",category:Ev.Exploration,title:ae("Overview"),order:5e3,isVisible:function(e){return Go(e)},description:ae("Your pursuit for the Philosopher's Stone will take you through many dangerous places. What will you find?\n      \n:exploration:**Exploration** is a key feature of the game and easily the most complex. When you explore, you will find enemies that you will need to engage in combat with (and defeat). Defeating enough enemies on an area will let you fight against the boss of that area. *Challenging ever-more-difficult bosses and defeating them is the main way to make progress in Magic Research 2.*\n\nFirst, you need to select an area to explore. At the beginning, you will only have a single area unlocked, but more will show up as you make progress in the game.\n\nAfter you select an area, the screen will change. You will explore for a short period of time, and then you will engage in combat against an enemy. In combat, both you and your enemy attack automatically, dealing damage to each other until a combatant's :hp:HP drops to zero. When that happens, the combatant is defeated.\n\nIf you are victorious, you will immediately start exploring again. If, instead, you are defeated, you will first wait for your :hp: to be fully recovered before exploring again. **There is no penalty for losing in combat, except for the time it takes to heal back to full.**")}),Iv.register({id:"explorationUI",category:Ev.Exploration,title:ae("Exploration UI"),order:5010,isVisible:function(e){return Go(e)},description:ae('The Exploration screen is divided into roughly two parts.\n      \nIn the top part, you will be able to see the enemy you are currently fighting, their :hp: and their various attacks. If they are affected by a buff or debuff, you will also see it here. Slightly below, you will also see your own :hp: and your automatic attack progress.\n\nIn the bottom part, you will see the Exploration Log, a short description that keeps track of the enemies that you have defeated, as well as the loot you have obtained.\n\nThere are also four buttons in the bottom, which let you interact with combat in various ways:\n\n* The "Items" tab allows you to access your pouch. You can also let the game automatically use most of your pouch items for you.\n* The "Spells" tab allows you to cast a subset of spells that is particularly useful for Exploration. You can also add spells to your Quickbar by expanding them in this tab.\n* The "Strategy" tab allows you to change your Wizard strategy (see "Screen Layout" under the "Wizards" category), switch between equipment sets, or control some aspects of how Exploration works, such as telling the game to wait until you fully recover before you Explore again.\n* Finally, the "Quickbar" tab is the best way to react to a heated battle. You can set key spells to your Quickbar and use them without having to look through the menus, which is important in difficult battles. The tab also shows a short list of buffs and debuffs on the right.')}),Iv.register({id:"explorationPouch",category:Ev.Exploration,title:ae("Pouch Items"),order:5020,isVisible:function(e){return Go(e)},description:ae('Pouch Items are an important category of *Equipment*. They are usually potions or fruit that recover your :hp: or grant you a buff for some time. You can equip pouch items from the Inventory screen.\n\n**Pouch Items are not consumable, and they will not disappear when used.** They are considered pieces of equipment. You start the game with four pouch item slots, and you can have multiples of the same item in those slots. For example, you can fill your pouch with four :cherry:Cherry.\n      \nPouch items can be used only during combat, and each one will have a certain amount of uses. Entering a new combat will refresh the pouch items and restore their uses.\n\nMost pouch items will be used automatically during combat unless you disable this behavior in the "Items" tab in Exploration. Healing items will typically be used if your :hp: is dangerously low, or if you would obtain their full effect. Buffing items will typically be used whenever the buff is not present, which is usually at the beginning of a battle.\n\nPouch items are key to succeeding in Exploration, and may be your main source of healing during combat for a good portion of the game. Think very carefully about what pouch items to equip before entering combat: you will need to wait until the next combat to use it if you equip a new pouch item while you are already fighting.')}),Iv.register({id:"explorationBasicStats",category:Ev.Exploration,title:ae("Basic Combat Stats"),order:5030,isVisible:function(e){return Go(e)},description:ae('There are a handful of stats that are specific to Exploration. They are:\n      \n:hp:HP is short for "Health Points". It represents a combatant\'s life. If it becomes 0, the combatant will be defeated. Your :hp: slowly regenerates over time. The higher your Max:hp:, the faster it will regenerate. Additionally, your :hp: will regenerate much faster when outside of combat.\n\n:attack:Attack is the basic damage you would deal with your automatic attack. The damage you actually deal to an enemy will usually be lower than this, as it is reduced by their :defense:Defense stat.\n\n:attackDelay:Attack Delay is the amount of time between automatic attacks. The lower it is, the better.\n\n:defense:Defense reduces the damage you take from enemy attacks. Generally, two points of :defense: will reduce damage by 1. However, if your :defense: is much higher than the incoming :attack:, the reduction will slowly become less. You can usually reduce the damage from an attack to 1 if your :defense: is about *four times* the incoming :attack:.\n\nHere is an example of how :defense: reduces the damage from a 50:attack::\n\n* With 0:defense:: it would deal 50 damage\n* With 20:defense:: it would deal 40 damage\n* With 50:defense:: it would deal 25 damage\n* With 100:defense:: it would deal 9 damage\n* With 150:defense:: it would deal 4 damage\n* With 200:defense:: it would deal 1 damage')}),Iv.register({id:"explorationDodgeAccuracy",category:Ev.Exploration,title:ae("Dodge and Accuracy"),order:5040,isVisible:function(e){return Je(e,Ir.SewersUnlocked)},description:ae("As you make your way into the Sewers, two more stats will become important in Exploration. They are:\n      \n:dodge:Dodge allows you (or an enemy) to evade attacks entirely. :dodge: starts at 100, and can be increased or decreased by many things, including equipment and buffs. The higher your :dodge: is, the bigger the likelihood you will evade an attack.\n\n:accuracy:Accuracy, on the other hand, determines the likelihood you will be able to hit an enemy. Like :dodge:, it starts at 100, and can be increased or decreased by many things. If your :accuracy: is higher than or equal to the enemy's :dodge:, your attacks will never miss.\n\nIf :accuracy: and :dodge: are not displayed in a list of stats, they are implied to be exactly 100.\n\nThe hit rate of an attack depends on the proportion between the attacker's :accuracy: and the defender's :dodge:. Here's an example (assuming 100:accuracy:, the default):\n\n* With 100:dodge: or less: it would always hit\n* With 120:dodge:: it would have a 91% chance of hitting\n* With 150:dodge:: it would have a 74% chance of hitting\n* With 200:dodge:: it would have a 50% chance of hitting\n* With 300:dodge:: it would have a 18% chance of hitting\n* With 400:dodge:: it would have a 0% chance of hitting\n\n**Note that :dodge: and :accuracy: also affect spells that deal damage!**")})}function QT(){Nv=[],Uv({description:ae("Gather more Mana"),isCompleted:function(e){return Ve(e,Ir.ChannelingUnlocked)},progress:function(e){return zt(e,Dt.Mana)/10}}),Uv({description:ae("Channel Water and Air Essence"),isCompleted:function(e){return Ve(e,Ir.ManaSpoutsUnlocked)}}),Uv({description:ae("Build a Mana Spout"),isCompleted:function(e){return rg(e,Ib)>0||Ve(e,Ir.ManaShardsUnlocked)}}),Uv({description:ae("Channel Earth Essence"),isCompleted:function(e){return Ve(e,Ir.ManaShardsUnlocked)},progress:function(e){return zt(e,Dt.EarthEssence)/30}}),Uv({description:ae("Build a Mana Shard"),isCompleted:function(e){return rg(e,Ub)>0||Ve(e,Ir.StoragesUnlocked)}}),Uv({description:ae("Fill up your Essence storage"),isCompleted:function(e){return Ve(e,Ir.StoragesUnlocked)},progress:function(e){return Math.max.apply(Math,(0,h.default)(_(Ss).map((function(t){return zt(e,t)}))))/100}}),Uv({description:ae("Build an Essence Storage"),isCompleted:function(e){return Qt(e,Dt.FireEssence)>=200}}),Uv({description:ae("Channel Fire Essence"),isCompleted:function(e){return Ve(e,Ir.CatalystsUnlocked)},progress:function(e){return zt(e,Dt.FireEssence)/110}}),Uv({description:ae("Build an Essence Catalyst"),isCompleted:function(e){return rg(e,Ab)>0||Ve(e,Ir.StudyUnlocked)}}),Uv({description:ae("Study your primary element and level it up to Lv2, while continuing to build your home"),isCompleted:function(e){return Sn(e)>=2},progress:function(e){var t,n;return gn(e,null!=(t=e.run.primaryElement)?t:un.Fire)/bn(e,2,null!=(n=e.run.primaryElement)?n:un.Fire)}}),Uv({description:ae("Transmute items, sell them and accumulate Coins"),isCompleted:function(e){return Ve(e,Ir.WizardsUnlocked)},progress:function(e){return zt(e,Dt.Coins)/500}}),Uv({description:ae("Continue transmuting and selling items and accumulate at least 1000 Coins"),isCompleted:function(e){return Ve(e,Ir.SaleStallsUnlocked)},progress:function(e){return zt(e,Dt.Coins)/1e3}}),Uv({description:ae("Continue transmuting and selling items and accumulate at least 1500 Coins"),isCompleted:function(e){return Ve(e,Ir.ResearchersUnlocked)},progress:function(e){return zt(e,Dt.Coins)/1500}}),Uv({description:ae("Continue building furniture and using up land"),isCompleted:function(e){return Ve(e,Ir.LandPurchaseUnlocked)},progress:function(e){return tg(e)/120}}),Uv({description:ae("Level up your primary element to Lv6"),isCompleted:function(e){return Wo(e)},progress:function(e){var t,n;return gn(e,null!=(t=e.run.primaryElement)?t:un.Fire)/bn(e,6,null!=(n=e.run.primaryElement)?n:un.Fire)}}),Uv({description:ae("Explore the Tower of Training of your primary element"),isCompleted:function(e){var t=jP[e.run.primaryElement];return null==t||t.canFightBoss(e)},progress:function(e){var t=jP[e.run.primaryElement];return null==t?1:1-(t.getExplorationSuccessesForBoss(e)-xu(e,t.getId()))/t.getExplorationSuccessesForBoss(e)}}),Uv({description:ae("Defeat the boss of the Tower of Training of your primary element"),isCompleted:function(e){if(Ve(e,Ir.EnhancementsUnlocked))return!0;var t=jP[e.run.primaryElement];return null==t||yr(e,t)}}),Uv({description:ae("Explore and defeat the boss of all of the Towers of Training"),isCompleted:function(e){if(Ve(e,Ir.EnhancementsUnlocked))return!0;for(var t of _(jP))if(!yr(e,t))return!1;return!0}}),Uv({description:ae('Complete the "Final Exam" event by defeating the Head Instructor'),isCompleted:function(e){return Ve(e,Ir.EnhancementsUnlocked)}}),Uv({description:ae("Explore the Sewer Entrance"),isCompleted:function(e){return Mw.canFightBoss(e)}}),Uv({description:ae("Defeat the boss of the Sewer Entrance"),isCompleted:function(e){return yr(e,Mw)}}),Uv({description:ae("Explore the Hazardous Sector"),isCompleted:function(e){return Pw.canFightBoss(e)}}),Uv({description:ae("Defeat the boss of the Hazardous Sector"),isCompleted:function(e){return yr(e,Pw)}}),Uv({description:ae("Explore the Sewer Hideout"),isCompleted:function(e){return Bw.canFightBoss(e)}}),Uv({description:ae("Defeat the boss of the Sewer Hideout"),isCompleted:function(e){return Ve(e,Ir.VastDesertUnlocked)}}),Uv({description:ae("Enjoy your time in the World"),isCompleted:function(e){return!1}})}function zT(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var VT=new(function(e){(0,ws.default)(r,e);var t=zT(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"cloakOfDarkness"}},{key:"getSlot",value:function(){return hi.Accessory}},{key:"getPicture",value:function(){return n(7550)}},{key:"getBaseName",value:function(e){return ae("Cloak of Darkness")}},{key:"getDescription",value:function(e,t){return ae("A cloak that is abnormally dark. Makes the wearer hard to spot.")}},{key:"getBaseSalePrice",value:function(e,t){return 1800}},{key:"getDefenseBonusBase",value:function(e){return 4}},{key:"getPlayerDodgeBonusBase",value:function(e){return 25}}]),r}(Qh)),WT=new(function(e){(0,ws.default)(n,e);var t=zT(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return VT}},{key:"getCraftingElementLevelRequirements",value:function(){return{Air:15}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:400,AirEssence:15e3},items:{elementalShardAir:30,cotton:4}}}},{key:"getElement",value:function(){return un.Air}}]),n}(lx));function GT(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var JT=new(function(e){(0,ws.default)(r,e);var t=GT(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"copperShield"}},{key:"getSlot",value:function(){return hi.Accessory}},{key:"getPicture",value:function(){return n(83215)}},{key:"getBaseName",value:function(e){return ae("Copper Shield")}},{key:"getDescription",value:function(e,t){return ae("An effective shield that utilizes Copper in its construction.")}},{key:"getBaseSalePrice",value:function(e,t){return 2500}},{key:"getDefenseBonusBase",value:function(e){return 15}}]),r}(Qh)),qT=new(function(e){(0,ws.default)(n,e);var t=GT(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return JT}},{key:"getCraftingElementLevelRequirements",value:function(){return{Earth:17}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:400,EarthEssence:2e4},items:{elementalShardEarth:10,copperIngot:6}}}},{key:"getElement",value:function(){return un.Earth}}]),n}(lx));function XT(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var KT=new(function(e){(0,ws.default)(r,e);var t=XT(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"smallShield"}},{key:"getSlot",value:function(){return hi.Accessory}},{key:"getPicture",value:function(){return n(29070)}},{key:"getBaseName",value:function(e){return ae("Small Shield")}},{key:"getDescription",value:function(e,t){return ae("A defensive accessory. Provides some protection from damage.")}},{key:"getBaseSalePrice",value:function(e,t){return 450}},{key:"getDefenseBonusBase",value:function(e){return 7}}]),r}(Qh)),ZT=new(function(e){(0,ws.default)(n,e);var t=XT(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return KT}},{key:"getCraftingElementLevelRequirements",value:function(){return{Earth:8}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:200,AirEssence:1500},items:{elementalShardEarth:8}}}},{key:"getElement",value:function(){return un.Earth}}]),n}(lx));function _T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var $T=new(function(e){(0,ws.default)(r,e);var t=_T(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"stoneEgg"}},{key:"getSlot",value:function(){return hi.Accessory}},{key:"getPicture",value:function(){return n(55730)}},{key:"getBaseName",value:function(e){return ae("Stone Egg")}},{key:"getDescription",value:function(e,t){return ae("A large, heavy egg-shaped rock. The holder is not going anywhere...")}},{key:"getEffectExtra",value:function(e,t){return ae('Immunity to "Airborne"')}},{key:"getDefenseBonusBase",value:function(e){return 10}},{key:"getBaseSalePrice",value:function(e,t){return 1200}}]),r}(Qh));Do($T.getId(),(function(e,t){return $T.isEquippedWithAnyParams(e)&&t.target==Qr.Player?("airborne"!=t.id||(t.endTime=Aa(e)-1),t):t}));var ej=new(function(e){(0,ws.default)(n,e);var t=_T(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return $T}},{key:"getCraftingElementLevelRequirements",value:function(){return{Earth:22}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:500,EarthEssence:28e3},items:{elementalShardEarth:50}}}},{key:"getElement",value:function(){return un.Earth}}]),n}(lx));function tj(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var nj=new(function(e){(0,ws.default)(r,e);var t=tj(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"collarOfPower"}},{key:"getSlot",value:function(){return hi.Accessory}},{key:"getPicture",value:function(){return n(86612)}},{key:"getBaseName",value:function(e){return ae("Collar of Power")}},{key:"getDescription",value:function(e,t){return ae("A peculiar item. Makes the wearer stronger, but at a cost...")}},{key:"getBaseSalePrice",value:function(e,t){return 2e3}},{key:"getBaseExtraItemEffects",value:function(e){return{magnitude:{value:.2,valueType:vt.Percent}}}},{key:"getEffectExtra",value:function(e,t){var n=this.getItemEffects(e,t),r=this.getItemEffectExplanations(e,t);return ae("^{{magnitude}}^<{{explanation}}>:attack:; -20%:defense:",{magnitude:le(1+n.magnitude),explanation:r.magnitude})}}]),r}(Qh)),rj=function(e){(0,ws.default)(n,e);var t=tj(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return nj}},{key:"getCraftingElementLevelRequirements",value:function(){return{Fire:20}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:500},items:{elementalShardFire:60,copperIngot:5}}}},{key:"getElement",value:function(){return un.Fire}}]),n}(lx);xt([[Qr.Player,Vr.Attack]],nj.getId()+"attack",nj.getName(nj.getDefaultParams()),At.Multiplier,(function(e,t){return nj.isEquippedWithAnyParams(e)?nj.getEquippedItemEffect(e,"magnitude").magnitude+1:1})),xt([[Qr.Player,Vr.Defense]],nj.getId(),nj.getName(nj.getDefaultParams()),At.Multiplier,(function(e,t){return nj.isEquippedWithAnyParams(e)?.8:1}));var aj=new rj;function ij(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var oj=function(e){(0,ws.default)(r,e);var t=ij(r);function r(){var e;(0,Le.default)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).poisonTags=[pt.TemporaryEffectMagnitude,Vb.getId()],e.poisonDurationTags=[pt.TemporaryEffectDuration,Vb.getId()],e}return(0,He.default)(r,[{key:"getId",value:function(){return"assassinsBaselard"}},{key:"getSlot",value:function(){return hi.Hand}},{key:"getPicture",value:function(){return n(5215)}},{key:"getBaseName",value:function(e){return ae("Assassin's Baselard")}},{key:"getDescription",value:function(e,t){return ae("A sophisticated small weapon used by covert rogues. Has a potent poisoning effect.")}},{key:"getBaseSalePrice",value:function(e,t){return 4e3}},{key:"getBaseExtraItemEffects",value:function(e){return{poisonStrength:{value:15,tags:this.poisonTags,unit:":hp:/sec"},poisonDuration:{value:1,tags:this.poisonDurationTags,unit:" sec"}}}},{key:"getPoisonStrength",value:function(e,t){return this.getItemEffects(e,t,"poisonStrength").poisonStrength}},{key:"getEffectExtra",value:function(e,t){var n=this.getPoisonStrength(e,t),r=this.getItemEffects(e,t,"poisonDuration").poisonDuration;return ae("On hit, applies ^-{{poisonStrength}}^<{{strengthExplanation}}>:hp:/sec Poison for ^{{poisonDuration}}^<{{durationExplanation}}> sec",{poisonStrength:ue(n),strengthExplanation:this.getItemEffectExplanations(e,t,"poisonStrength").poisonStrength,poisonDuration:ue(r,{showDecimals:!0}),durationExplanation:this.getItemEffectExplanations(e,t,"poisonDuration").poisonDuration})}},{key:"getAttackBonusBase",value:function(e){return 55}},{key:"getAttackDelayBonusRatioBase",value:function(e){return-.15}}]),r}(Qh),uj=new oj;Fo.register((function(e,t){if(uj.isEquippedWithAnyParams(e)&&t.source==Qr.Player&&t.tags.includes(pt.AutoAttack)&&t.isHit){var n=uj.getItemEffects(e,xi(e,hi.Hand).params);e=Ro(Vb.getId(),n.poisonDuration,{mode:"add",target:t.target,params:{magnitude:uj.getPoisonStrength(e,xi(e,hi.Hand).params)}})(e)}return e}));var lj=new(function(e){(0,ws.default)(n,e);var t=ij(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return uj}},{key:"getCraftingElementLevelRequirements",value:function(){return{Poison:14}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:400,PoisonEssence:8e3},items:{elementalShardPoison:15}}}},{key:"getElement",value:function(){return un.Poison}}]),n}(lx));function sj(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var cj=new(function(e){(0,ws.default)(r,e);var t=sj(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"assassinsCloak"}},{key:"getSlot",value:function(){return hi.Accessory}},{key:"getPicture",value:function(){return n(72815)}},{key:"getBaseName",value:function(e){return ae("Assassin's Cloak")}},{key:"getDescription",value:function(e,t){return ae("A lightweight cloak that empowers an assassin's capabilities.")}},{key:"getDefenseBonusBase",value:function(e){return 2}},{key:"getBaseExtraItemEffects",value:function(e){return{magnitude:{value:4,valueType:vt.Percent}}}},{key:"getEffectExtra",value:function(e,t){var n=this.getItemEffects(e,t),r=this.getItemEffectExplanations(e,t);return ae("^{{magnitude}}^<{{explanation}}> Assassin's Baselard poison strength",{magnitude:le(1+n.magnitude),explanation:r.magnitude})}},{key:"getBaseSalePrice",value:function(e,t){return 6500}}]),r}(Qh));xt([[uj.getId(),pt.TemporaryEffectMagnitude]],cj.getId(),cj.getBaseName(cj.getDefaultParams()),At.Multiplier,(function(e){return cj.isEquippedWithAnyParams(e)?cj.getEquippedItemEffect(e,"magnitude").magnitude+1:1}));var fj=new(function(e){(0,ws.default)(n,e);var t=sj(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return cj}},{key:"getCraftingElementLevelRequirements",value:function(){return{Poison:19}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:400,PoisonEssence:15e3},items:{elementalShardPoison:20,cotton:4,venomPowder:4}}}},{key:"getElement",value:function(){return un.Poison}}]),n}(lx));function dj(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var gj=new(function(e){(0,ws.default)(r,e);var t=dj(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"charmOfPoisonResistance"}},{key:"getSlot",value:function(){return hi.Accessory}},{key:"getPicture",value:function(){return n(28776)}},{key:"getBaseName",value:function(e){return ae("Charm of Poison Resistance")}},{key:"getDescription",value:function(e,t){return ae("A necklace enchanted with protective magic. Effective against poison.")}},{key:"getDefenseBonusBase",value:function(e){return 1}},{key:"getBaseExtraItemEffects",value:function(e){return{magnitude:{value:3,valueType:vt.Divisor}}}},{key:"getEffectExtra",value:function(e,t){var n=this.getItemEffects(e,t),r=this.getItemEffectExplanations(e,t);return ae("^{{magnitude}}^<{{explanation}}> damage received from Poison",{magnitude:le(1/(1+n.magnitude)),explanation:r.magnitude})}},{key:"getBaseSalePrice",value:function(e,t){return 700}}]),r}(Qh));Do(gj.getId(),(function(e,t){if(gj.isEquippedWithAnyParams(e)&&t.id==Vb.getId()&&t.target==Qr.Player){var n=1/(1+gj.getItemEffects(e,xi(e,hi.Accessory)).magnitude);t.params.magnitude=t.params.magnitude*n}return t}));var hj=new(function(e){(0,ws.default)(n,e);var t=dj(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return gj}},{key:"getCraftingElementLevelRequirements",value:function(){return{Poison:4}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:200,PoisonEssence:2e3},items:{elementalShardPoison:5}}}},{key:"getElement",value:function(){return un.Poison}}]),n}(lx));function mj(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var yj=new(function(e){(0,ws.default)(r,e);var t=mj(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"soulStone"}},{key:"getSlot",value:function(){return hi.Accessory}},{key:"getPicture",value:function(){return n(91622)}},{key:"getBaseName",value:function(e){return ae("Soul Stone")}},{key:"getDescription",value:function(e,t){return ae("An enchanted trinket that increases the effectivity from which you can get the essence of enemies.")}},{key:"getBaseExtraItemEffects",value:function(e){return{magnitude:{value:.5,valueType:vt.Percent}}}},{key:"getEffectExtra",value:function(e,t){var n=this.getItemEffects(e,t),r=this.getItemEffectExplanations(e,t);return ae("^{{magnitude}}^<{{explanation}}>:monstium: obtained from Exploration",{magnitude:le(1+n.magnitude),explanation:r.magnitude})}},{key:"getBaseSalePrice",value:function(e,t){return 5e3}}]),r}(Qh));xt([[pt.Loot,pt.FromExploration,Dt.Monstium]],yj.getId(),yj.getBaseName(yj.getDefaultParams()),At.Multiplier,(function(e){return yj.isEquippedWithAnyParams(e)?yj.getEquippedItemEffect(e,"magnitude").magnitude+1:1}));var pj=new(function(e){(0,ws.default)(n,e);var t=mj(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return yj}},{key:"getCraftingElementLevelRequirements",value:function(){return{Poison:21}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:500,PoisonEssence:35e3},items:{elementalShardPoison:80}}}},{key:"getElement",value:function(){return un.Poison}}]),n}(lx));function vj(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Aj=new(function(e){(0,ws.default)(r,e);var t=vj(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"manaTear"}},{key:"getSlot",value:function(){return hi.Accessory}},{key:"getPicture",value:function(){return n(32326)}},{key:"getBaseName",value:function(e){return ae("Tear of Mana")}},{key:"getDescription",value:function(e,t){return ae("A small gem that provides just a little wizardry push.")}},{key:"getBaseSalePrice",value:function(e,t){return 300}},{key:"getManaRegenBonusBase",value:function(e){return 3}},{key:"getMaxManaBonusBase",value:function(e){return 100}}]),r}(Qh)),bj=new(function(e){(0,ws.default)(n,e);var t=vj(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return Aj}},{key:"getCraftingElementLevelRequirements",value:function(){return{Water:4}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:200},items:{elementalShardWater:5}}}},{key:"getElement",value:function(){return un.Water}}]),n}(lx));function kj(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var xj=new(function(e){(0,ws.default)(r,e);var t=kj(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"ringOfRegeneration"}},{key:"getSlot",value:function(){return hi.Accessory}},{key:"getPicture",value:function(){return n(38553)}},{key:"getBaseName",value:function(e){return ae("Ring of Regeneration")}},{key:"getDescription",value:function(e,t){return ae("A ring that greatly magnifies the wearer's innate healing power.")}},{key:"getBaseSalePrice",value:function(e,t){return 3500}},{key:"getEffectExtra",value:function(e,t){return ae("Doubles innate :hp: regeneration")}}]),r}(Qh)),wj=function(e){(0,ws.default)(n,e);var t=kj(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return xj}},{key:"getCraftingElementLevelRequirements",value:function(){return{Water:23}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:500},items:{elementalShardWater:120,elementalShardEarth:20}}}},{key:"getElement",value:function(){return un.Water}}]),n}(lx);xt([[Qr.Player,Vr.HPRegen]],xj.getId(),xj.getName(xj.getDefaultParams()),At.Multiplier,(function(e,t){return xj.isEquippedWithAnyParams(e)?2:1}));var Ej=new wj;function Cj(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Ij=new(function(e){(0,ws.default)(r,e);var t=Cj(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"breezyShirt"}},{key:"getSlot",value:function(){return hi.Body}},{key:"getPicture",value:function(){return n(47464)}},{key:"getBaseName",value:function(e){return ae("Breezy Shirt")}},{key:"getDescription",value:function(e,t){return ae("A lightweight shirt. Doesn't protect much, but wearing it makes you feel lighter than usual.")}},{key:"getBaseSalePrice",value:function(e,t){return 500}},{key:"getDefenseBonusBase",value:function(e){return 12}},{key:"getAttackDelayBonusRatioBase",value:function(e){return-.2}}]),r}(Qh)),Bj=new(function(e){(0,ws.default)(n,e);var t=Cj(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return Ij}},{key:"getCraftingElementLevelRequirements",value:function(){return{Air:5}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:200,WaterEssence:1200},items:{elementalShardAir:10}}}},{key:"getElement",value:function(){return un.Air}}]),n}(lx));function Sj(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Rj=new(function(e){(0,ws.default)(r,e);var t=Sj(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"evasiveGarb"}},{key:"getSlot",value:function(){return hi.Body}},{key:"getPicture",value:function(){return n(77909)}},{key:"getBaseName",value:function(e){return ae("Evasive Garb")}},{key:"getDescription",value:function(e,t){return ae("An armor that may not protect much, but allows its wearer to dodge more easily.")}},{key:"getBaseSalePrice",value:function(e,t){return 3600}},{key:"getDefenseBonusBase",value:function(e){return 24}},{key:"getPlayerDodgeBonusBase",value:function(e){return 40}}]),r}(Qh)),Pj=new(function(e){(0,ws.default)(n,e);var t=Sj(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return Rj}},{key:"getCraftingElementLevelRequirements",value:function(){return{Air:17}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:400,AirEssence:25e3},items:{elementalShardAir:50,cotton:16}}}},{key:"getElement",value:function(){return un.Air}}]),n}(lx));function Tj(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var jj=new(function(e){(0,ws.default)(r,e);var t=Tj(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"copperArmor"}},{key:"getSlot",value:function(){return hi.Body}},{key:"getPicture",value:function(){return n(66927)}},{key:"getBaseName",value:function(e){return ae("Copper Armor")}},{key:"getDescription",value:function(e,t){return ae("An armor made from reinforced copper. Adapts more easily to your body than other armor.")}},{key:"getBaseSalePrice",value:function(e,t){return 3e3}},{key:"getDefenseBonusBase",value:function(e){return 50}},{key:"getAttackDelayBonusRatioBase",value:function(e){return.1}}]),r}(Qh)),Mj=new(function(e){(0,ws.default)(n,e);var t=Tj(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return jj}},{key:"getCraftingElementLevelRequirements",value:function(){return{Earth:16}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:400,EarthEssence:15e3},items:{elementalShardEarth:15,copperIngot:12}}}},{key:"getElement",value:function(){return un.Earth}}]),n}(lx));function Dj(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Oj=new(function(e){(0,ws.default)(r,e);var t=Dj(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"turtleArmor"}},{key:"getSlot",value:function(){return hi.Body}},{key:"getPicture",value:function(){return n(77129)}},{key:"getBaseName",value:function(e){return ae("Turtle Armor")}},{key:"getDescription",value:function(e,t){return ae("A very heavy armor. Offers extremely strong protection, but reduces attack speed to a crawl...")}},{key:"getBaseSalePrice",value:function(e,t){return 3500}},{key:"getDefenseBonusBase",value:function(e){return 90}},{key:"getAttackDelayBonusRatioBase",value:function(e){return 1}}]),r}(Qh)),Nj=new(function(e){(0,ws.default)(n,e);var t=Dj(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return Oj}},{key:"getCraftingElementLevelRequirements",value:function(){return{Earth:23}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:500,EarthEssence:33e3},items:{elementalShardEarth:100}}}},{key:"getElement",value:function(){return un.Earth}}]),n}(lx));function Uj(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Fj=new(function(e){(0,ws.default)(r,e);var t=Uj(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"leatherArmor"}},{key:"getSlot",value:function(){return hi.Body}},{key:"getPicture",value:function(){return n(43992)}},{key:"getBaseName",value:function(e){return ae("Leather Armor")}},{key:"getDescription",value:function(e,t){return ae("Standard protective equipment. Gives some protection without drawbacks to movement.")}},{key:"getBaseSalePrice",value:function(e,t){return 500}},{key:"getDefenseBonusBase",value:function(e){return 18}}]),r}(Qh)),Lj=new(function(e){(0,ws.default)(n,e);var t=Uj(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return Fj}},{key:"getCraftingElementLevelRequirements",value:function(){return{Fire:5}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:200,EarthEssence:1200},items:{elementalShardFire:8,elementalShardEarth:1,elementalShardAir:1}}}},{key:"getElement",value:function(){return un.Fire}}]),n}(lx));function Hj(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Yj=new(function(e){(0,ws.default)(r,e);var t=Hj(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"reinforcedLeatherArmor"}},{key:"getSlot",value:function(){return hi.Body}},{key:"getPicture",value:function(){return n(18761)}},{key:"getBaseName",value:function(e){return ae("Reinforced Leather Armor")}},{key:"getDescription",value:function(e,t){return ae("A sturdy light armor, with good straightforward protection.")}},{key:"getBaseSalePrice",value:function(e,t){return 3500}},{key:"getDefenseBonusBase",value:function(e){return 65}}]),r}(Qh)),Qj=new(function(e){(0,ws.default)(n,e);var t=Hj(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return Yj}},{key:"getCraftingElementLevelRequirements",value:function(){return{Fire:21}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:600,EarthEssence:18e3},items:{elementalShardFire:50,elementalShardEarth:5,thickHide:10}}}},{key:"getElement",value:function(){return un.Fire}}]),n}(lx));function zj(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Vj=new(function(e){(0,ws.default)(r,e);var t=zj(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"elderWizardsRobe"}},{key:"getSlot",value:function(){return hi.Body}},{key:"getPicture",value:function(){return n(30868)}},{key:"getBaseName",value:function(e){return ae("Elder Wizard's Robe")}},{key:"getDescription",value:function(e,t){return ae("An upgraded version of the Wizard's Robe. This time, built from cotton, to last longer.")}},{key:"getBaseSalePrice",value:function(e,t){return 2750}},{key:"getDefenseBonusBase",value:function(e){return 20}},{key:"getManaRegenBonusBase",value:function(e){return 18}},{key:"getMaxManaBonusBase",value:function(e){return 800}}]),r}(Qh)),Wj=new(function(e){(0,ws.default)(n,e);var t=zj(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return Vj}},{key:"getCraftingElementLevelRequirements",value:function(){return{Water:15}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:400},items:{elementalShardWater:25,cotton:6}}}},{key:"getElement",value:function(){return un.Water}}]),n}(lx));function Gj(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Jj=new(function(e){(0,ws.default)(r,e);var t=Gj(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"tunicOfGoodHealth"}},{key:"getSlot",value:function(){return hi.Body}},{key:"getPicture",value:function(){return n(28284)}},{key:"getBaseName",value:function(e){return ae("Tunic of Good Health")}},{key:"getDescription",value:function(e,t){return ae("A cotton-based cloth armor that greatly boosts longevity and allows for recovering quicker.")}},{key:"getEffectExtra",value:function(e,t){return ae("Double passive HP regeneration speed")}},{key:"getBaseSalePrice",value:function(e,t){return 4800}},{key:"getDefenseBonusBase",value:function(e){return 24}},{key:"getMaxHPBonusBase",value:function(e){return 80}}]),r}(Qh));xt([[Vr.HPRegen,Qr.Player]],Jj.getId(),Jj.getName(Jj.getDefaultParams()),At.Multiplier,(function(e){var t;return(null==(t=xi(e,hi.Body))?void 0:t.itemId)==Jj.getId()?2:1}));var qj=new(function(e){(0,ws.default)(n,e);var t=Gj(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return Jj}},{key:"getCraftingElementLevelRequirements",value:function(){return{Water:19}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:500,WaterEssence:3e4},items:{elementalShardWater:60,cotton:20}}}},{key:"getElement",value:function(){return un.Water}}]),n}(lx));function Xj(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var Kj=new(function(e){(0,ws.default)(r,e);var t=Xj(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"galeScepter"}},{key:"getSlot",value:function(){return hi.Hand}},{key:"getPicture",value:function(){return n(27701)}},{key:"getBaseName",value:function(e){return ae("Gale Scepter")}},{key:"getDescription",value:function(e,t){return ae("A staff with a heavy affinity for Air.")}},{key:"getBaseSalePrice",value:function(e,t){return 4e3}},{key:"getAttackBonusBase",value:function(e){return 35}},{key:"getAttackDelayBonusRatioBase",value:function(e){return-.3}},{key:"getManaRegenBonusBase",value:function(e){return 30}},{key:"getMaxManaBonusBase",value:function(e){return 700}},{key:"getBaseExtraItemEffects",value:function(e){return{magnitude:{value:.15,valueType:vt.Percent},magnitudeCost:{value:.25,valueType:vt.Divisor}}}},{key:"getEffectExtra",value:function(e,t){var n=this.getItemEffects(e,t),r=this.getItemEffectExplanations(e,t);return ae("^{{magnitude}}^<{{explanation}}> power of Air elemental spells; ^{{magnitudeCost}}^<{{explanationCost}}> :mana: cost of Air elemental spells",{magnitude:le(1+n.magnitude),explanation:r.magnitude,magnitudeCost:le(1/(1+n.magnitudeCost)),explanationCost:r.magnitudeCost})}}]),r}(Qh));xt([[pt.ActionEffect,pt.ActionMagnitude,un.Air],[pt.ActionEffect,pt.TemporaryEffectMagnitude,un.Air]],Kj.getId(),Kj.getName(Kj.getDefaultParams()),At.Multiplier,(function(e){var t;return(null==(t=xi(e,hi.Hand))?void 0:t.itemId)==Kj.getId()?Kj.getEquippedItemEffect(e,"magnitude").magnitude+1:1})),xt([[un.Air,pt.Cost,Dt.Mana]],Kj.getId()+"cost",Kj.getName(Kj.getDefaultParams()),At.Multiplier,(function(e){return Kj.isEquippedWithAnyParams(e)?1/(Kj.getEquippedItemEffect(e,"magnitudeCost").magnitudeCost+1):1}));var Zj=new(function(e){(0,ws.default)(n,e);var t=Xj(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return Kj}},{key:"getCraftingElementLevelRequirements",value:function(){return{Air:23}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:600,AirEssence:33e3},items:{elementalShardAir:150}}}},{key:"getElement",value:function(){return un.Air}}]),n}(lx));function _j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var $j=new(function(e){(0,ws.default)(r,e);var t=_j(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"knuckles"}},{key:"getSlot",value:function(){return hi.Hand}},{key:"getPicture",value:function(){return n(21856)}},{key:"getBaseName",value:function(e){return ae("Knuckles")}},{key:"getDescription",value:function(e,t){return ae("A tiny, but swift weapon. Weak, but its speed makes up for it.")}},{key:"getBaseSalePrice",value:function(e,t){return 500}},{key:"getAttackBonusBase",value:function(e){return 20}},{key:"getAttackDelayBonusRatioBase",value:function(e){return-.4}}]),r}(Qh)),eM=new(function(e){(0,ws.default)(n,e);var t=_j(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return $j}},{key:"getCraftingElementLevelRequirements",value:function(){return{Air:5}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:200,AirEssence:1800},items:{elementalShardAir:10}}}},{key:"getElement",value:function(){return un.Air}}]),n}(lx));function tM(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var nM=new(function(e){(0,ws.default)(r,e);var t=tM(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"longsword"}},{key:"getSlot",value:function(){return hi.Hand}},{key:"getPicture",value:function(){return n(2274)}},{key:"getBaseName",value:function(e){return ae("Longsword")}},{key:"getDescription",value:function(e,t){return ae("A standard longsword. Consistent, average damage.")}},{key:"getBaseSalePrice",value:function(e,t){return 500}},{key:"getAttackBonusBase",value:function(e){return 30}}]),r}(Qh)),rM=new(function(e){(0,ws.default)(n,e);var t=tM(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return nM}},{key:"getCraftingElementLevelRequirements",value:function(){return{Earth:5}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:200},items:{elementalShardEarth:6,elementalShardFire:2}}}},{key:"getElement",value:function(){return un.Earth}}]),n}(lx));function aM(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var iM=new(function(e){(0,ws.default)(r,e);var t=aM(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"copperWarhammer"}},{key:"getSlot",value:function(){return hi.Hand}},{key:"getExtraSlots",value:function(){return[hi.Accessory]}},{key:"getPicture",value:function(){return n(57802)}},{key:"getBaseName",value:function(e){return ae("Copper Warhammer")}},{key:"getDescription",value:function(e,t){return ae("A heavy hammer made from reinforced copper. Has a great amount of metal, but is very powerful.")}},{key:"getEffectExtra",value:function(e,t){return ae("Extra large")}},{key:"getBaseSalePrice",value:function(e,t){return 4e3}},{key:"getAttackBonusBase",value:function(e){return 185}},{key:"getAttackDelayBonusRatioBase",value:function(e){return.65}}]),r}(Qh)),oM=new(function(e){(0,ws.default)(n,e);var t=aM(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return iM}},{key:"getCraftingElementLevelRequirements",value:function(){return{Fire:18}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:400,FireEssence:2e4},items:{elementalShardFire:50,copperIngot:12}}}},{key:"getElement",value:function(){return un.Fire}}]),n}(lx));function uM(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var lM=new(function(e){(0,ws.default)(r,e);var t=uM(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"redConflagration"}},{key:"getSlot",value:function(){return hi.Hand}},{key:"getExtraSlots",value:function(){return[hi.Accessory]}},{key:"getPicture",value:function(){return n(79606)}},{key:"getBaseName",value:function(e){return ae("Red Conflagration")}},{key:"getDescription",value:function(e,t){return ae("A massive two-handed sword. Leverages :fireessence: to empower itself further, but spellcasting suffers.")}},{key:"getEffectExtra",value:function(e,t){return ae("Extra large")}},{key:"getBaseSalePrice",value:function(e,t){return 9e3}},{key:"getMaxManaBonusBase",value:function(e){return-2e3}},{key:"getAttackBonusBase",value:function(e){return 340}},{key:"getAttackDelayBonusRatioBase",value:function(e){return.4}}]),r}(Qh));xt([[lM.getId(),Vr.Attack]],lM.getId()+"fireEssence",ae(":fireessence: amount"),At.Multiplier,(function(e){var t=zt(e,Dt.FireEssence);return Math.max(.5,Math.floor(10*Math.log10(t/15e3))/10)}));var sM=new(function(e){(0,ws.default)(n,e);var t=uM(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return lM}},{key:"getCraftingElementLevelRequirements",value:function(){return{Fire:27}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:700,FireEssence:12e4},items:{elementalPrismFire:30}}}},{key:"getElement",value:function(){return un.Fire}}]),n}(lx));function cM(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var fM=new(function(e){(0,ws.default)(r,e);var t=cM(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"wandOfFire"}},{key:"getSlot",value:function(){return hi.Hand}},{key:"getPicture",value:function(){return n(9557)}},{key:"getBaseName",value:function(e){return ae("Wand of Fire")}},{key:"getDescription",value:function(e,t){return ae("A simple wand. Fire spells are powerful, and this makes them even more so.")}},{key:"getBaseSalePrice",value:function(e,t){return 8e3}},{key:"getAttackBonusBase",value:function(e){return 70}},{key:"getManaRegenBonusBase",value:function(e){return 80}},{key:"getMaxManaBonusBase",value:function(e){return 1200}},{key:"getBaseExtraItemEffects",value:function(e){return{magnitude:{value:.2,valueType:vt.Percent}}}},{key:"getEffectExtra",value:function(e,t){var n=this.getItemEffects(e,t),r=this.getItemEffectExplanations(e,t);return ae("^{{magnitude}}^<{{explanation}}> power of Fire elemental spells",{magnitude:le(1+n.magnitude),explanation:r.magnitude})}}]),r}(Qh));xt([[pt.ActionEffect,pt.ActionMagnitude,un.Fire],[pt.ActionEffect,pt.TemporaryEffectMagnitude,un.Fire]],fM.getId(),fM.getName(fM.getDefaultParams()),At.Multiplier,(function(e){var t;return(null==(t=xi(e,hi.Hand))?void 0:t.itemId)==fM.getId()?fM.getEquippedItemEffect(e,"magnitude").magnitude+1:1}));var dM=new(function(e){(0,ws.default)(n,e);var t=cM(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return fM}},{key:"getCraftingElementLevelRequirements",value:function(){return{Fire:29}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:700,FireEssence:1e5},items:{elementalPrismFire:25}}}},{key:"getElement",value:function(){return un.Fire}}]),n}(lx));function gM(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var hM=function(e){(0,ws.default)(r,e);var t=gM(r);function r(){var e;(0,Le.default)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).poisonTags=[pt.TemporaryEffectMagnitude,Vb.getId()],e.poisonDurationTags=[pt.TemporaryEffectDuration,Vb.getId()],e}return(0,He.default)(r,[{key:"getId",value:function(){return"dagger"}},{key:"getSlot",value:function(){return hi.Hand}},{key:"getPicture",value:function(){return n(28174)}},{key:"getBaseName",value:function(e){return ae("Dagger")}},{key:"getDescription",value:function(e,t){return ae("A small blade with the power of Poison.")}},{key:"getBaseSalePrice",value:function(e,t){return 800}},{key:"getBaseExtraItemEffects",value:function(e){return{poisonStrength:{value:8,tags:this.poisonTags,unit:":hp:/sec"},poisonDuration:{value:1,tags:this.poisonDurationTags,unit:" sec"}}}},{key:"getPoisonStrength",value:function(e,t){return this.getItemEffects(e,t,"poisonStrength").poisonStrength}},{key:"getEffectExtra",value:function(e,t){var n=this.getPoisonStrength(e,t),r=this.getItemEffects(e,t,"poisonDuration").poisonDuration;return ae("On hit, applies ^-{{poisonStrength}}^<{{strengthExplanation}}>:hp:/sec Poison for ^{{poisonDuration}}^<{{durationExplanation}}> sec",{poisonStrength:ue(n),strengthExplanation:this.getItemEffectExplanations(e,t,"poisonStrength").poisonStrength,poisonDuration:ue(r,{showDecimals:!0}),durationExplanation:this.getItemEffectExplanations(e,t,"poisonDuration").poisonDuration})}},{key:"getAttackBonusBase",value:function(e){return 20}},{key:"getAttackDelayBonusRatioBase",value:function(e){return-.3}}]),r}(Qh),mM=new hM;Fo.register((function(e,t){if(mM.isEquippedWithAnyParams(e)&&t.source==Qr.Player&&t.tags.includes(pt.AutoAttack)&&t.isHit){var n=mM.getItemEffects(e,xi(e,hi.Hand).params);e=Ro(Vb.getId(),n.poisonDuration,{mode:"add",target:t.target,params:{magnitude:mM.getPoisonStrength(e,xi(e,hi.Hand).params)}})(e)}return e}));var yM=new(function(e){(0,ws.default)(n,e);var t=gM(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return mM}},{key:"getCraftingElementLevelRequirements",value:function(){return{Poison:5}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:200,PoisonEssence:2500},items:{elementalShardAir:1,elementalShardPoison:4}}}},{key:"getElement",value:function(){return un.Poison}}]),n}(lx));function pM(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var vM=new(function(e){(0,ws.default)(r,e);var t=pM(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"shadowBlade"}},{key:"getSlot",value:function(){return hi.Hand}},{key:"getPicture",value:function(){return n(86743)}},{key:"getBaseName",value:function(e){return ae("Shadow Blade")}},{key:"getDescription",value:function(e,t){return ae("A silent killer. Fast, effective, and keeps the wielder undetected.")}},{key:"getBaseSalePrice",value:function(e,t){return 1e4}},{key:"getAttackBonusBase",value:function(e){return 105}},{key:"getAttackDelayBonusRatioBase",value:function(e){return-.3}},{key:"getPlayerDodgeBonusBase",value:function(e){return 15}}]),r}(Qh)),AM=new(function(e){(0,ws.default)(n,e);var t=pM(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return vM}},{key:"getCraftingElementLevelRequirements",value:function(){return{Poison:29}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:700,PoisonEssence:115e3},items:{elementalPrismPoison:16,elementalPrismAir:1}}}},{key:"getElement",value:function(){return un.Poison}}]),n}(lx));function bM(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var kM=new(function(e){(0,ws.default)(r,e);var t=bM(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"wandOfPoison"}},{key:"getSlot",value:function(){return hi.Hand}},{key:"getPicture",value:function(){return n(19482)}},{key:"getBaseName",value:function(e){return ae("Wand of Poison")}},{key:"getDescription",value:function(e,t){return ae("A magical wand fine tuned for Poison. Increases power of Poison spells.")}},{key:"getBaseSalePrice",value:function(e,t){return 5e3}},{key:"getAttackBonusBase",value:function(e){return 60}},{key:"getManaRegenBonusBase",value:function(e){return 60}},{key:"getMaxManaBonusBase",value:function(e){return 1200}},{key:"getBaseExtraItemEffects",value:function(e){return{magnitude:{value:.15,valueType:vt.Percent}}}},{key:"getEffectExtra",value:function(e,t){var n=this.getItemEffects(e,t),r=this.getItemEffectExplanations(e,t);return ae("^{{magnitude}}^<{{explanation}}> power of Poison elemental spells",{magnitude:le(1+n.magnitude),explanation:r.magnitude})}}]),r}(Qh));xt([[pt.ActionEffect,pt.ActionMagnitude,un.Poison],[pt.ActionEffect,pt.TemporaryEffectMagnitude,un.Poison]],kM.getId(),kM.getName(kM.getDefaultParams()),At.Multiplier,(function(e){var t;return(null==(t=xi(e,hi.Hand))?void 0:t.itemId)==kM.getId()?kM.getEquippedItemEffect(e,"magnitude").magnitude+1:1}));var xM=new(function(e){(0,ws.default)(n,e);var t=bM(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return kM}},{key:"getCraftingElementLevelRequirements",value:function(){return{Poison:25}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:600,PoisonEssence:5e4},items:{elementalPrismPoison:6,copperIngot:20}}}},{key:"getElement",value:function(){return un.Poison}}]),n}(lx));function wM(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var EM=new(function(e){(0,ws.default)(r,e);var t=wM(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"rod"}},{key:"getSlot",value:function(){return hi.Hand}},{key:"getPicture",value:function(){return n(95458)}},{key:"getBaseName",value:function(e){return ae("Rod")}},{key:"getDescription",value:function(e,t){return ae("An enchanted short stick. Not too sturdy, not very damaging, but it enhances magic power.")}},{key:"getBaseSalePrice",value:function(e,t){return 500}},{key:"getAttackBonusBase",value:function(e){return 16}},{key:"getManaRegenBonusBase",value:function(e){return 8}},{key:"getMaxManaBonusBase",value:function(e){return 400}}]),r}(Qh)),CM=new(function(e){(0,ws.default)(n,e);var t=wM(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return EM}},{key:"getCraftingElementLevelRequirements",value:function(){return{Water:5}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:200,EarthEssence:1200},items:{elementalShardFire:1,elementalShardAir:1,elementalShardWater:7}}}},{key:"getElement",value:function(){return un.Water}}]),n}(lx));function IM(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var BM=new(function(e){(0,ws.default)(r,e);var t=IM(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"potionOfAlacrity"}},{key:"getDisplayName",value:function(){return ae("Potion of Alacrity")}},{key:"getDisplayDescription",value:function(e,t){return ae("-{{magnitude}}%:attackDelay:",{magnitude:ue(100*Math.abs(1-1/(t.params.magnitude+1)))})}},{key:"getIcon",value:function(){return n(10092)}}]),r}(yf)),SM=new(function(e){(0,ws.default)(n,e);var t=IM(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getTemporaryEffect",value:function(){return BM}},{key:"getDescription",value:function(e,t){return ae("A magical concoction that makes you feel light as a feather.")}},{key:"getBaseItemEffects",value:function(){return{magnitude:{value:.13636,tags:[pt.TemporaryEffectMagnitude],valueType:vt.Divisor},duration:{value:300,tags:[pt.TemporaryEffectDuration]}}}},{key:"getEffect",value:function(e,t){var n=this.getItemEffects(e,t),r=this.getItemEffectExplanations(e,t);return ae("^-{{magnitude}}%^<{{explanation}}>:attackDelay: for ^{{duration}}^<{{durationExplanation}}> sec",{magnitude:ue(100*Math.abs(1-1/(n.magnitude+1))),explanation:null==r?void 0:r.magnitude,duration:ue(Math.floor(n.duration)),durationExplanation:null==r?void 0:r.duration})}},{key:"getBaseSalePrice",value:function(e,t){return 400}}]),n}(vw)),RM=new(function(e){(0,ws.default)(n,e);var t=IM(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return SM}},{key:"getCraftingElementLevelRequirements",value:function(){return{Air:10}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:300,AirEssence:3e3},items:{elementalShardWater:5,elementalShardAir:10,slimeDrop:10}}}},{key:"getElement",value:function(){return un.Air}}]),n}(lx));function PM(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var TM=new(function(e){(0,ws.default)(r,e);var t=PM(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"potionOfEvasion"}},{key:"getDisplayName",value:function(){return ae("Potion of Evasion")}},{key:"getDisplayDescription",value:function(e,t){return ae("+{{magnitude}}:dodge:",{magnitude:ue(t.params.magnitude)})}},{key:"getIcon",value:function(){return n(96097)}}]),r}(yf)),jM=new(function(e){(0,ws.default)(n,e);var t=PM(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getTemporaryEffect",value:function(){return TM}},{key:"getDescription",value:function(e,t){return ae("A magical concoction that accelerates your body motion.")}},{key:"getBaseItemEffects",value:function(){return{magnitude:{value:20,tags:[pt.TemporaryEffectMagnitude]},duration:{value:300,tags:[pt.TemporaryEffectDuration]}}}},{key:"getEffect",value:function(e,t){var n=this.getItemEffects(e,t),r=this.getItemEffectExplanations(e,t);return ae("^+{{magnitude}}^<{{explanation}}>:dodge: for ^{{duration}}^<{{durationExplanation}}> sec",{magnitude:ue(n.magnitude),explanation:null==r?void 0:r.magnitude,duration:ue(Math.floor(n.duration)),durationExplanation:null==r?void 0:r.duration})}},{key:"getBaseSalePrice",value:function(e,t){return 2500}}]),n}(vw)),MM=new(function(e){(0,ws.default)(n,e);var t=PM(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return jM}},{key:"getCraftingElementLevelRequirements",value:function(){return{Poison:23}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:600,AirEssence:3e4,PoisonEssence:2e4},items:{elementalShardWater:5,elementalShardAir:50,elementalShardPoison:20}}}},{key:"getElement",value:function(){return un.Poison}}]),n}(lx));function DM(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var OM=new(function(e){(0,ws.default)(r,e);var t=DM(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"potionOfMuscle"}},{key:"getDisplayName",value:function(){return ae("Potion of Muscle")}},{key:"getDisplayDescription",value:function(e,t){return ae("+{{magnitude}}:attack:",{magnitude:ue(t.params.magnitude)})}},{key:"getIcon",value:function(){return n(23471)}}]),r}(yf)),NM=new(function(e){(0,ws.default)(n,e);var t=DM(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getTemporaryEffect",value:function(){return OM}},{key:"getDescription",value:function(e,t){return ae("A magical concoction that boosts your raw strength and makes you hit harder.")}},{key:"getBaseItemEffects",value:function(){return{magnitude:{value:16,tags:[pt.TemporaryEffectMagnitude]},duration:{value:300,tags:[pt.TemporaryEffectDuration]}}}},{key:"getEffect",value:function(e,t){var n=this.getItemEffects(e,t),r=this.getItemEffectExplanations(e,t);return ae("^+{{magnitude}}^<{{explanation}}>:attack: for ^{{duration}}^<{{durationExplanation}}> sec",{magnitude:ue(n.magnitude),explanation:null==r?void 0:r.magnitude,duration:ue(Math.floor(n.duration)),durationExplanation:null==r?void 0:r.duration})}},{key:"getBaseSalePrice",value:function(e,t){return 400}}]),n}(vw)),UM=new(function(e){(0,ws.default)(n,e);var t=DM(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return NM}},{key:"getCraftingElementLevelRequirements",value:function(){return{Fire:10}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:300,FireEssence:3e3},items:{elementalShardWater:5,elementalShardFire:10,slimeDrop:10}}}},{key:"getElement",value:function(){return un.Fire}}]),n}(lx));function FM(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var LM=new(function(e){(0,ws.default)(r,e);var t=FM(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"potionOfToughness"}},{key:"getDisplayName",value:function(){return ae("Potion of Toughness")}},{key:"getDisplayDescription",value:function(e,t){return ae("+{{magnitude}}:defense:",{magnitude:ue(t.params.magnitude)})}},{key:"getIcon",value:function(){return n(61707)}}]),r}(yf)),HM=new(function(e){(0,ws.default)(n,e);var t=FM(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getTemporaryEffect",value:function(){return LM}},{key:"getDescription",value:function(e,t){return ae("A magical concoction that strengthens your body's resistance to blows.")}},{key:"getBaseItemEffects",value:function(){return{magnitude:{value:16,tags:[pt.TemporaryEffectMagnitude]},duration:{value:300,tags:[pt.TemporaryEffectDuration]}}}},{key:"getEffect",value:function(e,t){var n=this.getItemEffects(e,t),r=this.getItemEffectExplanations(e,t);return ae("^+{{magnitude}}^<{{explanation}}>:defense: for ^{{duration}}^<{{durationExplanation}}> sec",{magnitude:ue(n.magnitude),explanation:null==r?void 0:r.magnitude,duration:ue(Math.floor(n.duration)),durationExplanation:null==r?void 0:r.duration})}},{key:"getBaseSalePrice",value:function(e,t){return 400}}]),n}(vw)),YM=new(function(e){(0,ws.default)(n,e);var t=FM(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return HM}},{key:"getCraftingElementLevelRequirements",value:function(){return{Earth:10}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:300,EarthEssence:3e3},items:{elementalShardWater:5,elementalShardEarth:10,slimeDrop:10}}}},{key:"getElement",value:function(){return un.Earth}}]),n}(lx));function QM(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var zM=new(function(e){(0,ws.default)(r,e);var t=QM(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"potionOfVitality"}},{key:"getDisplayName",value:function(){return ae("Potion of Vitality")}},{key:"getDisplayDescription",value:function(e,t){return ae("+{{magnitude}}% :hp: regeneration in combat",{magnitude:ue(100*t.params.magnitude)})}},{key:"getIcon",value:function(){return n(75333)}}]),r}(yf)),VM=new(function(e){(0,ws.default)(n,e);var t=QM(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getTemporaryEffect",value:function(){return zM}},{key:"getDescription",value:function(e,t){return ae("A magical concoction that improves your regeneration powers.")}},{key:"getBaseItemEffects",value:function(){return{magnitude:{value:.5,tags:[pt.TemporaryEffectMagnitude],valueType:vt.Percent},duration:{value:300,tags:[pt.TemporaryEffectDuration]}}}},{key:"getEffect",value:function(e,t){var n=this.getItemEffects(e,t),r=this.getItemEffectExplanations(e,t);return ae("^+{{magnitude}}%^<{{explanation}}> :hp: regeneration in combat for ^{{duration}}^<{{durationExplanation}}> sec",{magnitude:ue(100*n.magnitude),explanation:null==r?void 0:r.magnitude,duration:ue(Math.floor(n.duration)),durationExplanation:null==r?void 0:r.duration})}},{key:"getBaseSalePrice",value:function(e,t){return 400}}]),n}(vw)),WM=new(function(e){(0,ws.default)(n,e);var t=QM(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return VM}},{key:"getCraftingElementLevelRequirements",value:function(){return{Water:10}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:300,WaterEssence:3e3},items:{elementalShardWater:15,slimeDrop:10}}}},{key:"getElement",value:function(){return un.Water}}]),n}(lx));function GM(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var JM=new(function(e){(0,ws.default)(r,e);var t=GM(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"copperIngot"}},{key:"getTags",value:function(){return[yh.Material]}},{key:"getPicture",value:function(){return n(558)}},{key:"getElement",value:function(){return un.Fire}},{key:"getBaseName",value:function(e){return ae("Copper Ingot")}},{key:"getDescription",value:function(e,t){return ae("Processed Copper Ore. Although soft, in this state it can be used to make equipment.")}},{key:"getEffect",value:function(e,t){}},{key:"getBaseSalePrice",value:function(e,t){return 300}}]),r}(Nh)),qM=new(function(e){(0,ws.default)(n,e);var t=GM(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return JM}},{key:"getCraftingElementLevelRequirements",value:function(){return{Fire:10}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:250,FireEssence:7500},items:{copperOre:6}}}},{key:"getElement",value:function(){return un.Fire}}]),n}(sf));function XM(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var KM=function(e){(0,ws.default)(n,e);var t=XM(n);function n(e,r,a){var i;return(0,Le.default)(this,n),(i=t.call(this)).element=e,i.icon=r,i.baseSalePrice=a,i}return(0,He.default)(n,[{key:"getId",value:function(){return"elementalPrism"+this.element}},{key:"getTags",value:function(){return[yh.Material]}},{key:"getPicture",value:function(){return this.icon}},{key:"getElement",value:function(){return this.element}},{key:"getBaseName",value:function(e){return ae("{{element}} Prism",{element:ln(this.element)})}},{key:"getDescription",value:function(e,t){return ae("A prism built with very-high-density {{resourceIcon}}. Useful for more advanced transmutation.",{resourceIcon:":"+Ss[this.element].toLowerCase()+":"})}},{key:"getEffect",value:function(e,t){}},{key:"getBaseSalePrice",value:function(e,t){return this.baseSalePrice}}]),n}(Nh),ZM=function(e){(0,ws.default)(n,e);var t=XM(n);function n(e,r){var a;return(0,Le.default)(this,n),(a=t.call(this)).item=e,a.essenceAmountRequired=r,a}return(0,He.default)(n,[{key:"getItem",value:function(){return this.item}},{key:"getCraftingElementLevelRequirements",value:function(){var e={};return e[this.item.getElement()]=24,e}},{key:"getCraftingMaterialsBase",value:function(e){var t={Mana:200};return t[Ss[this.item.getElement()]]=this.essenceAmountRequired,{resources:t,items:{}}}},{key:"getBaseAutocastPointsRequirement",value:function(){return 30}},{key:"getElement",value:function(){return this.item.getElement()}}]),n}(sf);function _M(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var $M=function(e){(0,ws.default)(n,e);var t=_M(n);function n(e,r,a){var i;return(0,Le.default)(this,n),(i=t.call(this)).element=e,i.icon=r,i.baseSalePrice=a,i}return(0,He.default)(n,[{key:"getId",value:function(){return"elementalShard"+this.element}},{key:"getTags",value:function(){return[yh.Material]}},{key:"getPicture",value:function(){return this.icon}},{key:"getElement",value:function(){return this.element}},{key:"getBaseName",value:function(e){return ae("{{element}} Shard",{element:ln(this.element)})}},{key:"getDescription",value:function(e,t){return ae("A shard resulting from concentrating {{resourceIcon}}. Useful for further transmutation.",{resourceIcon:":"+Ss[this.element].toLowerCase()+":"})}},{key:"getEffect",value:function(e,t){}},{key:"getBaseSalePrice",value:function(e,t){return this.baseSalePrice}}]),n}(Nh),eD=function(e){(0,ws.default)(n,e);var t=_M(n);function n(e,r){var a;return(0,Le.default)(this,n),(a=t.call(this)).item=e,a.essenceAmountRequired=r,a}return(0,He.default)(n,[{key:"getItem",value:function(){return this.item}},{key:"getCraftingElementLevelRequirements",value:function(){var e={};return e[this.item.getElement()]=2,e}},{key:"getCraftingMaterialsBase",value:function(e){var t={Mana:20};return t[Ss[this.item.getElement()]]=this.essenceAmountRequired,{resources:t,items:{}}}},{key:"getBaseAutocastPointsRequirement",value:function(){return 20}},{key:"getElement",value:function(){return this.item.getElement()}}]),n}(sf);function tD(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var nD=new(function(e){(0,ws.default)(r,e);var t=tD(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"thickHide"}},{key:"getTags",value:function(){return[yh.Material]}},{key:"getPicture",value:function(){return n(15587)}},{key:"getBaseName",value:function(e){return ae("Thick Hide")}},{key:"getDescription",value:function(e,t){return ae("Thick hide from an animal. Flexible yet resistant, useful for light armor.")}},{key:"getEffect",value:function(e,t){}},{key:"getBaseSalePrice",value:function(e,t){return 160}}]),r}(Nh)),rD=new(function(e){(0,ws.default)(n,e);var t=tD(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getItem",value:function(){return nD}},{key:"getCraftingElementLevelRequirements",value:function(){return{Earth:16}}},{key:"getCraftingMaterialsBase",value:function(e){return{resources:{Mana:500,EarthEssence:1e4},items:{elementalShardEarth:5}}}},{key:"getBaseAutocastPointsRequirement",value:function(){return 5}},{key:"getElement",value:function(){return un.Earth}}]),n}(sf));function aD(){ft("pouchUser",(function(e){if(e.global.autoUsePouch){e.temp.isInPouch=!0;var t=wi(e,hi.Pouch),n=!1;do{for(var r in n=!1,t)if(Zi(e)==me.Combat&&!qh(e,Number.parseInt(r))){var a=t[r],i=Br.getByIdNullable(null==a?void 0:a.itemId);if(i){var o,u=i.getPouchItemAction(e,Number.parseInt(r),a.params);u.isEnabled&&i.shouldAutoUse(e,a.params)&&(e=null!=(o=null==u||null==u.transform?void 0:u.transform(e))?o:e)}}}while(n);e.temp.isInPouch=!1}})),Br.register(tv),Br.register($p),Br.register(yR),Br.register(wx),Br.register(Kx),function(){var e={Fire:{icon:n(28932),salePriceMultiplier:1.5},Earth:{icon:n(93458),salePriceMultiplier:1.5},Water:{icon:n(39822),salePriceMultiplier:1},Air:{icon:n(78958),salePriceMultiplier:1},Poison:{icon:n(13611),salePriceMultiplier:3},Mind:{icon:n(9721),salePriceMultiplier:2},Life:{icon:n(52058),salePriceMultiplier:2.5},Electric:{icon:n(96488),salePriceMultiplier:10},Death:{icon:n(21481),salePriceMultiplier:5},Holy:{icon:n(54284),salePriceMultiplier:6},Time:{icon:n(50725),salePriceMultiplier:1.5},Space:{icon:n(23596),salePriceMultiplier:2}};for(var t of _(un)){var r=e[t],a=new $M(t,r.icon,100*r.salePriceMultiplier);df(new eD(a,500))}}(),df(_P),df(Yb),df(qM),df(mx),function(){var e={Fire:{icon:n(15603),salePriceMultiplier:1.5},Earth:{icon:n(28404),salePriceMultiplier:1.5},Water:{icon:n(3990),salePriceMultiplier:1},Air:{icon:n(6841),salePriceMultiplier:1},Poison:{icon:n(91218),salePriceMultiplier:3},Mind:{icon:n(14478),salePriceMultiplier:2},Life:{icon:n(97337),salePriceMultiplier:2.5},Electric:{icon:n(42271),salePriceMultiplier:10},Death:{icon:n(65042),salePriceMultiplier:5},Holy:{icon:n(99511),salePriceMultiplier:6},Time:{icon:n(23096),salePriceMultiplier:1.5},Space:{icon:n(88616),salePriceMultiplier:2}};for(var t of _(un)){var r=e[t],a=new KM(t,r.icon,2e3*r.salePriceMultiplier);df(new ZM(a,5e4))}}(),df(dP),df(Lj),po.register(OM),df(UM),xt([[Qr.Player,Vr.Attack]],OM.getId(),OM.getDisplayName(),At.Addition,(function(e){return xo(e,OM.getId(),Qr.Player)?Eo(e,OM.getId(),Qr.Player).params.magnitude:0})),Do(OM.getId(),(function(e,t){return t.id==OM.getId()&&(e=ra(e,Qr.Player,Vr.Attack)),t})),df(sP),df(cT),df(oM),df(aj),df(Qj),df(sM),df(dM),df(rM),df(ZR),df(ZT),po.register(LM),df(YM),xt([[Qr.Player,Vr.Defense]],LM.getId(),LM.getDisplayName(),At.Addition,(function(e){return xo(e,LM.getId(),Qr.Player)?Eo(e,LM.getId(),Qr.Player).params.magnitude:0})),Do(LM.getId(),(function(e,t){return t.id==LM.getId()&&(e=ra(e,Qr.Player,Vr.Defense)),t})),df(oP),df(uT),df(Mj),df(qT),df(ej),df(Nj),df(rD),df(bj),df(CM),df(eP),df(dx),po.register(zM),df(WM),xt([[Qr.Player,Vr.HPRegen]],zM.getId(),zM.getDisplayName(),At.Multiplier,(function(e){return xo(e,zM.getId(),Qr.Player)?Eo(e,zM.getId(),Qr.Player).params.magnitude+1:1})),Do(zM.getId(),(function(e,t){return t.id==zM.getId()&&(e=ra(e,Qr.Player,Vr.HPRegen)),t})),df(mP),df(Wj),df(vT),df(qj),df(Ej),df(qR),df(eM),df(Bj),po.register(BM),df(RM),xt([[Qr.Player,Vr.AttackDelay]],BM.getId(),BM.getDisplayName(),At.Multiplier,(function(e){return xo(e,BM.getId(),Qr.Player)?1/(Eo(e,BM.getId(),Qr.Player).params.magnitude+1):1})),Do(BM.getId(),(function(e,t){return t.id==BM.getId()&&(e=ra(e,Qr.Player,Vr.AttackDelay)),t})),df(rP),df(WT),df(aT),df(Pj),df(Zj),df(hj),df(yM),df(Nx),df(kw),df(lj),df(fj),df(pj),po.register(TM),df(MM),xt([[Qr.Player,Vr.Dodge]],TM.getId(),TM.getDisplayName(),At.Addition,(function(e){return xo(e,TM.getId(),Qr.Player)?Eo(e,TM.getId(),Qr.Player).params.magnitude:0})),Do(TM.getId(),(function(e,t){return t.id==TM.getId()&&(e=ra(e,Qr.Player,Vr.Dodge)),t})),df(xM),df(AM)}function iD(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var oD=new(function(e){(0,ws.default)(n,e);var t=iD(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"airBlast"}},{key:"getSpellName",value:function(){return ae("Air Blast")}},{key:"getElement",value:function(){return un.Air}},{key:"getAutocastCategory",value:function(){return lc.ATTACK}},{key:"getExtraTags",value:function(){return[pt.AttackSpell]}},{key:"getBaseManaCost",value:function(e){return 80}},{key:"getDisplayDescription",value:function(e){return ae("Push an enemy backwards with a blast of air, slightly damaging them. Easy to use repeatedly.")}},{key:"getBaseActionEffects",value:function(){return{average:{value:25,tags:[pt.ActionMagnitude],unit:":attack:"},variance:{value:5,tags:[pt.ActionVariance],unit:":attack:"}}}},{key:"getDisplayEffect",value:function(e){return af(e,this)}},{key:"doSpellAction",value:function(e){return rf(e,this)}},{key:"getBaseCooldown",value:function(){return.5}},{key:"getBaseAutocastPointsRequirement",value:function(){return 10}},{key:"getLevelRequirements",value:function(){return{Air:7}}},{key:"isEmpowerable",value:function(){return!0}},{key:"getEmpoweringLevelRequirements",value:function(){return{Air:43}}}]),n}(_x));za(oD,6,15);const uD=oD;function lD(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var sD=new(function(e){(0,ws.default)(r,e);var t=lD(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"blur"}},{key:"getDisplayName",value:function(){return ae("Blur")}},{key:"getIcon",value:function(){return n(85948)}},{key:"isCommonBuffEnabled",value:function(){return[{stat:Vr.Dodge,type:At.Addition}]}},{key:"getDisplayDescription",value:function(e,t){return ae("+{{amount}}:dodge:",{amount:ue(t.params.commonBuff.Dodge)})}}]),r}(yf));po.register(sD);var cD=new(function(e){(0,ws.default)(n,e);var t=lD(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"blur"}},{key:"getSpellName",value:function(){return ae("Blur")}},{key:"getElement",value:function(){return un.Air}},{key:"getAutocastCategory",value:function(){return lc.COMBAT_BUFF}},{key:"getBaseManaCost",value:function(e){return 1200}},{key:"canUseOutsideOfCombat",value:function(){return!0}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:30,tags:[pt.TemporaryEffectMagnitude],unit:":dodge:"},duration:{value:15,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"doSpellAction",value:function(e,t){var n=this.getActionEffects(e);return Ro(sD.getId(),n.duration,{params:{commonBuff:{Dodge:n.magnitude}}})(e)}},{key:"getDisplayDescription",value:function(e){return ae("Make yourself harder to spot and target by enemies.")}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e);return ae("^+{{amount}}^<{{amountExplanation}}>:dodge: for ^{{duration}}^<{{durationExplanation}}> sec",{amount:ue(t.magnitude),amountExplanation:n.magnitude,duration:ue(t.duration),durationExplanation:n.duration})}},{key:"getLevelRequirements",value:function(){return{Air:14}}}]),n}(_x));function fD(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var dD=new(function(e){(0,ws.default)(n,e);var t=fD(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"enchantSaleStalls"}},{key:"getDisplayName",value:function(){return ae("Enchant Market Stalls")}},{key:"getDisplayDescription",value:function(e,t){return ae("-{{magnitudePct}}% time between sales from Market Stalls",{magnitudePct:ue(100*(1-1/(t.params.magnitude+1)))})}}]),n}(yf));po.register(dD);var gD=new(function(e){(0,ws.default)(n,e);var t=fD(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"enchantSaleStalls"}},{key:"getSpellName",value:function(){return ae("Enchant Market Stalls")}},{key:"getElement",value:function(){return un.Air}},{key:"getAutocastCategory",value:function(){return lc.GENERAL_BUFF}},{key:"getBaseManaCost",value:function(e){return 150}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:.25,tags:[pt.TemporaryEffectMagnitude],valueType:vt.Divisor},duration:{value:30,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"doSpellAction",value:function(e,t){var n=this.getActionEffects(e);return Ro(dD.getId(),n.duration,{params:{magnitude:n.magnitude}})(e)}},{key:"isVisible",value:function(e){return dA.isVisible(e)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"getDisplayDescription",value:function(e){return ae("Use Air to make your Market Stalls more efficient, selling faster for a limited time.")}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e);return ae("^{{magnitudePct}}^<{{magnitudeExplanation}}> time between sales from Market Stalls for ^{{duration}}^<{{durationExplanation}}> sec",{magnitudePct:le(1/(1+t.magnitude)),magnitudeExplanation:n.magnitude,duration:ue(t.duration),durationExplanation:n.duration})}},{key:"getLevelRequirements",value:function(){return{Air:3}}}]),n}(uf));xt([[pt.TimePerAutoSalePerStall]],dD.getId(),gD.getSpellName(),At.Multiplier,(function(e){return xo(e,gD.getId())?1/(Eo(e,dD.getId()).params.magnitude+1):1}));const hD=gD;function mD(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var yD=new(function(e){(0,ws.default)(n,e);var t=mD(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"levitation"}},{key:"getDisplayName",value:function(){return ae("Levitation")}},{key:"getDisplayDescription",value:function(e,t){return ae("-{{magnitude}}% time between Explorations",{magnitude:ue(100*Math.abs(1-1/(t.params.magnitude+1)))})}}]),n}(yf));po.register(yD);var pD=new(function(e){(0,ws.default)(n,e);var t=mD(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"levitation"}},{key:"getSpellName",value:function(){return ae("Levitation")}},{key:"getElement",value:function(){return un.Air}},{key:"getAutocastCategory",value:function(){return lc.GENERAL_BUFF}},{key:"getBaseManaCost",value:function(e){return 250}},{key:"canUseOutsideOfCombat",value:function(){return!0}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:.66667,tags:[pt.TemporaryEffectMagnitude],valueType:vt.Divisor},duration:{value:60,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"doSpellAction",value:function(e,t){var n=this.getActionEffects(e);return Ro(yD.getId(),n.duration,{params:{magnitude:n.magnitude}})(e)}},{key:"getDisplayDescription",value:function(e){return ae("Make your body float. Without needing to walk, exploring is much faster.")}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e);return ae("^{{magnitude}}^<{{magnitudeExplanation}}> time between Explorations for ^{{duration}}^<{{durationExplanation}}> sec",{magnitude:le(1/(t.magnitude+1)),magnitudeExplanation:n.magnitude,duration:ue(t.duration),durationExplanation:n.duration})}},{key:"getLevelRequirements",value:function(){return{Air:11}}}]),n}(_x));function vD(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}xt([[pt.ExplorationDelay]],pD.getId(),pD.getSpellName(),At.Multiplier,(function(e,t){return xo(e,pD.getId())?1/(1+Eo(e,pD.getId()).params.magnitude):1}));var AD=new(function(e){(0,ws.default)(n,e);var t=vD(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"richness"}},{key:"getDisplayName",value:function(){return ae("Richness")}},{key:"getDisplayDescription",value:function(e,t){return ae("+{{magnitudePct}}% item sale price from Market Stalls",{magnitudePct:ue(100*t.params.magnitude)})}}]),n}(yf));po.register(AD);var bD=new(function(e){(0,ws.default)(n,e);var t=vD(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"richness"}},{key:"getSpellName",value:function(){return ae("Richness")}},{key:"getElement",value:function(){return un.Air}},{key:"getAutocastCategory",value:function(){return lc.GENERAL_BUFF}},{key:"getBaseManaCost",value:function(e){return 1300}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:.5,tags:[pt.TemporaryEffectMagnitude],valueType:vt.Percent},duration:{value:20,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"doSpellAction",value:function(e,t){var n=this.getActionEffects(e);return Ro(AD.getId(),n.duration,{params:{magnitude:n.magnitude}})(e)}},{key:"isVisible",value:function(e){return dA.isVisible(e)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"getDisplayDescription",value:function(e){return ae("Make your items sold by your Market Stalls appear more luxurious. People will pay more.")}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e);return ae("^{{magnitude}}^<{{magnitudeExplanation}}> item sale price from Market Stalls for ^{{duration}}^<{{durationExplanation}}> sec",{magnitude:le(1+t.magnitude),magnitudeExplanation:n.magnitude,duration:ue(t.duration),durationExplanation:n.duration})}},{key:"getLevelRequirements",value:function(){return{Air:21}}},{key:"isEmpowerable",value:function(){return!0}},{key:"getEmpoweringLevelRequirements",value:function(){return{Air:54}}}]),n}(uf));Qa(bD,[pt.Cost,Dt.Mana],10),Qa(bD,[pt.TemporaryEffectMagnitude],3),xt([[pt.SaleStallRevenue]],AD.getId(),bD.getSpellName(),At.Multiplier,(function(e){return xo(e,bD.getId())?Eo(e,AD.getId()).params.magnitude+1:1}));const kD=bD;function xD(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const wD=new(function(e){(0,ws.default)(n,e);var t=xD(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"twister"}},{key:"getSpellName",value:function(){return ae("Twister")}},{key:"getElement",value:function(){return un.Air}},{key:"getAutocastCategory",value:function(){return lc.ATTACK}},{key:"getExtraTags",value:function(){return[pt.AttackSpell]}},{key:"getBaseManaCost",value:function(e){return 850}},{key:"getDisplayDescription",value:function(e){return ae("Create a mass of unstable air, dealing damage to the enemy. Easy to use repeatedly.")}},{key:"getBaseActionEffects",value:function(){return{average:{value:85,tags:[pt.ActionMagnitude],unit:":attack:"},variance:{value:5,tags:[pt.ActionVariance],unit:":attack:"},duration:{value:2,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e),r=nf(t.average,t.variance,n.average),a=Zb.getParameterlessDisplayDescription(e);return ae('{{standardEffect}}; inflicts ^"Airborne"^<{{effectExplanation}}> for ^{{duration}}^<{{durationExplanation}}> sec',{standardEffect:r,duration:ue(t.duration,{showDecimals:!0}),durationExplanation:n.duration,effectExplanation:a})}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e,"duration");return Ki(e=rf(e,this)).isHit&&(e=Ro(Zb.getId(),t.duration,{target:Qr.Enemy})(e)),e}},{key:"getBaseCooldown",value:function(){return.5}},{key:"getBaseAutocastPointsRequirement",value:function(){return 10}},{key:"getLevelRequirements",value:function(){return{Air:19}}},{key:"isActive",value:function(e){return xo(e,Zb.getId(),Qr.Enemy)}},{key:"getEstimatedMinAutocastDelay",value:function(e,t){return this.getCooldown(e)}},{key:"allowRegisteringTemporaryEffectsAsPermacast",value:function(){return!1}}]),n}(_x));function ED(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const CD=new(function(e){(0,ws.default)(n,e);var t=ED(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"channelAir"}},{key:"getSpellName",value:function(){return ae("Channel Air")}},{key:"getElement",value:function(){return un.Air}},{key:"getBaseEssenceEfficiency",value:function(){return 1.6}},{key:"getManaCostProportion",value:function(){return.05}},{key:"getDisplayDescription",value:function(e){return ae("Channel some of your Mana into Air Essence, a basic resource.")}},{key:"getLevelRequirements",value:function(){return{Air:1}}}]),n}(zE));function ID(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const BD=new(function(e){(0,ws.default)(n,e);var t=ID(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"channelEarth"}},{key:"getSpellName",value:function(){return ae("Channel Earth")}},{key:"getElement",value:function(){return un.Earth}},{key:"getBaseEssenceEfficiency",value:function(){return.9}},{key:"getManaCostProportion",value:function(){return.15}},{key:"getDisplayDescription",value:function(e){return ae("Channel some of your Mana into Earth Essence, a basic resource.")}},{key:"getLevelRequirements",value:function(){return{Earth:1}}}]),n}(zE));function SD(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const RD=new(function(e){(0,ws.default)(n,e);var t=SD(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"channelWater"}},{key:"getSpellName",value:function(){return ae("Channel Water")}},{key:"getElement",value:function(){return un.Water}},{key:"getDisplayDescription",value:function(e){return ae("Channel some of your Mana into Water Essence, a basic resource.")}},{key:"getLevelRequirements",value:function(){return{Water:1}}}]),n}(zE));function PD(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var TD=[WE,BD,RD,CD],jD=function(e){(0,ws.default)(n,e);var t=PD(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"channelFour"}},{key:"getSpellName",value:function(){return ae("Channel Four")}},{key:"getDisplayDescription",value:function(e){return ae("Combines the effects of Channel Fire, Channel Earth, Channel Water, and Channel Air, all in one spell.")}},{key:"getAreas",value:function(){return{HOME:[$t.CHANNELING],SPELL_MENU:[un.Fire,un.Earth,un.Water,un.Air]}}},{key:"getAutocastCategory",value:function(){return lc.CHANNELING}},{key:"getTags",value:function(){if(null==this._tagArray){var e=[pt.Spell].concat((0,h.default)(Object.keys(this.getLevelRequirements())));this._tagArray=e}return this._tagArray}},{key:"getCost",value:function(e){return{resources:{Mana:this.getManaCost(e)},items:{}}}},{key:"getManaCost",value:function(e){var t=this;return TD.map((function(n){return n.getManaCost(e,t)})).reduce((function(e,t){return e+t}),0)}},{key:"getDisplayEffect",value:function(e){return TD.map((function(t){return t.getDisplayEffect(e)})).join(ae(", "))}},{key:"isVisible",value:function(e){var t;return Ve(e,Ir.ChannelingUnlocked)&&VP.isBonusActive(e)&&!(null!=(t=nl.getByIdNullable("allTheElements"))&&null!=t.isBonusActive&&t.isBonusActive(e))}},{key:"isEnabled",value:function(e,t){return(0,xs.default)((0,Cs.default)(n.prototype),"isEnabled",this).call(this,e,t)&&this.isCastingRecommended(e)}},{key:"getLevelRequirements",value:function(){return{Fire:1,Earth:1,Water:1,Air:1}}},{key:"getExpFromUsage",value:function(e){return TD.reduce((function(t,n){return te([t,n.getExpFromUsage(e)])}),{})}},{key:"doSpellAction",value:function(e,t){return TD.reduce((function(e,n){return n.doSpellAction(e,t)}),e)}},{key:"isCastingRecommended",value:function(e){return TD.reduce((function(t,n){return t||n.isCastingRecommended(e)}),!1)}},{key:"getElement",value:function(){}},{key:"getBaseManaCost",value:function(e){throw new Error("Should not be called")}}]),n}(uf);const MD=new jD;function DD(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const OD=new(function(e){(0,ws.default)(n,e);var t=DD(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"channelPoison"}},{key:"getSpellName",value:function(){return ae("Channel Poison")}},{key:"getElement",value:function(){return un.Poison}},{key:"getBaseEssenceEfficiency",value:function(){return.3333334}},{key:"getManaCostProportion",value:function(){return.1}},{key:"getDisplayDescription",value:function(e){return ae("Channel some of your Mana into Poison Essence, a basic resource.")}},{key:"getLevelRequirements",value:function(){return{Poison:1}}}]),n}(zE));function ND(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var UD=new(function(e){(0,ws.default)(r,e);var t=ND(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"earthShield"}},{key:"getDisplayName",value:function(){return ae("Earth Shield")}},{key:"getIcon",value:function(){return n(60239)}},{key:"getDisplayDescription",value:function(e,t){return ae("If :earthessence: is {{essenceAmount}} or more, +{{amount}}:defense:; -{{essenceAmount}}:earthessence: on hit",{amount:ue(t.params.effectAmount),essenceAmount:ue(t.params.essenceAmount)})}}]),r}(yf));po.register(UD);var FD=function(e){if(!xo(e,UD.getId(),Qr.Player))return 0;var t=Eo(e,UD.getId(),Qr.Player);return zt(e,Dt.EarthEssence)<t.params.essenceAmount?0:t.params.effectAmount};xt([[Qr.Player,Vr.Defense]],UD.getId(),UD.getDisplayName(),At.Addition,FD),ft(UD.getId()+"cacheClearer",(function(e){return function(e){return ra(e,Qr.Player,Vr.Defense)}}),FD),Fo.register((function(e,t){if(!xo(e,UD.getId(),Qr.Player)||t.target!=Qr.Player||!t.isHit)return e;var n=Eo(e,UD.getId(),Qr.Player);return zt(e,Dt.EarthEssence)<n.params.essenceAmount?e:e=Wt(Dt.EarthEssence,-n.params.essenceAmount)(e)}));var LD=new(function(e){(0,ws.default)(n,e);var t=ND(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"earthShield"}},{key:"getSpellName",value:function(){return ae("Earth Shield")}},{key:"getElement",value:function(){return un.Earth}},{key:"getAutocastCategory",value:function(){return lc.COMBAT_BUFF}},{key:"getBaseManaCost",value:function(e){return 2e3}},{key:"canUseOutsideOfCombat",value:function(){return!0}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:30,tags:[pt.TemporaryEffectMagnitude],unit:":defense:"},cost:{value:1e3,tags:[pt.TemporaryEffectExtraCost],unit:":earthessence:"},duration:{value:30,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"doSpellAction",value:function(e,t){var n=this.getActionEffects(e);return Ro(UD.getId(),n.duration,{params:{effectAmount:n.magnitude,essenceAmount:n.cost}})(e)}},{key:"getDisplayDescription",value:function(e){return ae("Use stored :earthessence: to boost your resistance to all sorts of attacks.")}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e);return ae("If :earthessence: is ^{{essenceAmount}}^<{{essenceAmountExplanation}}> or more, ^+{{amount}}^<{{amountExplanation}}>:defense:; ^-{{essenceAmount}}^<{{essenceAmountExplanation}}>:earthessence: on hit; effects last ^{{duration}}^<{{durationExplanation}}> sec",{essenceAmount:ue(t.cost),essenceAmountExplanation:n.cost,amount:ue(t.magnitude),amountExplanation:n.magnitude,duration:ue(t.duration),durationExplanation:n.duration})}},{key:"getLevelRequirements",value:function(){return{Earth:21}}},{key:"isEmpowerable",value:function(){return!0}},{key:"getEmpoweringLevelRequirements",value:function(){return{Earth:58}}}]),n}(_x));function HD(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}Qa(LD,[pt.Cost,Dt.Mana],10),Qa(LD,[pt.TemporaryEffectExtraCost],1e3),Qa(LD,[pt.TemporaryEffectMagnitude],4);var YD=new(function(e){(0,ws.default)(n,e);var t=HD(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"enchantTransmutation"}},{key:"getDisplayName",value:function(){return ae("Enchant Transmutation")}},{key:"getDisplayDescription",value:function(e,t){return t.params.magnitudeMana>0?ae("-{{magnitudePct}}% Essences and :mana: required for transmutation",{magnitudePct:ue(100*(1-1/(t.params.magnitude+1)))}):ae("-{{magnitudePct}}% Essences required for transmutation",{magnitudePct:ue(100*(1-1/(t.params.magnitude+1)))})}}]),n}(yf));po.register(YD);var QD=new(function(e){(0,ws.default)(n,e);var t=HD(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"enchantTransmutation"}},{key:"getSpellName",value:function(){return ae("Enchant Transmutation")}},{key:"getElement",value:function(){return un.Earth}},{key:"getAutocastCategory",value:function(){return lc.GENERAL_BUFF}},{key:"getBaseManaCost",value:function(e){return 180}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:.11112,tags:[pt.TemporaryEffectMagnitude],valueType:vt.Divisor},magnitudeMana:{value:.11112,tags:[pt.TemporaryEffectMagnitude],valueType:vt.Divisor},duration:{value:15,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"doSpellAction",value:function(e,t){var n=this.getActionEffects(e);return Ro(YD.getId(),n.duration,{params:{magnitude:n.magnitude,magnitudeMana:n.magnitudeMana}})(e)}},{key:"getDisplayDescription",value:function(e){return ae("Use the knowledge and power of the Earth element to make Transmutation more efficient.")}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e);return t.magnitudeMana>0?ae("^{{magnitudePct}}^<{{magnitudeExplanation}}> Essences and :mana: required for Transmutation for ^{{duration}}^<{{durationExplanation}}> sec",{magnitudePct:le(1/(1+t.magnitude)),magnitudeExplanation:n.magnitude,duration:ue(t.duration),durationExplanation:n.duration}):ae("^{{magnitudePct}}^<{{magnitudeExplanation}}> Essences required for Transmutation for ^{{duration}}^<{{durationExplanation}}> sec",{magnitudePct:le(1/(1+t.magnitude)),magnitudeExplanation:n.magnitude,duration:ue(t.duration),durationExplanation:n.duration})}},{key:"getLevelRequirements",value:function(){return{Earth:3}}}]),n}(uf));xt(Z(un).map((function(e){return[pt.ItemCost,Ss[e]]})),YD.getId(),QD.getSpellName(),At.Multiplier,(function(e){return xo(e,QD.getId())?1/(Eo(e,YD.getId()).params.magnitude+1):1})),xt([[pt.ItemCost,Dt.Mana]],YD.getId()+"mana",QD.getSpellName(),At.Multiplier,(function(e){return xo(e,QD.getId())?1/(Eo(e,YD.getId()).params.magnitudeMana+1):1}));const zD=QD;function VD(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var WD=function(e){(0,ws.default)(n,e);var t=VD(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"guard"}},{key:"getSpellName",value:function(){return ae("Guard")}},{key:"getElement",value:function(){return un.Earth}},{key:"getAutocastCategory",value:function(){return lc.COMBAT_BUFF}},{key:"getBaseManaCost",value:function(e){return 800}},{key:"canUseOutsideOfCombat",value:function(){return!0}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:1,tags:[pt.TemporaryEffectMagnitude],valueType:vt.Divisor},duration:{value:30,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"doSpellAction",value:function(e,t){var n=this.getActionEffects(e);return Ro(Mk.getId(),n.duration,{params:{multiplier:1/(n.magnitude+1)}})(e)}},{key:"getDisplayDescription",value:function(e){return ae("Raise a magical guard to mitigate a single attack.")}},{key:"getBaseCooldown",value:function(){return 30}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e);return ae("Next attack received deals ^{{amount}}^<{{amountExplanation}}> damage; effect lasts for at most ^{{duration}}^<{{durationExplanation}}> sec",{amount:le(1/(1+t.magnitude)),amountExplanation:n.magnitude,duration:ue(t.duration),durationExplanation:n.duration})}},{key:"getLevelRequirements",value:function(){return{Earth:12}}},{key:"allowRegisteringTemporaryEffectsAsPermacast",value:function(){return!1}}]),n}(_x),GD=new WD;function JD(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const qD=new(function(e){(0,ws.default)(n,e);var t=JD(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"knockout"}},{key:"getSpellName",value:function(){return ae("Knockout")}},{key:"getElement",value:function(){return un.Earth}},{key:"getAutocastCategory",value:function(){return lc.COMBAT_BUFF}},{key:"getBaseManaCost",value:function(e){return 2500}},{key:"getDisplayDescription",value:function(e){return ae("Apply a single, solid impact to the enemy. As they say, if everything else fails...")}},{key:"getBaseActionEffects",value:function(){return{duration:{value:1,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e);return ae('Inflicts "Stunned!" for ^{{duration}}^<{{durationExplanation}}> sec',{duration:ue(t.duration,{showDecimals:!0}),durationExplanation:n.duration})}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e,"duration");return e=Ro(_k.getId(),t.duration,{target:Qr.Enemy})(e)}},{key:"getBaseCooldown",value:function(){return 120}},{key:"getLevelRequirements",value:function(){return{Earth:28}}},{key:"isCastingRecommended",value:function(e){return(0,xs.default)((0,Cs.default)(n.prototype),"isCastingRecommended",this).call(this,e)&&!xo(e,$k.getId(),Qr.Enemy)}},{key:"allowRegisteringTemporaryEffectsAsPermacast",value:function(){return!1}}]),n}(_x));function XD(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const KD=new(function(e){(0,ws.default)(n,e);var t=XD(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"landslide"}},{key:"getSpellName",value:function(){return ae("Landslide")}},{key:"getElement",value:function(){return un.Earth}},{key:"getAutocastCategory",value:function(){return lc.ATTACK}},{key:"getExtraTags",value:function(){return[pt.AttackSpell]}},{key:"getBaseManaCost",value:function(e){return 1300}},{key:"getDisplayDescription",value:function(e){return ae("Bury an enemy with unstable ground, dealing damage and trapping them.")}},{key:"getBaseActionEffects",value:function(){return{average:{value:180,tags:[pt.ActionMagnitude],unit:":attack:"},variance:{value:0,tags:[pt.ActionVariance]},duration:{value:10,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e),r=nf(t.average,t.variance,n.average),a=Tk.getParameterlessDisplayDescription(e);return ae('{{standardEffect}}; on hit, inflicts ^"Grounded"^<{{effectExplanation}}> for ^{{duration}}^<{{durationExplanation}}> sec',{standardEffect:r,duration:ue(t.duration,{showDecimals:!0}),durationExplanation:n.duration,effectExplanation:a})}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e,"duration");return Ki(e=rf(e,this)).isHit&&(e=Ro(Tk.getId(),t.duration,{target:Qr.Enemy})(e)),e}},{key:"getBaseCooldown",value:function(){return 2.5}},{key:"getBaseAutocastPointsRequirement",value:function(){return 15}},{key:"getLevelRequirements",value:function(){return{Earth:19}}},{key:"isActive",value:function(e){return xo(e,Tk.getId(),Qr.Enemy)}},{key:"getEstimatedMinAutocastDelay",value:function(e,t){return this.getCooldown(e)}},{key:"allowRegisteringTemporaryEffectsAsPermacast",value:function(){return!1}}]),n}(_x));function ZD(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var _D=new(function(e){(0,ws.default)(n,e);var t=ZD(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"stoneStrike"}},{key:"getSpellName",value:function(){return ae("Stone Strike")}},{key:"getElement",value:function(){return un.Earth}},{key:"getAutocastCategory",value:function(){return lc.ATTACK}},{key:"getExtraTags",value:function(){return[pt.AttackSpell]}},{key:"getBaseManaCost",value:function(e){return 210}},{key:"getDisplayDescription",value:function(e){return ae("Shower your enemy with multiple small rocks, dealing damage.")}},{key:"getBaseActionEffects",value:function(){return{average:{value:60,tags:[pt.ActionMagnitude],unit:":attack:"},variance:{value:0,tags:[pt.ActionVariance]}}}},{key:"getDisplayEffect",value:function(e){return af(e,this)}},{key:"doSpellAction",value:function(e){return rf(e,this)}},{key:"getBaseCooldown",value:function(){return 2}},{key:"getBaseAutocastPointsRequirement",value:function(){return 10}},{key:"getLevelRequirements",value:function(){return{Earth:6}}},{key:"isEmpowerable",value:function(){return!0}},{key:"getEmpoweringLevelRequirements",value:function(){return{Earth:47}}}]),n}(_x));za(_D,4,10);const $D=_D;function eO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var tO=function(e){(0,ws.default)(n,e);var t=eO(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"cloakOfFlames"}},{key:"getSpellName",value:function(){return ae("Cloak of Flames")}},{key:"getElement",value:function(){return un.Fire}},{key:"getAutocastCategory",value:function(){return lc.COMBAT_BUFF}},{key:"getBaseManaCost",value:function(e){return 2e3}},{key:"canUseOutsideOfCombat",value:function(){return!0}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:1,tags:[pt.TemporaryEffectMagnitude],unit:ae("x")},duration:{value:15,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"doSpellAction",value:function(e,t){var n=this.getActionEffects(e);return Ro(sk.getId(),n.duration,{params:{magnitude:n.magnitude}})(e)}},{key:"getDisplayDescription",value:function(e){return ae("Surround yourself with fiery flames that retaliate when you are hurt.")}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e);return ae("Reflects back ^{{multiplier}}x^<{{multiplierExplanation}}> of the damage received for ^{{duration}}^<{{durationExplanation}}> sec",{multiplier:ue(t.magnitude,{showDecimals:!0}),multiplierExplanation:n.magnitude,duration:ue(t.duration),durationExplanation:n.duration})}},{key:"getLevelRequirements",value:function(){return{Fire:24}}}]),n}(_x),nO=new tO;function rO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var aO=new(function(e){(0,ws.default)(n,e);var t=rO(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"enchantCatalysts"}},{key:"getDisplayName",value:function(){return ae("Enchant Essence Catalysts")}},{key:"getDisplayDescription",value:function(e,t){return ae("+{{magnitudePct}}% effectivity of Essence Catalysts",{magnitudePct:ue(100*t.params.magnitude)})}}]),n}(yf));po.register(aO);var iO=new(function(e){(0,ws.default)(n,e);var t=rO(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"enchantCatalysts"}},{key:"getSpellName",value:function(){return ae("Enchant Essence Catalysts")}},{key:"getElement",value:function(){return un.Fire}},{key:"getAutocastCategory",value:function(){return lc.GENERAL_BUFF}},{key:"getBaseManaCost",value:function(e){return 200}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:.15,tags:[pt.TemporaryEffectMagnitude],valueType:vt.Percent},duration:{value:20,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"doSpellAction",value:function(e,t){var n=this.getActionEffects(e);return Ro(aO.getId(),n.duration,{params:{magnitude:n.magnitude}})(e)}},{key:"getDisplayDescription",value:function(e){return ae("Leverage Fire to temporarily power up your Essence Catalysts, to produce essences faster.")}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e);return ae("^+{{magnitudePct}}%^<{{magnitudeExplanation}}> effectivity of Essence Catalysts for ^{{duration}}^<{{durationExplanation}}> sec",{magnitudePct:ue(100*t.magnitude),magnitudeExplanation:n.magnitude,duration:ue(t.duration),durationExplanation:n.duration})}},{key:"getLevelRequirements",value:function(){return{Fire:3}}}]),n}(uf));xt([[pt.CatalystEffectivity,Ab.getId()]],aO.getId(),iO.getSpellName(),At.Multiplier,(function(e){return xo(e,iO.getId())?Eo(e,aO.getId()).params.magnitude+1:1}));const oO=iO;function uO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var lO=new(function(e){(0,ws.default)(n,e);var t=uO(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"fireball"}},{key:"getSpellName",value:function(){return ae("Fireball")}},{key:"getElement",value:function(){return un.Fire}},{key:"getAutocastCategory",value:function(){return lc.ATTACK}},{key:"getExtraTags",value:function(){return[pt.AttackSpell]}},{key:"getBaseManaCost",value:function(e){return 380}},{key:"getDisplayDescription",value:function(e){return ae("Materialize and fling a blazing hot ball of flames towards the enemy.")}},{key:"getBaseActionEffects",value:function(){return{average:{value:100,tags:[pt.ActionMagnitude],unit:":attack:"},variance:{value:10,tags:[pt.ActionVariance],unit:":attack:"}}}},{key:"getDisplayEffect",value:function(e){return af(e,this)}},{key:"doSpellAction",value:function(e){return rf(e,this)}},{key:"getBaseCooldown",value:function(){return 6}},{key:"getBaseAutocastPointsRequirement",value:function(){return 20}},{key:"getLevelRequirements",value:function(){return{Fire:6}}},{key:"isEmpowerable",value:function(){return!0}},{key:"getEmpoweringLevelRequirements",value:function(){return{Fire:43}}}]),n}(_x));za(lO,7,20);const sO=lO;function cO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var fO=new(function(e){(0,ws.default)(r,e);var t=cO(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"imbueFlames"}},{key:"getDisplayName",value:function(){return ae("Imbue Flames")}},{key:"getIcon",value:function(){return n(37084)}},{key:"getDisplayDescription",value:function(e,t){return ae("If :fireessence: is {{essenceAmount}} or more, +{{amount}}:attack:; -{{essenceAmount}}:fireessence: on attack",{amount:ue(t.params.effectAmount),essenceAmount:ue(t.params.essenceAmount)})}}]),r}(yf));po.register(fO);var dO=function(e){if(!xo(e,fO.getId(),Qr.Player))return 0;var t=Eo(e,fO.getId(),Qr.Player);return zt(e,Dt.FireEssence)<t.params.essenceAmount?0:t.params.effectAmount};xt([[Qr.Player,Vr.Attack]],fO.getId(),fO.getDisplayName(),At.Addition,dO),ft(fO.getId()+"cacheClearer",(function(e){return function(e){return ra(e,Qr.Player,Vr.Attack)}}),dO),Fo.register((function(e,t){if(!xo(e,fO.getId(),Qr.Player)||t.source!=Qr.Player||!t.tags.includes(pt.AutoAttack))return e;var n=Eo(e,fO.getId(),Qr.Player);return zt(e,Dt.FireEssence)<n.params.essenceAmount?e:e=Wt(Dt.FireEssence,-n.params.essenceAmount)(e)}));var gO=new(function(e){(0,ws.default)(n,e);var t=cO(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"imbueFlames"}},{key:"getSpellName",value:function(){return ae("Imbue Flames")}},{key:"getElement",value:function(){return un.Fire}},{key:"getAutocastCategory",value:function(){return lc.COMBAT_BUFF}},{key:"getBaseManaCost",value:function(e){return 2e3}},{key:"canUseOutsideOfCombat",value:function(){return!0}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:25,tags:[pt.TemporaryEffectMagnitude],unit:":attack:"},cost:{value:1e3,tags:[pt.TemporaryEffectExtraCost],unit:":fireessence:"},duration:{value:30,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"doSpellAction",value:function(e,t){var n=this.getActionEffects(e);return Ro(fO.getId(),n.duration,{params:{effectAmount:n.magnitude,essenceAmount:n.cost}})(e)}},{key:"getDisplayDescription",value:function(e){return ae("Power up your weapon by consuming :fireessence:.")}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e);return ae("If :fireessence: is ^{{essenceAmount}}^<{{essenceAmountExplanation}}> or more, ^+{{amount}}^<{{amountExplanation}}>:attack:; ^-{{essenceAmount}}^<{{essenceAmountExplanation}}>:fireessence: on attack; effects last ^{{duration}}^<{{durationExplanation}}> sec",{essenceAmount:ue(t.cost),essenceAmountExplanation:n.cost,amount:ue(t.magnitude),amountExplanation:n.magnitude,duration:ue(t.duration),durationExplanation:n.duration})}},{key:"getLevelRequirements",value:function(){return{Fire:22}}},{key:"isEmpowerable",value:function(){return!0}},{key:"getEmpoweringLevelRequirements",value:function(){return{Fire:58}}}]),n}(_x));function hO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}Qa(gO,[pt.Cost,Dt.Mana],10),Qa(gO,[pt.TemporaryEffectExtraCost],1e3),Qa(gO,[pt.TemporaryEffectMagnitude],8);var mO=new(function(e){(0,ws.default)(n,e);var t=hO(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"infernalBlaze"}},{key:"getSpellName",value:function(){return ae("Infernal Blaze")}},{key:"getElement",value:function(){return un.Fire}},{key:"getAutocastCategory",value:function(){return lc.ATTACK}},{key:"getExtraTags",value:function(){return[pt.AttackSpell]}},{key:"getBaseManaCost",value:function(e){return 3600}},{key:"getDisplayDescription",value:function(e){return ae("Cover the enemy with very powerful flames. Strong.")}},{key:"getBaseActionEffects",value:function(){return{average:{value:550,tags:[pt.ActionMagnitude],unit:":attack:"},variance:{value:50,tags:[pt.ActionVariance],unit:":attack:"}}}},{key:"getDisplayEffect",value:function(e){return af(e,this)}},{key:"doSpellAction",value:function(e){return rf(e,this)}},{key:"getBaseCooldown",value:function(){return 8}},{key:"getLevelRequirements",value:function(){return{Fire:25}}},{key:"getEmpoweringLevelRequirements",value:function(){return{Fire:61}}},{key:"isEmpowerable",value:function(){return!0}}]),n}(_x));za(mO,4,5);const yO=mO;function pO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const vO=new(function(e){(0,ws.default)(n,e);var t=pO(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"sear"}},{key:"getSpellName",value:function(){return ae("Sear")}},{key:"getElement",value:function(){return un.Fire}},{key:"getAutocastCategory",value:function(){return lc.ATTACK}},{key:"getExtraTags",value:function(){return[pt.AttackSpell]}},{key:"getBaseManaCost",value:function(e){return 1050}},{key:"getDisplayDescription",value:function(e){return ae("Burn the enemy for a prolonged period of time, lowering their defenses.")}},{key:"getBaseActionEffects",value:function(){return{average:{value:170,tags:[pt.ActionMagnitude],unit:":attack:"},variance:{value:15,tags:[pt.ActionVariance],unit:":attack:"},duration:{value:8,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e),r=nf(t.average,t.variance,n.average),a=Yk.getParameterlessDisplayDescription(e);return ae('{{damageText}}; On hit, inflicts ^"Seared"^<{{effectExplanation}}> for ^{{duration}}^<{{durationExplanation}}> sec',{damageText:r,duration:ue(t.duration),durationExplanation:n.duration,effectExplanation:a})}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e,"duration");return Ki(e=rf(e,this)).isHit&&(e=Ro(Yk.getId(),t.duration,{target:Qr.Enemy})(e)),e}},{key:"getBaseCooldown",value:function(){return 7}},{key:"getBaseAutocastPointsRequirement",value:function(){return 30}},{key:"getLevelRequirements",value:function(){return{Fire:13}}},{key:"isActive",value:function(e){return xo(e,Yk.getId(),Qr.Enemy)}},{key:"allowRegisteringTemporaryEffectsAsPermacast",value:function(){return!1}}]),n}(_x));function AO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const bO=new(function(e){(0,ws.default)(n,e);var t=AO(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"antidote"}},{key:"getSpellName",value:function(){return ae("Antidote")}},{key:"getElement",value:function(){return un.Poison}},{key:"getAutocastCategory",value:function(){return lc.HEALING}},{key:"getBaseManaCost",value:function(e){return 500}},{key:"getBaseCooldown",value:function(){return 5}},{key:"getDisplayDescription",value:function(e){return ae("Cleanse any and all poisons from your system.")}},{key:"getBaseActionEffects",value:function(){return{}}},{key:"getDisplayEffect",value:function(e){return ae('Removes "Poison"')}},{key:"doSpellAction",value:function(e){return xo(e,Vb.getId(),Qr.Player)&&(e=Po(Vb.getId(),Qr.Player)(e)),e}},{key:"canUseOutsideOfCombat",value:function(){return!0}},{key:"getLevelRequirements",value:function(){return{Poison:7}}},{key:"isCastingRecommended",value:function(e){return xo(e,Vb.getId(),Qr.Player)}}]),n}(_x));function kO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var xO=new(function(e){(0,ws.default)(n,e);var t=kO(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"enchantMonstiumCatalysts"}},{key:"getDisplayName",value:function(){return ae("Enchant Monstium Catalysts")}},{key:"getDisplayDescription",value:function(e,t){return ae("+{{magnitudePct}}% effectivity of Monstium Catalysts",{magnitudePct:ue(100*t.params.magnitude)})}}]),n}(yf));po.register(xO);var wO=new(function(e){(0,ws.default)(n,e);var t=kO(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"enchantMonstiumCatalysts"}},{key:"getSpellName",value:function(){return ae("Enchant Monstium Catalysts")}},{key:"getElement",value:function(){return un.Poison}},{key:"getAutocastCategory",value:function(){return lc.GENERAL_BUFF}},{key:"getBaseManaCost",value:function(e){return 1500}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:.2,tags:[pt.TemporaryEffectMagnitude],valueType:vt.Percent},duration:{value:15,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"doSpellAction",value:function(e,t){var n=this.getActionEffects(e);return Ro(xO.getId(),n.duration,{params:{magnitude:n.magnitude}})(e)}},{key:"isVisible",value:function(e){return JI.isVisible(e)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"getDisplayDescription",value:function(e){return ae("Leverage Poison to temporarily power up your Monstium Catalysts, when you need more Monstium.")}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e);return ae("^+{{magnitudePct}}%^<{{magnitudeExplanation}}> effectivity of Monstium Catalysts for ^{{duration}}^<{{durationExplanation}}> sec",{magnitudePct:ue(100*t.magnitude),magnitudeExplanation:n.magnitude,duration:ue(t.duration),durationExplanation:n.duration})}},{key:"getLevelRequirements",value:function(){return{Poison:18}}},{key:"isEmpowerable",value:function(){return!0}},{key:"getEmpoweringLevelRequirements",value:function(){return{Poison:60}}}]),n}(uf));function EO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}Va(wO,1.5,10),xt([[pt.CatalystEffectivity,GI.getId()]],xO.getId(),wO.getSpellName(),At.Multiplier,(function(e){return xo(e,wO.getId())?Eo(e,xO.getId()).params.magnitude+1:1}));var CO=new(function(e){(0,ws.default)(n,e);var t=EO(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"enchantSewageSystem"}},{key:"getDisplayName",value:function(){return ae("Enchant Sewage System")}},{key:"getDisplayDescription",value:function(e,t){return ae("+{{magnitudePct}}% production and consumption of Sewage System",{magnitudePct:ue(100*t.params.magnitude)})}}]),n}(yf));po.register(CO);var IO=new(function(e){(0,ws.default)(n,e);var t=EO(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"enchantSewageSystem"}},{key:"getSpellName",value:function(){return ae("Enchant Sewage System")}},{key:"getElement",value:function(){return un.Poison}},{key:"getAutocastCategory",value:function(){return lc.GENERAL_BUFF}},{key:"getBaseManaCost",value:function(e){return 900}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:.5,tags:[pt.TemporaryEffectMagnitude],valueType:vt.Percent},duration:{value:20,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"doSpellAction",value:function(e,t){var n=this.getActionEffects(e);return Ro(CO.getId(),n.duration,{params:{magnitude:n.magnitude}})(e)}},{key:"isVisible",value:function(e){return BB.isVisible(e)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"getDisplayDescription",value:function(e){return ae("Enchant your Sewage System to produce and consume more essences at a time.")}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e);return ae("^+{{magnitudePct}}%^<{{magnitudeExplanation}}> production and consumption of Sewage System for ^{{duration}}^<{{durationExplanation}}> sec",{magnitudePct:ue(100*t.magnitude),magnitudeExplanation:n.magnitude,duration:ue(t.duration),durationExplanation:n.duration})}},{key:"getLevelRequirements",value:function(){return{Poison:22}}},{key:"isEmpowerable",value:function(){return!0}},{key:"getEmpoweringLevelRequirements",value:function(){return{Poison:55}}}]),n}(uf));function BO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}Va(IO,10,10),xt([[pt.Production,IB.getId()],[pt.Consumption,IB.getId()]],CO.getId(),IO.getSpellName(),At.Multiplier,(function(e){return xo(e,IO.getId())?Eo(e,CO.getId()).params.magnitude+1:1})),Do(CO.getId(),(function(e,t){return t.id==CO.getId()&&(e=si(e)),t}),!0);var SO=new(function(e){(0,ws.default)(n,e);var t=BO(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"frail"}},{key:"getSpellName",value:function(){return ae("Frail")}},{key:"getElement",value:function(){return un.Poison}},{key:"getAutocastCategory",value:function(){return lc.COMBAT_BUFF}},{key:"getBaseManaCost",value:function(e){return 4e3}},{key:"getDisplayDescription",value:function(e){return ae("Make the enemy frail, slightly reducing its defense and making it particularly weak to Poison.")}},{key:"getBaseActionEffects",value:function(){return{duration:{value:12,tags:[pt.TemporaryEffectDuration,Vb.getId()],unit:ae(" sec")}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e),r=Ck.getParameterlessDisplayDescription(e);return ae('Inflicts ^"Frail"^<{{effectExplanation}}> for ^{{duration}}^<{{durationExplanation}}> sec',{duration:ue(t.duration,{showDecimals:!0}),durationExplanation:n.duration,effectExplanation:r})}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e);return e=Ro(Ck.getId(),t.duration,{target:Qr.Enemy})(e)}},{key:"getBaseCooldown",value:function(){return 8}},{key:"getLevelRequirements",value:function(){return{Poison:27}}},{key:"isActive",value:function(e){return xo(e,Ck.getId(),Qr.Enemy)}},{key:"isCastingRecommended",value:function(e){return!xo(e,Ck.getId(),Qr.Enemy)}},{key:"getEstimatedMinAutocastDelay",value:function(e,t){return this.getCooldown(e)}}]),n}(_x));function RO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var PO=new(function(e){(0,ws.default)(n,e);var t=RO(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"intoxicate"}},{key:"getSpellName",value:function(){return ae("Intoxicate")}},{key:"getElement",value:function(){return un.Poison}},{key:"getAutocastCategory",value:function(){return lc.ATTACK}},{key:"getExtraTags",value:function(){return[pt.AttackSpell]}},{key:"getBaseManaCost",value:function(e){return 2500}},{key:"getDisplayDescription",value:function(e){return ae("Apply a potent poison to the enemy that cannot be dodged.")}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:35,tags:[pt.TemporaryEffectMagnitude,Vb.getId()],unit:":hp:/sec"},duration:{value:12,tags:[pt.TemporaryEffectDuration,Vb.getId()],unit:ae(" sec")}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e);return ae('Inflicts ^-{{magnitude}}^<{{magnitudeExplanation}}>:hp:/sec "Poison" for ^{{duration}}^<{{durationExplanation}}> sec',{magnitude:ue(t.magnitude,{showDecimals:!0}),magnitudeExplanation:n.magnitude,duration:ue(t.duration,{showDecimals:!0}),durationExplanation:n.duration})}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e);return e=Ro(Vb.getId(),t.duration,{target:Qr.Enemy,params:{magnitude:t.magnitude}})(e)}},{key:"getBaseCooldown",value:function(){return 7}},{key:"getLevelRequirements",value:function(){return{Poison:20}}},{key:"isActive",value:function(e){return xo(e,Vb.getId(),Qr.Enemy)}},{key:"isCastingRecommended",value:function(e){return!xo(e,Vb.getId(),Qr.Enemy)}},{key:"getEstimatedMinAutocastDelay",value:function(e,t){return this.getCooldown(e)}},{key:"isEmpowerable",value:function(){return!0}},{key:"getEmpoweringLevelRequirements",value:function(){return{Poison:53}}},{key:"allowRegisteringTemporaryEffectsAsPermacast",value:function(){return!1}}]),n}(_x));function TO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}Va(PO,3,5),Qa(PO,[pt.TemporaryEffectDuration],1.5);var jO=new(function(e){(0,ws.default)(n,e);var t=TO(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"sting"}},{key:"getSpellName",value:function(){return ae("Sting")}},{key:"getElement",value:function(){return un.Poison}},{key:"getAutocastCategory",value:function(){return lc.ATTACK}},{key:"getExtraTags",value:function(){return[pt.AttackSpell]}},{key:"getBaseManaCost",value:function(e){return 260}},{key:"getDisplayDescription",value:function(e){return ae("Materialize a small poisonous projectile and hit the enemy with it.")}},{key:"getBaseActionEffects",value:function(){return{average:{value:22,tags:[pt.ActionMagnitude],unit:":attack:"},variance:{value:2,tags:[pt.ActionVariance],unit:":attack:"},magnitude:{value:12,tags:[pt.TemporaryEffectMagnitude,Vb.getId()],unit:":hp:/sec"},duration:{value:5,tags:[pt.TemporaryEffectDuration,Vb.getId()],unit:ae(" sec")}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e);return ae('{{standardAttack}}; On hit, inflicts ^-{{magnitude}}^<{{magnitudeExplanation}}>:hp:/sec "Poison" for ^{{duration}}^<{{durationExplanation}}> sec',{standardAttack:nf(t.average,t.variance,n.average),magnitude:ue(t.magnitude,{showDecimals:!0}),magnitudeExplanation:n.magnitude,duration:ue(t.duration,{showDecimals:!0}),durationExplanation:n.duration})}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e);return Ki(e=rf(e,this)).isHit&&(e=Ro(Vb.getId(),t.duration,{target:Qr.Enemy,params:{magnitude:t.magnitude}})(e)),e}},{key:"getBaseCooldown",value:function(){return 6}},{key:"getBaseAutocastPointsRequirement",value:function(){return 15}},{key:"getLevelRequirements",value:function(){return{Poison:6}}},{key:"isActive",value:function(e){return xo(e,Vb.getId(),Qr.Enemy)}},{key:"getEstimatedMinAutocastDelay",value:function(e,t){return this.getCooldown(e)}},{key:"allowRegisteringTemporaryEffectsAsPermacast",value:function(){return!1}}]),n}(_x));function MO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const DO=new(function(e){(0,ws.default)(n,e);var t=MO(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"dropletOfHealing"}},{key:"getSpellName",value:function(){return ae("Droplet of Healing")}},{key:"getElement",value:function(){return un.Water}},{key:"getAutocastCategory",value:function(){return lc.HEALING}},{key:"getBaseManaCost",value:function(e){return 900}},{key:"getBaseCooldown",value:function(){return 10}},{key:"getDisplayDescription",value:function(e){return ae("Conjure a small droplet of curative water. Slightly heals wounds.")}},{key:"getBaseActionEffects",value:function(){return{average:{value:25,tags:[pt.ActionMagnitude],unit:":hp:"},variance:{value:3,tags:[pt.ActionVariance],unit:":hp:"}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e,"average");return ae("+{{effect}}:hp:",{effect:tf(t.average,t.variance,n.average)})}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e),n=t.average+(Math.random()-.5)*t.variance*2;return e=Lo(e=lu(e,n,this.getSpellName()),{id:Math.random().toString(),damage:-n,isCrit:!1,isHit:!0,time:Aa(e),source:Qr.Player,target:Qr.Player,tags:this.getTags()})}},{key:"canUseOutsideOfCombat",value:function(){return!0}},{key:"getLevelRequirements",value:function(){return{Water:8}}},{key:"getBaseAutocastPointsRequirement",value:function(){return 40}},{key:"isCastingRecommended",value:function(e){return eu(e)<.99*Gr(e)&&ix(e,Qr.Player)}}]),n}(_x));function OO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var NO=new(function(e){(0,ws.default)(r,e);var t=OO(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"enchantManaSpouts"}},{key:"getIcon",value:function(){return n(23085)}},{key:"getDisplayName",value:function(){return ae("Enchant Mana Spouts")}},{key:"getDisplayDescription",value:function(e,t){return ae("+{{magnitudePct}}% effectivity of Mana Spouts",{magnitudePct:ue(100*t.params.magnitude)})}}]),r}(yf));po.register(NO);var UO=new(function(e){(0,ws.default)(n,e);var t=OO(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"enchantManaSpouts"}},{key:"getSpellName",value:function(){return ae("Enchant Mana Spouts")}},{key:"getElement",value:function(){return un.Water}},{key:"getAutocastCategory",value:function(){return lc.GENERAL_BUFF}},{key:"getBaseManaCost",value:function(e){return 60}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:.6,tags:[pt.TemporaryEffectMagnitude],valueType:vt.Percent},duration:{value:30,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"doSpellAction",value:function(e,t){var n=this.getActionEffects(e);return Ro("enchantManaSpouts",n.duration,{params:{magnitude:n.magnitude}})(e)}},{key:"getDisplayDescription",value:function(e){return ae("Use your Water expertise to temporarily power up your Mana Spouts.")}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e);return ae("^+{{magnitudePct}}%^<{{magnitudeExplanation}}> effectivity of Mana Spouts for ^{{duration}}^<{{durationExplanation}}> sec",{magnitudePct:ue(100*t.magnitude),magnitudeExplanation:n.magnitude,duration:ue(t.duration),durationExplanation:n.duration})}},{key:"getLevelRequirements",value:function(){return{Water:2}}},{key:"isEmpowerable",value:function(){return!0}},{key:"getEmpoweringLevelRequirements",value:function(){return{Water:51}}}]),n}(uf));Va(UO,1.5,50),xt([[Ib.getId(),pt.Production]],"enchantManaSpouts",UO.getSpellName(),At.Multiplier,(function(e){return xo(e,UO.getId())?Eo(e,NO.getId()).params.magnitude+1:1})),Do(NO.getId(),(function(e,t){return t.id==NO.getId()&&(e=si(e)),t}),!0);const FO=UO;function LO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var HO=new(function(e){(0,ws.default)(r,e);var t=LO(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"enchantManaSteamers"}},{key:"getIcon",value:function(){return n(23085)}},{key:"getDisplayName",value:function(){return ae("Enchant Mana Steamers")}},{key:"getDisplayDescription",value:function(e,t){return ae("+{{magnitudePct}}% production and consumption of Mana Steamers",{magnitudePct:ue(100*t.params.magnitude)})}}]),r}(yf));po.register(HO);var YO=new(function(e){(0,ws.default)(n,e);var t=LO(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"enchantManaSteamers"}},{key:"getSpellName",value:function(){return ae("Enchant Mana Steamers")}},{key:"getElement",value:function(){return un.Water}},{key:"getAutocastCategory",value:function(){return lc.GENERAL_BUFF}},{key:"isVisible",value:function(e){return cB.isVisible(e)&&(0,xs.default)((0,Cs.default)(n.prototype),"isVisible",this).call(this,e)}},{key:"getBaseManaCost",value:function(e){return 220}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:.6,tags:[pt.TemporaryEffectMagnitude],valueType:vt.Percent},duration:{value:20,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"doSpellAction",value:function(e,t){var n=this.getActionEffects(e);return Ro(HO.getId(),n.duration,{params:{magnitude:n.magnitude}})(e)}},{key:"getDisplayDescription",value:function(e){return ae("Power up your Mana Steamers so that they work faster for a limited time.")}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e);return ae("^+{{magnitudePct}}%^<{{magnitudeExplanation}}> production and consumption of Mana Steamers for ^{{duration}}^<{{durationExplanation}}> sec",{magnitudePct:ue(100*t.magnitude),magnitudeExplanation:n.magnitude,duration:ue(t.duration),durationExplanation:n.duration})}},{key:"getLevelRequirements",value:function(){return{Water:15}}},{key:"isEmpowerable",value:function(){return!0}},{key:"getEmpoweringLevelRequirements",value:function(){return{Water:61}}}]),n}(uf));Va(YO,1.5,30),xt([[sB.getId(),pt.Production],[sB.getId(),pt.Consumption]],HO.getId(),HO.getDisplayName(),At.Multiplier,(function(e){return xo(e,YO.getId())?Eo(e,HO.getId()).params.magnitude+1:1})),Do(HO.getId(),(function(e,t){return t.id==HO.getId()&&(e=si(e)),t}),!0);const QO=YO;function zO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const VO=new(function(e){(0,ws.default)(n,e);var t=zO(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"frost"}},{key:"getSpellName",value:function(){return ae("Frost")}},{key:"getElement",value:function(){return un.Water}},{key:"getAutocastCategory",value:function(){return lc.ATTACK}},{key:"getExtraTags",value:function(){return[pt.AttackSpell]}},{key:"getBaseManaCost",value:function(e){return 650}},{key:"getBaseAutocastPointsRequirement",value:function(){return 24}},{key:"getDisplayDescription",value:function(e){return ae("Batter the enemy with a sub-zero breeze that can chill their bones.")}},{key:"getBaseActionEffects",value:function(){return{average:{value:110,tags:[pt.ActionMagnitude],unit:":attack:"},variance:{value:5,tags:[pt.ActionVariance],unit:":attack:"},duration:{value:10,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e),r=uk.getParameterlessDisplayDescription(e);return ae('{{standardAttack}}; On hit, inflicts ^"Chilled"^<{{effectExplanation}}> for ^{{duration}}^<{{durationExplanation}}> sec',{standardAttack:nf(t.average,t.variance,n.average),duration:ue(t.duration,{showDecimals:!0}),durationExplanation:n.duration,effectExplanation:r})}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e,"duration");return Ki(e=rf(e,this)).isHit&&(e=Ro(uk.getId(),t.duration,{target:Qr.Enemy})(e)),e}},{key:"getBaseCooldown",value:function(){return 3}},{key:"getLevelRequirements",value:function(){return{Water:16}}},{key:"isActive",value:function(e){return xo(e,uk.getId(),Qr.Enemy)}},{key:"getEstimatedMinAutocastDelay",value:function(e,t){return this.getCooldown(e)}},{key:"allowRegisteringTemporaryEffectsAsPermacast",value:function(){return!1}}]),n}(_x));function WO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var GO=new(function(e){(0,ws.default)(r,e);var t=WO(r);function r(){return(0,Le.default)(this,r),t.apply(this,arguments)}return(0,He.default)(r,[{key:"getId",value:function(){return"longevity"}},{key:"getDisplayName",value:function(){return ae("Longevity")}},{key:"getIcon",value:function(){return n(67664)}},{key:"isCommonBuffEnabled",value:function(){return[{stat:Vr.MaxHP,type:At.Addition},{stat:Vr.MaxHP,type:At.Multiplier}]}},{key:"getDisplayDescription",value:function(e,t){var n=t.params.commonBuff.MaxHP;if(!n){var r=t.params.commonBuff.MaxHPMultiplier;return ae("{{ratio}} Max:hp:",{ratio:le(r)})}return ae("+{{amount}} Max:hp:",{amount:ue(n)})}}]),r}(yf));po.register(GO);var JO=new(function(e){(0,ws.default)(n,e);var t=WO(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"longevity"}},{key:"getSpellName",value:function(){return ae("Longevity")}},{key:"getElement",value:function(){return un.Water}},{key:"getAutocastCategory",value:function(){return lc.COMBAT_BUFF}},{key:"getBaseManaCost",value:function(e){return 450}},{key:"canUseOutsideOfCombat",value:function(){return!0}},{key:"getBaseActionEffects",value:function(){return{magnitude:{value:60,tags:[pt.TemporaryEffectMagnitude],unit:" Max:hp:"},duration:{value:70,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"doSpellAction",value:function(e,t){var n=this.getActionEffects(e);return Ro(GO.getId(),n.duration,{params:{commonBuff:{MaxHP:n.magnitude}}})(e)}},{key:"getDisplayDescription",value:function(e){return ae("Bolster the ability of your body to stay alive.")}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e);return ae("^+{{amount}}^<{{amountExplanation}}> Max:hp: for ^{{duration}}^<{{durationExplanation}}> sec",{amount:ue(t.magnitude),amountExplanation:n.magnitude,duration:ue(t.duration),durationExplanation:n.duration})}},{key:"getLevelRequirements",value:function(){return{Water:7}}},{key:"isEmpowerable",value:function(){return!0}},{key:"getEmpoweringLevelRequirements",value:function(){return{Water:54}}}]),n}(_x));function qO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}Qa(JO,[pt.Cost,Dt.Mana],30),Qa(JO,[pt.TemporaryEffectMagnitude],4);var XO=new(function(e){(0,ws.default)(n,e);var t=qO(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"soak"}},{key:"getSpellName",value:function(){return ae("Soak")}},{key:"getElement",value:function(){return un.Water}},{key:"getAutocastCategory",value:function(){return lc.OTHER}},{key:"canUseOutsideOfCombat",value:function(){return!0}},{key:"getBaseManaCost",value:function(e){return 300}},{key:"getBaseActionEffects",value:function(){return{duration:{value:30,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"doSpellAction",value:function(e,t){var n=this.getActionEffects(e);return Ro(ik.getId(),n.duration,{})(e)}},{key:"getDisplayDescription",value:function(e){return ae("Make yourself wet! If you're facing a fiery blaze...")}},{key:"getBaseCooldown",value:function(){return 6}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e),r=ik.getParameterlessDisplayDescription(e);return ae('Inflicts ^"Wet"^<{{effectExplanation}}> on yourself for ^{{duration}}^<{{durationExplanation}}> sec',{duration:ue(t.duration),durationExplanation:n.duration,effectExplanation:r})}},{key:"isActive",value:function(e){return xo(e,ik.getId(),Qr.Player)}},{key:"getLevelRequirements",value:function(){return{Water:25}}},{key:"getEstimatedMinAutocastDelay",value:function(e,t){return this.getCooldown(e)}},{key:"allowRegisteringTemporaryEffectsAsPermacast",value:function(){return!1}}]),n}(_x));function KO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}const ZO=new(function(e){(0,ws.default)(n,e);var t=KO(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"splash"}},{key:"getSpellName",value:function(){return ae("Splash")}},{key:"getElement",value:function(){return un.Water}},{key:"getAutocastCategory",value:function(){return lc.ATTACK}},{key:"getExtraTags",value:function(){return[pt.AttackSpell]}},{key:"getBaseManaCost",value:function(e){return 160}},{key:"getDisplayDescription",value:function(e){return ae("Spray the enemy with a small burst of water. Leaves the enemy Wet.")}},{key:"getBaseActionEffects",value:function(){return{average:{value:42,tags:[pt.ActionMagnitude],unit:":attack:"},variance:{value:2,tags:[pt.ActionVariance],unit:":attack:"},duration:{value:10,tags:[pt.TemporaryEffectDuration],unit:ae(" sec")}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e),r=ik.getParameterlessDisplayDescription(e);return ae('{{standardAttack}}; On hit, inflicts ^"Wet"^<{{effectExplanation}}> for ^{{duration}}^<{{durationExplanation}}> sec',{standardAttack:nf(t.average,t.variance,n.average),duration:ue(t.duration,{showDecimals:!0}),durationExplanation:n.duration,effectExplanation:r})}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e,"duration");return Ki(e=rf(e,this)).isHit&&(e=Ro(ik.getId(),t.duration,{target:Qr.Enemy})(e)),e}},{key:"getBaseCooldown",value:function(){return 2}},{key:"getBaseAutocastPointsRequirement",value:function(){return 15}},{key:"getLevelRequirements",value:function(){return{Water:6}}},{key:"isActive",value:function(e){return xo(e,ik.getId(),Qr.Enemy)}},{key:"getEstimatedMinAutocastDelay",value:function(e,t){return this.getCooldown(e)}},{key:"allowRegisteringTemporaryEffectsAsPermacast",value:function(){return!1}}]),n}(_x));function _O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var $O=new(function(e){(0,ws.default)(n,e);var t=_O(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getId",value:function(){return"streamOfHealing"}},{key:"getSpellName",value:function(){return ae("Stream of Healing")}},{key:"getElement",value:function(){return un.Water}},{key:"getAutocastCategory",value:function(){return lc.HEALING}},{key:"getBaseManaCost",value:function(e){return 2600}},{key:"getBaseCooldown",value:function(){return 15}},{key:"getDisplayDescription",value:function(e){return ae("Conjure a stream of curative water running through your body. Significantly heals wounds.")}},{key:"getBaseActionEffects",value:function(){return{average:{value:80,tags:[pt.ActionMagnitude],unit:":hp:"},variance:{value:5,tags:[pt.ActionVariance],unit:":hp:"}}}},{key:"getDisplayEffect",value:function(e){var t=this.getActionEffects(e),n=this.getActionEffectExplanations(e,"average");return ae("+{{effect}}:hp:",{effect:tf(t.average,t.variance,n.average)})}},{key:"doSpellAction",value:function(e){var t=this.getActionEffects(e),n=t.average+(Math.random()-.5)*t.variance*2;return e=Lo(e=lu(e,n,this.getSpellName()),{id:Math.random().toString(),damage:-n,isCrit:!1,isHit:!0,time:Aa(e),source:Qr.Player,target:Qr.Player,tags:this.getTags()})}},{key:"canUseOutsideOfCombat",value:function(){return!0}},{key:"getLevelRequirements",value:function(){return{Water:21}}},{key:"isCastingRecommended",value:function(e){return eu(e)<.99*Gr(e)&&ix(e,Qr.Player)}},{key:"isEmpowerable",value:function(){return!0}},{key:"getEmpoweringLevelRequirements",value:function(){return{Water:58}}}]),n}(_x));za($O,3,8);const eN=$O;function tN(){Zf.register((function(e,t){var n=Rn(e),r=e.world.maxElementLevels,a=!1;return n.forEach((function(t){var n,i,o=null!=(n=null==(i=e.world.maxElementLevels)?void 0:i[t])?n:0,u=xn(e,t);u>o&&(r[t]=u,a=!0)})),a&&(e.world.maxElementLevels=r),e}),"maxMaxElementLevels"),Zf.register((function(e,t,n){var r=Se(e),a=Ra(r=En(t,-(gn(e,t)-n))(r),t,_t.SPELL_MENU),i=Ra(e,t,_t.SPELL_MENU),o=a.filter((function(e){return e.isEmpoweringPossible(r)})),u=i.filter((function(t){return t.isEmpoweringPossible(e)&&!o.includes(t)}));for(var l of u)e=Da(e,l);return e}),"spellAutoEmpowering"),Zf.register((function(e,t,n){return on(e)}),"spellByElementCacheClearer"),bg.register((function(e){var t=Ia.getAll();for(var n of t)n.isEmpoweringPossible(e)&&(e=Da(e,n));return e}),"spellAutoEmpoweringOnStartup"),Ba(WE),Ba(oO),Ba(sO),Ba(AP),Ba(vO),Ba(QO),Ba(gO),Ba(nO),Ba(yO),Ba(BD),Ba(zD),Ba(UR),Ba($D),Ba(GD),Ba(KD),Ba(LD),Ba(qD),Ba(RD),Ba(FO),Ba(DO),Ba(ZO),Ba(JO),Ba(VO),Ba(eN),Ba(XO),Ba(CD),Ba(hD),Ba(uD),Ba(nw),Ba(pD),Ba(cD),Ba(wD),Ba(kD),Ba(OD),Ba(jO),Ba(bO),Ba(wO),Ba(PO),Ba(IO),Ba(SO),Ba(MD)}var nN=function(){function e(){var t=this;(0,Le.default)(this,e),this.getCachedBaseBonusEffects=(0,q.default)((function(){return t.getBaseBonusEffects()})),this.tagsByEffect={},this.getExplanationParamsByEffect=(0,q.default)((function(e){return{valueType:e.valueType,unit:e.unit}}))}return(0,He.default)(e,[{key:"getId",value:function(){return this.getElement1()+"-"+this.getElement2()}},{key:"getBaseBonusEffects",value:function(){return{}}},{key:"getName",value:function(){return ae("Synchro Bonus ({{element1}}+{{element2}})",{element1:ln(this.getElement1()),element2:ln(this.getElement2())})}},{key:"getTags",value:function(){return[]}},{key:"isVisible",value:function(e){return!0}},{key:"isBeneficial",value:function(){return!0}},{key:"getTagsByEffect",value:function(e,t){var n,r;null==(null==(n=this.tagsByEffect)?void 0:n[e])&&(this.tagsByEffect[e]=[].concat((0,h.default)(this.getTags()),[this.getId()],(0,h.default)(null!=(r=t.tags)?r:[]),[pt.SynchroEffect]));return this.tagsByEffect[e]}},{key:"getBonusEffect",value:function(e,t,n){var r=this.getCachedBaseBonusEffects()[t];switch(r.valueType){case vt.Divisor:return Math.pow(Rt(this.getTagsByEffect(t,r),e,r.value),null!=n?n:1);case vt.Percent:return Math.pow(Rt(this.getTagsByEffect(t,r),e,r.value)+1,null!=n?n:1);case vt.Basic:default:return Rt(this.getTagsByEffect(t,r),e,r.value)*(null!=n?n:1)}}},{key:"getBonusEffects",value:function(e,t){var n=this.getCachedBaseBonusEffects(),r={};for(var a in n){var i=n[a];r[a]=Math.pow(Rt(this.getTagsByEffect(a,i),e,i.value),null!=t?t:1)}return r}},{key:"getBonusEffectExplanations",value:function(e,t,n){var r=this.getCachedBaseBonusEffects(),a={};for(var i in r)if(null==n||i==n){var o=r[i],u=Mt(this.getTagsByEffect(i,o),e,o.value,this.getExplanationParamsByEffect(o));""==u&&1==t||(a[i]=ae("Results from stacking {{amount}} time(s) the following: {{transformedEffect}}",{amount:ue(null!=t?t:1),transformedEffect:""!=u?u:ae("{{amount}}{{unit}}",{amount:ue(o.valueType==vt.Percent?100*o.value:o.value,{showDecimals:!0}),unit:o.valueType==vt.Percent?ae("%{{unit}}",{unit:o.unit}):o.unit})}))}return a}},{key:"getCurrentBonusAmount",value:function(e){return kd(e,this.getElement1(),this.getElement2())}},{key:"getCurrentBonusEffect",value:function(e,t){return this.getBonusEffect(e,t,this.getCurrentBonusAmount(e))}}]),e}();function rN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var aN=function(e){(0,ws.default)(n,e);var t=rN(n);function n(e){var r;return(0,Le.default)(this,n),(r=t.call(this)).element=e,r}return(0,He.default)(n,[{key:"getElement1",value:function(){return this.element}},{key:"getElement2",value:function(){return this.element}},{key:"getBaseBonusEffects",value:function(){return{magnitude:{value:.02,valueType:vt.Percent}}}},{key:"getEffect",value:function(e,t){var n=this.getBonusEffect(e,"magnitude",t),r=this.getBonusEffectExplanations(e,t,"magnitude").magnitude;return ae("^{{magnitude}}^<{{explanation}}> {{element}} spell power for every {{element}} Rank above the spell's Rank",{magnitude:le(n),explanation:r,element:ln(this.element)})}}]),n}(nN);function iN(e){var t=new aN(e);gd.register(t),xt([[pt.Spell,pt.ActionEffect,pt.ActionMagnitude,e],[pt.Spell,pt.ActionEffect,pt.TemporaryEffectMagnitude,e]],"doubleSynchroBonus"+e,ae("Synchro Bonus ({{element}}+{{element}})",{element:ln(e)}),At.Multiplier,(function(n,r){var a=r.action.getLevelRequirements()[e];if(null==a)return 1;var i=Wf(a,xn(n,e));return i<=0?1:Math.pow(t.getBonusEffect(n,"magnitude",kd(n,e,e)),i)})),xt([[e,pt.ChannelingEfficiency]],"doubleSynchroBonus"+e+"ChannelingMultiplier",ae("Synchro Bonus ({{element}}+{{element}})",{element:ln(e)}),At.Multiplier,(function(n){var r=Wf(1,xn(n,e));return Math.pow(t.getBonusEffect(n,"magnitude",kd(n,e,e)),r)}))}function oN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var uN=function(e){(0,ws.default)(n,e);var t=oN(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getElement1",value:function(){return un.Fire}}]),n}(nN),lN=function(e){(0,ws.default)(n,e);var t=oN(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getElement1",value:function(){return un.Earth}}]),n}(nN),sN=function(e){(0,ws.default)(n,e);var t=oN(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getElement1",value:function(){return un.Water}}]),n}(nN),cN=function(e){(0,ws.default)(n,e);var t=oN(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getElement1",value:function(){return un.Air}}]),n}(nN);(function(e){(0,ws.default)(n,e);var t=oN(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}(0,He.default)(n,[{key:"getElement1",value:function(){return un.Poison}}])})(nN),function(e){(0,ws.default)(n,e);var t=oN(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}(0,He.default)(n,[{key:"getElement1",value:function(){return un.Mind}}])}(nN),function(e){(0,ws.default)(n,e);var t=oN(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}(0,He.default)(n,[{key:"getElement1",value:function(){return un.Life}}])}(nN),function(e){(0,ws.default)(n,e);var t=oN(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}(0,He.default)(n,[{key:"getElement1",value:function(){return un.Electric}}])}(nN),function(e){(0,ws.default)(n,e);var t=oN(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}(0,He.default)(n,[{key:"getElement1",value:function(){return un.Death}}])}(nN),function(e){(0,ws.default)(n,e);var t=oN(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}(0,He.default)(n,[{key:"getElement1",value:function(){return un.Holy}}])}(nN),function(e){(0,ws.default)(n,e);var t=oN(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}(0,He.default)(n,[{key:"getElement1",value:function(){return un.Time}}])}(nN);function fN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var dN=function(e){(0,ws.default)(n,e);var t=fN(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getElement2",value:function(){return un.Poison}},{key:"getBaseBonusEffects",value:function(){return{magnitude:{value:8,valueType:vt.Basic}}}},{key:"getEffect",value:function(e,t){var n=this.getBonusEffect(e,"magnitude",t),r=this.getBonusEffectExplanations(e,t,"magnitude").magnitude;return ae("^+{{magnitude}}^<{{explanation}}>:dodge:",{magnitude:ue(n),explanation:r})}}]),n}(cN);function gN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var hN=function(e){(0,ws.default)(n,e);var t=gN(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getElement2",value:function(){return un.Air}},{key:"isBeneficial",value:function(){return!1}},{key:"getBaseBonusEffects",value:function(){return{magnitude:{value:.95,valueType:vt.Divisor}}}},{key:"getEffect",value:function(e,t){var n=this.getBonusEffect(e,"magnitude",t),r=this.getBonusEffectExplanations(e,t,"magnitude").magnitude;return ae("^{{magnitude}}^<{{explanation}}> Earth and Air spell power",{magnitude:le(n),explanation:r})}}]),n}(lN);function mN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var yN=function(e){(0,ws.default)(n,e);var t=mN(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getElement2",value:function(){return un.Poison}},{key:"getBaseBonusEffects",value:function(){return{magnitude:{value:.15,valueType:vt.Percent}}}},{key:"getEffect",value:function(e,t){var n=this.getBonusEffect(e,"magnitude",t),r=this.getBonusEffectExplanations(e,t,"magnitude").magnitude;return ae("^{{magnitude}}^<{{explanation}}> Channeling efficiency",{magnitude:le(n),explanation:r})}}]),n}(lN);function pN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var vN=function(e){(0,ws.default)(n,e);var t=pN(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getElement2",value:function(){return un.Water}},{key:"getBaseBonusEffects",value:function(){return{magnitude:{value:.04,valueType:vt.Percent}}}},{key:"getEffect",value:function(e,t){var n=this.getBonusEffect(e,"magnitude",t),r=this.getBonusEffectExplanations(e,t,"magnitude").magnitude;return ae("^{{magnitude}}^<{{explanation}}> Max:hp:",{magnitude:le(n),explanation:r})}}]),n}(lN);function AN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var bN=function(e){(0,ws.default)(n,e);var t=AN(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getElement2",value:function(){return un.Air}},{key:"getBaseBonusEffects",value:function(){return{magnitude:{value:.8,valueType:vt.Divisor}}}},{key:"getEffect",value:function(e,t){var n=this.getBonusEffect(e,"magnitude",t),r=this.getBonusEffectExplanations(e,t,"magnitude").magnitude;return ae("^{{magnitude}}^<{{explanation}}> time between Market Stalls sales",{magnitude:le(n),explanation:r})}}]),n}(uN);function kN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var xN=function(e){(0,ws.default)(n,e);var t=kN(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getElement2",value:function(){return un.Earth}},{key:"getBaseBonusEffects",value:function(){return{magnitude:{value:.02,valueType:vt.Percent}}}},{key:"getEffect",value:function(e,t){var n=this.getBonusEffect(e,"magnitude",t),r=this.getBonusEffectExplanations(e,t,"magnitude").magnitude;return ae("^{{magnitude}}^<{{explanation}}> :attack: and :defense:",{magnitude:le(n),explanation:r})}}]),n}(uN);function wN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var EN=function(e){(0,ws.default)(n,e);var t=wN(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getElement2",value:function(){return un.Poison}},{key:"getBaseBonusEffects",value:function(){return{magnitude:{value:.02,valueType:vt.Percent}}}},{key:"isVisible",value:function(e){return JI.isVisible(e)}},{key:"getEffect",value:function(e,t){var n=this.getBonusEffect(e,"magnitude",t),r=this.getBonusEffectExplanations(e,t,"magnitude").magnitude;return ae("^{{magnitude}}^<{{explanation}}> effectivity of Monstium Catalysts",{magnitude:le(n),explanation:r})}}]),n}(uN);function CN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var IN=function(e){(0,ws.default)(n,e);var t=CN(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getElement2",value:function(){return un.Water}},{key:"isBeneficial",value:function(){return!1}},{key:"getBaseBonusEffects",value:function(){return{magnitude:{value:.95,valueType:vt.Divisor}}}},{key:"getEffect",value:function(e,t){var n=this.getBonusEffect(e,"magnitude",t),r=this.getBonusEffectExplanations(e,t,"magnitude").magnitude;return ae("^{{magnitude}}^<{{explanation}}> Fire and Water spell power",{magnitude:le(n),explanation:r})}}]),n}(uN);function BN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var SN=function(e){(0,ws.default)(n,e);var t=BN(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getElement2",value:function(){return un.Air}},{key:"getBaseBonusEffects",value:function(){return{magnitude:{value:.97,valueType:vt.Divisor}}}},{key:"getEffect",value:function(e,t){var n=this.getBonusEffect(e,"magnitude",t),r=this.getBonusEffectExplanations(e,t,"magnitude").magnitude;return ae("^{{magnitude}}^<{{explanation}}> cooldown of attack spells",{magnitude:le(n),explanation:r})}}]),n}(sN);function RN(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(ON){return!1}}();return function(){var n,r=(0,Cs.default)(e);if(t){var a=(0,Cs.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Es.default)(this,n)}}var PN=function(e){(0,ws.default)(n,e);var t=RN(n);function n(){return(0,Le.default)(this,n),t.apply(this,arguments)}return(0,He.default)(n,[{key:"getElement2",value:function(){return un.Poison}},{key:"isVisible",value:function(e){return BB.isVisible(e)}},{key:"getBaseBonusEffects",value:function(){return{magnitude:{value:.5,valueType:vt.Percent},magnitudeConsumption:{value:1,valueType:vt.Percent}}}},{key:"getEffect",value:function(e,t){var n=this.getBonusEffect(e,"magnitude",t),r=this.getBonusEffect(e,"magnitudeConsumption",t),a=this.getBonusEffectExplanations(e,t);return ae("^{{magnitude}}^<{{explanation}}> production, but ^{{magnitudeConsumption}}^<{{explanationConsumption}}> consumption of Sewage Systems",{magnitude:le(n),explanation:a.magnitude,magnitudeConsumption:le(r),explanationConsumption:a.magnitudeConsumption})}}]),n}(sN);function TN(){!function(){for(var e of $(un))iN(e)}(),function(){var e=new xN;gd.register(e),xt([[Qr.Player,Vr.Attack],[Qr.Player,Vr.Defense]],e.getId(),e.getName(),At.Multiplier,(function(t){return e.getCurrentBonusEffect(t,"magnitude")})),bd.register((function(e){return e=ra(e,Qr.Player,Vr.Attack),ra(e,Qr.Player,Vr.Defense)}),"fireEarthCombatStatCacheClearer")}(),function(){var e=new IN;gd.register(e),xt([[pt.Spell,pt.ActionEffect,pt.ActionMagnitude,un.Fire],[pt.Spell,pt.ActionEffect,pt.TemporaryEffectMagnitude,un.Fire],[pt.Spell,pt.ActionEffect,pt.ActionMagnitude,un.Water],[pt.Spell,pt.ActionEffect,pt.TemporaryEffectMagnitude,un.Water]],e.getId(),e.getName(),At.Multiplier,(function(t){return e.getCurrentBonusEffect(t,"magnitude")}))}(),function(){var e=new bN;gd.register(e),xt([[pt.TimePerAutoSalePerStall]],e.getId(),e.getName(),At.Multiplier,(function(t){return e.getCurrentBonusEffect(t,"magnitude")}))}(),function(){var e=new EN;gd.register(e),xt([[pt.CatalystEffectivity,GI.getId()]],e.getId(),e.getName(),At.Multiplier,(function(t){return e.getCurrentBonusEffect(t,"magnitude")}))}(),function(){var e=new vN;gd.register(e),xt([[Qr.Player,Vr.MaxHP]],e.getId(),e.getName(),At.Multiplier,(function(t){return e.getCurrentBonusEffect(t,"magnitude")})),bd.register((function(e){return ra(e,Qr.Player,Vr.MaxHP)}),"earthWaterCombatStatCacheClearer")}(),function(){var e=new hN;gd.register(e),xt([[pt.Spell,pt.ActionEffect,pt.ActionMagnitude,un.Earth],[pt.Spell,pt.ActionEffect,pt.TemporaryEffectMagnitude,un.Earth],[pt.Spell,pt.ActionEffect,pt.ActionMagnitude,un.Air],[pt.Spell,pt.ActionEffect,pt.TemporaryEffectMagnitude,un.Air]],e.getId(),e.getName(),At.Multiplier,(function(t){return e.getCurrentBonusEffect(t,"magnitude")}))}(),function(){var e=new yN;gd.register(e),xt([[pt.ChannelingEfficiency]],e.getId(),e.getName(),At.Multiplier,(function(t){return e.getCurrentBonusEffect(t,"magnitude")}))}(),function(){var e=new SN;gd.register(e),xt([[pt.AttackSpell,pt.SpellCooldown]],e.getId(),e.getName(),At.Multiplier,(function(t){return e.getCurrentBonusEffect(t,"magnitude")})),bd.register((function(e){return Ha(e)}),e.getId())}(),function(){var e=new PN;gd.register(e),xt([[IB.getId(),pt.Production]],e.getId(),e.getName(),At.Multiplier,(function(t){return e.getCurrentBonusEffect(t,"magnitude")})),xt([[IB.getId(),pt.Consumption]],e.getId(),e.getName(),At.Multiplier,(function(t){return e.getCurrentBonusEffect(t,"magnitudeConsumption")})),bd.register((function(e){return si(e)}),e.getId())}(),function(){var e=new dN;gd.register(e),xt([[Qr.Player,Vr.Dodge]],e.getId(),e.getName(),At.Addition,(function(t){return e.getCurrentBonusEffect(t,"magnitude")})),bd.register((function(e){return ra(e,Qr.Player,Vr.Dodge)}),e.getId())}()}function jN(){Ue=!0,TI(),VB(),tN(),function(){var e=function(e){xt([[pt.Spell,pt.ActionEffect,pt.ActionMagnitude,e],[pt.Spell,pt.ActionEffect,pt.TemporaryEffectMagnitude,e],[pt.Spell,pt.ActionEffect,pt.TemporaryEffectExtraCostDivisor,e]],"elementLevel"+e,ae("{{element}} Rank",{element:ln(e)}),At.Multiplier,(function(t,n){var r=n.action.getLevelRequirements()[e];return null==r?1:Vf(r,xn(t,e))})),xt([[pt.Spell,pt.ActionEffect,pt.TemporaryEffectExtraCost,e]],"elementLevelCost"+e,ae("{{element}} Rank",{element:ln(e)}),At.Multiplier,(function(t,n){var r=n.action.getLevelRequirements()[e];return null==r?1:1/((Vf(r,xn(t,e))+1)/2)})),xt([[e,pt.ExpGain]],e+"PrimaryElementMultiplier",ae("Primary Element"),At.Multiplier,(function(t){return Bn(t).includes(e)?2:1})),xt([[e,pt.ChannelingEfficiency]],e+"ChannelingMultiplier",ae("{{element}} Element Rank",{element:ln(e)}),At.Multiplier,(function(t){return Vf(1,xn(t,e))})),xt([[Ss[e],pt.PerBuildingCap]],e+"PartiallyUnlockedCapMultiplier",ae("Partially Unlocked"),At.Multiplier,(function(t){return Tn(t,e)?Hf:1})),xt([[e,pt.ChannelingEfficiency],[e,pt.ExpGain]],e+"PartiallyUnlockedChannelingMultiplier",ae("Partially Unlocked"),At.Multiplier,(function(t){return Tn(t,e)?Yf:1}))};for(var t of _(un))e(t)}(),Jc(),(0,l.loadResources)(),ca("Researchers",Ja),ft("researcherAssignerOrRemover",(function(e){var t=ni(e);return t<0?function(e){for(var t=ni(e),n=Rn(e),r=n.length-1;t<0&&r>=0;){var a=n[r];e.run.studyAllocation[a]>0?(e=ai(a,-1)(e),t++):r--}return e}:t>0&&e.options.researcherAutoAssignStrategy!=ve.OFF?function(e){for(var t=ni(e);t>0;){var n=Ga(e);if(null==n)return e.options.researcherAutoAssignStrategy=ve.OFF,e;e=ai(n,1)(e),t--}return e}:void 0})),function(){var e=[pt.GameSpeed];ca("TotalTimePlayed",(function(t,n,r){if(t.global.secondsPlayed+=n,t.world.secondsPlayed+=n,t.run.secondsPlayed+=n,!r){var a=It(e,t,1);a>0&&(t.global.activeSecondsPlayed+=n/a,t.world.activeSecondsPlayed+=n/a,t.run.activeSecondsPlayed+=n/a)}return t}))}(),aD(),function(){xt([[pt.ItemSalePrice,pt.FromSaleStalls]],"saleStallRevenue",ae("From Market Stalls"),At.Multiplier,(function(e){return sA(e)}));var e=[pt.TimePerAutoSalePerStall];ca("Autosale",(function(t,n,r){var a=It(e,t,60),i=ag(t,iA);if(i>0){for(var o=t.run.saleStallProgressRatio+i*n/a;o>=1&&zt(t,Dt.Coins)<Qt(t,Dt.Coins);)o-=1,t=gA(t);t.run.saleStallProgressRatio=Math.min(1,o)}return t}))}(),HT(),LT(),Du(),Zc(),Xc(YS),Xc(NB),Xc(zS),Xc(WS),Xc(kS),Xc(wS),Xc(AS),Xc(YI),Xc(dB),Xc(US),Xc(LS),Xc($B),Xc(rS),Xc(mS),Xc(sS),Xc(LI),Xc(uS),Xc(tS),Xc(iS),Xc(fS),Xc(pS),Xc(gS),Xc(CS),Xc(BS),Xc(XI),Xc(RS),Xc(zI),Xc(TS),Xc(MS),Xc(OS),ZB(),TN(),ox(),function(){xt([[pt.GameSpeed]],"TimePieceGameSpeed",ae("Time Pieces game speedup"),At.Multiplier,(function(e,t){return t.isWarp?1:jC(e)})),xt([[pt.GameSpeed]],"Debug2xGameSpeed",ae("Debug game speedup"),At.Multiplier,(function(e,t){return!Ve(e,"debug_2x_speed")||null!=t&&t.isWarp?1:2})),xt([[pt.GameSpeed]],"Debug0xGameSpeed",ae("Debug game speed frozen"),At.Multiplier,(function(e,t){return!Ve(e,"debug_0x_speed")||null!=t&&t.isWarp?1:0})),ca("TimePieceConsumer",(function(e,t,n){if(!n){var r=OC(e);if(r>0){var a=r*t;e=NC(e=Wt(Dt.TimePiece,-a)(e),a)}zt(e,Dt.TimePiece)<=0&&(e=Ke("time_piece_5x_speedup_enabled")(e),e=Ke("time_piece_speedup_enabled")(e))}return e}));var e=Tl("TimePieceEvent",ae("Offline Progress"),[]);e.message(ae("Welcome back to Magic Research!\n        \n  **You obtained /amount/:timepiece: Time Pieces!**"));var t=e.build(),n=Tl("TimePieceEventFirstTime",ae("Offline Progress"),[]).setOnTrigger(et("has_seen_offline_progress"));n.message(ae("Welcome back to Magic Research!\n        \n  **You obtained /amount/:timepiece: Time Pieces! Time Pieces allow you to make time pass faster for a duration. You can do so from the left side menu!**"));var r=n.build(),a=new ia("TimePieceGranter",(function(e){return function(n){var a=It([pt.OfflineTimePieceGain,Dt.TimePiece],n,e),i=zt(n,Dt.TimePiece),o=zt(n=Wt(Dt.TimePiece,a)(n),Dt.TimePiece)-i;if(o>0)if(tt(n,"has_seen_offline_progress")){var u=n.run.eventQueue.find((function(e){var r;return(null==(r=yl(n,e))?void 0:r.eventId)===t.getId()}));if(null!=u){var l,s,c=yl(n,u),f=o+(null!=(l=null==c||null==(s=c.params)?void 0:s.rawAmount)?l:0);c.params.amount=ue(f),c.params.rawAmount=f,n.run.eventOccurrences[u]=c}else o>60&&(n=xl(t,{amount:ue(o),rawAmount:o})(n))}else n=xl(r,{amount:ue(o),rawAmount:o})(n);return n}}));oa.register(a),qt("TimePieceRecorder",(function(e){return e.world.variables.timePiecesLastRun=zt(e,Dt.TimePiece),e})),Xt("TimePieceRetirementGranter",(function(e){return Wt(Dt.TimePiece,e.world.variables.timePiecesLastRun)(e)}))}(),FT(),QT(),YT(),Zf.register(ed,"compendiumCacheClearerLevelUp"),ju("compendiumCacheClearerEnemyDeath",(function(e,t){if(null!=t){var n=Hu(e,t.getId());if(1==n&&t.isBoss()||n==Vu&&!t.isBoss())return ed(e)}return e})),Dr.register(ed,"compendiumCacheClearerAddToInventoryFirstTime")}function MN(){jN(),ls=$g,Fm.load()}function DN(){var e=(0,o.useState)(!0),t=(0,a.default)(e,2),n=t[0],r=t[1];return(0,o.useEffect)((function(){MN(),r(!1)}),[]),n?null:(0,Ll.jsx)(yI,{})}(0,i.default)(DN)},46700:(e,t,n)=>{var r={"./af":26735,"./af.js":26735,"./ar":79343,"./ar-dz":55300,"./ar-dz.js":55300,"./ar-kw":77947,"./ar-kw.js":77947,"./ar-ly":92882,"./ar-ly.js":92882,"./ar-ma":43030,"./ar-ma.js":43030,"./ar-sa":22971,"./ar-sa.js":22971,"./ar-tn":78662,"./ar-tn.js":78662,"./ar.js":79343,"./az":81672,"./az.js":81672,"./be":39027,"./be.js":39027,"./bg":19107,"./bg.js":19107,"./bm":38932,"./bm.js":38932,"./bn":76218,"./bn-bd":33617,"./bn-bd.js":33617,"./bn.js":76218,"./bo":94527,"./bo.js":94527,"./br":53345,"./br.js":53345,"./bs":67930,"./bs.js":67930,"./ca":60454,"./ca.js":60454,"./cs":13984,"./cs.js":13984,"./cv":64646,"./cv.js":64646,"./cy":71372,"./cy.js":71372,"./da":62978,"./da.js":62978,"./de":32193,"./de-at":56365,"./de-at.js":56365,"./de-ch":29737,"./de-ch.js":29737,"./de.js":32193,"./dv":10872,"./dv.js":10872,"./el":99534,"./el.js":99534,"./en-au":68450,"./en-au.js":68450,"./en-ca":56996,"./en-ca.js":56996,"./en-gb":3864,"./en-gb.js":3864,"./en-ie":39472,"./en-ie.js":39472,"./en-il":40300,"./en-il.js":40300,"./en-in":67078,"./en-in.js":67078,"./en-nz":50472,"./en-nz.js":50472,"./en-sg":28696,"./en-sg.js":28696,"./eo":33550,"./eo.js":33550,"./es":59311,"./es-do":83080,"./es-do.js":83080,"./es-mx":77334,"./es-mx.js":77334,"./es-us":64336,"./es-us.js":64336,"./es.js":59311,"./et":28067,"./et.js":28067,"./eu":88831,"./eu.js":88831,"./fa":67981,"./fa.js":67981,"./fi":17479,"./fi.js":17479,"./fil":20757,"./fil.js":20757,"./fo":9510,"./fo.js":9510,"./fr":78573,"./fr-ca":6805,"./fr-ca.js":6805,"./fr-ch":74170,"./fr-ch.js":74170,"./fr.js":78573,"./fy":80926,"./fy.js":80926,"./ga":60203,"./ga.js":60203,"./gd":92975,"./gd.js":92975,"./gl":76890,"./gl.js":76890,"./gom-deva":24234,"./gom-deva.js":24234,"./gom-latn":97577,"./gom-latn.js":97577,"./gu":55804,"./gu.js":55804,"./he":5377,"./he.js":5377,"./hi":99401,"./hi.js":99401,"./hr":12435,"./hr.js":12435,"./hu":62728,"./hu.js":62728,"./hy-am":88093,"./hy-am.js":88093,"./id":26666,"./id.js":26666,"./is":35187,"./is.js":35187,"./it":62667,"./it-ch":56334,"./it-ch.js":56334,"./it.js":62667,"./ja":62414,"./ja.js":62414,"./jv":29359,"./jv.js":29359,"./ka":78740,"./ka.js":78740,"./kk":9521,"./kk.js":9521,"./km":21679,"./km.js":21679,"./kn":58554,"./kn.js":58554,"./ko":50686,"./ko.js":50686,"./ku":75965,"./ku.js":75965,"./ky":24780,"./ky.js":24780,"./lb":56950,"./lb.js":56950,"./lo":9434,"./lo.js":9434,"./lt":43681,"./lt.js":43681,"./lv":82552,"./lv.js":82552,"./me":18473,"./me.js":18473,"./mi":862,"./mi.js":862,"./mk":18932,"./mk.js":18932,"./ml":63174,"./ml.js":63174,"./mn":66863,"./mn.js":66863,"./mr":10566,"./mr.js":10566,"./ms":42215,"./ms-my":54959,"./ms-my.js":54959,"./ms.js":42215,"./mt":38830,"./mt.js":38830,"./my":19336,"./my.js":19336,"./nb":48113,"./nb.js":48113,"./ne":94005,"./ne.js":94005,"./nl":22699,"./nl-be":2796,"./nl-be.js":2796,"./nl.js":22699,"./nn":29700,"./nn.js":29700,"./oc-lnc":39495,"./oc-lnc.js":39495,"./pa-in":11217,"./pa-in.js":11217,"./pl":98807,"./pl.js":98807,"./pt":19221,"./pt-br":39895,"./pt-br.js":39895,"./pt.js":19221,"./ro":39162,"./ro.js":39162,"./ru":37991,"./ru.js":37991,"./sd":64518,"./sd.js":64518,"./se":64197,"./se.js":64197,"./si":40056,"./si.js":40056,"./sk":17025,"./sk.js":17025,"./sl":20069,"./sl.js":20069,"./sq":1961,"./sq.js":1961,"./sr":35820,"./sr-cyrl":20250,"./sr-cyrl.js":20250,"./sr.js":35820,"./ss":97806,"./ss.js":97806,"./sv":2833,"./sv.js":2833,"./sw":29018,"./sw.js":29018,"./ta":51830,"./ta.js":51830,"./te":2102,"./te.js":2102,"./tet":58711,"./tet.js":58711,"./tg":72615,"./tg.js":72615,"./th":38373,"./th.js":38373,"./tk":43277,"./tk.js":43277,"./tl-ph":76249,"./tl-ph.js":76249,"./tlh":87413,"./tlh.js":87413,"./tr":26726,"./tr.js":26726,"./tzl":29131,"./tzl.js":29131,"./tzm":45683,"./tzm-latn":22174,"./tzm-latn.js":22174,"./tzm.js":45683,"./ug-cn":74984,"./ug-cn.js":74984,"./uk":83778,"./uk.js":83778,"./ur":22753,"./ur.js":22753,"./uz":54345,"./uz-latn":67383,"./uz-latn.js":67383,"./uz.js":54345,"./vi":8201,"./vi.js":8201,"./x-pseudo":57395,"./x-pseudo.js":57395,"./yo":99359,"./yo.js":99359,"./zh-cn":75680,"./zh-cn.js":75680,"./zh-hk":89536,"./zh-hk.js":89536,"./zh-mo":35088,"./zh-mo.js":35088,"./zh-tw":2867,"./zh-tw.js":2867};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id=46700},60159:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/click.5bdbcd3c8ee5171a713f.wav"},18610:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/etherealEel.5528de7c69fcd53c59fa.png"},6784:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/evolvedSlime.6e9c5cac219fbce5c822.png"},78203:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/goblin.2f134562909adfc95d23.png"},42492:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/goblinChief.cafcc417e725bd1b46bd.png"},67479:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/goblinDoctor.d33a2287c04cfef626b1.png"},39914:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/goblinSharpshooter.092763829fc6150d7a0d.png"},15233:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/manEatingPlant.7ad850db6f0217536efc.png"},92287:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/manEatingPlant2.52496523bd5a81908233.png"},26292:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/manEatingPlant3.867941159e77297fc403.png"},17163:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/mutatedFish.571f34f398e5f1edf9cd.png"},13726:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/poisonousToad.9a47e7ff90828ac72c47.png"},98864:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/sewerFish.e62f56bc50f13c9f1137.png"},98276:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/sewerFly.7ee314627ad679473a73.png"},50392:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/sicklefish.88e03a3ed2f7de51dce4.png"},32210:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/sludgeMass.a0c463e5785e12de19b0.png"},30497:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/venomousSpider.43eb9d2f9bb0e0c9fb70.png"},66737:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/animatedSnowman.51668245c22b39340bf5.png"},86379:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/blazingTurtle.f240ecb1e01f05b47271.png"},8823:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/breezyRabbit.8d55954d11f67ec26506.png"},54852:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/fireBat.2e242bd746ea4849fa1f.png"},66777:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/flyingRock.650a2ee4ef3cf4c62bc6.png"},439:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/goat.cb6d0b02814d5b16ab42.png"},63991:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/headInstructor.504179096561d2156b99.png"},68499:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/knightInShiningArmor.ef855b63de14efb3bd96.png"},77628:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/rockGolem.ca27e5ec44675558fe77.png"},11143:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/slime.6b7724f8c461b21d47ff.png"},24294:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/windglider.97d9fbc231a73e446695.png"},7550:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAW5JREFUWIXVl7tKA0EUhr8VX8BGECKiiFiIadXGMp2dYOlr+DYpA+nSpRKbJI8QLBSxCKQwjzAW69ndOcwNCczkb5bZmTnD+eZcdqvr3hWJMpH5KtVQV3v/2bRN7SesMQBPj8/BRaPxUBNKIpKdQBWIAQNwe3MHwPLjM2hocD8A4Ov7HYD5YtacEdqXnYArBoKeb9Yrp6Hp2xRoSYjmi5nEhpNEkQQsXZ6dAtadWtLZITGQquwEkrPg5PgCgNF4CLSe+zze6Sxwqn/+Uz9fHgCYvNqeS7Z0smR3K6F191pyt755B4nmLNf67AS6MRD0PNYLRFI3lur9Zr1yVsSiCFiK9QCZbzxWY/3+4PBI7FgkiiDg7H6xHqCVSkKrCAKA/059kpiQaJd9WtouLVkDJRHYlnyxINJkiyBQQZufuoI5JJXM/O2rR5EY8KkIAiKLhFQuPe8Y1+QSe4X+XshOIPpNSPpfb+zvuTmzO8hO4BdloprtqjUdMwAAAABJRU5ErkJggg=="},96008:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAYdJREFUWIXdlb1KQ0EQhb8rimniHwZUwgUhpVjYiI2dT2CnvkGqvIcQEPIGQRARbGwttBAbLUUQBUEFEyEmIokprsVmuLv3J94gIZucZmF2dpZzds6ss5pdoU/w/th3AMb6dXtSjPehpgewf1Awgi/3FQCKpbIRHykFIpkLNOaOHh8pBSJxfHoEwPbOJgAnhxfijtF1AeAzzy7kAHBnXQAK+T0AiqWyB0OqQNcJJ36/Pn9VK2oV5kEMXAGnh7/AA8hvLRnBWr0BwOWjYv5cSYXu0M9rbgAsUCBJD3gAu+vprknz07KvFIlTQpsDwJAoAMDMlGIoby64+2gCUP1shM7EYHj+AuOtgswFCZgbsz8IKxUw/H71pPwtPve7PRrv9W8A3AxG/s1DO1IJKxUA/DffWO5QIROTZ/q99qOIvjVagN4jobkAWK1Ahwkx3R/MCzNOBisVcADObr88gLXcBACL6cmeCosbmq05o24QViogcED3bzthyVRgjWYusFoBQVcG/8XAFfgFpHd+yd98eJ0AAAAASUVORK5CYII="},83215:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAUJJREFUWIXdlzFuAjEQRf9GFEhwBHIDyBZpwhFyBKqcAil3yAXSUuUIXABpKWNBkdThCAklm8L+iB1sxtuwk/zGgp0d/B7YZou6rgEA5e0EAOBGQ1wzN1f9tEh6uYXl7rtu09iNhkVOnX0DJHdfm3jBKg5azsb+PsWEXQNn5AlSbONvuzd/QTNhz8CRnPvBa5j4uGXnYIZ9Tvo2TJgy0CSvKj9Op358Wvsx18TioXGfC6+lCVMGmuGvvgobYK4JQY5tHwCwHByi5YYNMJoJJkGuxaCB+3c/zgPRSyBKmWAS5MuPu4sTMGiAIZFmgjtlgvzxxzP+4VWgmVDItXRuoJD/iiHPhNR6D5HfrSTn9efPPUJfW6fhmYHI+e0rpQlGGGE0cqZzA8lVwBkfTSikMho5Y9cAI03k5v88GTG5RG3TuYFf3OuSPehyufYAAAAASUVORK5CYII="},29070:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAbhJREFUWIXVlrFLw0AUh7+Kg4PoP6CDgyCiRlysUNBBZwexCF1crKOii5soDk5il4JOOghiwUGwHbooOIfWghUEl7q4CIJQJ+OQvtKcvSaZcn5j7t1Lft+9pok5jkOUdEV6dyA2MTAWdo+fsliYZpEb6C6nk4EKrdMrB6Bcq3iu370+AvBUqgFwsrHj1qWTgUxEb4B8vmOB9fblAKxnDgEozE8DUH3vAyCV+AKg/vJDa50lJgZ6O5owwIAGNflS8QAA26fh9+4xrfv8TJhnQJLLtB+NL7gLiXCNxRg+JswxoCaXaYe+jg3sxvTrGMruA/qZMMeAkL2+BWBp2H226nv7jVuVoqdekur4fHhue908AzrUs5bko5ODANR96nWYZ0AS2dnOCeSNN7fmtigo61ONGRIT/YkRdyHnrTPHgPwurdmUA5C5v3AXFreBv4mEws1H28ZSV5pwvzcuN3Y89xHMMSCoJlaWVwGwH69CNW4mz515+qqYZ0BomsidOQAzjZmop9c8deps9OxtAnCuOXOVyA3EnHg8UKH6hSSo73i/M1f5PwYEMaEjaHIhcgOB/w2FsAn9iNzALx7dqUdTW6StAAAAAElFTkSuQmCC"},55730:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAWBJREFUWIVj/LOjg4EUYJSy5D8++XNzYhhJMY+JJNtpAFiIVQjzeXmAAwMDAwODgCYfivyH659Q1BEbEoM/BGA+aq/0Y2BgYGBwV4b4nFlWCkXdX+VnUJYDij5CITF4QwA9zr0cNFDk/z5+hsLfeReSBmBpo5zIkBi8IQAD6Kkdl8/RwaEXv4hywOALAfS4h6V6Yn2ODmDm4EoLgy8EYAAW97D8DgsBQj6HlYgwQCgtDJ4QQI97cgEuH+NKC4MnBGAAPd8TC9DjHh3gCpnBFwLogNjUD/OhnQQbCp8QGHwhAItLYtPCpv1vGBgYED7HBWDyx9HEBzwEGNFbxegtIFwAV6rHFffHTxxjYGAYSnUBrrRAqs9xxT0MDHgIYKQBGIClBUsLKwYGBtypnJDPOzccYGBgGMRtQsatU6vwKqhs34QSEoQAus/bK/0Gd7+AUU9Gh1i1eHvF2MwmRtGAhwAANTWcjIJKzFUAAAAASUVORK5CYII="},86612:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAURJREFUWIXtlz1uwkAQRp9R0qEIKQ0FR4iw0nEA7kHhY6RGdOlSpvBVqGki5QgI0SBR0CHZKcwIez3jn1DsIjHdrNbr/d5+s2NH08kbPmPg9e2PDQBPNzybO3n0n0XugoAojcr5z8dvkaUzAOLtSZ1HCxnvBKKGe6BQOhkCEG9PaLnE9+AZgCQ7W/NUEt4JaB6onHG8LAiJQlEk+frlFYDkuG+cl2Rn1RPeCZQ9oJ75YjQGIL0opO5yddwiKB6R+UERkMjB3nGPyKGRIBAAgXIVVM5us3oHKp7odLPheGmzOxSjVxKVdYIiAMDn1xyANLvU9c58tlM3FA8tjEW8EzCrwHVvrSfUuyFQr57gq6C1G7oKlPtBHW9TLhE0AQn1ZhSFEqK0q3KJuyAgYX3zYYx36h3eCfT5L3AVWQp7dU3vBB4b+AMRWokV6SCACwAAAABJRU5ErkJggg=="},72815:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAVZJREFUWIXtlzFLw1AQx38RwQ+gbiJuQpGSxa0g2MnqIji7O+jgop2Kk5uDDvkSrjZbJzeX4lBwk65tP4BTHZq/ktD3khbh3eB/SXLcXd797vLCi07iA0JqJejbgdWqjsPxZLpI4u2N9aiKn30Cqvz+4g2A0UfX67+52wKgnexPoZyEXQKq/PrwDoCj2hcAcdLxJuyfNgEYZXEPvY6XhF0CknqaDmbP/adXAOLLRs5P9nSwlouj5ydmj4Cr96pMV1UsyS4prmwW7BGQfnpIVkn2/T+/PwKQOOLO6lezm1ozn8cxC3YJFHuvyofjiTeh/H4J+mWHQHH6pbK93yXFnZfsjHYISMXpr9p7SX6KEwHX12CPgKb/r6W87YLdHgGpuLcvK+VxkQ1O4H8BzhlYdgd05UmZ/28ITiC6bdzkDN3Pl7knoNbOcaWTzqJ5whOob+0FXUBwAt8UQYTFgKBCigAAAABJRU5ErkJggg=="},28776:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAUFJREFUWIXVljFKA0EUhr8NgqUQSGcRbJQgllbmAG6O4BXsLExSbZXY7AWEIHgBqySVVToPIFaiF7AXFC3cH9nZHXYyEZz5yn1vdvn/ffPeS4Ynl2zC4mX+5ZKXdgdJ3fPWRl//A7Z8D0p52h0AMLkYAXB7dw9AZz8FYLXMzPySE/E5YCrvn2YAjPOslPf0/FCKs6ycTyAmB0zl09UVAKP+UPH6g4Xyg73j2veF74CrcrO6XftD+A6si60/jPOp4hTxwG+BTYnt3/vWSrgOuOKrXMTjgKackGLRVCM24nFA870y5Qo0DV2Vi3AdMO+3ppqUa9MR6yoX4Trgiq9yEa4Dtt2vfXYOwKSX/yTmlfzIa8CmXFx/fALw9rgN/HZAXyfCc6Dp/t+87gAw670D9k3HlX93IDnaPWzKcdpugTj7wDcFBK3PJYyT3QAAAABJRU5ErkJggg=="},91622:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAUdJREFUWIXtlrFOwlAUhr8SEt2Y2BiIiw7GDTcW2MqiPgDMrk7WBZzYWByc4QGUBZhk0QkWjImJmwkjk09QBjw1vem9pSy3NfzbbZtzTr+e8/c4Z6VTbCpnNfu+ACBvuOcnjOXsUkAqCfgAbrkBwMnROQDNy3pkgMHzCwC9aVuIJSJhnYAT4QM+wOLhbfPARQGAfuvJGKh47ALgPVaC2NsUYJ2Adgrkzf3hDwCt/hUQTyKprBPQ9sD78mNz+CWgSrpfJD2w+hoD0Ju2gxymAqwTMDmhUeILk88DANy7QwC86ixRnPQS0H17nbzqbeh8U7sH4h3SOoGoKRAZp0E3Ba+TTuj6+HsU5IpKkmoCotBe0L2eA3/zrkocU3pC/qY6X8gEAVVbEVF7QtcLmSSgykgkbk/4FwRU6bbpdPrAzn9Dg7K1Fe8LWANa7FyVI5XZeAAAAABJRU5ErkJggg=="},32326:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAOpJREFUWIVj/P//P8NAAqYBtX3UAaMOYGBgYCFXo76sLkr2ufj4MiM55gy9EID5/FLDXqzipIbEgIcAI7ElIbrP7U6eR5HneHKQgYGBgeHF5c0MDAzEh8SAhwDBNIAUtwwMDAwM9mk7GRgYED6GgR8y9gwMDAwMEpj68IbE4A0B9DhH9/mu4AIGBgZEWjhkbgjhQ/UTGxKDNwQIAZjP4WkBGgKkgqEbAgdnuTMwMDAwMM4lz+cwMOAhQLAkJFQCogNSS8TBHwIwAAsJCV1fvOqGXF1AdAjAAHpLCB0M3/YArcCAh8CoA0YdAAAluWLyEGfo2QAAAABJRU5ErkJggg=="},38553:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAQ9JREFUWIXtlT0KwjAYQF9EcLBu4ubs5N8RxEVn8QTiDXoAD+ANPIKz2EWcnQSdvIOb7nFIIrT0x4qYBvqmNPma5nv9kojeYIZNKla/Xi6gXABQ/dlM95sMPTc74pPXHDQQzVRzWR0AkIsWAP12V8VlmHDIgM78MJ0DcN4GoWF/NQZAoEwsgysAp0m6CQcMRDIf77eq3wuHjWRTNbSJja6JXsb01g2IxNtQZ75+NgDwvYfqT6pqHW9MHMU9PV5j3UBmDQznE9Uw//7HFN/Ae7976XHfUmADunp9IruB+Lsgb/UbCmzAkGBiV6+FwvJmbnDAgCFiAh6x43lxyIDhy0yTsG6gXICQMvZg+xvWDbwAiOpLDt8BcQ0AAAAASUVORK5CYII="},22071:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEX///8jMJ0QWKgUsvoEjfkdGilhIz7/8bG7Z0n/uTX////hqLpHAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAhUlEQVQoz5XPUQ0EMQgEUCyMhbGABSxgAQtnoRbW7Q3b+9q2m9x8NOGlBWr2TwC8AugR+QKlmqgz1Gd0fdUOSCRj6EXafeEJjADDNRNz6BM07a598ABQM3X0cdURPLSVDoC5BTVkaTnVvdoKlvT++FxuC5LeqzOfrGAp6vBXr9A0Y0d4yxdCFkbLzPunxAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},47464:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAYJJREFUWIXtlrFLw0AUh79oBwMOOnUwg5tLKCilUvwD3FwcHARBKo6Kgw4OHTp0UEF0cBCLIDi4OLi5ilKciujibBc3B6EFW+LQPuLFxKR1uBv6m+4ud+/e+/Lu7lkZx0WnhrTuDqSk0U7bWhwwh0CvGn5veD/77bRt9WPHPALByKLUmHaUvl2rJ1oXJGUOAYl8+XAJgLOLBwD2N+aVBeX7l06j8qiMjxRmAVh0JwGYGhsF4PXjU5l3uXXlgU/CCAIeQOm8APz2WCTj1eIpAHnWle93uycAHN3s/bmh5I7kjBEEetLBdRnwSXy1WkB85FEyl8D4zETo+ObCDgD5UrIckNO0tjIXak87ASvjuB742SmRN7vnXMajIoiS3APF1YpiR2TX6oABBFKABf65bHY9+6+2j28BkCrDDtg15yZ8ensGwM3mlFcq6auYVFH1gnYCAwcsz+v8ajebC50guRA8x3GSrI+rFbUTiH0NJYKkNV9wXZzMJyDqt+6Pk3YCAwe+AVfpcvvcDdEOAAAAAElFTkSuQmCC"},77909:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAdpJREFUWIXVlztIA0EURU9UxIhosImFhSISRBsVsTBg5wcljWVACy2stBICFmIhBAQFK0GbCCltgiDaCdpqYRGCrUq2UIMEgxA/xexDdsxmoyBObjPs7GWy7+ybO1lf7+AQP1GtVfioxPcW9Psq8dX86Nf/QHVeBr3iuUBbRQsnrOwHeJMwl4BUHg81OuZjmWxFC59ONwEwdpQvS8I8AlK5vOvJiGZJqSGWeSm5oFR+efMOfBGMZV5KkjCPgJusdA6AyUirmkiV9knlA92qtuS5IhIPqfs6iX8n4HNLQr0XouE8AMGegMMnZPT549Sj41p6pvp6YLfTttjvkvOi4340rEadhPTK1p74S+8a8wmIimujAOwfXACwMDsCQHL9zGnUCHmpegi4qWt7CoBMTu2SUED1ysrOCQD+q1vA4LPAMwcK/e2/Wrj+/kHWAQwm4NoD8sT+q1vH/wLJeMl8UdpqBqAn+KyuX1sASFAo+wDmEpAeaJgfBuC6rwOAZcmBRZUD0vVFexdMzKwq/+EGAAXbLyTNPwv0ymfsyqVSSUBJRNHm0rga7crF7yXzCIieLu8ACIX7gO9JJ5Kkk+QTEuL30r8T+HUS6hnv5q/es0Dk9jXsVpHuN/7b8BMD/bpus6rYDwAAAABJRU5ErkJggg=="},66927:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAWtJREFUWIXtlqFOA0EQhv8lQEgNukkliJK2m5DAG/AEZ8CAwKNRFSgUom/QGjA8AW+AIFwgVIBHYwgpooi5f8vN3d5d1a7oby53O7M3/7czlzODTg8htRb07QDWJ20TtIDwBPSD08/5vCxw0jamar1pHNepeAiwYl9PcD29fK3c0F73Gu1DEsEJmEEnX7G9eZGVNIuYbsn1+EfWT6q/G+ltRuguy+tKHqxckvN9AMDH9wxABAQKU+Aqz5Q+7gIAbFfI0KEm4ZynKg/v8mBaXkBwAub5oA9g0Z07rc1cwP3RG4B/js6yHrFqJzofy372UJwnD3u5MJ59PFNAAtSyJJKRdPVw+zcXf/W1kbvXzqngBIpToETnPEtHYtwvjadznedT/AR45nWOnPOLJ8nzENIKTqAwBZSeBt3lnHM3FeqeRHzdT8VLgPJ9F+pU55wKTqB2Chb/eLPKf0FfXp3iJ0A1dbSsghNYFbAq4A9JjpEkTNFVYQAAAABJRU5ErkJggg=="},31314:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAV5JREFUWIXtl69Pw0AUxz8lw+E2uwk0YwjMCAlD4EAREiR/AEFs4W9AkC4I/pNKBAhCDYYfGpJhN4ckGaL9Qnq5a7sgriT9qua9u3fvffrueg32N3bwqSWvq9cJ1AkADdMwmc7mtoGdVjPI85cdJ79UHQLKuNNqWgfK//Txkhuw1+6WiiMS/gkoo+OjEwDOwyEA9+9JpfH1DQDReARAr93NDShCF8PQGi88PAN+SfgnYBquohiAzbUV6wRVaJKQ/e7teaF43gkE+hq6dsHW7gEA/dM9AAar69ZAZuXqnYfbKGOfTGek61RkF+jBeYKlFYjA1zzrbgSZg+1HqlwVm+tI1SEguUjonW6HSfdrX5s9oXGuuKaqR8Al9cDlaJyxx2QrXh70kwej+136PwQkkZAeXz//lIB3AkHRf0HRPSFnHuk8+0GRyjuBwh4oexd0zStS9QlIZStaVN4J1Al8A2MIhUvX74AJAAAAAElFTkSuQmCC"},77129:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAfBJREFUWIXNlz1IA0EQhb/zD7QTDAhaCiKIClqkSGGphVWIiIVVQFBQwUItBMFCLQQVUghWFiJKKgtbCwsLQbSwshWECHYRFNHibi7ZOTcnJpB9TW7mdie7b9/szHlzQ32U4/q18bvcTnV8eVSBuHgN1QSvBZrkQVaa6vgC4KXYGvg/xO+Vj7NBj+tpawGgs+1d/48HDjDgDXT3fwPc72aNF+n1Y8N+Kn4AJYZsuH5tBEo7F+Q3Zwx7cPkIcICBUANMLgLwmdsAID2QACD/UABgJdkFwM7Nc8WAMk7mSRwdX1B3BkIN2M42tzbrPwQ7OMmMVQw4nRk3xqd7h4FSFghEK3VnoMmW3xFGzvYByIwmAWhOtBuvPwtvv44XyI7L4rtxD4RZYGPi5PzSmBBRd4xfw91aYINWdSbI41ADMf58kAU2uM9ACKXqf/sV3Geg1lmgUXcGPOkJdUckNWB+69C37x6BUjXTag/98/6v1IDThQkApg4uAKOvcOMmjFRD2amoWO74paMzY6L0jDboDkhXR2HCHQZuV9NA9GxlxZEdCYJxOu+1djSjI9t5wCUGRAN72Ukgqlrp9aQf0Di/ujFs6R3j4tadgUhHpFeooTsh0cB0wj9jfXNKJyRZ9FT0bXfuAdvX8V+/BeOg4zjXEf0AGh3oMGT6XVoAAAAASUVORK5CYII="},43992:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAcVJREFUWIXVli1LBFEUhp/1C1xQWFjBoKYtgqj4AYIG/4BpEfwBFg0iWiwaTBaLxbLJJMoms2BQMFi0WDaZBBcWywrrxxrG1/Ee5o4fZcY3zdxz5s68z7lz7s0M9w2RpFoSfTvQNpN/dQbOq63NqMSZ/GsmLv7TPMWl5AnoQl98vbsYmTiyXmoCXG0UYyec2Cn/aB6RSJ6Adf78UHMSFvZO+BofWS/FTqi84uYBAIcrcwAcn10CUMh2AHBebTQhDQTsgL70onL3MdIJhGR8JHwEffNJiRPILI8OAuFfoBpZFYd7AJifnQKgvSfnxOV8tXQEwH3ddSpV6g0gTX+BLsIO1nA6mCWimorE29IWAGvj0XuKHNv3SOkhIPl6efnmAQjXgpy37G87z/tqb51L6SPgk5yLRHlw0mQEznuzT4CfhNX/ISCJhBR2uL8p/QQW+4OUsfxjZDxX64ocv33pBqBSv4+dP30E7J5QywU9/7QaxFVzu8q1+qcLA8H9x1ZRuHH3//R2QutcjiTr3PZ4u88rvzfrxi2J9BCwUi19zm0t5UydMnQer8QJfJ6IJN/JyOfc6rfPJ04g5jzgnoy+c/7X5xMn8A7l8tU1wYhexQAAAABJRU5ErkJggg=="},18761:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAfpJREFUWIXVl79LW1EUxz/RIiSDIKTgEJxSSiA8i60g1MG54PQshQ6dujRgB7N0qYNdstTVJYsOUij5F4pDhII/oFJwaKZOSgLpZPEVjUPyzfXevCRih/fyXV7uOYfz3vf7zv3el4SXyRMlxiK9O/BgMX1lBaqN8VZY4WL6KjEof9c65YXoFdAPPfGPz29DC2eL5RbA4Qd/YMNnpcqd+kiJyBVIeJl8KLPrd+sAvM7NA1D59AaA2WJ5YEMx9z/uAPDl/bLVb+1pe9dVG+NADBTozsDXve9WYr8sf0gC8K/eBAxDVwnFVef2Nf1sxEeBykndSvjejBUXk5dLC0DvlF+urALmHUs54ezCXkMAxECBROFJDuh1rmxqwir0vYfWWkq40y24jGsXgbWOjQ90Z8D16GojaIFRQrMgJcR8bGvDatiPudtfiI8Cw7B7egDccsbO1SAZWjcMo6NA5dULwDDUer/2G4DNo59Afx/oh8gV6PqAC/lC6XEKgLlH4c96/Os6NH56PgnA9p8zYJR2gZhr/zenpgAofLN9QO/ehXzA99rnffZkotM3sL6EhPgo4DKfTv21CrU2jtg+LaWEYW4rNJ1Sh2TnPkG8vgn7+sDzbDhDQXHVSRldDfPBiFyBHh9wZ0Fwz/P75uO7CwTz3y5ohcWF/80LkStwA7hL33a7uQJYAAAAAElFTkSuQmCC"},30868:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAc5JREFUWIXtl7FLw0AUh7+ooKBCXUwH0VlQiyC6tboUBF26OAr5CxwcHB0FHQT3QkfnFgqCQ90UQbRCZ6Wg7dKCFqog55Be7V2TNAWhJ/hbmrzfvXt5H9fcxVqaWaBPiR6+1c9kQ/1W/22NBHienV5sTQBgz0eUeKVUByCZe/cj5EnGSAIC4OHwUgnGr+8AsFNnAMScJ8W/T88BEH3aAKA5k1D8en5fklFIDJyA1fEv8Oxcl2jsuhfzw6pR+gIg8bgXmF/P77drgwEEutaAmHUAsJ7TngnWeMa9eFbj8ce7wEKFhVMAYnk1bh6B9YNPAMSRo8T9iPhJdtyeN/PlOc48AqP2CgDrB7cAnK++ASBSjj5UVUPtUL4Zd24mA9OMICAAIpsnADRbxljrN5nLAjDVoxNdteq7mzft5kmyUdv1X4tZAYYQAOBqbVkxkuWCci87CK1qVrnV9waKrm8OgbDq6qSlMY1YWA2cQNduqCu6uA38dK6vFXlOkAQ+KreKX6u++NYGAwh0rgH9zCbAv3NdeuceMvNM+P8APd8Dcl+3yPQ1sdxFk7ngcQMnYIX4NhTwc+73VUk9D8SOy+0aQWl/goBUr6/irrnDDBo4gW9bXHf2s24bKAAAAABJRU5ErkJggg=="},28284:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAdlJREFUWIXNlr1LglEUxn9GDkJEUENDtQsSDjVYQa1CNBUIDYVQEEHSx9Jf4GIF0hyVS1QQuDTUIEFJS0MgDi1RS4JBQ2AQZMN9j+nN61fB+z6Lcu9z7nnPc8+557gG+3w0iWKdfVczh7U16/2/0T7Q090Q8Sn/WgSoxy/jNaSE/QrUI0hEoZl5AI5O9mvyy3gNKeE8BSRigUQULpyqBYMSwvPfH+u8ivN0RZyjgH7Xgs3tdQBiyQAA/vgqAOHJDgDuHr4U0Yo8eHkLQCZ5A0BIc6jnhv0K6JFLxNG1raoGEmFuKVCxnlnZUfsGR3KuQJSwXwH5455QEcWsuzNB9iPxKwA8z1kAPncvFGFqpKad+MGqIucosKF9eTSVrmogPMmBglUFbisHTNDPTyyrX+coUO/udV6rOaDDOQpEgsMAXFsRpVPVDVrNgSGfejlH+70AJKx12xVwTfrHgd9dUDDX1QvA7Ng78PP2ew/PAHj8yANQWFyosMvmOgE4eHup6tgxvaCkgA5TdzRB5oU9z3TFuswNpsnIdgWME5HeHaWO9SqQnEhYVRA+V/xEUHVTmQdMM6LzFPgrShOSaTDQYLsCLVeBaSo28RxbBUYFBKYXUo+oUZ4O2xX4BhCDyhukQx8sAAAAAElFTkSuQmCC"},69629:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAcBJREFUWIXtlzFLw0AUx38RpU5SBa3Fbk6CioLiVp26WEXwI7i3CsGSzUEoBaXq9xCkVQqCoN0ERbGDk5vQ2kGLk8UhDu3VXJo2iQiJ4H9J7t3l3b1f7r1LlOnIJC6l2/Qrbpz1uJ39t9XrYIwUcWptCYDgxIA0qPb4DkDm5NJMqCsRXxPQAR52LiTj8NApAGoiK9n3jrYACNbjkr1WUAURSxKeE1AsssAycqGz+iEAfeFxyf5ZfgIgcx+1fK5WUFtzGu2eE3CSBZKWA8nGzWvjEr2+a/aM/WgBviKgA4xOrQAQbEbW/3wFwPn6pivHyu0+AIHQHEa/lVJeygpfEQDgI7IotSulPACxZtuOhIj8rVoGYDTUfQG+IKDDdyXbLVgPrL/cABA7PrC0O1VaWwVAS+d08AkBBUBNZCUSorJpTSJiN5v3QNSULS1VG3snGZePAC2dE7f+ywKJhNDgSBhozw47iecMEUvzCPmKgJBYoQ6Gd78w68hhl6zw5/eA7Wno9N27rQdCnhP4X4DtHkjNFAEo4iwLhLY35gHLOiDJcwJWX8VmSWdEJ4mzQ8hc8zvpTxAQsvsrbvPtZJDnBL4Ay3N4LDNEiNwAAAAASUVORK5CYII="},89755:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAQdJREFUWIXtlzEOgjAUhlvj4OARZHOEdGXwDl7DxCMw9w5ewzt4gUZHNz2COw6vf2OLDW2XBwn/0tBHof/3fgjI/rwRnFqx3n3ZgBBiXbpQXff977E5PmXJdeZHAM5N9/DndU3zmSTYCcjU98DAeW0LB4qCqhrv/FQS7ARGM5DqvDQT7ASiGYg6DwXjhZlgJzDIwFjPnW7ybz03E9Mj4HSyjuH0QqPSZNm8grodTWfXh+S0nwloegTQI1U11DM4FXBIvXW9DknEMjGbpwBKJTFQonNougSgMRKu95nOIXYCsm/brAXq/bEk7v48nO+2c/siyiQAgQSU6xxiJ1D8X1DqOBQ7gWUDX6WZfJz1h1tzAAAAAElFTkSuQmCC"},27701:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAdRJREFUWIXd10trE1EcBfDfqFhfG18LQQRbBBfFTTfiThcKIoKCH8C1ry/iwn4CCb5wJzauLW4r4qNCA1VaSBqxUVPSmLpIxsXNGBMTsbah05zNZe49/ztzzvnPXCY6cXhUnxD3mI9+v9jSr7v/K7at415tiu9e2NuxGpavPisnvIgBcSDmT8WZ55+7km8d3wfGZyoxA+JAEyHazGQJjGTPgNtzu8Cl61kwW9rd5FewyR1oyz4zuQiOTpxGS/n290vg0dgxcOjFXFI/KG9B8/1OxvH5kPGO6W+gPPUJDFcDrdZRvikdaPvivf5Qb1u8eG0CrcxHlsP891fzCSVdZ0G0itMwhqkHDXDz/k5QyIUuvzx0EMyW9rQVZReLv+7VbdMNd2DVPdCY/gryuaB0YeUAuPOx0mRUOku6Kk+Qagfauv3k+SFw5XFQ/mT0Bxh7upxQ/qq0F1LpQAwvH4aLG/eC8vxM6PYk89KbrU360poeIJUOgPq7cK7nc+HbXqgF5Y1iyPxci/pf2SdIlQMxnOrZ7dWEtybFnUiFAzEcGV4B+VwYC81u//I2ManclwdIhQMgX9sPoihEXF8I3X62xV3X7BOkwoEIGsVq599sXxR3YsMd+AmOw4X8WjIeZwAAAABJRU5ErkJggg=="},7744:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAYVJREFUWIXl1r1KXEEYxvHfRrEIgtoEhQQLEZvVFAm4Bg0BwcoifQoJhHgJ5hK8BSUQ9g5SWAUEQYkKWrhaWEXEwmAjASsxjMXZWXYWoonofuVphvPOzJnz/N8z70xu7GlenRXKbQ4e1Xv1WnXWca0ASxvjYH5yO/CfEEicFwY/l8OjaFMCofrhxdpLsHz1GxRqBrcVgQAThVdgaeoSlI57wPvBX2Dr+EMyqS0IBFh4+wa8G77IovnU+cfODjA/uR3ntX4lTHJecV7Wbc6jWpJAgL4nA+B1f1cWXc+aza3v4Et+GuzOrcZ5ifOohhPI3eE+kOT+8McROD87rbyzepw/OI9qOIF/+QcCzPX2g2I511WqdXqj86iWIBDg22w3mFn5GeN/5fA2NSWB5DxfHHkMZlYqle5enEc1FYFkf8cK9+nrWuy/V+dRTUEgQKmY1e7SQXaKHRaP6vIBTUEAbA5lf/mE7CZzfrYTux4k91ENJ5ALIdv2z5+NJvt/72T/QZ1HNZzANXoqWGKKBRQ5AAAAAElFTkSuQmCC"},21856:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAN5JREFUWIXtljEKwjAUhr+K1+jiKNR6BHc3QXB0E1yKW08gDi4uQjdHQXBz9wrq7uJB6vTAlIamcWgC+ba8JPR/H0lotN3s6ZJep18PAUIAoN92w/lyKn/Hi/ky+ieAPwak89Vhp9SLLC/B3oT7BqqdD8exMi91WxPuGtB1PhmMatfbmnDXgLCeTQG4v58AHK83AIosB+DxeSnr25pw14AkT+OkBH2naZxQNy9j2a8z4a4BwdSELe4bEJpMyC2Rd0LOhr+3QEeTCdPOBf8MCFUT1bop/hoQvP8nDAFCgC/gvFrJkEsIHwAAAABJRU5ErkJggg=="},56096:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAVxJREFUWIXdlTFLw0AYhp9IRwfHDukiuEibipubi5ObUCg4tJsgYnEo5AeICIrgImRrB0EQ3MQ/0FlwquIfsFu7OBoH+1F73HGJNOTisyS5JJc875fv4gV+lYyJDeMewFLWT7dRajbamUx8d9+LAQ6uz7Xno04YgwsJLHpCm/nh3i4AUScE/lMCJvPJ4BWAraMd7X3FTyCp+fZqAEC9UgOg2Wg7sg7YLhBDeWN1XDVf36j87Ey3JnPB3QTE8KXrA1C/6M2t6UbzKTZzwb0EVPPRcMzvY46fALh5eARmX3vSmqu4l4ARg7mtz20UJ4FFmwvuJSAG0vetlTIA+5wCMOxGwMz8qqb/yyUl9wS8s5PLuQHTOvD8/gXA5pr+nW8HywD0xx9AEbvAZh6+fQLQGpW1E6U1F3JPwAv8qtbcVFNJSiWtueBOAtLvwl9rmpbcEyiJYV+pbdbmQu4JfAOCF5wGKaWHogAAAABJRU5ErkJggg=="},66164:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAUBJREFUWIXdl6FOw1AUhr8SBCSIPcDmkC17gVn0HgFLAkE0QaFrUUvQiAWNwsyQ9AWaLMHMYcDNgSvi3HNhGzcj2212ymeae9vc9vt7zk2bnHRTGqZeGic/B3tN330dSX1x0MjC/cfjGqC6mS7OF5J4NZwlYCCB/dgLrphriQ1cKRTZwvX/J4F15v2emOu7V9qfwIr51HXV+YecD5gr7U0g+M7/aK7YTUANFTXZtNpD2EvAGw5nMpF+ynyRblXtIewl4BmJGZeHwC/mo+3MFXsJ+GrvZTXAWWcAQE4pF0QyV+wl4LvgugvA+8scgNtnl0QpwtWr73vtmpbXQMh8XB4BcD9/AyCP/AB2EvBcPQEwzk6Bb/Pqwe0DG+75IQwm4MjvJnLUicjmip0ElndA7XMltrmy8wSC/4ahL6LY7DyBL5yvjbnR6ZP9AAAAAElFTkSuQmCC"},2274:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAVBJREFUWIXdlb1Lw0AYh5+Ik5OjQ7o4So3iJji4OLkJhUIHuxVELA6F/AEiBUVwEYKL3QTRTfoPdBaKQxVHl7pVECcxDual9Gw4tHfk4rPk8y75Pe99eIFfxDJxyn0PYMr213VMl0tVKx1fXl3EALXT5tjnUT2MwQUDpjvUJd/Z2gQgqofAfzKQlvy18wDA6u7G2Hb5N5CWfGG58H2SHNfnAwCWCosAlEtVR9aBvzbU1VyXXMifgUlrrpIfA6ZqruKeAUmq0n2+B+Ds5hb4ucL9NrngjgFJ3m34o2/stQHzyQV3DAgn5x8AVNbeALi2lFxwx4AkaMks6MwBUOEAgF4jAswlF9wxILNgezZJnoyBu6dPAFaOagC0k2tTZG9Anf8vvQEwTB4+vgPQZMbKD2RuwAv84kjthdagDwxHubpHTDr6hewNHO4fA/YS6sjcwBd6YI/1cZtSnwAAAABJRU5ErkJggg=="},87632:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAXtJREFUWIXVlz9Lw0AYh59Kv4NLsziJ2KYfwcGluCmCo4sWXEREqF9ABEXQQXHrKApu7g5CN7EV/INQhE5uuuhmHMybctecuUQl198SLv/a57l73yOFrbVdsuTkrBnEnV+YXyykec9Ipl//wxTTPiDk7d4tAIfnF8r149VGAPYmhsdAErmkvr8N9E1ITEbcN2BLPlH1lHF7o6SM/Z1m7Npw10BW8rubHgCt52kAqp3TH/+AewZM5CuzM8p9l92OMhbyt6sHADb31sPnxwGoh/fpfcI9A3qE3PfKynnd0CC5umZkreh9wj0DMje+V47tZNEueFADYO7+FYDRoxZgrhaJXjXuGZDoHSuqjrDDvYTk10+fANQM79GJp8YqythdA5Ik8sbj+/cxrBKpDr1PCLlUk/t9wJZ8oDq0mMgl7hnISq7PfRK5xB0DaclNsSWX5G6gUClNBtDfpaRzfSwvAfbkehUMzXdBZEBWscR2Dn+b3A0Uk/b//07uBr4AChbaSMyK1lUAAAAASUVORK5CYII="},13997:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAASxJREFUWIVj/J/NwTCQgGlAbR91AAMDAwu1DdTfqPIfmX/R/w4jPvXDJwRgPr9YKoMq3s0AEccREkM/BOA+r74CEbhyh4GBgYFh+w09ovQPeAgwklsSYvocas6U7xB6BmqU67fqMDAwYKaFoRcCpPqcQQdKQ5Wjh8SAhwDRuQA9n7+8yMPAwMDAID79OEQBus/RgQ524cEfAhg+v/6BgYGBgeHc7X8MDAwMDJ64NKL72AZWReiiCA94CODMBYR8XnHzG4r6i48vQxhH0NIC1Of6shCfD7pyACMNEOtzmE/Q6384IOBzGBg8IUCuzzHi3gZ7gOACAx8CpPocJ0CLcxgY9G1CRj0Znf8MDAwMHepcKBLE+pzUVjA6GPgQgJWElPqEXDB4QmCgwICHAADd1poA/aw6aAAAAABJRU5ErkJggg=="},57802:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAVBJREFUWIXVljFOw0AQRZ9RCor0NElH6bBtitwhbbhBJGokpNS5AXeAlooLIKVDsmSJINKFho4CARWmWI/BdqzNOoGxf2N7ZsfWf5pZb5CcHbKLzM1x8vs5Gq8Cn/qDnb6+B3XqForz6CrOx09DG9+ShDqBwLcHSs7jinXzEHCTaA+BzPl4ZQPhp73GhXqJS52DhDqB2lNQKSGSkohmtknMfPN0qBOoPwWuXhBJfmo3TNMfkNYH0EYCIm8SkzQ/ypNQJ+A9BZnz8x4ALw9dAI6mC7vgLm3y6+3ItodA2fkrAPdPXwBcSHev5XhQ2PhGDZ0CJwGn88d34MeR6Q/s+nWSf0/BuUidQOU+4Ou8ql7U2L9hiUDmfCYnHpu/XZ4Abue+agCB4RAA8/y20TmXHzYvXdzr7sW5SJ1AR8u5SJ9AdvfPzkXqBEpTIPpr5yJ1At/xjqiK7wkfVwAAAABJRU5ErkJggg=="},45457:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAATpJREFUWIXtlrFOwlAUhr8a3sGFLkyEBMsb6OQbkJC4sDE2hJjUF1ATjYkLho3RaMLG7mDiZgQTlZC4MLnJwigM9KRw9dICmt4a/q03p+35vp621zqunhNntmK9+6YBIPXbF7y+bY5nj0vFsrWo/v8YEPLOYXpu3TmbrutMJN+AkFcuTwE4uX8DoNC9iXR+cg2o5EOf/OiiBkC9lQWg4tc3XO/HWUiegXDy9lx9rmAzW6+aiN2AFfVvqL7nH6+fAGxfPQDfySViQPLyNACg4XqAAQZCZ0BH/tj/AsCz8wB0Bs9AYEIl38vsAODuHgAGzYDWQCh5bwQEJI6dn9b7Ju7eu0BA7vimzP8OLEuuSxi5xBwD65Krs6Cu62KOAcmqz1wStU5ijgHpfH/JXe26MceA5K+J1cRuYNPABP9amsp+HnS5AAAAAElFTkSuQmCC"},79606:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAZtJREFUWIXdlz9Lw0AYh5+I4h/EDyAdFf8QrKiIg1+gIOjgYOcuDo46iLPgR9BB0UEUdBEHQddO0oqFgoOORXRzcFAKicPdW3ppejVDTexvKbl73zTPc8mldaZSLm2O32TcAehq97e3Sncbz+0DHHb1hE7mvKoPHWrAIJ8b7lWjs48AFK4njOKOMmAlpzity76Npo4w4AOUUoPqSIjXvtTn1gIAhVdFnvOq0pf8fUB2MMc2X1p+UUdCvKjbNvqB5uSSRBpQZGdlANJZN2jCTp7XZUW19jnvk0C/kUQaUFECGkzUyN0m5Od9qr5iJ5ck18DN5TwAGfc+vGBdk+9rwLImvxqRCiu5JHYDjuUXkVrznbI5KuV6rSVRySWxG2j5LpB74eJgEoCju2PAIJZEIpfEbiDsHvAB9sYGAJgZVdf48OwBkFkNPBW6PZ2tned/3QP1BkLJT/PqPX/y8WY0Sp1EzKR3o5lIhAEf4HZJkcpaP70PAQZ5kMj6j+e3id1AbR/Y3hwHwF2pAFbyVuOREruBhqegfu4vLiB2Az8nYXWmCVaDGgAAAABJRU5ErkJggg=="},9557:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAQBJREFUWIVj/P//P8NAAqYBtZ2BgYFRT0ZnQB0w4CHAQgUzYImIEY2PDhixCQ7pEPjPwMDAcLFUhoGBgYFBv/sJhJ8WBpGtrYXQlpYQ+Sdf0EOKgYFhiIcAdgDzeXMzUcqHZAj8Z2BgYNjlw4NdFhrnMND3BabuC1blQzIEUMDL6x8YGBhQcgOaCrjPB2c5QEldgDctLD2CKr7wwwu4ncjiAx4CFOcCty2QOI4XkEBRhORjGBj6aQCrzxlw14JYfYwOBjwEiEkDhHyOi08UGNQhQKzPKQKDMgT+MzAg8rXbFuwlGLXAgIcAtnKArPxMLhjwEMCWBmjqY3Qw4CEw6gAAsPo+OLm+j6gAAAAASUVORK5CYII="},5215:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAARFJREFUWIXdl71qwlAARk+KQ98gi30BURso3Vx004dwd3ARCuIinbq5dOhaH8BVNyfBQRC7tEjHTtLFSXBRh/CVmjampuT3jJfA5RySD2I81weEQW/c3QO0KvfG9/OLUG4/QSboC2S+eJwAYDVLRyXSW8Bp7kb6Csj8oTEDYPRqn1dz21+fT08Bp7mQudUsAWncAb/mIrkF3MxrnUsArq9uAXdzkbwC3uYFwNtcJKeAzF/usgCs3soAmE9T4HxzEf8CP83XAMzfdwC0fZqL+BbwNF9uAP/mIn4FwjIX8SkQtrmIvIBRzOaPtv3mw164oM1F5AW+3oHP5RAAs29v+38X7q9EXsDQ37G+AhG0uYi8wAF4uIqMEKJ9jgAAAABJRU5ErkJggg=="},28174:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAU1JREFUWIXtlzFLw0AUx38pglA6OImD/QIFsQhumXRQR2dB5w5dCkI7iVOdujo4+Ql0qk5+gYLgohS/gOJSoRQKxXMoz3jnhTSS9pLqfwn3wru8/y/vLhdPKcV3rRfXmKVyM32aRZ5JQF2/A3DzuGhNeOu2Ey3AOYGFpCds3Z0oW7y2derZ4vNDQJw3Kx3r/cb5poKfJLJPIMr5XmkIQCMkP7sEwpzLPnG4vz3RPOknIN1rynQu75qS7rxc9YEs7gPi/OF4VYu3+1fa+OvbENO5KL0ERK2LEQAHfn8cKI4vYd0+qXORcwKR5wHphaOlFSAgsbxzq+XFdS5yTiByFZjO758/ANhgVxv/VukjUK762vp/feoBgdN6dwDAGflECkgfAZGsfygAcNl7AYIurxtnv7jdL3JOIHQfkF4QNSsdD/7Sf4E4nracE/gv4BN18H9Wg4/cmgAAAABJRU5ErkJggg=="},86743:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAZVJREFUWIXdl7FLw0AUh7+UiiIiIogOVUGQqtTWoRUE0UEXhQ7OguKo4t5MTqJTN+nk4FD8E1zEqZuCFIvgrIijSBGdziF5Ta8kKm1t2vyW414ul/t+73i8GPFIjBZJ2aNRHQy16uteCv/j3qp6crx7A4CZS2lOBNIBBTDWMwhAbGQBgLWZLwDMmsWBcsCVfGpiHoDLh27XlwLhwI/kQ9F1AMxcStYHpw4ogOJFCYD0zhLgkG9trAAwd+BOLupIByzyp3sA0pPLgJN7yflv5KKOckDPeQ255N7rtnupIxxQANsDI/a0pD0U8uz1oYT+RC5qawc08s3FshW1Ddgb/wQgUye5yHcHDJee0JU8X+gD4PztFXDqQGJ0trJXPQfw3YHqO6CRTw+/A5Av9AMOeUUFAW6sq24LBxTAWagLgOT+FQDZ01VAIxdkq6vVy0Hd8t0BIx6JWTU+Yt3y2xere02adwAkjvQcn0R7Acg8flT2aOQAvjsQxiZIPJe1P5miPQqxqFnkIt8dcKuEIuURbwq5yHcHvgGoPl470TotPQAAAABJRU5ErkJggg=="},19482:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAZJJREFUWIXllz1Lw1AUhp9oQTdBEB3s4iIIbZFaunTQ0U7SP6CTojgpxdbF0aEoiENRh+qg/oLGTRwKUvysDrW4FJyCi4OIBTUO6aUkNqbVShJ8l8s93HNz3yf35BApEVnCTrXZ+vRWHEAuZ1W5nFVtO8Bv5VF2lR8lXoyeqwCrs2cAJNMhFSB4MiI1s4/tBCQ2pppK8Kf0zo1KpkO6+U38eyK2E/A0utDo/LEkA7B+vALA9WYOgO5cWJc3E8mrYE7CPQSEhPOewSgAC9V4fngRgO23dwAyWS3ut9jPfQSMGui7A2rOpz3tAGTQ5oWHWwACXl/du+B+AvMHhwBszWm3P3y1BoA/FQFAfn4FzEm4j8BkcAcApZgCavV/tN+hLRiq6OJQqY6ddfdzPgHxBSzE+wFQik8AXN5/ADCe7gIgOiEy6jsNeH2Am6rAynmi9KKNVWdWck8vMHY9pTgGfHVu1ecblXMImPX73r1ToPauW+VcyDkEhKLLoo5jgHn9tkrOISAcim5ljP+VbCcg/fu/408giZFradK8TgAAAABJRU5ErkJggg=="},95458:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAATlJREFUWIXdlz9LQlEYh58juoS7y1W/QPZnc5M+RNAoODSGSGB7lEMETi0JLkHUR2hKhIZQ0KXCtcVNIYIS7m2QF7qnxKFzO+f6bPc9l3PP77kv9+Wqk+oZNklYfTqQjGrj69t28Ft9b7esvl9bN6CCYtHohpuvbwFA8/4KgNIwD0DvYAeAij8DYOClFThgILIeEBqdSwA+ktN54XMttG7dgLEekHe/32wAMO0+A3B0Xgvfly0Aq9QDknxw6AFwqiWXxIIkF+JrQE8+fpoAsDW6ma9n28DPxDrxM7AoeX/kA1B/eQeWJxfiY8B0csF9A1ElF9w1oH/bx3fHgLnkgnsGFk21zMUDAHVtmv0Vdwwsm+f6HDeFOwaE/0ouWDegHnPboULFn4X+aFqJVCTJBfsGNrx1qwewbuAL3KGJmgUT+DQAAAAASUVORK5CYII="},50982:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAATRJREFUWIXtk71KA0EURs/GFClSpDNFsA8kiiKkS6MoAdPkEQK+gYGUPoA+geA7qEWCnVaKoMgWQayCFmohqeySSTF70YwhPzgws5KvWe4w3L3n7N3guLCNyyScvn0xABCU99tWG/ZaB+pnnakcBZPuOzeQTL1eWWn0Fl4ogFI7BODk5gOA1cMtBZAtVseacG/grw2E/HIvDUA2Ii/fPgCQKlZH7pkm4mvgF/nmGfBNfl1aB2Bnyo7Fz4BJfv88AEDV6gAEnOp6RddrYRf4j3/Bcj4DwAY9fdDpA6DyEXl9MrkkPgbk2z82cgC8dzS57ECltgTMTi7x38A08ubTl37OSS7x18Cs5PMSm/HXgKR1/jlS2yKX+GtACJvRLpjntuKvAYltYjPODSwGSO6+3DkdwLmBIQ0ZcgVxQLVdAAAAAElFTkSuQmCC"},12693:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAVxJREFUWIXVlzEvBEEUgL8VNQolDY0TuSgRkes1IpEodRLNJRTOLzgNiUZsp5RcovMHRFC6XIJGtY1CQ6kZxXl7Zuzbjc3Kzn7V5r1JZt43b3Zng/rEHGUyVOrswHBKzijxoMgFeGnAAOyvNazg9esnAHf3t2KmEBNeGbAqH6uNWANX+Og/LCwBxZko3UDuBXSjHt2oB31z2on5vwUUxa9TIN0e77kTd9k+OQQgbLZyvTdKNxAkfAsMwOJ3t7ucdUIATi+vAJidnwTg8SFKHB82W/FcSXkvDQgGkE6PcStvTNWt+PvNszV+dHkG0E14bUAwMOh2rXIX14Rw0TmP54aKGBAsEzvrq1ZS64G3lycAxqdrgIcG0m5EqbR3jwA4ON4DBkbayt5rVNeA7K2Y0PJZlG7gL6dAMACbG1tAdqVa9wuVNCBYJjS0yoVKGxCy7oN+34hyvwd+UO3/gi8sQ2yvMZrJPgAAAABJRU5ErkJggg=="},55170:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAUpJREFUWIXVlzFqwzAUhj+Fli6B7iXQCwR3SKBroFNOEUyOkTlX6GZKT9EpULqVNEN7g0LJHshSAlEHS25lFMVyCpJ+8OKn96z/1+8nSWS9PiHRCfr1f5qAVE+wCZyEsxNyJcDgeQjAavSmVRA+RZJWAICHz0sAspb5SSogAT4e7wDIJgugvReCKyA8OmHd9VWNhnErgivg7QGH6wX8euCPR5yeSEIBY20ZLfR759rm1xsAVkeKR62AscP5djzLeKsXolRAArz3ugCI+S0Ay/wFgGnDwnL2Wuarv6HK3+8MJaJSwGDOuOS6zO8BGF5dAFCsy3CdyaF8OSsAqPpiDVEpYIVm7o0nxXz97RwWsQKKgcYxJigv3HxtJUDROTeC0/3OGKcRXAHbecDKQOMQEwvqd4V0dkMBxn9ujTdAGmdCVx/wuuG0RXAFfgBTd2E1lXl6SwAAAABJRU5ErkJggg=="},7181:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAYxJREFUWIXVlzFLw0AUgL+I4FYEV8VZUdHSQR3aLgVHF0HooFuLS0f/gKAgCt106yIUgoOb4KJFtEMQ1MVJEEFcHOxWlzikr/bOnE1pIec3JXdJ7t53790RZ258hjgZinV0YPiPPt/Q7gxyAlYa8AG2V7NKY+39C4Db+s1AzVhlQIl8dCqhPJimEVwsLgNw5B4DcPn8AEApk9fNRDJilYG+KJT3AJienwCiG7HPgGR7e821dhNb+zsAeG9NAMpXJ0p/hxHFROwGnJCzwAdYamW7jp792XxB6RcDQi0xBkDy7ACAUibfHhtsNnD/+hj6gilyNuoAeLsLoe+JiWZuBYCqWwEsMGDcByRSnV4j74aVBhz4qVvZ4aTOJWKKQVl7k8m+JmClAYXP6yego75ba50qDmYCVhtwAKpuJVjstU0AcqfBHi9rn3q5U+51pP5NWG0gFIko3fgAfpsQDmdzkb4Xu4Gws8CED7DeyoWRi/OeBtLPAGw+DbuhmIiKHrnwLw0Ipj8k41hhjbEb+Aaob3aGfFUJ1AAAAABJRU5ErkJggg=="},10092:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAYBJREFUWIXt1zFI3FAYwPFfpKPIdVa3UrkipbpoO5QOLi7qUnBUKDjqInV0Elc7lN7meHDQQRA3BxF1KhVFsEKXo+DWKp26pMOZSKI5NVzJKf1P4SXvve/9830vL8Hznn5F0lHo7HjU5F6Y0R60MoC2NBDC+4k3icat0z9gd28nMtMSE21lILHyUrkr8eBr542L4VdonYnCDeQOYL9+YL9+QMNcVsX8uwBaxZUqiLI9fuep9jQzK8ugMruQKycKNxBc8y0I4eVFtqf5VKuAj5/XwbMXveDoax1UZhfisW8TQFsaiAgRZXpMeuVn3zfB8a/foLNjALc30dYGIkIusz1r5X2lTrC0fQgmzsugWluN57pu8HthICJhorvrBIyPzIGnY6Pg8WB3otNNJgo30OxElCbgcsebfDsF5j80Vv5tbQMMLb4DP7/8aPR6Um466L0yEBFAtbYawvSFiSgH7krhBu5SBVkkciLNg9oHbiLXf0ThBvJUQRa5TseFG/gfwF+IbWg63IfGDAAAAABJRU5ErkJggg=="},96097:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAY9JREFUWIXVlzFLw0AYhp+IXbSDi1LQDlKLCBqxi3RUpFCQLu46FAdX/RMOTgo6dXBwFEEKQpXiUCguiq0gWOqSpcWlgw6iNA6XE09oewnC2Xe53N17l+97kvBdLHtiFpMaMHp3YHB3eshoAOYJJOLBYkjlX92f/cJq2Aqyj3kCJ6WwrwXHrYYLsDESUcZT+e9xXyTME9A1yszlV5POiKXNx5YwlCKKT5eEeQI7icmuBrtYdgHunSoAFyuLXf3SNx+dcwEqy8muJMwT0DVeP1cASF/dANDcSgJwW2sDsF29VHy66h8CS6GGuHBE6x6VAUh785ZTACA2PgPAsOa+/UOAO0e0C1EApt4dZTo2JjKvH5wBYGtu20cEpDwSdZweRj0ZJxA4ADeTxc1kzQXwV/L/DniyznPqwNNboH36iMCpqAGsiWoon7+1t6/6qg++Avj/BGQ9l+cCWesOP70z4a+M7WJZWddLxglYrG/6WiBJdJJu5lLmCfj9O84NhAB4iYeU8dHah9LPttV+Jxkn8AXOvmmTC0xCqwAAAABJRU5ErkJggg=="},23471:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAXZJREFUWIXtl79Lw0AUgL+I4FYEV8VZ8fdUHUoXNwdBCoKDbopLQRA7uOsggouYrW6FgJuL3Tpohw6WgP9AFhEc7OhyDtdLuNi0MUQuFb8p3CV37315Lz+shck5TDJidHdgtM+ciBi30gwgkwYEwMlmURtsvH4C8NR8VGZSMZEpA1rm4zM57cQCHXmQXwPSM2HcQOIA2p5L23NBmovqmN8LIC2+dYGqdv+eh8bD7F+dA2CXK4lqwrgBq8e7QACsdqs9zI1jA3B9dw/A7NIUAC/PHgB2ueKvHSeATBpQCEBVuk848+LDopy4zcv541MgvolMG1AICKo9KnN2mwC0zpYBqG/tAFBzqv5evRYfCgMKzcTh24YcPZDtfzm/DkCh865dNMiEcQP9vojCWBA88T5KFwCMdTM/cusAtKZXAGjkJmItOlQGFBZAzakKgO3SHhDUADEzVxg38JMuiEIzEeZPPQcGkeg/wriBJF0QRaKvY+MG/gP4AuvkZDZ1cJqjAAAAAElFTkSuQmCC"},61707:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/potionOfToughness.59ef441db20d63d37be0.png"},75333:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAX1JREFUWIXtl79Lw0AYhp+IQwcRRXCqsz8pjtXBulV0cREcXdSxo8U/QFw7KEaXTlIIuCl01EELLi0VqXMdRHBxUVzikF7CnU3ahsil4juFu9x33z15v7uLkUrOoVMDWmcHBgP6bJ92I8oEYknABthbX5Yab16+ALir3AoykZCIFQFp5SPTw9KLS7w7D+lFIDoS2gmETqDWrFNr1sEh51cxv5dAVPpRBcLt7jdX2lXtFg4BMHP5UJ7QTsBocxbYAAstt6s6sUwAji8uAZiZnwDgsdoEwMzl3djdJBBLAkI2IJzuSl35+UcKgLPKKwBHo/dA9yRiTUDIBs/tfivfTo8D8FQoA7Ay9ABAySq6c7UL3hcEhCQS1ck1AE5nnc7s6j4An8mMNKgTCe0Egm5EqgzwdrzNjQYA2cYbAOWrAwAyO44HEs/XzqipscCgfUVAyAAoWcUWiS3A80Cix2DaCfRSBX6SSKj6U/tAJ4X6j9BOIEwV+CnU7Vg7gf8EvgG402ipclQqtAAAAABJRU5ErkJggg=="},12397:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAYNJREFUWIXVlzFLw0AYQF+KoFMUipvirIi4COpgBbcuughO6ubY0dIfIK4uYjbtJBTMZJ1cHFR0sRaKLjoEROhWEMTlHNJLzTWXaokkeVP47sjd9+67y8WYGZsmTjKxjg4MhLQJTdyIcgKJNCAAdteWfcGr9y8Abm6vpZlITCTKgC/zkUnT13GJlvswvwhEZyJ2A31PoObUqTl1cM3pdsz/TSAqunaBrHZvzZW4ys7BPgBWodjXuRG7ASPgWyAAFtrVrnJUsQA4PDsHYGp2HIDGgxPY3yoUvbGC2hNpQCIAWekeaua5xwkALhqDADSfq77+H6tuXGci0QYkAjrVrstcRTXxln0F4LRy7I0NCTAQdh+QGNDZ59JELuMayJeGAKjufQLdmT+93AFgZkcDX54KA4GU7UsANlkBIF8aBuBk62/vSa8BubZlux2wg9t7EbuB35wDKgJgY30bgNZ9M7SzOedWv7r/Jak0IPGZ0KHLXJJqA5Je98Fk34j6Pgd+kO7/gm87jW1e5SQkFwAAAABJRU5ErkJggg=="},68585:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAVRJREFUWIXVly9uQkEQxr/XVFSiGgQeAyQoUFQ0gSI4BjfgAO8ACPzjCqiK1iCoKqoJcISaVlXiQMBHsgPDmyUhHT65O7ub+c2f3U36qw1iNH+pnl3QeF8mMfvdRZ1+Bd1bDel5oTsEAHw06sF8a/4V2FlJ+CdAjxbpFADQbz4CAMrCLsOOSAvDYF0eCb8EZMzpuSbOx5LwS4BitsuY5+nhe2ay80cgNvZU9vl7crxY7QX7ylzwR4DKi73mMTuiVX4IWGMvPW9PRqaDuK/MBT8EKGvdM9br0hOA/LrX5v0RsOroPSDmb7cTHuq42Tm54HDriWogEa0PMFewfA3G/RBgXbJOs71HWj/QSGj6exsE51B+CEgxlnzhXEpCiz3lj4DMBb7tSEITibH+6bkWe+rfCSQY/5w1qKXPwS1JaZ1Oer5Ip77/BUmtVLHaxn2jgdv4G24BruWMWrGkfGwAAAAASUVORK5CYII="},40289:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAQtJREFUWIVj/H91EcNAAqYBtX3UAaMOGHUAAwMDC7ka9d27/iPzL+4sYyTHnKEXAjCfJ0psQxP3+o9VAxpAD6kBDwHGF01hRCl0m3UNxef/f+yAGMDhgcIvXMmBou/l2i3o5jAwMDAw7ErTYmRgGAQhQDAN4PL5y1eHGRgYGBjExRhQ+BWOEH5hzk+IfLAPRB4tJGBg8IYAzOcXd5YxMDAwMPSHo/vcFj8fzefocQ8Dgy8EYD7flaaFIg5L3bA4hvkUBmD8jv2uED4Bn8PAgIcAvBxA9zksDgkBmE+JjXN0MOAhgDMX4Mq3hNQT63MYGPAQYETvF6DX86QCUtsFgy8E6A0GPARGHTDqAABwV3bv/MoK3AAAAABJRU5ErkJggg=="},31306:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAYlJREFUWIXlV7FKA0EQfSt26a1MdRIU4oGVxDKFgj9gZ5cqhQFrP0EwRRqDH2BhYyFokdJgJayCIqays0+9Fruzx8xlczEIt4evWXZ29m7e25m5W2WMQZlYKfXtAFbV7dVCjmn3gkmlBz31FwGUrwBunuY6pKOxAYDp5x0AYPL9Zu17p0slj263mHIRKBDAHObMTz+e843PX3z+MeXP7Q8NkCkRnwLEXA961nD/YEeXK6SIB60Tdur8eV2hWGVywMOdYXJ5xswTxzw52LdzlyPJ2hYAoLZxCCDPWCIeBfzZn3SsgbL3aBNAxpCyPMTcV8uCAcSjQBBU1wFFcsxdnyg6e0LECjRqdhSdzCvi6t3nxvU7c6OcIoQUiVCBl1c7Nna5nRQhiJ6f9odsrtstvk5VVr1OWATxPyGZY7tp7W4qlYhHAYrIR+giD+aEqI4Qc7+f5qMxc4tHgULIfkDMApBVQcyjqwKF487MBdnJCLmzzvylXzW+BSpdb/52T+g+sNRNqXwF/v3t+AcACZ3QlTp9CgAAAABJRU5ErkJggg=="},76498:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAcRJREFUWIXVl79LQlEUx78vHIOkqUGFhKCiLNyCwKYgooZWh6YQXIQg8E+IoOBBCdLU4FhQWUtDCYJbJEEGkUEutYSBY/Qa3jvKve/e9yOK+/xOcu65977vh3PORc0wDPjRTHTacUO9da/5OW/A1+3/oJDXRHJe34ow8fdGW5znkYRyAppbDfDOyfHt07cwPzlmelosdwC4k1BOwHMN7B1+AQA2N8IAgKUJM87XQKk6aP3qeDpXOQHXGiBRLayHRxzzjtpvAPqoCzzXACl5ugsAiMfiAIDyWYVNyOV9ndd/BMj5X0k5AWkX8K+eXikBsBNovjYBAA93LSZe5GpB1hXBI0DOZY5l4klMzkaZ/SujcwDsJJQT6HaBzHksZM32j4b4hGHzUYjFEwB6BPiaOH+pMfcQieAQIEmdW055FU4uHC8gErJaCh4BEjnLri2bAUkNZBcsZ0TIyivcmF3xWX0046sp4f7gEaB+pi8vcOtdRzZd/uoDlBPQrp/rTCCXSjPzoLZ/BQAYmh8XHkBEaJ0nlN7JAOhNQr1SCtYk1A6Oy8KFYi7PkOAnG4mf+bzIeUbfDuhrmIhMueX4+/ssuMNpUTmBHwGRp6Xye4OwAAAAAElFTkSuQmCC"},6841:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAQxJREFUWIXtlqEOwjAQhr8SDAkCNHgMIYGXQSB5gr0CL8AjoBAIXoUZDA4x9BAkyGG4kTWFtUzclux3a7f2/u9u15rZeIqmOqq7twEA3QrfZtaz+WeRRhLIADa7NQCX+wOAfXQQIkEk1AmYgD5QcC4SAqJ9dMjX9llUnYBPDThzPhn0nS8/52MAenHiVRO1JuB0/k3H8xWA4WIEQPoeLyNRSwLOav+Wc3Fuy5dELQkA/jlPT7dKAagT+NUJM4DVdlkYtHNeRqAXJ/lernl1Ar/6gIHPKWeTKFOZc5E6geDTUHp9/p9bNeDrXKROIORGZODT0VJrMtS5qFEERAUS9nioGklA9JdjW+oE2gBe/VJWKMGuNWsAAAAASUVORK5CYII="},78958:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAQ9JREFUWIXtl60OwjAURk8JgiUIHmB+hpCgMLwHAkX2DBgEAoElwS88Bx6DAYPBgwaBwA0BF1LCz9qSNE04ZtmyLl9P773JVCOuY0l+uyrbDwCUXBb/grLFmhxgNEsBGPYyJxPeDTgHqKQtKmkLrmbyL6//PoAryqALcoDupKM9TGpVAIa97P5NkwDeDRTpgpc7f+ZWB5yzpVFXeDdQOEBSq97P+xOmXeHdgM0k1NgeT9r9YbUHICq4PhwD48UGgEH7Ojdk51IXsnNTwjEgPJvoT+dOAcIzIIgJV4IwoOAx42XmvyNa77R13/Bu4B/ApAs+1oLp2QveDfwD2ExCrRZoxk4BgjQgKIBovQv73/ACZUQ/Uu3dXOQAAAAASUVORK5CYII="},558:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAARRJREFUWIXtl7EKglAUhn+jqUHcbHCNEKKg2Tdx6CmCHkEIeoGmht6kWWiScG3IJSTCKbLBbpHp9RyorkL/ev577jnf1QNHG1oDMJVWxDVOshb39k+rzfCmALCdWlLTaL4XhEgkGkHgpfMoiAtNpm0AALx+BwAw2yUkErUmQHrzvMa9rCcPNBLKCfwL+BfAmYRSifngh1cAQBDp90giPaecQGUBURCXTr+fFPBtsb8BMfNLFR5Z+ZpHYLG8SOOuk/UURLR89Scg3lx0bpsnqX+90aXxvOpPIN/5c8IVi+oTqj+BvFznLI37IS+fcgIaYTNKAWBidFmJV/HhcYfM1wgCQlU74Vtuikk5Ac5fwNp6qVJO4Aa8G0Exw+kgPQAAAABJRU5ErkJggg=="},28657:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAZ5JREFUWIXtl79Lw0AUxz+V4iRaJx10sGBpBnURUScnR3F2cfYPkI7+LR38B4LgJEiRtpMoDg0qdTQRsbE4dTAOyaW9cElskV4Kfqfcu8fdvU/eux85z/MY1MbyGuPU1Fhn+1+AQvkhfL2U/twoC5gIAh7A/ekSAE7LBeDsfV1yajTrcYQSyWgnkEvYB5SR3z59S/4dY0tqH60+S/77F1/hXKoFaCeQmgOX5ofUbjmzAJRPgshbXQAKhm93HmRSx4VFAKquLVBLJLJPQPxj+9oCBiKPyA1InN/MSHZjoRs4qMfXTkBVBR5A5XBPsot/LCQirtk95cAlqy21q64dzjlo104gNQfCug6y+yq/qfSz2i+yoVyU200blbJPILoD2o5fDY9BhCLyyvwn0N8nzMBeLq4kjp9dAiK7a/inXsnxs1rUtdG5A8BiDuhHHlWjWRef2TwLUk/Dne1dqT9a3+Z08kWo8/YazqXq105gmDshkB7xQc8nGrfzRaWdQFIOCEkOIifi6v+3kQtNBIGo/vR9oJ3A0FXAiC+gOGkn8AN0fJbKzryy7QAAAABJRU5ErkJggg=="},94027:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/cotton.7a5430dc495d2db68569.png"},65042:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAO9JREFUWIXtlTEKwkAQRd+KF7ARBButLMTbCJYeLWUgFwoWilgE0ngEbZyEDCGZjcUkkNdll2z2v8zOhtP2iCcL16/PGwCWf7z7Uc9hyCKTNPABuJyvjcE0S8RIlAl3AyGiD7Qm16RZUq1tWdTdgKUGTMmF1XoDwLssTDUxagNRyZ+vGwCH/Q6A/DfeZ2KUBgYl11hNjNKACUme3x9/bcDdQFcnbK0F/c/7DLzLovpW27y7ga4aCFDfctZTIfQlF9wNRN+G0uurc65qwJpccDcQ0wcC1B0tV5OxyYVJGRAaJvR4LJM0IAxKrHE3MG/gC2M7TZ1lZVNhAAAAAElFTkSuQmCC"},21481:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAO5JREFUWIXtlzEKwjAUhr+KF3ARBMXNSZzb3kNw9GiOgifo6NL2COKgiEOhS49QB/soLdqSpBAC/ZYuSfjz5b0H9XbLLZqU1dfTPQBgYrJ5CKYae0qAw/4IwPlyMjJh3YBxgMAPCfwQvmbKnuXDBzBFpQYaby+sVxsAkjTWCuCEgZ83b1PVAUkaK3WFdQODB1DtCusGdCZhJ7fHU2m9OwZe7ztQ930b1ZsL7hgQ2iaia2QUwD0DgpgwxQkDHtQzXmb+P4o8a+zrw7qBMYBKF3TWgurbC9YNjAF0JmGjFmbzhVEAJw0IHkCRZ27/G34AUjI9FYrrQzgAAAAASUVORK5CYII="},28404:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAPVJREFUWIXtljEOgjAUhr8aR2PccOACJMZjOHkHTuGBuIIxMfEQJk4MXgAWQ4yzOD2VpkDBoTTybU2h7f+95oFahytcMnG6+3gAYPrDu6U2Vn0W8dJACXDZhQDkaQHA5vAQI51MeGWgklzntJ0B3U14YcBY8yBaGB+OF0sAkiKzMjFoA8bkdZyvTwCi4A5AjJ0J5waU4WvYeNt1jvtb43yazwFIiuy95/e8cwO1d8C25pKwL4M0oODT0aTDCZLclrraC4M0IDSaaKMtuTBoA0LFhPR66Xg6tskF5wZMnbCNigmha3LBSwPC//4VC70S6zg3MB7gBTbFU6b3ljIEAAAAAElFTkSuQmCC"},93458:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAARNJREFUWIXtlzsKwkAQhr+IlUgINjb2QRBzDkG8gqcQPIIgeAErr2AjWHsBq2CfQhuxshJiYdawYh67KywL/k0e7Cz/fDszsN6wN0BTafb0dDcAaJgE/0JNjZgU4DjrARAtEyMS1gkYG1iELRZhC15k0orlvzdgKk+hC1KA/bgt/ez2AwCiZfLeU8WAdQJ1uuBr5p/K6oD56a7UFdYJ1DbQ7Qfv8y6TaldYJ6AzCSVd4pv0HV/87O1eK94dArvtFYDRpAPkmYu6iA8PLQPuEBD6JLFa62Uu5B4BIUEC/NJ1VXKCgAf5jBczv0ib21mKq5J1An8DKl1QWguqZy9kncDfgM4klGphGjg+CVXuBUVy+274BBGyQI9KkDOHAAAAAElFTkSuQmCC"},42271:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAPpJREFUWIXtljsSgjAURS+OlWuwt2Gks3ID9jbsxCW4BHdgY+8GqOwYaazdgy0WmQsmJpBg8cLIaSCTyeeefCbJeplCkpno6NMEAMx/aFsb5WRIJ6M0UANA+byrUqGCZ3lKI0EmxA0kAfeAnpwUeuAsb/rzMiFuwGcPWNccW/MQKI6rBQDg8Hh57YmoDdiTu6jUZ7e/qZ/LBkC/CXEDtlNg3+0uTt1mrq2JZszPenED7j3gueZMOJQoDSRAe7eX50qvrb4bdOFaexKlAdJtooe+5CRqA0Qzwbu+ufEMfJMTcQMh7wGimSChyckoDZD/fRWTQYlNxA1ME3gDgFtGg8VPf28AAAAASUVORK5CYII="},96488:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAQVJREFUWIVj1JPRYSAT/IfSjOQawMDAwMBEiWZqABYy9PxnYGBguPj4MgMDAwODvqwuRSEx4CFAsQMuVl9huFh9hYEBEjL/CSinvgMoBYwk5AJI3C+/gipqA/G0vqwu3ExSHDDgIUBMLsDuczQATQcM+q06JOWKAQ8B4h1g8x8e3/gAqbliwEOAnJIQFRxBjerta8ygrG9EaR9CITAD6tMMaLTCfA5NF9sbzMlywBAKARhAC4ntLuT5HAaGYAjAACwkGMzwKiMEhkQIMDIwIMp4WJmPC1TchOf/4VYXDFcHkJIL8KYFUuMeBgY8BEYdQE5JiJIWOtQpc8CAhwAp/QJcYGj3DQGs7T/QHiAcagAAAABJRU5ErkJggg=="},15603:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAPJJREFUWIXtlz8OgjAUh78aR2NMXBw4gtHViatwEE/DVZwcXEg8gjEsJsS4OOFQn0rTyr+hJfot0KSU/r4HL6BW0RKfjLze/b8BYNzj2tIYqy6LDNJACZBtj3qUbgBYn25ipJWJQRmoJjfIognQ3sQgDFhrTrK3Tk5mCz2tyBuZCNqAPbmDw/kOQIw+0tBEkAbsT7uj5pLcJL5e9EmNiSANaBrWfDed99pAkAYUvDuadDjBVXMXaZFX1jUJ0oDw1UQddcmFoA0IFRPS61/vuUHT5MIgDAgKPjra04TQNrng3YDq8Wf0u1/FQqfEJt4N/DfwAOoNVPFzz7JaAAAAAElFTkSuQmCC"},28932:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAQtJREFUWIXtlz0KwjAYhp8W3aSLa49QFMHBA3iPDp5CnIubm6NDr9Kpg4vgIRxdRbAOTSwVrU1SCCm+S39owvs930+JNwkjNFWIq6e7AYBvsrgLDTTWFACnzRmAaRIZkbBOwNjAwR9y8IdQkil+fN69AVN5Cl1Q5j4c1d/GOQDT5LWPUi1YJ9CmCz5H/iZRB6wed6WusE6gvYE4f+W7SapdYZ2AziSsK12ImxsAWTAuH6+XVsvdIXDczgCYr0UdyMhFXWT7pZYBdwhIvZPYaUYu5R4BKUmCwMyAEwQ8qGa8nPnflFb937d/QV8NqHRBYy2o5l7KOoG/AZ1JWKuF2NCAdQIq54Jvcvts+ATQRD1FKHzU4QAAAABJRU5ErkJggg=="},99511:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAP5JREFUWIXtliEOwjAUhr8SjoDEoUgIAsMF5nBcggSD5QhYDAmXwOEmMTNLCAIMCovhBMPwWNZ0rN1Et7DPbd3W93+va6rG/RE+6XidvS0A6FZ4N9GuVZmPNNJAAnB+XADYHY4A7FdrMeJkolEGMsl1FtsN4G6iEQaMPV/OZ8aHg8kUgDCOrEzU2oAxeR6v0w2A3mAIQPC5X2SilgaMqz2v55Jcx9ZELQ0A9j1/3q+VCvBuQP04ESWQ7nCC3vMiA2EcfecyjdfagJAxYWugKLnQCANCAuleL/+5bsA2ueDdgMt5QEG6owXaoGtywbsBlzWg87+nYqFUYh3vBtoC3p7vXc35jkndAAAAAElFTkSuQmCC"},54284:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAARlJREFUWIXtlz0KwkAQRl/EY+gN/AEbL2BnIQSElCkEwdJUnkAbBRtr7QRBKzsvYCOIhZWVrXeIhU4kQSS7qywBvyYkZIZv385Msk6lUEJT4fPq6CYAyJkEf0N5jZgQ4Hg9AVAtlo1IWCdgbMBr+3htHx5kws9v/8CAqRyFLggButNR7GHPbQJQLZajnCoGrBNI0wVvV57Usw5YruZKXWGdQGoDPbcZ7fcnqXaFdQI6kzCm2Xobu79dzkrx2SEw7I8BGEwC4LVyqYtgsdEykB0CoiSJoNUxMpA9AiIhYSrrBJS/hjLzRcm+3x32Ue40Sa0T+BtQqQFRrBakBlT3XmSdwN+AziR04PXv16jVjQxYJ6DTBUll+2x4B5RyQfyQjY0QAAAAAElFTkSuQmCC"},97337:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/lifePrism.1441844483cbed69e6c4.png"},52058:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/lifeShard.f39aea53526dd13e29bd.png"},14478:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/mindPrism.946637e6451c1fc0bf4d.png"},9721:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/mindShard.937aa61d4098a24d513f.png"},37357:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/monstiumPaper.48093d14b510fef8efa1.png"},43343:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAATdJREFUWIVjPC1nyDCQgGlAbWdgYGAhVUPyv9//ybFoLhMrIzbxoRMCMJ9f3FlGkgXb86ZA9N/89p+BATMkhk4IYIA9yyC0SxQqHw14+glBGJsgFHpIDN0Q6Jv9B8KYvYiBgYGBoSiVBVUcCmDiuMDQDQG4z9DSACEfo4PBHwIY+R/qU1hcFzGg8tHBMEwD0DiH+RyDjwa2b3qH17ihFwJ94YtQBQiWA5CSEFdIDN4QwJX6i1bGofDRgab4JwYGBkQdAPN5xc1vDAwMQ6E2JJTvccU5zOfXX/JB1BFI/TAweEIA5vMOdS6IwB7i8jl6nMN8jp4GcIEBDwFG9H4BRkhAAdyHULAdh0+JTf0wMPhCAAbQ2//oIUIIEPI5DAzeEEAHpPaICPkcBgY8BIiuDYn1EalgwEMAAOCsjq8+v03AAAAAAElFTkSuQmCC"},91218:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAQVJREFUWIXtlrENwjAQRZ8REktQICqEEF3YAZiEEZiAASiYhLAAFTRUCBqUngmoQnUgWwbbUFwQ+V3sxL7/7nK2GbYHaKqhunsdAND84tvSeTafLPKTBEqAw3ILwObYAmC+yoRIEgl1AiahD1jORUJANF9lj7VjFlUnEFMD3pyP+zfvy5POFIC8WEfVRKUJeJ2/0vWcA9DrjqzxEIlKEvBW+6uci3NXsSQqSQCIz/npsvsqAHUC7zphCbCY7a1BN+chAnmxfuzlm1cn8K4PGHieci6JkELOReoEkk9D6fXyn7s1EOtcpE4g5UZkwOpollKdi9QJpNSAq/+9FYs+cuxKnUAdwB0apVUJHk4N+AAAAABJRU5ErkJggg=="},13611:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAARdJREFUWIXtlzFuwkAQAMcoUj5BQW1FEQ+gMhWk4gPpKWgoaZArV6ThB3yAClyFioo0qSKqKN+guhTxGtlCxHuHdDqJaSxbvtXu3O5Zjp7bT1hiimtkGwCg5bL4FjxYrDEAn8s9AN1Jz8mEdwPOCUyTlGmSwp8Z88/rt0/AlUgxBQYgG39UHg7iEwDdSa+MqUnAu4EmU3Cx8jpFH/C2m6umwruBxgkM4lO539fQToV3AzYnYYX867Fyf/w+qNaHY2C1fgfgddQHzpVLX8xyXeVCOAaEuonZInNKIDwDgphwxbsB9ddQznyhPvfbn00Zu0lQ7wbuCWh6QKj0gvSAdu8F7wbuCdj0gGAAhp0XIOAecDEghP1v+AuPHEYXwtYpggAAAABJRU5ErkJggg=="},88616:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/spacePrism.de5dc3c8a4604b3d77ec.png"},23596:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/spaceShard.d4f9f051b44b4e470451.png"},15587:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAASBJREFUWIXtl7GKwkAURU/EKoitFtsuQRCF/YjFwn/wN/yEgJWfsMX+gZW1ta2IrYXbLRaWjkW4SJ4ZIiJMxNxmmPcmk9z77pA3kXOOkGgEfTsQDT76vpyVJnpyHqiCAm4+ygWGs70DWI5bAPyusvHn/5Bb92h+OW7llAiuQNOXWO/OhfE0iYErs17nCMCELnBlqnwZqqvA16e+LWOYduLC+OavDdwqobnyPgRX4OYUCDoNqrmYyxuWuW/uc78QXAGvByzEvMwDZTW3eB0FHvVAGV5HgdoDtQdqD7yPB2xPKMYap9sTAGmSrbd/PdsPaP69OGjfivWEw9m+MGFrbbteG0+TOAKYbjOmYu7bVwiuwDNuRoWdzh3PA1VQ4O1vxxdgPa5CTioJpQAAAABJRU5ErkJggg=="},23096:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/timePrism.c5d6046691ee621ae7c3.png"},50725:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/timeShard.94dd65125a3682b6d105.png"},3990:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAQtJREFUWIXtli2SwkAQRt9sITgBFcERIHZRuwLNMbgHV0BzjBgQCBwoqjYKj6A4AS4YmkDX5GeyoknBc8kkmfnedHXGxf0BlnyZzv5ZAND5x7uZunZNPtJKAxnA9zIFYLE9AxDPxmIkyESrDDwl1/zN1kC4iVYY8O75dNTzPhwNJwCc0qSWiZc24E1exM9uD8Cl/wtAdLtfZcLcgPP8DUurXXOYr0rHu8cNAKc0uc/5OG5uoLAG6u65JGyKuQFfDQgZ5B1OkORClYGivRfMDZT1AQd5b9cmqqhKLpgbKKsBTQZ5r5eOp2ugbnLB3EDIecBB3tsjNRiaXDA3EFIDmvc9FQuNEmvMDXwWcAWtLlMPQjB6sgAAAABJRU5ErkJggg=="},39822:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAARNJREFUWIXtly0OwkAQRl8JAokiCI5AsaCwgOAY1RgwKA6AQXMGFAIQCBy1VCFJEATFDYqgS1PC3+ySbDbhM5ttOptv3s5Msl6tUkVTcbJ6ugcA5EyCf6G8RkwMUF9GAIRt34iEdQLGBoqdMcXOGG5k4g+//96AqTxBF8QAu9E68zFolAAI2/79TIkB6wS+6YKnmT8qqQMui76oK6wT+NpA0Cjd7/udpF1hnYDOJMxouj0D0Ez2heNGFO8Ogf1kBUDQawFp5qouDjNZ5kruEFB6JHEYDI0MuEdASZEoGBpwgoAH6YxXM/+VTtE8E/dJ1gn8DUi64G0tSO9eyTqBvwGdSZiphbLfNTJgnYDkXfBKbr8Nr3/yQj7vxjquAAAAAElFTkSuQmCC"},19346:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/ritualWeakness.671d05c9a93f09d24920.png"},85948:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAghJREFUWIXNl0tLHEEQx3+TGEJAEBV1fWHwJugIPk4KKiJ49bSgYFjw4CUfIOSUg9/Bm5hDwJMnJRBkk4NBUEOyCgqiuPjYMRBFDMkhyubQ9i7dMz07PmD6f6mdqprern/Xo8ehBPoaK/KlfABWTy6dKH46ntznpcdEmckgI38zMaLoD07PAMh6/1T9+XoeIDd1c6cNxM6A79z0yNPfjgE4/OmFLvSyNgHAh9V1AHJLgokFdzrQP/luFrCAgUIO6JHPfdx42MqHQiSZDXWzhwET5NnqkDlhsjsz0TZgLwOp0R6gWAU6BtxmwN8PJPL7/goLgn0MyE7X2lAHwFBXU6Bdx9rOjqp4TaQZYg8DhWmWzuQBkkNu6ItfMkfhK48J4U62A/D2e79itqYTGjO1/sVT5QzH+3oD/WQ/8H5dKPorR1RJ92dRTZuDorNm3m8Lh0UhYmfA2Adyf28cKDJRqvNJ6JHPZSsASN0+MyjE1nPBROwMRL7HSSZMufBp9zfgj1xHquUSKOaEPQzoWa+jtaocgER1paI3ZX9mflgotkXEtAtG3Fcrwj5mSQ6U6Wdr6v1yNuizIOuJqpBVcnV+tw3Ez4D80ZJ4Furojzz4HlCAPHvT8y3sYUBGlPWCb0AS+vfB1z11KtZUt0X6Y2dZyNgZiNwHSuH0z7XSVTubOwLX+3G0pfjFzsB/1hepoQ2rxhIAAAAASUVORK5CYII="},29253:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAATxJREFUWIXtlqFOA0EQhr8lCC5BUN2KOkxDUgwPUoGoIn2CvgACgeUFaEiaVFTwFiAwnKmpqzh0K0jAXQ1Dbje7x9C02S7hd7s7tzf/Pzv/rjlrdYiJg6h//08AONziXmVg3tR99CcUKAH6d5cAnJ4cW4vXVyNRxqtEkgpYtRbmj7OFFdTrtFWbJaVACXDzMABgvnoH4H78DEDjvGkFu4qEkIQC1im/fZp5g5avb9Y4ywtVAnutgMV8Mpxai9+n/2v8OXoB4KPb8sZNhlOvH0RXwCjeA7V9L7V3ay5KVOYTd8IQcw8MQJYXtXeAIB0FfmJeqbmKuSC6AhsnkOWF2u12ksC2oHZCufXcvpaauw6oRXQFfE5YAhwNLgCv05lqnNbxQthLBQTuOz/E7Fd97yK6AnVdoGW0EXNBdAXWrMBlMtgb9SYAAAAASUVORK5CYII="},60239:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAZZJREFUWIXtlz1Lw1AUQE/FwckKHRSkipNQLH4V1xYrbv4CFSwV3OrqIoiDuDoKSpX6B8RVxVlbqlQLjlIFRRT9BXFIL/JekjYRJW/wLOV95PXdk7ybmwgeTKRnLa8xN15e31uOP9XLEbf+jiB/8hc4diWR5wsFABJjcV8L1a8bLce31jcApwlzDHhFfn5Wc71wOptU2gd7p67zplLDSls3EbqBTr1Dj7wv1hNoQYn4+e0DgMvyvdKvY56B32ZgqBfwPk2hG/jfgOczoJ/zdiwtzyjtBP4yqLkGvDKg4DcTVktFAFZ2tpV+y7JftuYaEIJmQjn3x5t2xJMXKQB2M2v2hO4uZb75BoKiR158iAKQa7YrmbIyP3QDjoqoP5GyAI5O9gH/9cBqeh5wRq6TG/wEvk2EbsDxDEilsjCX92VCGF/MAVDJ2Oeew6z9e2tHzEi0OW5HftOoGVoRCT81ERRzDQheJnSk5quWmh1y7/FoNzHfgNDOhNT7sYAbCN2A6xerHyRjCo93V8pao/Gk69e1nH8hdANfpamHoJtkHQcAAAAASUVORK5CYII="},37084:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAbBJREFUWIXllr1LQlEYxn832msvKXKL0ugDmkIpot32cHBoaiiagqCWFseGEJL+ADehIMNoClJRi6AhKAyKcLC/4DQc3+Qetfwo74V+y+W9H+fe5znPe86F/47VqxcdJpIKYHzKA0DQ67cA+nr1Ac3o/6uBTcXC7sGrrXbcgV/LQDPFgii/iq3Y3um4A11nIP1YUN9dN+fcxHEHOs6AKL/Pl2znJQOmcnPuBccdaDsDPynfCO0BMDgXaWk89ziQ3F5VAOncCwDR1LVtzjpVXjndAkCpxs3iHgeE4PQwANGUrrtVPnM5C4DfM6mqtQVw7I0DbnRAWIicNVQutKo8/jwAQLhaZwMZHYYS7vgf+Er65tK8gloGpBvG1ndsDxzt67kT5ZWbmL5QfgDqlZuERz4AyAYygJscEGQ9EMSJ8/JQwwGK+YQFtT6XtBdPFvUNd1oxE9oR39oFAIXSrTsyUNcFoliyIEcMJ0R5t7jHgZBvVAE8vb8BkM7p86YTQXlg2b53YOZJ5r5ZXcV5B6T/BXFAdkPZE8x1QjDrdnHcAct0wPwPaBVzv5f1wET6X3DcgU9sBrSMdZACNAAAAABJRU5ErkJggg=="},23085:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAS1JREFUWIXtlzFqAkEUhr8RC4vUYmFnq4GgYISweAGPEbxADpBrhBzDwkpQEYxgELS2sxCrFPZrEd9Gh9ndMc3Myv7NwvLPzvwfs+/NqMdqHZcqOJ09XwBQvMEb3vhtZWPKBIEQYP0+SjQFixUApd0EgP1mIMQSSXhN4Cr563PZaPr8OgAwbT8BEJzfV87PNBLOCShDJbRKrktIiAx7Iprz0uecQL6AfAGplVB2d1od+K/8JSD/sVQ426Qy7mf4BkCl0Uv0+0tAKpjUdiERJz35x6wNQP9lEDsGPCWg4K+LSVcLDMZL6ck72wcA5hGJhXGccwKmbqjrl0TMbpYupyfXNa8dgSsSCjJCQGQ8Facl16WTyBSBOIUAzXHLyvzdXUZzw50QENnenPw6E54AKbtf18PWIsgAAAAASUVORK5CYII="},67664:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAX1JREFUWIXll7tKA0EUhr9ISOcVSRMkkEJQvCD6AIKN4CNYhLyDnbXPYVL4CIqN4AMowQsKFgsiaURitIvNWsyeCTNxsheVHfGvdoc5y/7fnsss/HcV7IV6aTpMEtj6eDVis8aNJQn6TRXlQhwc1GoAVBbmR0cenxqOmzvbX27r3D+YC0EQwoBE7gQKqZ1HGnIWI3muxO0HAeABgWL8FqW0jl3xmrC3BL7r9K77YtwvzsyO3O8fAbsKfoqIkLCf5x8BUVbnR713AHanJgDYK40DcOLYnzsBPZnsjphV8s3F+fr5BgCXmxcArD13AGj2u37MAp0Dek5H0yotCZfzw8dJABqahBmXO4GhE5FIckKy2dXR4pzbalTfgEFO+EtAlPSsJ2qXKwBct7bUwq1yzJIislI/A+Dq6cazKnBJqiOOhORKO+UL+E9AZJMQxyKZAZRVNehvL7LvI/0dAiLdMXuY/wVRb1+dW05VNbkTiO0DSRWGpnEXCal/Ue4EPgGwTI1rLbtY1QAAAABJRU5ErkJggg=="},16981:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAM5JREFUWIVj1JPRYRhIwDSgto86YNQBDAwMLBTo/Y/GZyTHkCEZAv8ZGBgYmuYnowjWJc6FhQhJITHgIcBIQkmI4vObH76gSKoL8DAwMDAw1CXOhZtNjKFDIgSw+nztlQcoioJ1FBgYGEgPiUEdAkT5HB2QGhKDMgTI8jk6IDYkBlUIEJXPiQXElhMDHgJE1wXoPqIWGPAQwEgD3w1laGoh5/kncLsZGAZBCCCnAUYGBgYGzvNP0Fs61AaDqxzAlgvIatuRCwY8BEYdMOoAAFCjQfgsPgocAAAAAElFTkSuQmCC"},54177:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAV5JREFUWIXtlz1KA0EUgL8Nio2IYCOSIwSDsIWFeBULG68gqYOnSLGV9wgWFgFZ8AxLmkCwk4CxmHmbnZcZN9ksZBS/JrvD25/3vZmdl+Sy20Ox1AM1JFvGO3R2ubgNDirHS4C8e+wNnBSf3vH7r4UYa2QiCgNu5nev3sA0u/aOjwrz29TE3g38v0C5CmSWr9VazQm9GsYnZ+ZgPm30AvEYCGKNhL4DuxKPgbKWxcwJSC+OnPMyriXiMRBCat925kIUBhKAbD413/LTcwBuP2bBi6pkq/Wv9wDdV3j3iCgMCF4TIeoyH3UOAUgf3wDoD3ve3TIqA4JrIsyPNZfMWWs5cUxEaUDYtLMxHdXg3ZzpjG9MwvnA3G7ydAWsOqi9G0g8/wu2xTvrebClflEiraj+0Dz3TxgQnFWQP9tUVcbVZ0MEBuo7os2RYhsTNnOZ9bDQcUAEBtqcA5rfsRt+A/PFYPOuI2lLAAAAAElFTkSuQmCC"},26795:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAVVJREFUWIXNljtOw0AQhj8jCiJRcIAUdDQREhUHoaCgQjkBF6DgApzAoqKgyEHSkIYDUISaknSmIBNmNvuwYks7v+TC3rU98+28msvpjJo6qvr3gQZ02+vQ9cEGjKLjzFrW+qeXOQCP963sa/R7P1dTACardbhuVJ1AE8mCDuDu+dY8XHx8ArBpl3vf0O/1+ae+qU5Ax4Dx/OLs1Gy8mZ0DsPg7ek0iSkwk5ESbdmliwhWBg5QiJtqR25IIs8MfAbFULA+ff79/ATAZyQBXBBr4j1KJdtHO89V6VANcETD5qfIVMGduKl8qZkRhHQjlgoCpZK8Pb9nulVLJU4mhUNUJ6G5Y8jzsdtH+X5LKIn+9IOu5xIiaCwwxNfmU5HceCBWdDyJzQSp2emWTawLAfqXr0RU7gJP5NZAlBDggEJuKQxmPIl2xVDd8x0AfAqJUJRyk6gR+ASyfg6LCPPV/AAAAAElFTkSuQmCC"},25705:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAQVJREFUWIVj/P//P8NAAqYBtX3UAQwMDIxFfslEKVSODyQpsdxduJ6RGHUDHgIshBTAfK5lIEui0RB9hEJiwEMAZxogFOfoIXLtwmO8FuEKiQEPAYJp4O7C9ThkAolSpxwfiFUcBgZ/CMDAnnMnUfjoPkOXdzEyJ8rcAQ+BUQcQTAO+/XkQGsqH5Xf0VJ8+sYOBgYH08mHwhgDCh9jzO3qqRwDiygcYGPAQIKY98J+BAZEWYHEKi2tcfCSfD+7akGAugMW1LwF1uPQRKhEHfwjAfJBvH02SwUOmLiCmNmRkYGBgcDEy/8/AQLh+Jzb1w8CQCAEYYGRgIFyykQoGPAQYR3zvGAD9FFZEnwOQLwAAAABJRU5ErkJggg=="},85832:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAOxJREFUWIXtljEOgjAUQF+NiQuDoyEegeji4AG8B3dwdXZl8wDcxsHFxDMYRgYWJhzkG2lAqEraoW9qm4b//+unqVotI2wysRrdJ+ATAKYta9XIMdX7xCkDFcD1cBs14PoYiWEFjhkAIDntANgHxV8DJUVQj7LGunsGurjcS6MPb8LZoH1OGVAAaZ7VXboAfu8FOfs0f529u/eA0G4ifM76ekHOvq9ywUkDwkcTxOfm7nQLDK9csG5AGbwJK4B43v53mFYuWDcw+CakoycE08oF6wZMekBHfzkZVS5YN2DSAzpfVaxj3YBPwCfwABnIPGF1/0MbAAAAAElFTkSuQmCC"},41487:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/divineImmunity.d8181af03c563ca9a1da.png"},69773:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAdRJREFUWIXVlz9LHEEYh5/1DwqKqewUxEY5CYYEUykKRsXzI9gLFoKtWhgIwSqVhWAppLERC+8QTQhop4IiXi2oH0BBUAysxfo7nfd279bGG5/q5p2b2X2fnX1nNgjDEIAgCHjJ58HR8GX76N92ANDW0+fEAQ20cYerwqFzAV23ptygt6BOP3RHX4bGQoAfo5sAjGfuAeht/xgCrE4fOBPMrURGlkzcMvV7IAS4PDtwTPhjICnztY0/sQPnVvqc9l7+e+z/Bsaj+OrkHvC8hmTCHwPCZt7alY06/i4CpZkfL+8DMP9rCXjOWMiMjQv/DKRFmVeiu/Nr2f73Y0DvuV0DadHaslTdQGAr4OHseqqBn2b6gfRrQbQvfAN8rgMiqQIKZS4T2Y4Jpz93vhU/sKXRafprQBQrYQnxq1qZ55obYvuzN3dO238DlbBr4bX4Y8Ce+S5+7gKwtpGLH5kZLjvx9nX0rMc+NDptat2zpz8GhCpUqYnydUF1IPH9T8A/A+K1JpT5yM1DFGiKpi4++yfUr1N21Q0Ud8NKWBOWfCGqfDovKNPMk4nC7X8AdlrqATi5OPVjN0xtQCSZsPu8nrFM2MzF+zMg7Fey/eYTMmEzF1U38AhMW8IRAmLIdQAAAABJRU5ErkJggg=="},65173:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAASBJREFUWIXVl0EKwjAURCfWjSewR1HwQAquBE/RrdALCV6lnsBViYtmIv30k6YRks5GqSZlXuYnP6Y7H5CiffuyAPC+HM2S8Zukt/9BZikBOvcT9T0AoLueokhkJ7CNHVA/nhYArPJ7bCbWQ8CvuVtrTcyCnUliPQS8s6qKegEzo1VH+QTogFLrXf7vxm8DsXo3ZKL7jDNRLgHpPKj7OBt0Sud+XkGiPAKa89AeL9dWOtdUHgG/ls047aF6poLO3by4Dh8FEqAciehq0NRM7x/lEdDqN1XrOws8CUxnwGfDZUXuA3IeTeUSoHj+G9EJ+efaQFHvmrITmH0vYE8oO6Pfue+k1Lum7ARm94Tsbm2r7A+RzqnsBJLvhkvvhFR2Al9O14jobGYgdAAAAABJRU5ErkJggg=="},2504:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAgpJREFUWIXNlzFoFEEUhr8RC9trTHEHKVIceDZqQgIenI2JmFJIl0rvLCMBm9SiRSAkpYlWdoKlh0kXSSEYUsXAlUK2OAXTphuLt2/vZnbHuxPCzl/te7Pzduef//3MGGstAMYYhnG3tWiZAP3ff5z4/O0xALXnswAkZ8cmNwm4NslHrgLX/YSu/GT1AwDthZtjFdr79stNNGVesi756tayhTwTpTNgVAP3HiwVrry3s184sb625MQ/X2448X73tXzgvctMdWsZGDBROgM5Dfgr/zp/p3BiPVDw4MkLJ178tF2YV8THwO6FiLTFFwBsfUoGmqktHKUibng2ke65D9VCNu9HVsdCjAx0Kroy0YDp9SXsqZolblfcedoFutf2qWip1ZE69TWp223MAZCcEWkXKLTPQ2r3Mb0pe90O1AkhXgZCDqgY5YTaFb42ql6deBlQTOqEl7WWPKR9f1kTP1GH7Xrvl87A1f1A0w7cs5QfGBOZBk4ODwxAf2XOAjz++F0GQt2wUNzfN84P5eHoETDkgCvqgJGdiHJdkKx/NgBdj4lRvhBCtvK0Ls+mnPH4GFDM3H/1X0wMTj5vAGhMPzQASeD90hkwuZvRu37hi3quz7rDg94LslOv7rmP2DSQY6B9+m/38jUxlCfNG4DdCznzdSrWYWLvtktMfAyMi+qtWYeq0O13FEpn4C9WjblqgCRD2AAAAABJRU5ErkJggg=="},81478:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAVpJREFUWIXtl79KA0EQh78TwSews7JRJJhOEKzstPUB0mqbNkWwCHZ5Bysry1y6VIKg1YGINpLeJ7A6i9tRd7Jr7h9kBH/N7u3t7e18M3M7l+xvdVDK9cASJRXne1pr8nAbWv/RzwGuLh6DE99f0+D4eDYUYrVImCDgWX6y9xGcOOU0ON53bV0SKyfwv4GvLJAo177WMaGz4eXtodEG7BCIafq8AcS/A01lh0DMl5s7fkw09bmWHQIxie/btlxkgkACkM4nXh2wu31QaoF0PpGuPgN0XRE8I0wQEAVJxLTM8v7xJQC9wzMAuqNO8LQ0RUBUlsSvPhfLWSg58UiYJCAqW9nkANngqbjSFh8VBmeDYrnr+1vgu4IyTaCSxLIezvfnztV3DqQjI/fHs2Jg5QSSwJ9RXXlZkN24mHBNd7TwHvtZUFWSNQUJZ7nEBgz1PMAAgTZjQOtvnIafmSRf/vRHD68AAAAASUVORK5CYII="},53278:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAT9JREFUWIXNl7ENwjAQRX8QbEE2iEiTkinoMgsSBRI7sAEdS0BJg8QGbAFFaPwNse+IA4Xvd4DP5D//s52iOyGrJnn/Hige3eanwqY8dgBwua+Kfx4gO4Fp6kA6pq6HGwCgLiGSSCVkn8CHEwDAbL8FANRtBfe96Py6/k6IsktAcOIkO49UpT2APQLeOVOurHVq3ZDsEfC6/TYhnZME59G6wTABp3DHo+gkXHvvOMiAti/YITCUYjpgf4dOQkKRlKbITiC6D6T2M8+Gpjzys5iJ53IjjqOyE4i6IFxTn95df0eMSIUZcJFpWtk5ZY9AJCW9WvqZDZ6eQzcnewSie8D7NOz9TidhJmbnrZup6tVrJOwQiJxrqV/LqReI9eq00zU7gWIxr0bdgIZ2yrF1+Qnw7bhuPYmkd72x47W67AReuzPYqEsee7MAAAAASUVORK5CYII="},66430:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAASJJREFUWIXVly0OwkAQhaeEwBFqOAMGQ/D4KgwORQLHgSNgUHg8DsMZEHAEMCDgbdvJDtvtkuzsc83+NO/bed1pdluOKUT5evciIrpv5lmb9Z2gt/9B3bYL4dw8F5MPicPJi0R6BOBUHPesiXQImDO/bn9P/I43JZEOAeN8sPJ6gSsd0Qlkri+hVPXcEZ933J+t+w17j9q66ATEGnDlnYs7htPLs1/bB88Y10eg6Zlz8bPlziXpI4CznM5GRFQ6b3rbuZxX9iUijQSgkoRfGiRxopA+AlJ+Q6X2LhBroJJrKwmkArXCvwOWfazSS8AI9z/vhExfsLAu43mXpJ8Aejr0eHlhrwmkRsq7JP0EIE6Cy9c5FJ2AsyeUxP8TfJ1D0Qm8AfzohJpSAdiMAAAAAElFTkSuQmCC"},63973:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAUdJREFUWIXdlq9OA0EQh79reAxEdUMIBoeqa3kSBKYO1aBwNQiepFdXhWoNEgyp5wlQRdAJO9Pdu03vkp3wS07s7e7dzJf5V12eX1BSg6J/72jA/vCcut/ZgF501rDXaP3b8ysAV/c3cq4K702HtwDUu6XdVypOoIpkwR7g6W6rXn591AAs1vOjb4T3cv4ZLooTCGNAeT4ZfauDK6YAzA7rgESUmEjIiRbruYoJVwROUoqYSMgJCZsd/giIpWK5ff/+uenVAFcEKviL0pk5KJ7Xu2WvBrgioPIzyFcrVflSMSOydcDKBQFVyR5erhu7V0ptnqaypziBsBu2eW5jItr/2xRkkY9eEJsHrFSMROaC/zMPWEXng8hckIqdrGxyTQA4rnQZXfG3l4wfgUZCgAMC2VkgHkW6Ylvd8B0DOQREqUrYScUJ/ABGQoYcvjHk0AAAAABJRU5ErkJggg=="},56927:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAXJJREFUWIXtl71KxEAUhb+IoC/gMwTUwl7U0p9GERbBZqvdwkZsfAXBRmw31VrYLKiVP4WFK/YWKuwL2PgEVrHYPYbczWySBcmIni6TIcn55szNHfjrCopOXG7cxgAPrdWR81aadwB0o7VCz54o+gE/JedXuhy36xcAzIQbqfGP3jUA9fY2AM3X/njvdDQR/whY59bx+uxn5oNu3qaAhIT0dNgn4iJROYFJO+ByPq7edw8ACM9PAOhG6fv+ENDaK71bDuda63Gl9ygLlRP4TmTjJY4BFo+zU5/n3Ka/8/yYuq4tLAHJrojmAz8IDO0Cq7LOy8p/AlJRp3bt8+QfATmoDa61G1wVUWRczpV+l/whoL+VanZnUMMpuaaSnIvc1eZ06j1S5QSG+gFVRP3Fympv5whIKujZ5T2QdEpBEHjeD9gsiIRNs90VSaeU7VzdslXlBHK74nA/3RXbbFgycizlnRP8JWBlibTmsuf9upPRv74AtraP3k0YWXQAAAAASUVORK5CYII="},25910:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAXVJREFUWIXVlzFuwjAUhl8qFpaKBSmdegeGqmunzj0BYuMKnCbiBMy5AeqQhRMwEdSlYmFsB7/fkX/HuEkr2f0m7OQl/P979nOKdv0sYyhfp18iItKcRESk/ZgVY55zN+rtf8hkaACUt/VVFc/M/PzTzA90Ij8HbG4DQDnf19Zi5tUJWTzcjAf5OQCsUsotVz8o5+Le15z644h8HYDy1dLsE+Xh6CjHPKi2+/647V6VT3vfk68DyN1GTG7l8WwuNJEnvrmauCawb4DkDhToBbzDcbV7Ob+8O+PV/ZN7XWsCWCdoVaV3QHYvN5Uz7ATDyhl2IrkDk06pVmdA+a9Bb6ivzji9A6HqtF2NQPV7VU+rwqJKucYwTu8AfvzUCSjnasfqqETnI8pBPg5Y9J97/TxQE6F4Pk/8327o1YTt7y7V4WjiQicpdFUiXwe6M5zJXeyM55+WNS6gHOTnAK/TDvoC0u8AEFrnMfJzIIa3L9C6H0pyB74Bbg7V3/66mqQAAAAASUVORK5CYII="},61529:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAghJREFUWIXNl0tLHEEQx3+TGEJAEBV1fWHwJugIPk4KKiJ49bSgYFjw4CUfIOSUg9/Bm5hDwJMnJRBkk4NBUEOyCgqiuPjYMRBFDMkhyubQ9i7dMz07PmD6f6mdqprern/Xo8ehBPoaK/KlfABWTy6dKH46ntznpcdEmckgI38zMaLoD07PAMh6/1T9+XoeIDd1c6cNxM6A79z0yNPfjgE4/OmFLvSyNgHAh9V1AHJLgokFdzrQP/luFrCAgUIO6JHPfdx42MqHQiSZDXWzhwET5NnqkDlhsjsz0TZgLwOp0R6gWAU6BtxmwN8PJPL7/goLgn0MyE7X2lAHwFBXU6Bdx9rOjqp4TaQZYg8DhWmWzuQBkkNu6ItfMkfhK48J4U62A/D2e79itqYTGjO1/sVT5QzH+3oD/WQ/8H5dKPorR1RJ92dRTZuDorNm3m8Lh0UhYmfA2Adyf28cKDJRqvNJ6JHPZSsASN0+MyjE1nPBROwMRL7HSSZMufBp9zfgj1xHquUSKOaEPQzoWa+jtaocgER1paI3ZX9mflgotkXEtAtG3Fcrwj5mSQ6U6Wdr6v1yNuizIOuJqpBVcnV+tw3Ez4D80ZJ4Furojzz4HlCAPHvT8y3sYUBGlPWCb0AS+vfB1z11KtZUt0X6Y2dZyNgZiNwHSuH0z7XSVTubOwLX+3G0pfjFzsB/1hepoQ2rxhIAAAAASUVORK5CYII="},35427:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAWtJREFUWIXtl7FKxEAQhv8VX8A3UAQtFARJrY2gWPoMd9taWVpZWondxjc4sBQtvVoUQQtt9A18hFjs/pGdvbkkB5I99G8m2SxJ/m9nJxPgr8u0nbgzvK0A4N7tT523a+8AAOPyoNW9F9q+wG9JfUvV8dmKj1uf8fjzso+nHwAA++pP3y6mE8mPQOJcOl47mXyn93MfSSLIHnkiGoneCSzKAdX5jLKH2wAAd/MIABiX8fV8CHDtmb1Oc861nlF8DnOhdwJ1Rg5fqgoA3LWS9U3ORfY/XC1F58XgC8DPrig3TR4Ekl2QqKPzrpoDAlRLp3Ltm5QfATooBmGAu0GrC4GM5pzZrykfAvxasWYj1HCg25pStfNAzq5W0XOo3gkk/QAroq0JdFNx+eQPWEFHIx9Dp2SMybwfkLlAEkk2y11Rd0p7Pgjn7JaleifQ2BWvH8ddscyNhExwTDX9J+RLQEoScRuT583dn9G/vgEcxYEspH3ldwAAAABJRU5ErkJggg=="},97978:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAa9JREFUWIXVV7FOAkEQfWusbSm8H0CpFKXRaEE09Bb+ARJDc1/AF9AQg34JCdoYrfC0AfEHjoKYWPgDa7E7p7O3y3Ek5pZX3cztzmXevpmbFVJKAIAQAn+xd3ImkQPzzy9mx3cRACBoVgEAs2kkUpsAbOT5yH9g03RQ5q+XQ+WoLBlpYthHisC4rRIPelUJpJkonAFBGtg/PbdmPugcWjc2OiNmd1t1Zofje/Vwy48+6HFNFM5ASgNm5o2LUWrJIoTXD8zu3tStfoKHDJigKtCqxrPgtkY4tm9PtKD3xe8vZEtgLRig+p6YjYzbVAXJWV8phgb1GgCg0VHuYPcAADCbwtcq0DDrPAth367yrDj+MuDqgITsTsj969sH8nbCculbPei6L5c0k46/qv8MrIykU9YWLvOHgbfHoQCAoKkml/hOnb1zHqjYtfEx31LvtQaSDuiYDf1hgBC3o1xMZIEyp7iixd/7xwBhVSbMjkdxXCicAWHejGTfvpDmerrxpDBJ1gFwZ+6dBtIMPC3e8KuJyPRD+ylzaoWMCXHM4/nHwLLY3qmysdh1+81C4Qz8ALGPoNaiq9ghAAAAAElFTkSuQmCC"},31351:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAadJREFUWIXNlzFOAkEYhT+EaMIVaDiAjVaamEixsbKy8gLUaIGHoJLa2FtZWRkLCxOppPEANl7BBALBYvbtMr+7ywIms6/ZDLM7zHvz/jczNUpicNFYLLe/v1xz+DGvlR0jCzvbfPwfSGZvGVocHO0CEB3/AHDVq3v9rXa2EDePs0KFgivQsD/0r2cAvLw3ARiPpgBE3Wfz5ikAt8O5a+6/5fxFx1PWKlI9BcRcjKPjk8IBUi84Rc4v97z+/v2rG/fuDIABLCBVojoKaEaaYcI8Z23F9OlhAiznwcRUk2OeeshXojoKKAdUBQk+s5VQHkAzfjrmf5NRivhKjEcdoAoK5DK3iJVIXa/npPAz642o6/eHV0C7ms12QW5P19xBzHqHdc/1tr0K4RVYvZ/LxYnbgZSpdkHtlnlQXiRVFRdgeAXKvpgwiGGZ234Le16Q96qvgPWI1t4yz/OSzRnttvJS9RVYBeVEqz3NrH+bsNYrwRVY+0xvky4vKQWtuZirGipTBRvfatbNfMGepIIrsHEVlL0T2j3DIrgCW91siyDm9p5gkzO4Ar9NRKWTz7yShwAAAABJRU5ErkJggg=="},12976:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAbhJREFUWIXlls0rRFEYxn/XRxRhJWWmpuyE0dSUlZoiypJ/YdYWZKUIC8osJc3CH8Ds5KOZmrKhFGbU7GRqFMkCpRR1LWZe5py5w3zg3vLszj33nnOe3/uccw/8dxl/NdFaZMcE6O53AxDo8hoANX+1gGKq+62BdceiueUbpW07gR/LQDHHInF+GB5V5rSdQNUZiF8mzK/69Zrrsp1AxRkQ56nzjPJcMqA712svsp1A2Rn4zvnk+AIAbf5gSePZTuCjLjszEyZA/PQagFDsWKlZuc4f9qYtJ0xkLhx+DgR8LgBCsWy7Uue7zQ2WE3rdvSZ8knAeAdFgcN/SuajctBeTcwhI+iUD/qv5XM+s8sHG4iaQV/OTMACJs20DwOueNgEOHl8AGGltJL9NrXogOoeA7PuAL3seCIn4+hIA0ftO5UNxnjyPVHWnsJ1AweqnhgYUAiLJiJDQnfe5ekyA4adXALqbrDdY6vktO05LPeAkAuN9HuVm42nvAApJ6BIyq9Gj3C7otSShO3fMSWhIzUXpu1sAIsm0UuNi2RCNrWwp7+skdOci5xHQ7wGlyjStL8f630+X7QTeAcJ0ssdKMM2EAAAAAElFTkSuQmCC"},78066:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAWtJREFUWIXdlr9Lw0AUxz8ngg4ZOtkgBSeHghoUB6eMTvVv6OSf4OTi4l/hpOBfoFNBRHARRKkKDq5B6laki0vjkFz00vOSksBd/S4h9+u997l7705stNawqTmr1oF5Q19cMFfU4YCTBGKAp6MrpTG8ewRgMboBYPB8IQlVIuEUASXy/Z0lZeAJmwCE6b+ffquSsE6gsgO9jkev40FCsChz6negqiayQJ52uedFarYbAHRvPQBOh4OpzoR7BGSehxND1f66ZJ2A0NyGMYC/vmeceLZyDcB5uvft5icAW6tJTLuXo8yGaR3rBHR3gYCfCtc/aCmdH69D4O/IH97GUzlgnYDuDOQVA3QbvtJo2PNCm79/ZoKAlFLn0/qfRd4/fCm1SHCc2RMwYwTySrKklZC4f/8qNWl7eQGAIErIWSdgehUXSQAE0agUiXzkuHIGqhCQMpLQRK7oXxCQ0pLQRO5WJayTgJRCAtffA9/RcmiHY50guQAAAABJRU5ErkJggg=="},30579:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX///9AN0v///YUFSn///+DOuRfAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAHklEQVQoz2NgGAWYQBAC8AkoGYMgPgFjMMQjMBQAAAS8BMlgeYEGAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAw8RvcLwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMIBGZJMAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},50879:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/accuracy.649233ac1ef2b1be26b2.png"},52221:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAASFJREFUWIXllj0KwkAQRkfxChZWllpoI17AI9gIKXMNwUrwGsFKsPEIthZilcKcwMIrCLHYfMKOTGY3CLvB14T8bfK9ZGeW6N/peN+xGZdERDQbuF2/PNc+o+v9Aj9GNyAlPjzdnpD0zVYwEdxATzxzWpTWvmtiRjodEhFRtpqY8Y65ZSJCA0h+e5j9orpk9KofqbCHSndzpxeI0ABwTQ6qvx3fHGTra+1tERrAt0/sec+TaXwlF0wGNyBXQt+aD3OAzYqPge09rjrg3g1hRIMnRy+AofYaAJIJLTnOx9YL/A0AdDfAKmG2v5jjQnIQ3IDcCzSk2s+TKwQ30Pwf0GaDshYELTTAk/PEQEkOWmQAyaXEQq3XiNiAth5omJgT3MAbtG9UgkYTf5cAAAAASUVORK5CYII="},75253:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAQhJREFUWIXtlrESwUAQhr8YBaWawgNkzNAoeAu9hhfQegBvoVQovIVGI40HUFAr6aKQTdwFuVAsJn+T+W/m9na/25uN12r4aKqkenqRQJFAkQBQ/mBvaHnvnSA/SSAEqIy6xuJlvhEiuUioE/ByzAKj8oHfBGC12xt+MVnGsV2CqhNw6QGj8mn/Rmy23gFpEud2A4BqcHDqia8m8LJy25+2RwBqnfrNR0GySKgTePQKQkjucjzsAeluF5+qPPK2qsEhPvN+XZ1A5ivIW7l40TMioq8k4EHSvdLNq+gbk4i8XaHtn929SJ2AyywwXoWrsioXqRNwmQVGT+TQ/0xD0Vv/fFlSJ1AkcAVvhFp3ngrd/AAAAABJRU5ErkJggg=="},20421:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEX///8jMJ0QWKgUsvoEjfkdGilhIz7/8bG7Z0n/uTX////hqLpHAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAhUlEQVQoz5XPUQ0EMQgEUCyMhbGABSxgAQtnoRbW7Q3b+9q2m9x8NOGlBWr2TwC8AugR+QKlmqgz1Gd0fdUOSCRj6EXafeEJjADDNRNz6BM07a598ABQM3X0cdURPLSVDoC5BTVkaTnVvdoKlvT++FxuC5LeqzOfrGAp6vBXr9A0Y0d4yxdCFkbLzPunxAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},27877:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAVpJREFUWIXllbFKA0EURU/ED7ASIQoBOwsVIWAlBCws7OIvpLYQrARFmyCktJAU/oDbpRAMBKwEQWIKOzGgoIiFf7AWeqMzm9E4azJBTxN2N5nde97NLPx3MoO60UFUiwFm5qcAKEzPZQBGBvUALkb7tbCdWGyXH4zj4AZ+rQOuxELJz6orxj2DG0jdgcbNVfzVdXvmNsENeHdAya+bd8Z5dcBObs9eBDfw4w58l3y9uAvAWL7U03rBDXTmUttciwEal/cAVOrnxsx8k7tmL4IbSHSgsDAJQKX+dtyv5GL4DIil0knX5CJtcjE8BtR+dSB/u/N+Zcv4weHeEfCR/OWiCkCrGXntqsENJJ5a+4GQmdPnbNcFfJOL4AYS/wK7C/rEMpE2uQhuoJOiOJszZp8bnwA+GXDgenf0SngDG8uLRvL20yMAUattJNL3XEZW94//iAHfWfoS3MArNQiCDmNAjpcAAAAASUVORK5CYII="},16126:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/attackDelay.e1c1436c0bb4fd717764.png"},34884:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAElBMVEX///8VZEQUFSm58IZjvyP////Gb/X2AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAUUlEQVQoz73O0QkAIAgE0FZwhVvBFdx/prQIVKT6iO7vHojX2rsQDkDM2IJ2CZLBunjJYJ3gJMPo+lavUAOA+VZTw+UOkbTDw+phRwC41PAhHUroIs3wrrJaAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAw8RvcLwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMIBGZJMAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},45888:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAWJJREFUWIXtVjFuwzAMPBed+obsWYx4a96QPUvmLl27BciSpUCekB9kyZ4PdKk3I1469w9d3UGkYNJUZQQIJAO9JaEkSr6jSLFYzEqkxEPS0wE83nHvTtmFtWhSCmhGGsywA4Dm++qsDzdcbcpOrQMwEQUkoyMRUMnDDJtTK9ZV725hs2vZFkokV6D4ow5IRvRzOT8DAFbr2g28EiGK9WXv5rdfP/4Ma79q485NrkD8DhBzjvkKtZwP3Akj5nI/wgQUYGZtwI74sRIMzgpMIQsYdh1gkDvffs4Ony17Z/OtR26VMF4HVE3X0MwZvVj7syz/5ApYWWAzV5WQoZnzfLOj2A+VEMhKAVn7FXNfCctajhMGb8TIVjMLBQTz7csSAHB4+wQwjOFh/mRuFHodY0iuQLGYUScTqdk9iNfN+w07pJC/QBYK8P9RfbyBULc8yj+5Av06MJaxxq1+ADJQ4P8DfgGjGXX0p0lNdAAAAABJRU5ErkJggg=="},71462:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAW1JREFUWIXVV61ywkAQ/tKp4hnqa5jGUYOsOV/TN8lMDYYZHoE3wOBjKmtax4BB8w6xqbhdjt37CTfTmVw+Bcly5Pu5vU318jRHJvqB+1XOYg+5//7feMyo7QHgcDnKq1tJuF7PWaG7lJiUAhLfRJAi1K4WdKPjilhWhDJFKxBmoDxv94tgmZcVUqz+kBkpUgGb9t3JflvSAzsGqrxDEJyRU/oBilTAQjHXTBIei3o/I1KxghXwOxyAG+bbcKPj7LASh8uPqG/WMkPlKjDkHXfAoZQzc7feVDJgviLe8a5YRg49rQj9zOBXrkMoV4H27ZU+Ke+uDMP9QXvtTkmI64xyFTDv1jNvN6j06/tmRV5TH4iuQxhdgSoxFQfngc3zDIBjqs8M9rw5R07J0iailAIadk74tObHPGXPa7ffk9Px6ApkT8XM/JoBhrcrohkQmJQCFQA0564HABPpgDfpn8abUc4u0LjrzWcIoyvwB+3+d8j1+EivAAAAAElFTkSuQmCC"},51659:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAbNJREFUWIXVl80rBGEcxz/jLeXk4qWkVoRihYObVUp7ITflQO1BDo7KVfkHHFxclMuWK4d1cdg9eLlQKEREynLhoqQ0Dr95Vs+Y2X28bB7fy+83v+c7M/v5TjvT40QbOjCUa+hzDP0OQInp3YulMgOPCzA3OgDA+MiVTE/epLaXAtCVuNb8h/NbctCYCPO7YHkCRuTJ9YhnlwQKkTs3KwBEGQQsTeBL5JnsK2BO3r93AMCTdzOrEvgW+XJ8QU42JPfLigR08pYLWTmRkjxvluZcyify50nN71StSnMjJYxcyYoENOWIPSni/rqKwAvkiD0p4kxfd6A/PREHoCsl3yD7EhgfW9KPvZpcmwm8gNtaqw9apThn99o43SPkHOt2+xLw/8KCCvOXB49j+5teNwvYmMD01lSg8fTyDIC2pog2/yDSNXS7CMBLQ0zzVd6mNZ89Caj/u6kKveH88pMr2ZOA0unlVaBRPfvceq+UMDL17MPWlexLoNjKHm2o9v/sC35FfnIlKxJwAHZ2t12A6pr6vCc8PtxJk5J3eV3ncF5/GLnSnyfgBOyOjXa1P/Br+vME3gFFl59inUgELwAAAABJRU5ErkJggg=="},72551:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAbZJREFUWIXNV7FOAkEQfWco7MUYGgo1R0xMSE4rbKSHhEajnd9wH3LfYKfGwkJqYoOJiZKghYFoQ2MM8AckZ7E7R2aWBWlgXsPO7O4c8/bt7G6A80OsEundB7M3Vvr1GQgcBi63UwDAzTBg/tIkZXZU4PM6P9zu5fh8igsEAJA2WgAUMJBzPJQ5/WObWdw94eO6cuIus5Jy28yXTAkoZMCTeX7vYKnAsWUoQds0pkwwLaydAXcXWLU7ay4gGRl9f84dn5Q5E2mjpYMBVwM97uoPvv4VyDcuLO7zuBFYfVDEgFC/3OeD0ZjZWWae/mJ+iwcoTailaxe4GliAo6dj04hn+99OX5eKp5+BSrVufq09is1+l6oPY6OJi7Mr5l9UHxQxQKdgyajUt6/JL1XvQxannLm01wHLRDMcpwBQ65tu0gKBbFpjOhvIpsyboWWKbkiR2jrguQkNnk0GFSyHTCN1WwGjAsucoIgBD6im395f847Oy1yb5r3jd258hQxkWjBr1oTRQu1xB4B7Ckpk6q/bzOkuONUYG6+QAYKHCUBkJl9EmzneL19YAmtnIMBDdS0fVvM2/AMD6J84SrVQtQAAAABJRU5ErkJggg=="},27723:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEX///8fZEUUFSkUsX8b5XdhIz7/0EjIewD//3n///91Xz+KAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAYUlEQVQoz43PURHAMAgDUCzEQizEAhawMAu1MNnjb125luWPd9wRzP4GQAMU0YAvsgJcEreQJ3MUtgC5+2dhBTEIf+cKjGvQpxIFYtwR6oDzHwUsEuwMefYMKdFAtu/glAeduiIjz+GVRAAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},45265:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAZdJREFUWIXdlT1Lw1AUhp+IP8BJxA8oujm0IhQcVFpw6OBW526dHQQnQdFFhI4O0sE/YLcOBQut1kEQpO3gphYUFXHwH1yH5rTefJA0VhJ9lpLe5CTvc85NYMioBko1UH7PHxn2AwyKMeyCSikFYBiGVvu4VFYA8wszAKTnEgZEwMDobxW2JhZ2D1+149AN2GZAJthY6a7Zjs0ec2Veuuwy8OZ6fbIFQOolgVPd6BkYlNp9S1OQmo0DUH9oA/aeXxYz2j1DNxB4F0jyu+aT9r8Y8Eou/D0Dbsl7+112BxVf9aJjoLy9oQBqt88AFKrXWs+8km9m9wEYS+rJ3XovRMeAkF6cBqBQ7R77T54H4CKXAfpvPC+iZ0BYzVcckwvW5ILf5EJ0DMj0ywwkH/fMlR3tgpODU6Cf/POmCEC7WXL8enoRugHbU8r7QBAz5x9TjgUkeVBCN2DbBdZZkF8sJn6aXAjdQC9FNh7Teh8bnwC+GXDB7dvhl/ANbK0tack7728AlNodLZGc52Zk/ejsnxgI2sughG7gCzaLnZBEsuwIAAAAAElFTkSuQmCC"},24490:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAASlJREFUWIXtl79OwzAQhz8jXqALEhKoKgNiQMzA0jFPUKkjj8aIxBNk5C0QQxFiQGLhEczQnhJfc4kTBh9Sf0tyif/d5/PZDjdn15TUUdHegeOMMvGPfYS+n64JRID16iGroY/Pt8R+3bwD8PP9JQQ7SbgkkHiuPctVtawAqF9qwCbhikCW5/Pzy8S2yunvs5NTYJ+ECwIRmhE+PT8C+yTE89acJg3d3d4n5bRkVWgVJ3AYwGEA5l6goz83I+p6VvSL/BC4ulhsX3ZP8UDnhamZ0FJxAqF1JozQZLTWfp5UkP+WdMYUtdrxuxsCHblcYiNT1l7BvzkRSfRKDMjqyLWtubbkj4B4os90Q/ZYz0WuCARozmw6kw3ZU1WcQOi5HY+9E46ae1FxAr9XJIqZuI8D2AAAAABJRU5ErkJggg=="},31054:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAOVJREFUWIXtljEKwkAQRf+KF7ARBEW0EAuxVk9rKXgP9QjBQhGLQJocYS3MGGaanY3FrLK/+wmZzH87YeLW4xUs1TN9e24gN5AbAND/4lkvvOtS5CcJeADYbnbs4vlyIiJRJMwJuIhdwJJPJwsAwON5Zf5w3H9qa4qaE9DMgCo5+cFwBACoq1I1E0kTiEpe3O4AgOV89vZNkRCJJAl4oD3L6OSNJ4VmIkkCTLHJyZMkEakkCTigPbNC3CQSJJlQ+roqWV0pcwKaXcC+Cq1CyUnmBDS7gM1EhP5nG5I6/fOFZE4gN/AC4tJdSzGnhK4AAAAASUVORK5CYII="},82372:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAElBMVEX///+aBAQUFSn/pgD/Kzz///9+b5d3AAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAVElEQVQoz73OwQ3AIAxDUa/ACl6hK2T/mZoIECWRxaESX+LgdyHApdqKAp6RmQAX6xECphAC4r8QegJ8+aOtOxJ0Ybpjg+MdUz67Qsi2K6ClXeFPL24iIiN4fISOAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAw8RvcLwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMIBGZJMAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},38648:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAUJJREFUWIVjZMABjOzd/uOSwwZevn6HV/7ptTOM2MSZSLGEFgDDVTCfJ+flMTAwMDBoGcgSZdC1C4/xyrfVNjAwMGCGxOAJAVw+37f3MlaNTs66KPwFc/ZgVWdmoo7CRw+JAQ8BFnQBdJ9LCAuQZCDMxy/efmBgYGBgOHXmJoo4Ohh8IUBtIKcozsDAgDs3DXgIjDoAZxpAz+eEQEKKCwpfi4G4EnTwhgCuEhAGiC0JYWDolgOkloSwfI8ORsuBQesAeBo4d3AXIwMDA0OM77v/DAwMDEs2z2VgYMCdG3Dl80f3X6LwYeVDjG8yAwPDIGwRYeQCmAtjfJOJCglcgJDPYWDwhQAMkBsSsBKPkM9hYMBDAK/rkIG0lglKSKADWL8AV/sfFxg6IQADuEKC2DhHB0MvBGAAFhIwQKrPYWDAQwAAFLNxGgvzoSkAAAAASUVORK5CYII="},53138:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAb5JREFUWIXNlz1Lw0AYx3/xZRAEwUFrVSz9AB1Epw7SQXB1CugkOLj4ARwd/AhCNzfByUlwKw4VoeLQpYNYWnxpFKwIgoOUOKSXkie5JL5A8luu3D135P733P+5GkRQnJ2wo2IAqo/vRpw4ydBvJv0nI7oBtfO9zVVPf/PpGYC29eXt79ZsgM5270cfkLgCvnOTO6/cPADQerFCF8pNZQA4rtYA6Jw5SpwUdgLjzf0ykAIF3ByQOz86v/7byi2nMSmHhqVHAR3qbCUqJ3TjxkG8D0ivAltrS8DgFkhWCvOA3w8U9p3/hgWRPgWU0+Wz0wCUFucCxyVXjYa3Y5dYNSQ9CrjVrFK3AcxSIXTiRf0+fOV1p0m9E2ozdWZs2HOGG8XlwDjlB9brm6e/2f0AoHPYr445MfHUaRJXQOsDnc+eAQMlopxPR5QjJq5A7HecUkKXCz4f6OPmQl9RSeIKuDkgs16SnxwH/C8jmf1aNM6YvALybHXer2qDrAVty7kVOj9wEc6YGid0c2AhMxoa6N958DvAjZdO2Mese9+IiStgRN1vibwFl7fBVdHKxvuHlLwC6keUD0Shc7ooElfgG6ywnUxLesvGAAAAAElFTkSuQmCC"},99881:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAWBJREFUWIXllr1KA1EQhT/FPo1oKQRiERCUYKlVQF9CUggWafUxInYWQoqQl1Cw0lIEQbBQCFgqNj5BUrgnYWd3djc/sDd4yt279+58M3Pmwn/XyqI2emgfDbPeH17fpZ61uqgfmFVzE/jpnMUifxt8pq6rV7cAWL+4iZ1ZOoE170VeTp/fv1OfK9KiCo+AcpqXSxHo3z4BcHK8n3mQt194BKS8XDa2NwDoPn78PYhISCLiRS6VTiDhA6p+j4AXkUjsblYAePn6BeCy1Yx9Zx0xPALSVXMv5gNeRFYeidODGrBMBKRpSYy7wlHvdRAWgcKzQF3RiCI+790Dk9za3MsnUjSECYnSCbg+IFk/kPdbJ1TkeTNB0r2gdAKJGig6AzQNbQ2oRrx9+mZmhEfAk616WwOJbogIZXQDEAAB1wlbO9XMO6Htd28GeOvC9QGrWUl460RmeQhIRUlIitRTMARG0Dqe/hqUF5UAAAAASUVORK5CYII="},77612:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAQpJREFUWIXtlj0KwkAQhb+IlYiIjRa2IoJYWFsLgngBC6/hEbxGriCC4CFsRbxAbCRIsDQWMsaMP0m02ATyurcku/O+2YWxes0uJlUwenpeQF5AXgBQ/ONfX3nrl00yScAHWLRLocX5/iJEEpHIFIFQ8n7rXvv2cAVgMy4DMFx5iUhkgkAo+WhSA2C9PAGvJGbVBgC268QikWoCX5NrvztWAOjUzwDMiEfCOAHrzUTkQ9DL6cADgh7rnuvk4rVs13mc+bxunEDkK0iaXLzoExFRKglYENxeuc1wTyYkxOuE2n/qvcg4gXevQCv0KuIqKrkoEwREegKK3DvOR8YJJJkHfpr5omScQF7ADWSlWfXkMeWXAAAAAElFTkSuQmCC"},16044:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAThJREFUWIXdlzFqw0AQRZ9MVPgQ6lIatnGZwmdwZ3KBFKnSBlIYcgB3voBxZ/ANbHBjcCPQDQy5hAulkMZB46xX2hC8698IiWHhv5nRzCZlWdLQax+AzdsegNGXoYvMZFAC5MsiaRPf63T6P+jBFXB6+mh10DBbiXPgh8ThOL5KInwCLv3iHHA7F8VLQJwfjuPqw7zwOic+Atp5Op8CYD675V4UDwFd7ZJzX+ei8AlcVPvOr9ptujmBxDYNzfqxmXNR/Sq5dyn+WSDTMN1V/U5t/FwTFkm8ybg6FcMlMNsuEoBh9lwXSWU9f6+KIC2mjfjTiyLVslnCJSDSuZOcauWDpvO2f8jwCWiJIz0bzt2iasOl+AiIcy3fvSAeArac/3UvCJ+Abe+HVf28941IbrnOW6/npnRzAt+6oIna3F8uQgAAAABJRU5ErkJggg=="},91522:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAPRJREFUWIXtlj0OwjAMhV8RE2dgZ6noxh3YWbgBR6jEjMQROAQ7d2BDYulFuoaBOJUt0iRlcCrlbW7z4/fZaVNt1zU0tVDdvSRQEigJAFj+MdeIuJqyyCwJGAB4nd/sYXOpiUgSCXUCVcK/gDunaQTCxs3RrRdFQp1ATA9w5ydb6ps1KEhcNysAQNv1UT2RNYFx5yJ+3HcAgP3h+X1u4xCJLAkYYKilq7Gsucc5xaRQT2RJgEucc4p9zl0PgI/zSZ3A2JeQ9YJz5iHhU9v1bq9f77MmQOKnIlIh56RZECDJG1Bw7ZhB6gRSbkST7nwhqRMoCXwAGs1IR/JxW3YAAAAASUVORK5CYII="},94653:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAWlJREFUWIXtlyFPw1AQx/8lKLKQOSbmF5JBHeEDMIGfQfU7oJbUYJpMTc9WYfATWBSuWZOlGlNcQ5baIq7X9Y7XZcO8J/Y3613fvb37vXf3Nq+qKtjUmdVvB+DdDsdWF2CdwHnQHxhfxEUuDkfQH3gmv1bXuGTY80zj7RPQDl558pqSo/7wI5D/ay0DljKxZlxIgau3O/JnW/IrEu4Q0Jn7T7I6OPPFzURN8SCs+eiH4iOOLym+JuJHY0HCHQKH6nn9Tg8f9Vam8j3vudbOXwq/gwRSw6i2OjL/r9whwB1M13Fzmo/c89a8AIBZlgNwuQ+wOknUfWE+ujBOtPm+BADERc7zCDsJU8o8vhdx7hFgaRJszzLqmEzCkLm4DdnuKht3CbB2GUg9Tj/pgaugOCxOy30CLH1brl5k/bdOvdr7/XKfQJN5aM6cdX1FvwMCHEfCfQK6H+j7/K9KEae12PaEbZ3A6Z/RaQG/kCiSWKJV+FkAAAAASUVORK5CYII="},37694:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAU9JREFUWIXNlqFSAzEQhr9jEJVVDKK+hnYGBQpcmQoUz1BNRR8DQXWfoaqiAw4UKETV+YoOqrLuEHe5kpBuLkVsfnNzm2zu9pvsn2T9zgWaOlH9OnAqjBXOexa5tskX85IkUAC0h09WcLucNKrIzQ/lJUXA+vP3q0sARtdnAOTVJKEib/4NMomkCADQWr8BMHq8A2D28Q3AoIp7JJKbIZNQJ5B5nLAAOO/dW8HNalHn+Oa9PoyBfeWuapLzZ2u9JAkYNXVCi8SucwtAt9pD+fQF2O8tl6Q6Aeks8Pa5J54BbFaLkkQVzKfl81DlRkkTMGrq7V4Shyo3UicQ7II/3v75BcB2OanXkPKFcSABAsH7QKy3/1KjG1RSBGxvdyo3ckkM1uV8s/uJvDuqEwiehrHeHit1Ar4u+Je3xypJAkZHeXus1AlIZ4Gro/o8JHUCP9zuj2kqK5zzAAAAAElFTkSuQmCC"},49805:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAG1BMVEX///8UFSkSSEFjvyMdZED/Kzx5ADbDDR3///8SGzWSAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAW0lEQVQoz43QQQ0AMQgEQCxgAQtYqAUsYAH7R9NPW3JL+TEJmw1Eb8MdiDIGUR2MIHcdu1SQDGUEDz0W7FcVZIIBWC9owN3taFfBzCIQTIkz9YaUq0cBcurgZz4ajxk9okMOggAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},3058:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAYlJREFUWIXVlzFLw0AUgL9IwaVDB8EOWUWEakEc3BQRJ/+Dk5OLZBAHhw5OosVFHJz8D4IgIrqISBGKXYqLg0MFhyIiFIpxuDw011ySQkuu35Le5Zrr+9675s7xfZ8sGct0dsCZc0t637CVOP8bmRvI1d08AOW3Lx+gfqyMdLrFgUzQvn0ItdcugnncvAM2GEg78HnnDoCF6jQANa8ZapsoLC8CvSYEewxITsrbjaAWVL/UwuzBEgA1L2xCqFY+ANja61lVsdhjQDCZkJybTHiVieAJLSD9KrLPgAmJXEiq/pP9BpBcE6NjQMeU4/GcqgGpiU43/jmja0BHIpf/g79VoXh6+Yn8nn0G5K1oQiIV9Iil6iX3pneAYI8BifxqPR8a8H79GnxSVz2XM5Pqenn6CcDKZn/7CHsMpGV+Kvo3i5mbs/vYcTr2GdB3MNLW0atbIjatdxOZG3COSquhjvN2ywd4PFT9/ZpIMrDb/AZgo1C0Y1ccdTIShnVCsuxkFHPPibk3MDI38AvvdYRxN6rz/wAAAABJRU5ErkJggg=="},29738:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAZNJREFUWIXdljFLw0AYhp9YByfpKFKnTgFRELt3K5Qibjp07D9wKP4CdRD8AR072K2IFN26KwWndnFSxLFmbonD5UvpmTONLVzis4Rersfdc2++O2evsEtCfEO7k3QggLW//GmVOJOHy187HDTacytuHpcByLubAIyHHgBX3T4Ag1Y9kQnrBtZzXxuRL/bPWj78XHH1tK46fD4D0GOkfnfVwzSeCfsG9AZ95Se1AgC50pHqEKx8+vaxkgmkz4Age57b2QZg+nQHwOOrF9lfjInBl+vGQl9Deg1UispArz+KbA8zEdC7bQPQpAwsbiK9Bjr378AsC4JkoILKhGRE6oOYkLoQh3UDjt+5iXwheyjoFVEIMyFfS1AfxKCcEaYsWDdgzIA+47BCBikXE7NMKMRE3g3qRUwW0mtAR4yYTIRsHQJQKaosnMeMmx0Dgm7iwlUVUbJQLSUbz7qBpScwHnrhvdDKBJYlcQYEPQuD2vxd0XRv0MmuAR39LFg0F//HgCB7H3cKCtYNGO8DSdHvD5m5FX8DvRSKAB1emOkAAAAASUVORK5CYII="},7003:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAATpJREFUWIVj/P//PwMy0JfVZaAnYKKrbVgAI3oIMORwovIjfpBkoH6kzn8GBgaGi8uvMBKjfsBDgIVSA2A+hoGL/ndQxAmFxNALAVw+hstvVIGID7s0AI9TNB8znDWA0PEnIPRG0hww+EOAaJ9f4SDLAYM3BPQ3qkB8LsODXQHM5zpQ/hXyHDDgIYBRF+jL6mKPcxjQgdYNMJ/bQPWj1SHElgcDHgLEl4Q6OGrFGVAPwtMCablhCIQAus/R454BGgJouYDYWnEIhAA6sPlPWA0DA6KkZPiCV9kgDgG4Dy5AKFhaOIIWlbC4X2gBoY0vkOSAAQ8BnK1ieF2AXiKi5wr0fA8NOf0nkLgfuiXhxINLGRkYGBj07aNRQ4KAj2Gpfvi0CWE+QW8NIwBpPkYHgz8EYIBcHxICAx4CANZodTT01tzTAAAAAElFTkSuQmCC"},57213:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAQhJREFUWIXtljsKwkAQhr8ExSaIYCOSI4giWHsVC29g5wk8hUWuYh0Q7yDBRhBJI4KxSDYxgzEPi00gfzfLPub/ZhbGmNoTdMrU+nqbQJtAmwDQ+eNsIGKjyiWNJBAA7M1uanH9eioipUg0ikDK+WLcA8D1HgCcbAuA2dkvRaIRBNLOt0cA3N08jAWJ1WAEgHO7FCJRawK/nYv40B8CsLxfw9MFSWgnYHyZiAJIarmxfCCpsay5dK5iKed2id/8XNdOIPcXlHUe90CkLCJKtSRgwEf3Rr2AFzpTJFQsHco4q/ZK2gl8+wVSqV9RVHnOlRpBQElOQLl3F9mknUCZeaDSzJcn7QTaBN4dM1cZ6ePMNwAAAABJRU5ErkJggg=="},16229:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEX///8UFSlhIz6YUEbGiGKNqJ/k6Nr////hfI/wAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAcklEQVQoz43R0RHAIAgDUFfIClkhK7iCK7D/CAWvPT2qtvnjfQBiKb8DEHsA6bWGZED1Gqp7oGpE2IL387BNQxIUNDNrPAB9Kc67Z/CxknVcA32nGvBIhnvxb1A0XQO69OdhDXFizfUb4o/ibRgnzHDOBSvxMSXp6jiwAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAw8RvcLwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMIBGZJMAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},40492:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/help.3cc68d4d5e5240299276.png"},31608:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAUZJREFUWIXllz2OwjAUhMerHAMaSsTfDeAeHIAyLUdAokpBwQEot9seuAHsSnTQcBBoGIEHvxhobGm/Jor9nuM3sSeOw7xCSr6SPh2AWx/3byWUw/Glrr/arlxdnvYnV6A47M5ew7KcXgBgUs1cqL3argAAmtceNAHcK2X+w3jB/uQKuMX3D4DnmS7LKW73tUqQcjgOxmue9uejANGZ8p7sz3/BgTanXwB3JYilCEmuQKENWjkr7je7XhwrJlr5Q17w3ZP8FNDKtVJVQtHdEVMiPwWItapZ4ajVC8bxqnEWyRUwfYBYfhBTQuMsf8hHAfX4wIwZ57W/qoQ1TnoFeo2Ot+9JzNtVMV3t6heB80Eea6DgTOhU1teOfFC5l5edE0Z9gOi3IeZw1hpQkivw8nmAxCon1jlCyU8BorvjU7I/E7p//3d8BZUY27aTr7KvAAAAAElFTkSuQmCC"},48181:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAQxJREFUWIXtli0OAjEQRt8SPAaJw0BCEBgMci+AIMHBDUjAwAlQ4HFIEq6AxGCwYLgBhhMshtml5addEAPJfm7a3el8r9O0Qb1UQ1M51dWzArICsgKA/Bf/RlYcfJLkLwlEAN1O3xhcrZdCJBUJdQJBirvAcF5oVQC4bI9GvBiM49w+SdUJ+PSA4XwyHwEwHc6ARxJhownAZr/z6omfJvDWuR2fTwcAiuUqAOEtiYuEOoFnpyCCZC/LvTbw2O0S284ltrXZ7+I178fVCThPQVrnEoteERH9JIEAku4NrUkhIbId2vGrvRepE/C5C4xT4SuXc9FfEBDZLyBnbp+P1AmkeRF99OZzSZ1AVsAV7b5ZEv5TI3AAAAAASUVORK5CYII="},74078:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAYFJREFUWIXNV7FKBDEUnD200eMQLGwWBEFEUA8Oi8NCxB+wt/dfrO4HxMJCP8HqFDkO0eZgUbCw9ArtFl0EG2ORvNVkk01OhbxpdpP3ssmbmSxJIoRATDSizg4g2UjXJh3joywJ+Uj2dAeAAQNTWdoMSmyPCwEA2f6eHhhc2PPSppWJ9rjQ2vEZ8CX8qEgPGJUTjhvT5rhaT/BloKK5o2IXiDEfE/wYcGr+S5iegPGf4MNAqOa981v1ZmdoGx/WftMTUEzwYcCHXhHmiUFrHgCwicKTKcGfAdJ8deEVALB7sKXF86sbrT16/JTjXloA3J4gMGRAud+l+eXR9UQT+DzBjwGqnDTvLNMa5XNupwugqj31EzoqbnoCYHYeSERXXzn9qQ5XZmoH9mfX5XMkd4kr/0FVfpI/l3MCnM6ErsC39hKmxv2zN2t+1SPSS8jt88RnoLrfpUtPh0b/8F5vLy1qzTK/zDO/+25dQHQG6m5G/31p1E5C/HcBAu94f0V0Br4AVoGI9C9qEKAAAAAASUVORK5CYII="},88610:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAQ5JREFUWIXtljsOgkAURS+GWBo1dnYUJroSE5dg4UKs2YcWLsHElWhiQWdn1FjaYCEXnScwA2gYoqeCl3kT7sl8AH4dRxZmzU5o0ri8nZXeon0Nk6Zv4vKBCXzPAwD0h4PszvVGSbyYjBOHHXZ7tRAEIfA0UbkBJ3fyiLdkGjgv++ZBAMACA65+yIO8idP6Y8PWGiibdHs6Ku+jbi9zvH0G5C74lBGakPPZZ4AUTb66XAEA03bLaHz1BuLbKTqj/ZIT6pLzBLTnLpAFeTeYwtWetgZYt/d/gMg1wSRpJ5pMLklLTio3kPhVr5j+6xEa0yUn9hsgOhN5k5P6GCA0YbrPddTPAJFrIm9yUrmBP3dOYX1KuMMFrQAAAABJRU5ErkJggg=="},28101:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAcVJREFUWIXVl71KA0EQgL9IsJAgQQJJoYVC0BQiBAsVsRQEyQPEIk8hpLXzGbRK4RtYCWmCWIraxEPR0otNQggpgngWl0myy/2shez5VbnbuT3m27nZTcrzPGbZWtkkBC9sQCNlGAfA3G+C/4K0QYwH8Hi6rNzstHvK9f3LNwB1ZyimjExYN5CKqAEP4OY4A8DVbcZowlK+D0DdGU7eERVv3UBsDcjanuwPAMiXssC0BmRcMM1csG4gqgYED2B3Zw+A57d3ADbWVpXr7udH7LuCblo3YNIHADjLPQHQLGwDcHHnAFAZ+QZL6wtK/FFlCZjWyuH1ILA/JNqA0geaaT/zavEVgJbr10Cp+wBAu7OoPNy+/PLH8/5XIvPoJhJtQKHljgCoFqPjGj1Xua5RGP/qB8Yn0oCy9sJBYT5yItkDJGPdRLk4ztVRn0ukgUCk+gUxUs75OcieoJsQ9D1DsG4gaC/wAM7HnW2ydmNkNxTCTkbSF+LOB9YNGJ8HxISesR4nSObTDjkkiOQa0NdQNyGEVbcp1g3EnoprWf97FhOmiMGZjvj/TkQpgEbP9U1onS2OuMwF6wZMTsWC6b/jydwmQdYN/ABVEaVsulwyNgAAAABJRU5ErkJggg=="},9249:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAVRJREFUWIXVlz9Lw0AUwH8RN0E7qYPUSaRQMgluHdrRD6HFzyA4dqw4uSvBD+Hokq3gFASHTnYy4qB+gTjkXiSX5pL4h7v8piT37uXeL5cX4iVJgk1WrN4d8Pydft3Yn6ryTIP2DXB1YgzwLx8SgOjsAIDxkTlhcFeYj5q/1IS7BppWrhM8b6QHN/M0X7gAIBp0cyasG1jVL/y28gKHmwBEkj9cpPmVCfcMZPTVM+TjXxfgsAEN2dXjXbORbPc/qrjZqzG+PQakcr3TFZjNGy3AYQOqgwWne8C3Ab0vZM+8DNf3QPW3YNDND6jOVolWeXu+BYKsVHq3MI3fAHiK1wHobX3mzm/fX4z5dNw1IOgrP1dGpvvN5pXhgIG1i+Ujw5IZ4ahe5mFQK8y6AY/ruFagPxklAMedbaC4+3XkbYgm967/F9Q0IIiJKqoqF9pn4K+xbuALYsptn6qG1bIAAAAASUVORK5CYII="},69499:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TtVIqDnYQ7ZChumhBVMRRqlgEC6Wt0KqDyaVf0KQhSXFxFFwLDn4sVh1cnHV1cBUEwQ8QVxcnRRcp8X9JoUWsB8f9eHfvcfcOEOplpppdE4CqWUYyFhUz2VXR94oehODHGIYlZurx1GIaHcfXPTx8vYvwrM7n/hx9Ss5kgEcknmO6YRFvEM9sWjrnfeIgK0oK8TnxuEEXJH7kuuzyG+eCwwLPDBrp5DxxkFgstLHcxqxoqMTTxGFF1ShfyLiscN7irJarrHlP/sJATltJcZ1mCDEsIY4ERMioooQyLERo1UgxkaT9aAf/kONPkEsmVwmMHAuoQIXk+MH/4He3Zn5q0k0KRIHuF9v+GAF8u0CjZtvfx7bdOAG8z8CV1vJX6sDsJ+m1lhY+Avq3gYvrlibvAZc7wOCTLhmSI3lpCvk88H5G35QFBm4B/5rbW3Mfpw9AmrpavgEODoHRAmWvd3h3b3tv/55p9vcDrsVyv5Fx+3cAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfnBwYIIwoAsc2RAAABWUlEQVRYw82XwQkCMRBFJ+LdHsSzINrAHmxAECzAKizAkyVYgCBYiYvgWexhK9BD/Av58kn2lJmLbDa77rz8mZ8E+8X+Zh8zs/PGghXE8hDnL1bx+nFP77fH+B7M48BzI6scY3whZ47xZh2vT016HxkaZYjMWvqj6S7+vi8pseoEAtYeX4TMeByZIUq1gvd0s3g9eXkjwCplAghFgscVGSaKqF8FSr1Ys/5+hgRi+0zJXeeRiCJTnwDqs8tMBBEmUdox+75BmqhPAJ2J1xT1agMzVs+z1/jpA7kJrOpSQuyS0Bqqwk0VBNWxsFaKgCKhiIAA9wf/GmAyuUxVQBPoJ34IsBsqtSp/L9WGck0/BFilyCC38xlaJbzz8qsBeAS7GDJWGil1Rz+dUO1+c52MNZI7KXF1YX79/UBpJ8OXs1fwmipX7ITX+PECdYr9OwsOPCUzCe4r1Ql8Aa6hqQPsNtrQAAAAAElFTkSuQmCC"},9443:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/lifeEssence.2813909652b221a53c1e.png"},19787:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAOVJREFUWIXtlr0NwjAQRp8RBRMgCkZASFRQZRv2YA/GoKaACiokWIECsURo8vETXWKHxkb4NZGic3z35NzZTccTYtKLuntOAOh3iC07ftuFBP2EgRLgvNq2BhXHEwCD6w6A22UjY60mkjbwUflyMTSD1oc7APv5DICiej+qnj4T0Q04oxMGVV5HJoRxJp57vsdFN5ATyAl4O6FOt68PfEu6BvQfq8OFVqp1oaRrQB1MvV0mmqhXrvU+kjTg4DXFNNUKI9CiXnnTDBBJGhCmiVB8lYvoBqz7QBP/eysWQRV1JbqBnMAD7B9Fi+6ohzEAAAAASUVORK5CYII="},84499:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TtVIqDnYQ7ZChumhBVMRRqlgEC6Wt0KqDyaVf0KQhSXFxFFwLDn4sVh1cnHV1cBUEwQ8QVxcnRRcp8X9JoUWsB8f9eHfvcfcOEOplpppdE4CqWUYyFhUz2VXR94oehODHGIYlZurx1GIaHcfXPTx8vYvwrM7n/hx9Ss5kgEcknmO6YRFvEM9sWjrnfeIgK0oK8TnxuEEXJH7kuuzyG+eCwwLPDBrp5DxxkFgstLHcxqxoqMTTxGFF1ShfyLiscN7irJarrHlP/sJATltJcZ1mCDEsIY4ERMioooQyLERo1UgxkaT9aAf/kONPkEsmVwmMHAuoQIXk+MH/4He3Zn5q0k0KRIHuF9v+GAF8u0CjZtvfx7bdOAG8z8CV1vJX6sDsJ+m1lhY+Avq3gYvrlibvAZc7wOCTLhmSI3lpCvk88H5G35QFBm4B/5rbW3Mfpw9AmrpavgEODoHRAmWvd3h3b3tv/55p9vcDrsVyv5Fx+3cAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfnBwYIISd3WPNmAAABUElEQVRYw+2XsUoDQRRFzxiFiPgBIliJKRdCsBK31NIiv6B9LPMBKU2vv5DORsuIjRAClhELEcRPUBAZi/UV88js7li9qLfbYZjhnndn5i38dbm6E/fPrjzAuHdQOi8fXgNwc3pYa+0lswRijjujWwBaWyvB+Oz5A4BJdw+AE96L8eG4lIg9Atq5dryzsTl3oYfXl4CEqN3tlJKwR8B778tqnUqgMS2ykA2KbFy4VVsElnXtJb3auXb6U8k+kgU7GTj2bx5gOprMTX2V81jtRZ/tZnAqJAt2MhBTqvNU2SeQ6lTXfvEIiIPZ97echti9IGRiziX99gnIa5UNcgDu+8Vb8FhR00ZkXJwLubXdLNjH7msoN6IQSNX20Xpwg17ePQWdknPO2T4FsSzoNFf1Cdq5dMuL1xW3enkwrrOhyYjjuv8JdglUETmn+Tv+jP71BazXlwatsJqGAAAAAElFTkSuQmCC"},41061:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/mindEssence.d0d14e579b72e1dfbc6d.png"},148:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAPtJREFUWIXtlCEOwkAQRV8J1yDhAgTFBZBwCDQWhyIoHBbNBXBUcgBQBEMNIUFyiKImaSc72VaQWdHvdrpN97/+v1lZlniq5/r17gDdAYB+043jwahWl/vnkVXnstb79VwrfQLiZLe8AfAt8uBcE5oN57W5RcKdQGbdhJbz5+sKQP4+B9+LZUPLnUA0AzHnVjZEyWfAJKD/ZeA5AMfFKfi+RUaTSJeAbsH6MKG61s4lIyKdHUvpEhCJE722WmFlJ9kWmDehyGqB1mq6BWB/2QDxG1DkTqBxC3QWxKk4j6XdUroERFbq26bdkjuB1i1o6zCm9An8W+4EugP8AJjvoEJDeQRNAAAAAElFTkSuQmCC"},32936:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAapJREFUWIXVlzFLw1AUhb+Ku4ujXeyioq11EUHQoU7ioCAUHHQTRKziYn+BTkpFCm46CIKigzjZwYIgLuIg6lIQnAQXf0Ec7LHmJamxFF56lvBuXl4437vv3iTmOA421Wb17UAs2dXf6LMmulgji9gn4JxmXYHrdN41zo3N+SZJoXwEwMXaLgCl+zvfFxTKR3XJWCfQHnRDzuX0V9w1TsxPAzUCPvO1ji+J6BEwnY93JwEonl0CkBkaBuB278r1nOLS08ObKx5EInoETMn50swkAJs3LwDkt9dd9yU5D6voElC2aw/lfGR5AoBUfMA1f7GwBcBndd5H5RkIrg+SdQI/lTC1+uh77pXtHaM9AOznNuouKBKVw3MAOhO9gJeIToN1Ap4cUBbLgSQCYSXnf8k6AU83VC5I5p5O7awA3p4Q9hS0TiWUI1XAYjWu/q/TopyRc0k5kKmOg+pBdAn0DcaBWq03HZrdUHseNvul6BFQlqp/m31ee5k1nCqeAd94dL+I3kuv7kj6+2KSMKU9N2Vme3Z2IdpfxU37M5LT45ODfy3S0gSaIusEvgDt97RQ/XEKSQAAAABJRU5ErkJggg=="},54481:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAATNJREFUWIXVla0OwkAQhKeEhOBQOCwCBM9BUBgS3oNg0BjCe5BgUITnQIDA4lA4ggFEM5Reu70rLdljXH/20vl2dhvAUY/N9fl5XRk2AtfaLFXKOKSIrC5M59TuWAMADGb1QiTUCVTzFtB5WVIn4Ny/7fwWy0LR3lP+EfjVvEvyhwCdM+WH/RkA0O21ACR7btsPrJ+u25kE1Qm894D55ZKiabhnvkdyC5yeADAZN2PPmS11Aon+SPO+GIVO6MxV/U5ISsqWOoHEv8B1w5nOqGSGWsL9UOoErJtwubqkFppZsE2P+T5JqxN4Z0Cab3656dDmmIrmPz0z/hCQUv2top6nb0wS94cA05433ZJse8KbTRhwx9tk/tdtda4k9QmUdZBERNoj1P8QoENmwTU7kniOOoEXUzmJvrnzlXEAAAAASUVORK5CYII="},94102:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAQZJREFUWIXtljESAUEQRd8qV5AJlIRAycgkRIhcwCFkIlxAKncBkc04gBOQKLlDrEA1elg7S9BU7c96aren/5vumgnqxRqWypnunhWQFZAVAOS/+Ddy4uCTJH9JIAIYtWdqcb6dCJFUJMwJBCnuAuW8UOkBcD6EKh4vGrfcPknNCfj0gHI+HHQAWK60cyHRK/UBCE9rr574aQIxzjdOfHW+P+4AqJabKkkSCXMCr6YggvtZtrpT4LnbJXadS+wqPK1vez6umxNInIK0zt0eiCMi+kkCAajuVRISItehG8edvcicgM9doKbCV0nORX9BQPSyJ97l9vnInECaF9FHb74kmRPICrgAQNZYVO/WibMAAAAASUVORK5CYII="},74172:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAG1BMVEX///9AN0uuw74UFSlkdHqz2ttTFBSzdUv////is9/GAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAUklEQVQoz2NgoB4QBAK8AoJKQGCMR0BQyUVQ0AVJBIuAYGioID4BYyIEgIYqueARSHMBuguJjyGQVp5mDAQMOAVAfJSwQBcgqIDBGI2PKUAHAADxIBtduPotCgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMPEb3C8AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMTItMjJUMDg6MDM6NDUrMDA6MDCARmSTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAABJRU5ErkJggg=="},28337:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAXhJREFUWIVjPC1nyDCQgGlAbWdgYGAhVUPyv9//ybFoLhMrIzbxoRMCMJ9f3FlGkgXb86ZA9N/89p+BATMkhk4IYIA9yyC0SxQqHw14+glBGJsgFHpIDN0Q6Jv9B8KYvYiBgYGBoSiVBVUcCmDiuMDgDwFcqR/uM7Q0gO7j7Zve4TV/8IcAOugLX4QqQDANQHIBrpAY8BBgxFUbYsQ9kfke5lPR27/RzWNgYBiEJSFGCODyOa78DRPXFP/EwMCA8LlJiBtEftdZFH0LP7xgYGAYjCUhzOcd6lwQAbQ4L2LAHucwn8PK/DO9LxkYGBA+L3IzRuGjgwEPAZxpAB4SUACv1aAAltph4uj5/PpLPhQ+etzDwICHAEZJCHMhrN6Gg03YDUD3ecXNbwwMDAwM8QJ82JRjgMEXAjCAHlcYIYIDXAzzZmBgwJ3q0cGAhwDOuoBYAC850XwOS/XxAhIo6gddSUhxCMAAeo8JnptwiMPA8AkBcsGAhwAALHGlhisEYdAAAAAASUVORK5CYII="},43373:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAWBJREFUWIXtl71Lw0AYh58UnevoorN2UpCCUOzk6CgUO1TIIIK0m/gndC0IToIdFMHRQdwsONVFF7WzS5diupRCoXVIXyRnPloauYv4295c7u79PbmPN9bT8jo6ldI6+28kYA8HI3s4GGlLYFrNxTWQuD5PzauxFdbv7xAQbey8AVBq5ACwnXYoieQTUL89hT4AW7cdAOoR/bUTsOI6CYVEaWERgLrTBhKwC/4TiG0XvNwfA3BXPnUbnMn6m0tAvdGiVrPoczULQJWmO06rl7CTUJwf1KoAZNaW3Of5YqiTqzPX8d5hdhyPG1oPoQmYQ0Cc1xqXAFTyRc+LQsSunPhWO9/Om74TBdUH2gn8uAsk08LuPgDXNxeednVtvD5/+Mbdx3cA0rkVTyzjCQnzCIhUEiJxIM83j7aB6Z2LzCUgCjoRgwiJhIzsJmNPwpkroqi/IOMropnrgUlvySBpJ/AFeJCVCdaQjiAAAAAASUVORK5CYII="},88968:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/space.b664d4355a0284916e21.png"},19081:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/spaceEssence.fdfa7a6c41a5edb5729d.png"},27058:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAWRJREFUWIXVly9vwkAYxp9bUJiZiRGCmmGCkMwsIZWIfQM+AnJ2H2G2cg4ECcvEzMQEhqQGQ0ZI2AyqdmZmthPcG3Lv8fZ6S5Nrf6bJ3dujz9P3T1FZlqFM+p1eoQM36VYBwFmpv/4PGs6IRB0URZnKCyPl8XJmrP++PwMAmnejk/E1cMCT3UdqLlwODle+rqmBA1G5VcIJ7oCy+sAx60/fkehioKpgVcL7wPDmFgCwWK+MYyrcB+x6J0VK7+fGkzJyottuAQAWa3OfCO6AnQOcgp1QgpzgyonqOCBNsU26pX2vgyXFnOAONEj5OH4EAPwkX2aErvtx/OZ1sOvdE8EdsHJAdEJzHnULHfx0/wCgBg5YnXA/fc294Xv/mbt/cXXt9QDVcYD3cJpipIiU+yp0EdwBcRZIc11CmvcugjsgfhPynJAg5UUVc4I74MwB/u6lKpi/TAD4O1FdBwjff7u+BHfgDy+QlQ1nXU+EAAAAAElFTkSuQmCC"},71930:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAShJREFUWIVjZNibzzCQgGlAbWdgYGChlcF68Xv/I/MvLXRmxKZu6IUAus9wgQ51LgYGBgYGI1WIH92g+tBDYvCHALqPL4Z5Y1V3Zs0uBgYGBgaTEDccJm3FKjp4QwDm87lMrAwMDAwMh/iEUeRhPkYHuMRxgcEbApSC16qQkIPlAoYtv7GqG/AQGHUARhoglPqJBZ76jmgiQ60coBQQWx4MvRDo23WWgYGBgcEOyk/+h5q/L5bKMDAwMDC8vP6BgYGBgcFtyxcGBoah1B6AuTQZVgt+eIFV40I09bDcs33TOwYGBqQSkAAY8BBgpLRVDPM5qXEPAwMeAmSXAzCfw9p+pMY9DAzdEIABTz8hBgYG0uMeBgY8BKiWC2CAWJ/DwNAPAUrBgIcAAArwXxsqGdJ9AAAAAElFTkSuQmCC"},74541:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAVVJREFUWIXdlDFLw0AYhp+IYwfHLqKLixAD1tFBsCqCqyCKVP+AboK/oODo7NAghUJ/gCgWHDqqoIIdXAQXdargrA7JV/1OS1Or5K7PkuTuu7s8713iUdsmTQZSXR0Y/K+JJwq195/ar8NZ7+tz/yRgGq8sb6j+3dFTAIK4TpJwPwExvzreiRrG16Pr/qKqK97n47uSanc3gZb5w43uEPP8KgDFg2cAKtUSYONXsDny0tWAi5lzveeCmG8dqeZK1QcgdzblAeTQ66WfQNLCb+bmaRfz20MAgoU94NO8He4k0OKPzAUHEzDMg2FfdSc1F+xPQE7/yVIGgKdGE4CyP6fqujUX7E3ANL+8ewNgcix657Xp16iwngUgjOvdPwOdzE16TcK+BEzamQvleqanF7AvAdm7+XgvC0PZRBOFzUc1Pin2JSCIiZzqTvTfn1D4rVlSUk/gA8iPdcDfql98AAAAAElFTkSuQmCC"},28954:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TtSIVEYuKOGSoTnZREcdSxSJYKG2FVh1MLv0QmjQkKS6OgmvBwY/FqoOLs64OroIg+AHi7OCk6CIl/i8ptIjx4Lgf7+497t4BQr3MVLMjCqiaZaTiMTGbWxEDr/BjCF3ox6DETD2RXsjAc3zdw8fXuwjP8j735+hV8iYDfCJxlOmGRbxOPLNp6Zz3iUOsJCnE58QTBl2Q+JHrsstvnIsOCzwzZGRSc8QhYrHYxnIbs5KhEk8ThxVVo3wh67LCeYuzWq6y5j35C4N5bTnNdZqjiGMRCSQhQkYVGyjDQoRWjRQTKdqPefhHHH+SXDK5NsDIMY8KVEiOH/wPfndrFqYm3aRgDOh8se2PMSCwCzRqtv19bNuNE8D/DFxpLX+lDsx+kl5raeEjoG8buLhuafIecLkDDD/pkiE5kp+mUCgA72f0TTlg4BboWXV7a+7j9AHIUFdLN8DBITBepOw1j3d3t/f275lmfz9vQ3Klm9WeXQAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+gDGQQRIUTLyhgAAADNSURBVDjLY2SAgP8MpANGGPH//+pWonT8uXaK4cHTlwwK0uIMrPUbGRgYGBhZYJKzp0yBK3RUl2fYf/MhnJ/oZMYwf98phDwDA0OeIiPDpPv//zMxUAiwGqAgLU5SQMDD4M+1U1gVwfyNzJ+8+yTDpPv/GbCGAYaf1eUx+Hi98ODpS6K9RHEYsKA7C6Y50ckMRSGMj+46uAHweL/5ECMMsIUJXi9QnA5IASyw+Ef3M7IzHzx9icLHyFEMDAz/8xQZSbZ90v3/DMi6yMrSAPNWTueWqfoIAAAAAElFTkSuQmCC"},45058:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAYhJREFUWIXdlrEvBEEUh79FJQo0FKITkcgdRyJUigs5kesuQUWp0Un0OlqJ/+AkdBdxiVwhUYiEO7c0QkVDQyM6VjE7Jzsxe7OFzPBrJm/35e28b34zO97K/TI21WL160CbaeLl9EWQpPDYybhnkmedgBecxiekF4cDgPp6n3iQXfo5sVKMvE/PbgFQ37uJJWGdgLEHyqUXAHIUoy8UIuW1nUQTsE5A6wF17SUBqcyAmHv17jMSq5o5fAP0XrBOoKkHGmtfOQfgeXUS0HfeOyo88lTT7BZF7hPI5bsB8F4/AAh2zwCYC2MOHsRY6I/GhnKfgFQqNQKA518BEHS1iljpPLWZB6A62G5U130C6v6XJHi8FqPSeVK5T0Dugo3tdwD80AMNhR7wKQHfJBrnw218ffcJSA/4qvs154AkUd1fMJqA+wTkWqqd684BSSJT+y8e6BnqBKCcnQAgCP+KOg8cFaZErLkfqLJOwPhWfDzfkahws5uQlPsEpCQJUzXrXOrvEPgtWSfwBT+7gpcNUGH1AAAAAElFTkSuQmCC"},89118:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/timeEssence.5ae113e1c5b8da30cb69.png"},19083:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEX///8aJSxTFBSzdUtyExOaVACdnJzf3tJFU3d8boEUFSn////cm99fAAAAAXRSTlMAQObYZgAAAAFiS0dEAIgFHUgAAAAHdElNRQfjDBYIAzYGArEsAAAAYElEQVQoz63QQQ3AMAiFYSxgYRZqAQtYqAUszEItVOXeSNcsZPTS/Te+E0D0V3wgXgAXj1PgIopkSgTM1VB95AvMTsg2tLYAFfNEcxiLZXCLp/PaCBDv9bEI1DsjWsBeF2U/RKsn+RQvAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE5LTEyLTIyVDA4OjAzOjQ1KzAwOjAw8RvcLwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOS0xMi0yMlQwODowMzo0NSswMDowMIBGZJMAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAAAAElFTkSuQmCC"},10520:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAYBJREFUWIXVlz1KBEEQhb8Wcy/gJkYiupoKgpsYmQmCYGImiLCpRzDdRDAzEYQFM3MFD+APiJHJnsATjIlvprunesfdCaZ9yUBX//Bedb3qcf3ldVqi+P26eRYvtD29LRaNsb8yKgCODk8AuBvfNK0z41kpkGIkOH/e6egyjI5rewfrU0p1roAzqiBguLbVA2C4exxMep28A/D49WbGR0+3AHy8TAC4Hl6UZ/rzOlfAqgKgYj5Y6Zvxq/sHAM4O9s14al2MzhWw7oAQVwFQ3ebt8z2gYipFvFzXzrIGO1eg5gMpiPnSzqoZ151R9RhK5OuEQd2nbrVy3FQdissntO77+RPI3AmDXqBcNzFOQcxjeEoAmSkgmNUQ9wYpol4gz48ZTjsbMlDA6gVB3xdU11JCCszAPH8nFAqo+rmYbvY2gLrDle+FaNx4L+TrhCaU2xSU80HCOePqSCErBQInNLqZWR2G4zkIco6/b9a9QJj3z6jcc9r8OJ6lArPif/8d/wBRp5uW/i3FrQAAAABJRU5ErkJggg=="},85367:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAANtJREFUWIVjYBgFFIKopSf/Ry09+Z9c/UzUdMyoA8gBjORqRI/3Oys+MTAwMDCc2uxKkpkDHgKjDiA5DeDK87A0AAPEpoUBDwEWcjU6WGmgidxgYGDADAlCYOiFAKbPKQNDJwRIrfHMfHf/Z2AgnBsGPASo7oAP924xfLh3a+AcQCogORccOHaDqg4YeiEAKwcIhYRKBB8DAwMDw6nN+M0bOiGAKOOx+/xM2xmyHDDgIUByewBWwuHK6yZVJgwMDAwMy6LNh0Z7gOxWMSwkYKkdBoj1OQwMeAiMAgCChjxHvwqsHQAAAABJRU5ErkJggg=="},28222:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAQtJREFUWIXtlyEOwkAQRV8JAomsqMcACQoHAkEQnAXDATgAhrMgCCQIcCgSUHgEEokrgh3IDpBtQWyb9JtmNu10/ptpMg2aUR2fKnl9e1FAUUBRAFD+49lYxcEvSXJJIAaoDqbW4XUxFiKpSOSKgOV8224B0NntAThM1gA0J71UJHJBwHJeG/Ufp7Ml8E6i0hgCcDnOE5HINIGPzk/GuSZROW8AuEVdAEKTxEUikwRigND0cmV6rHv+zbnEotAxE5kkYEmm+23avziXWKSJaGWSQACvnsk0d8z1ScLE2qGOL8e5lVfLO4EgwX+B9VUklcu5KBcERHoDcuZOcpN3Amn2gZ92Ppe8EygKuAPOplS4Bw6EgQAAAABJRU5ErkJggg=="},16877:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAWhJREFUWIXVljFLw0AUx38nDiJBOtkMBSeRggo6OWV0qp+hkx9B6Nix38FJwU+gU0FEcHFR1KEUV4d2CyIZPYfeRe6SJsYELvkvSe5yd+/97r13J/Y7u7jUitPVgdWMPpkzVlRhQC0JSIDX4a3RGDw+A7D2cQ/A7O1aEypFolYEDM9PjzaNH885ACBQ3756liXhnEBpA8Y9j3HPgwXBvMyp3oCySmSBjna953lqd1sA9B88AC7CWaGYqB8BnedB4lezvyo5JyBSTkMJ4O+dZA683LoD4Ertfbf9CcDh9sKn45uveI2seZwTSDsLBPxWuJezjtE5n4TAcs+f3r8LGeCcQFoM2JIA/ZZvNNqe63qgCWkSg2kUr5U2eSMIaBl1XtX/2NP/kmgUAVsGkdHOOlCchHMCWbfiPBl7OZhGEmCEIkH4p0kaTcCWgCQJrcl8Q71FRrtzAmWyIE/L7of1qgNVxoCtZtwJfwCm6Gl1NrjlAwAAAABJRU5ErkJggg=="},72336:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAWhJREFUWIXVljFLw0AUx38nDiJBOtkMBSeRggo6OWV0qp+hkx9B6Nix38FJwU+gU0FEcHFR1KEUV4d2CyIZPYfeRe6SJsYELvkvSe5yd+/97r13J/Y7u7jUitPVgdWMPpkzVlRhQC0JSIDX4a3RGDw+A7D2cQ/A7O1aEypFolYEDM9PjzaNH885ACBQ3756liXhnEBpA8Y9j3HPgwXBvMyp3oCySmSBjna953lqd1sA9B88AC7CWaGYqB8BnedB4lezvyo5JyBSTkMJ4O+dZA683LoD4Ertfbf9CcDh9sKn45uveI2seZwTSDsLBPxWuJezjtE5n4TAcs+f3r8LGeCcQFoM2JIA/ZZvNNqe63qgCWkSg2kUr5U2eSMIaBl1XtX/2NP/kmgUAVsGkdHOOlCchHMCWbfiPBl7OZhGEmCEIkH4p0kaTcCWgCQJrcl8Q71FRrtzAmWyIE/L7of1qgNVxoCtZtwJfwCm6Gl1NrjlAwAAAABJRU5ErkJggg=="},81700:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAVFJREFUWIXVlrFKA0EQhr8TIY9gghErBSUIQkibJpZWFha+gw/jO+QJUmpje1ifEEsPNI9gdTb+cDu3m3NR2M1fzuzN7Xw7+7PFxXhCSu0l/TuwH/vB+PygiVlfV5tiW353CKjzy8XCm/94LQEYnc1M5qmBMIl8CcSedZ9Uz5LIj0DorFcPSwCGh6W30MvjGwBTE+/OjDsT+RGIlTr/rUSkrpYN5EigrjZA/1lbHX3Nf/LPTtzOhPWJ/Aj0SZ3OTodOvFx/Ovn3gUtCkmNKyQkUnveA1wH7OpeUVzxEQkpOoD0DDcD1/Z2zQA5oZTu3cXVu69m6WREAulM6vToBWvd7PfcWsmcfqmeVH4FY2VshWWcUSavkBNo+sPUFpI6k//KD5AQ6M/BXH7AK+cHu+IB2rh3fHN8CYQIdPxj460r5EbCyO1dnoVtgpz50/6XkBL4BUt6T3/bmd18AAAAASUVORK5CYII="},7860:e=>{"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAASxJREFUWIXtljFuwjAUhr9UXajSAyA4Akq6IdYulbpyB+7BNZi4ACtSlq5RNjgEygFAXd2BmsjOsxMhUbuIf7IT6z3/3/NzkmTjCSH1FDQ78HzrBNPhTEnPq7pM4B4J2I5XHztxXb5GQUwE7J3rGnWpr+PDRg4XBQEF7Z0vCj8R7bzL8efx25U7ji5IsvFEAWxfXwAYzcW2ZVG8GXPbucex9yxFQUCPDetdRK51bCsqArb+hEhwAp3fgulwdh6c9kDTDVVdAm0yewaAQURGFtM94Hpn3A/LNAca5zS1NRxqYu+pHPTrhBEnOAHpDCho115wLs6rulQA1e/8EsehKAkATQ2XnGvPsXQttSUSca2Ll4CWp/Z99U9vQt2vt1ZwAo8N9P4f4Pou8Co4gR9kzGo594XnXwAAAABJRU5ErkJggg=="},24654:()=>{}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,(()=>{var e=[];n.O=(t,r,a,i)=>{if(!r){var o=1/0;for(c=0;c<e.length;c++){for(var[r,a,i]=e[c],u=!0,l=0;l<r.length;l++)(!1&i||o>=i)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(u=!1,i<o&&(o=i));if(u){e.splice(c--,1);var s=a();void 0!==s&&(t=s)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[r,a,i]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&a&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(i,o),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="./",(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,i,[o,u,l]=r,s=0;if(o.some((t=>0!==e[t]))){for(a in u)n.o(u,a)&&(n.m[a]=u[a]);if(l)var c=l(n)}for(t&&t(r);s<o.length;s++)i=o[s],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[923],(()=>n(88863)));r=n.O(r)})();
//# sourceMappingURL=main.7be5b0ed.js.map